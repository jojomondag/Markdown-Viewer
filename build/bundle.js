/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,h="".concat(c," ").concat(u);i[c]=u+1;var d=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:h,updater:p,references:1})}a.push(h)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},159:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},221:(e,t,n)=>{"use strict";var r=n(540);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal"),l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,i="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},247:(e,t,n)=>{"use strict";var r=n(982),o=n(540),i=n(961);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),y=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var S=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var M=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function B(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case A:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case x:return"Suspense";case k:return"SuspenseList";case S:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case y:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}var D=Array.isArray,T=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},z=[],F=-1;function _(e){return{current:e}}function j(e){0>F||(e.current=z[F],z[F]=null,F--)}function W(e,t){F++,z[F]=e.current,e.current=t}var H=_(null),V=_(null),q=_(null),U=_(null);function $(e,t){switch(W(q,t),W(V,e),W(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?oh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ih(t=oh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(H),W(H,e)}function K(){j(H),j(V),j(q)}function G(e){null!==e.memoizedState&&W(U,e);var t=H.current,n=ih(t,e.type);t!==n&&(W(V,e),W(H,n))}function Q(e){V.current===e&&(j(H),j(V)),U.current===e&&(j(U),Gh._currentValue=L)}var Y=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,ae=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"==typeof le&&ce(e),he&&"function"==typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(e){}}var fe=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2,Ae=256,ge=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!=(r=s&~i)?o=ve(r):0!=(a&=s)?o=ve(a):n||0!=(n=s&~e)&&(o=ve(n)):0!=(s=r&~i)?o=ve(s):0!==a?o=ve(a):n||0!=(n=r&~e)&&(o=ve(n)),0===o?0:0===t||t===o||t&i||!((i=o&-o)>=(n=t&-t)||32===i&&4194048&n)?o:t}function be(e,t){return!(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ye(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=Ae;return!(4194048&(Ae<<=1))&&(Ae=256),e}function xe(){var e=ge;return!(62914560&(ge<<=1))&&(ge=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Se(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Oe(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Ne=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ne,De="__reactProps$"+Ne,Te="__reactContainer$"+Ne,Re="__reactEvents$"+Ne,Le="__reactListeners$"+Ne,ze="__reactHandles$"+Ne,Fe="__reactResources$"+Ne,_e="__reactMarker$"+Ne;function je(e){delete e[Be],delete e[De],delete e[Re],delete e[Le],delete e[ze]}function We(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Te]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wh(e);null!==e;){if(n=e[Be])return n;e=wh(e)}return t}n=(e=n).parentNode}return null}function He(e){if(e=e[Be]||e[Te]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ue(e){e[_e]=!0}var $e=new Set,Ke={};function Ge(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var Ye,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(o=t,Y.call(et,o)||!Y.call(Ze,o)&&(Je.test(o)?et[o]=!0:(Ze[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Ye)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Xe=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Xe}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch((function(){}))}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function At(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+ct(s):e.removeAttribute("name")}function gt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:o)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function yt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(D(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Pt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&kt(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&kt(e,i,t[i])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var St=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Bt=null,Dt=null;function Tt(e){var t=He(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(At(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[De]||null;if(!o)throw Error(a(90));At(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Rt=!1;function Lt(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Bt||null!==Dt)&&(Wc(),Bt&&(t=Bt,e=Dt,Dt=Bt=null,Tt(t),e)))for(t=0;t<e.length;t++)Tt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[De]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),_t=!1;if(Ft)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){_t=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(e){_t=!1}var Wt=null,Ht=null,Vt=null;function qt(){if(Vt)return Vt;var e,t,n=Ht,r=n.length,o="value"in Wt?Wt.value:Wt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Vt=o.slice(e,1<t?1-t:void 0)}function Ut(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Kt(){return!1}function Gt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?$t:Kt,this.isPropagationStopped=Kt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Qt,Yt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Gt(Jt),en=d({},Jt,{view:0,detail:0}),tn=Gt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Qt=e.screenX-Xt.screenX,Yt=e.screenY-Xt.screenY):Yt=Qt=0,Xt=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),on=Gt(d({},nn,{dataTransfer:0})),an=Gt(d({},en,{relatedTarget:0})),sn=Gt(d({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(d({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(d({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ut(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ut(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ut(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=Gt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Gt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Gt(d({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Gt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Gt(d({},Jt,{newState:0,oldState:0})),yn=[9,13,27,32],Cn=Ft&&"CompositionEvent"in window,xn=null;Ft&&"documentMode"in document&&(xn=document.documentMode);var kn=Ft&&"TextEvent"in window&&!xn,Pn=Ft&&(!Cn||xn&&8<xn&&11>=xn),En=String.fromCharCode(32),Sn=!1;function In(e,t){switch(e){case"keyup":return-1!==yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1,Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function Dn(e,t,n,r){Bt?Dt?Dt.push(r):Dt=[r]:Bt=r,0<(t=qu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tn=null,Rn=null;function Ln(e){Lu(e,0)}function zn(e){if(dt(Ve(e)))return e}function Fn(e,t){if("change"===e)return t}var _n=!1;if(Ft){var jn;if(Ft){var Wn="oninput"in document;if(!Wn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Wn="function"==typeof Hn.oninput}jn=Wn}else jn=!1;_n=jn&&(!document.documentMode||9<document.documentMode)}function Vn(){Tn&&(Tn.detachEvent("onpropertychange",qn),Rn=Tn=null)}function qn(e){if("value"===e.propertyName&&zn(Rn)){var t=[];Dn(t,Rn,e,Nt(e)),Lt(Ln,t)}}function Un(e,t,n){"focusin"===e?(Vn(),Rn=n,(Tn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Vn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Rn)}function Kn(e,t){if("click"===e)return zn(t)}function Gn(e,t){if("input"===e||"change"===e)return zn(t)}var Qn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Yn(e,t){if(Qn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Y.call(t,o)||!Qn(e[o],t[o]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||(r="selectionStart"in(r=rr)&&tr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Yn(ir,r)||(ir=r,0<(r=qu(or,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}Ft&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),Ar=dr("transitionrun"),gr=dr("transitionstart"),vr=dr("transitioncancel"),wr=dr("transitionend"),br=new Map,yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){br.set(e,t),Ge(t,[e])}yr.push("scrollEnd");var xr=new WeakMap;function kr(e,t){if("object"==typeof e&&null!==e){var n=xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Pr=[],Er=0,Sr=0;function Ir(){for(var e=Er,t=Sr=Er=0;t<e;){var n=Pr[t];Pr[t++]=null;var r=Pr[t];Pr[t++]=null;var o=Pr[t];Pr[t++]=null;var i=Pr[t];if(Pr[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Br(n,o,i)}}function Mr(e,t,n,r){Pr[Er++]=e,Pr[Er++]=t,Pr[Er++]=n,Pr[Er++]=r,Sr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Mr(e,t,n,r),Dr(e)}function Nr(e,t){return Mr(e,null,null,t),Dr(e)}function Br(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-fe(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Dr(e){if(50<Bc)throw Bc=0,Dc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Tr={};function Rr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Rr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function _r(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function jr(e,t,n,r,o,i){var s=0;if(r=e,"function"==typeof e)zr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case S:return(e=Lr(31,n,t,o)).elementType=S,e.lanes=i,e;case A:return Wr(n.children,o,i,t);case g:s=8,o|=24;break;case v:return(e=Lr(12,n,t,2|o)).elementType=v,e.lanes=i,e;case x:return(e=Lr(13,n,t,o)).elementType=x,e.lanes=i,e;case k:return(e=Lr(19,n,t,o)).elementType=k,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case w:case y:s=10;break e;case b:s=9;break e;case C:s=11;break e;case P:s=14;break e;case E:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Wr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Ur=0,$r=null,Kr=0,Gr=[],Qr=0,Yr=null,Xr=1,Jr="";function Zr(e,t){qr[Ur++]=Kr,qr[Ur++]=$r,$r=e,Kr=t}function eo(e,t,n){Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Yr=e;var r=Xr;e=Jr;var o=32-fe(r)-1;r&=~(1<<o),n+=1;var i=32-fe(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Xr=1<<32-fe(t)+o|n<<o|r,Jr=i+e}else Xr=1<<i|n<<o|r,Jr=e}function to(e){null!==e.return&&(Zr(e,1),eo(e,1,0))}function no(e){for(;e===$r;)$r=qr[--Ur],qr[Ur]=null,Kr=qr[--Ur],qr[Ur]=null;for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Jr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null}var ro=null,oo=null,io=!1,ao=null,so=!1,lo=Error(a(519));function co(e){throw Ao(kr(Error(a(418,"")),e)),lo}function uo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[De]=r,n){case"dialog":zu("cancel",t),zu("close",t);break;case"iframe":case"object":case"embed":zu("load",t);break;case"video":case"audio":for(n=0;n<Tu.length;n++)zu(Tu[n],t);break;case"source":zu("error",t);break;case"img":case"image":case"link":zu("error",t),zu("load",t);break;case"details":zu("toggle",t);break;case"input":zu("invalid",t),gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":zu("invalid",t);break;case"textarea":zu("invalid",t),yt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yu(t.textContent,n)?(null!=r.popover&&(zu("beforetoggle",t),zu("toggle",t)),null!=r.onScroll&&zu("scroll",t),null!=r.onScrollEnd&&zu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||co(e)}function ho(e){for(ro=e.return;ro;)switch(ro.tag){case 5:case 13:return void(so=!1);case 27:case 3:return void(so=!0);default:ro=ro.return}}function fo(e){if(e!==ro)return!1;if(!io)return ho(e),io=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&oo&&co(e),ho(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=gh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,fh(e.type)?(e=vh,vh=null,oo=e):oo=n):oo=ro?gh(e.stateNode.nextSibling):null;return!0}function po(){oo=ro=null,io=!1}function mo(){var e=ao;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),ao=null),e}function Ao(e){null===ao?ao=[e]:ao.push(e)}var go=_(null),vo=null,wo=null;function bo(e,t,n){W(go,t._currentValue),t._currentValue=n}function yo(e){e._currentValue=go.current,j(go)}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xo(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Co(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),Co(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function ko(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(524288&o.flags)i=!0;else if(262144&o.flags)break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=o.type;Qn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===U.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Gh):e=[Gh])}o=o.return}null!==e&&xo(t,e,n,r),t.flags|=262144}function Po(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Eo(e){vo=e,wo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function So(e){return Mo(vo,e)}function Io(e,t){return null===vo&&Eo(e),Mo(e,t)}function Mo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wo){if(null===e)throw Error(a(308));wo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wo=wo.next=t;return n}var Oo="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},No=r.unstable_scheduleCallback,Bo=r.unstable_NormalPriority,Do={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function To(){return{controller:new Oo,data:new Map,refCount:0}}function Ro(e){e.refCount--,0===e.refCount&&No(Bo,(function(){e.controller.abort()}))}var Lo=null,zo=0,Fo=0,_o=null;function jo(){if(0==--zo&&null!==Lo){null!==_o&&(_o.status="fulfilled");var e=Lo;Lo=null,Fo=0,_o=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wo=T.S;T.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Lo){var n=Lo=[];zo=0,Fo=Mu(),_o={status:"pending",value:void 0,then:function(e){n.push(e)}}}zo++,t.then(jo,jo)}(0,t),null!==Wo&&Wo(e,t)};var Ho=_(null);function Vo(){var e=Ho.current;return null!==e?e:rc.pooledCache}function qo(e,t){W(Ho,null===t?Ho.current:t.pool)}function Uo(){var e=Vo();return null===e?null:{parent:Do._currentValue,pool:e}}var $o=Error(a(460)),Ko=Error(a(474)),Go=Error(a(542)),Qo={then:function(){}};function Yo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xo(){}function Jo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xo,Xo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"==typeof t.status)t.then(Xo,Xo);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Zo=t,$o}}var Zo=null;function ei(){if(null===Zo)throw Error(a(459));var e=Zo;return Zo=null,e}function ti(e){if(e===$o||e===Go)throw Error(a(483))}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ai(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&nc){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Dr(e),Br(e,null,n),t}return Mr(e,r,t,n),Dr(e)}function si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Se(e,n)}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ci=!1;function ui(){if(ci&&null!==_o)throw _o}function hi(e,t,n,r){ci=!1;var o=e.updateQueue;ni=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==i){var h=o.baseState;for(a=0,u=c=l=null,s=i;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(ic&f)===f:(r&f)===f){0!==f&&f===Fo&&(ci=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,A=s;f=t;var g=n;switch(A.tag){case 1:if("function"==typeof(m=A.payload)){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=A.payload)?m.call(g,h,f):m))break e;h=d({},h,f);break e;case 2:ni=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===u&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=h}}function di(e,t){if("function"!=typeof e)throw Error(a(191,e));e.call(t)}function fi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)di(n[e],t)}var pi=_(null),mi=_(0);function Ai(e,t){W(mi,e=hc),W(pi,t),hc=e|t.baseLanes}function gi(){W(mi,hc),W(pi,pi.current)}function vi(){hc=mi.current,j(pi),j(mi)}var wi=0,bi=null,yi=null,Ci=null,xi=!1,ki=!1,Pi=!1,Ei=0,Si=0,Ii=null,Mi=0;function Oi(){throw Error(a(321))}function Ni(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Bi(e,t,n,r,o,i){return wi=i,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,T.H=null===e||null===e.memoizedState?$a:Ka,Pi=!1,i=n(r,o),Pi=!1,ki&&(i=Ti(t,n,r,o)),Di(e),i}function Di(e){T.H=Ua;var t=null!==yi&&null!==yi.next;if(wi=0,Ci=yi=bi=null,xi=!1,Si=0,Ii=null,t)throw Error(a(300));null===e||Ss||null!==(e=e.dependencies)&&Po(e)&&(Ss=!0)}function Ti(e,t,n,r){bi=e;var o=0;do{if(ki&&(Ii=null),Si=0,ki=!1,25<=o)throw Error(a(301));if(o+=1,Ci=yi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}T.H=Ga,i=t(n,r)}while(ki);return i}function Ri(){var e=T.H,t=e.useState()[0];return t="function"==typeof t.then?Wi(t):t,e=e.useState()[0],(null!==yi?yi.memoizedState:null)!==e&&(bi.flags|=1024),t}function Li(){var e=0!==Ei;return Ei=0,e}function zi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fi(e){if(xi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xi=!1}wi=0,Ci=yi=bi=null,ki=!1,Si=Ei=0,Ii=null}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ci?bi.memoizedState=Ci=e:Ci=Ci.next=e,Ci}function ji(){if(null===yi){var e=bi.alternate;e=null!==e?e.memoizedState:null}else e=yi.next;var t=null===Ci?bi.memoizedState:Ci.next;if(null!==t)Ci=t,yi=e;else{if(null===e){if(null===bi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(yi=e).memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},null===Ci?bi.memoizedState=Ci=e:Ci=Ci.next=e}return Ci}function Wi(e){var t=Si;return Si+=1,null===Ii&&(Ii=[]),e=Jo(Ii,e,t),t=bi,null===(null===Ci?t.memoizedState:Ci.next)&&(t=t.alternate,T.H=null===t||null===t.memoizedState?$a:Ka),e}function Hi(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Wi(e);if(e.$$typeof===y)return So(e)}throw Error(a(438,String(e)))}function Vi(e){var t=null,n=bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bi.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function qi(e,t){return"function"==typeof t?t(e):t}function Ui(e){return $i(ji(),yi,e)}function $i(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=s=null,c=null,u=t=o.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(ic&d)===d:(wi&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Fo&&(h=!0);else{if((wi&f)===f){u=u.next,f===Fo&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=i):c=c.next=d,bi.lanes|=f,fc|=f}d=u.action,Pi&&n(i,d),i=u.hasEagerState?u.eagerState:n(i,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=i):c=c.next=f,bi.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Qn(i,e.memoizedState)&&(Ss=!0,h&&null!==(n=_o)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ki(e){var t=ji(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Qn(i,t.memoizedState)||(Ss=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gi(e,t,n){var r=bi,o=ji(),i=io;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Qn((yi||o).memoizedState,n);if(s&&(o.memoizedState=n,Ss=!0),o=o.queue,ga(2048,8,Xi.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==Ci&&1&Ci.memoizedState.tag){if(r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,o,n,t),null),null===rc)throw Error(a(349));i||124&wi||Qi(r,t,n)}return n}function Qi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Ji(t)&&Zi(e)}function Xi(e,t,n){return n((function(){Ji(t)&&Zi(e)}))}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(e){return!0}}function Zi(e){var t=Nr(e,2);null!==t&&Lc(t,0,2)}function ea(e){var t=_i();if("function"==typeof e){var n=e;if(e=n(),Pi){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,$i(e,yi,"function"==typeof r?r:qi)}function na(e,t,n,r,o){if(Ha(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==T.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ra(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ra(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=T.T,a={};T.T=a;try{var s=n(o,r),l=T.S;null!==l&&l(a,s),oa(e,t,s)}catch(n){aa(e,t,n)}finally{T.T=i}}else try{oa(e,t,i=n(o,r))}catch(n){aa(e,t,n)}}function oa(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then((function(n){ia(e,t,n)}),(function(n){return aa(e,t,n)})):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==r)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(io){var n=rc.formState;if(null!==n){e:{var r=bi;if(io){if(oo){t:{for(var o=oo,i=so;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=gh(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){oo=gh(o.nextSibling),r="F!"===o.data;break e}}co(r)}r=!1}r&&(t=n[0])}}return(n=_i()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=r,n=_a.bind(null,bi,r),r.dispatch=n,r=ea(!1),i=Wa.bind(null,bi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=_i()).queue=o,n=na.bind(null,bi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function ua(e){return ha(ji(),yi,e)}function ha(e,t,n){if(t=$i(e,t,la)[0],e=Ui(qi)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Wi(t)}catch(e){if(e===$o)throw Go;throw e}else r=t;var o=(t=ji()).queue,i=o.dispatch;return n!==t.memoizedState&&(bi.flags|=2048,pa(9,{destroy:void 0,resource:void 0},da.bind(null,o,n),null)),[r,i,e]}function da(e,t){e.action=t}function fa(e){var t=ji(),n=yi;if(null!==n)return ha(t,n,e);ji(),t=t.memoizedState;var r=(n=ji()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return ji().memoizedState}function Aa(e,t,n,r){var o=_i();r=void 0===r?null:r,bi.flags|=e,o.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var o=ji();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==yi&&null!==r&&Ni(r,yi.memoizedState.deps)?o.memoizedState=pa(t,i,n,r):(bi.flags|=e,o.memoizedState=pa(1|t,i,n,r))}function va(e,t){Aa(8390656,8,e,t)}function wa(e,t){ga(2048,8,e,t)}function ba(e,t){return ga(4,2,e,t)}function ya(e,t){return ga(4,4,e,t)}function Ca(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function xa(e,t,n){n=null!=n?n.concat([e]):null,ga(4,4,Ca.bind(null,t,e),n)}function ka(){}function Pa(e,t){var n=ji();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ni(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ea(e,t){var n=ji();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ni(t,r[1]))return r[0];if(r=e(),Pi){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Sa(e,t,n){return void 0===n||1073741824&wi?e.memoizedState=t:(e.memoizedState=n,e=Rc(),bi.lanes|=e,fc|=e,n)}function Ia(e,t,n,r){return Qn(n,t)?n:null!==pi.current?(e=Sa(e,n,r),Qn(e,t)||(Ss=!0),e):42&wi?(e=Rc(),bi.lanes|=e,fc|=e,t):(Ss=!0,e.memoizedState=n)}function Ma(e,t,n,r,o){var i=R.p;R.p=0!==i&&8>i?i:8;var a,s,l,c=T.T,u={};T.T=u,Wa(e,!1,t,n);try{var h=o(),d=T.S;null!==d&&d(u,h),null!==h&&"object"==typeof h&&"function"==typeof h.then?ja(e,t,(a=r,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},h.then((function(){l.status="fulfilled",l.value=a;for(var e=0;e<s.length;e++)(0,s[e])(a)}),(function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)})),l),Tc()):ja(e,t,r,Tc())}catch(n){ja(e,t,{then:function(){},status:"rejected",reason:n},Tc())}finally{R.p=i,T.T=c}}function Oa(){}function Na(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=Ba(e).queue;Ma(e,o,t,L,null===n?Oa:function(){return Da(e),n(r)})}function Ba(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Da(e){ja(e,Ba(e).next.queue,{},Tc())}function Ta(){return So(Gh)}function Ra(){return ji().memoizedState}function La(){return ji().memoizedState}function za(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Tc(),r=ai(t,e=ii(n),n);return null!==r&&(Lc(r,0,n),si(r,t,n)),t={cache:To()},void(e.payload=t)}t=t.return}}function Fa(e,t,n){var r=Tc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ha(e)?Va(t,n):null!==(n=Or(e,t,n,r))&&(Lc(n,0,r),qa(n,t,r))}function _a(e,t,n){ja(e,t,n,Tc())}function ja(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ha(e))Va(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Qn(s,a))return Mr(e,t,o,0),null===rc&&Ir(),!1}catch(e){}if(null!==(n=Or(e,t,o,r)))return Lc(n,0,r),qa(n,t,r),!0}return!1}function Wa(e,t,n,r){if(r={lane:2,revertLane:Mu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ha(e)){if(t)throw Error(a(479))}else null!==(t=Or(e,n,r,2))&&Lc(t,0,2)}function Ha(e){var t=e.alternate;return e===bi||null!==t&&t===bi}function Va(e,t){ki=xi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qa(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Se(e,n)}}var Ua={readContext:So,use:Hi,useCallback:Oi,useContext:Oi,useEffect:Oi,useImperativeHandle:Oi,useLayoutEffect:Oi,useInsertionEffect:Oi,useMemo:Oi,useReducer:Oi,useRef:Oi,useState:Oi,useDebugValue:Oi,useDeferredValue:Oi,useTransition:Oi,useSyncExternalStore:Oi,useId:Oi,useHostTransitionStatus:Oi,useFormState:Oi,useActionState:Oi,useOptimistic:Oi,useMemoCache:Oi,useCacheRefresh:Oi},$a={readContext:So,use:Hi,useCallback:function(e,t){return _i().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:va,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Aa(4194308,4,Ca.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){Aa(4,2,e,t)},useMemo:function(e,t){var n=_i();t=void 0===t?null:t;var r=e();if(Pi){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=_i();if(void 0!==n){var o=n(t);if(Pi){de(!0);try{n(t)}finally{de(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Fa.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_i().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=_a.bind(null,bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ka,useDeferredValue:function(e,t){return Sa(_i(),e,t)},useTransition:function(){var e=ea(!1);return e=Ma.bind(null,bi,e.queue,!0,!1),_i().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bi,o=_i();if(io){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));124&ic||Qi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,va(Xi.bind(null,r,i,e),[e]),r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=_i(),t=rc.identifierPrefix;if(io){var n=Jr;t="«"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=Ei++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Mi++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Ta,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=_i();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Wa.bind(null,bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vi,useCacheRefresh:function(){return _i().memoizedState=za.bind(null,bi)}},Ka={readContext:So,use:Hi,useCallback:Pa,useContext:So,useEffect:wa,useImperativeHandle:xa,useInsertionEffect:ba,useLayoutEffect:ya,useMemo:Ea,useReducer:Ui,useRef:ma,useState:function(){return Ui(qi)},useDebugValue:ka,useDeferredValue:function(e,t){return Ia(ji(),yi.memoizedState,e,t)},useTransition:function(){var e=Ui(qi)[0],t=ji().memoizedState;return["boolean"==typeof e?e:Wi(e),t]},useSyncExternalStore:Gi,useId:Ra,useHostTransitionStatus:Ta,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(ji(),0,e,t)},useMemoCache:Vi,useCacheRefresh:La},Ga={readContext:So,use:Hi,useCallback:Pa,useContext:So,useEffect:wa,useImperativeHandle:xa,useInsertionEffect:ba,useLayoutEffect:ya,useMemo:Ea,useReducer:Ki,useRef:ma,useState:function(){return Ki(qi)},useDebugValue:ka,useDeferredValue:function(e,t){var n=ji();return null===yi?Sa(n,e,t):Ia(n,yi.memoizedState,e,t)},useTransition:function(){var e=Ki(qi)[0],t=ji().memoizedState;return["boolean"==typeof e?e:Wi(e),t]},useSyncExternalStore:Gi,useId:Ra,useHostTransitionStatus:Ta,useFormState:fa,useActionState:fa,useOptimistic:function(e,t){var n=ji();return null!==yi?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vi,useCacheRefresh:La},Qa=null,Ya=0;function Xa(e){var t=Ya;return Ya+=1,null===Qa&&(Qa=[]),Jo(Qa,e,t)}function Ja(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Za(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===A?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===E&&es(i)===t.type)?(Ja(t=o(t,n.props),n),t.return=e,t):(Ja(t=jr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Wr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return Ja(n=jr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Vr(t,e.mode,n)).return=e,t;case E:return d(e,t=(0,t._init)(t._payload),n)}if(D(t)||O(t))return(t=Wr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,Xa(t),n);if(t.$$typeof===y)return d(e,Io(e,t),n);Za(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===o?c(e,t,n,r):null;case m:return n.key===o?u(e,t,n,r):null;case E:return f(e,t,n=(o=n._init)(n._payload),r)}if(D(n)||O(n))return null!==o?null:h(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,Xa(n),r);if(n.$$typeof===y)return f(e,t,Io(e,n),r);Za(e,n)}return null}function g(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case E:return g(e,t,n,r=(0,r._init)(r._payload),o)}if(D(r)||O(r))return h(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return g(e,t,n,Xa(r),o);if(r.$$typeof===y)return g(e,t,n,Io(t,r),o);Za(t,r)}return null}function v(l,c,u,h){if("object"==typeof u&&null!==u&&u.type===A&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var w=u.key;null!==c;){if(c.key===w){if((w=u.type)===A){if(7===c.tag){n(l,c.sibling),(h=o(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===E&&es(w)===c.type){n(l,c.sibling),Ja(h=o(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===A?((h=Wr(u.props.children,l.mode,h,u.key)).return=l,l=h):(Ja(h=jr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return s(l);case m:e:{for(w=u.key;null!==c;){if(c.key===w){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=o(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Vr(u,l.mode,h)).return=l,l=h}return s(l);case E:return v(l,c,u=(w=u._init)(u._payload),h)}if(D(u))return function(o,a,s,l){for(var c=null,u=null,h=a,p=a=0,m=null;null!==h&&p<s.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var A=f(o,h,s[p],l);if(null===A){null===h&&(h=m);break}e&&h&&null===A.alternate&&t(o,h),a=i(A,a,p),null===u?c=A:u.sibling=A,u=A,h=m}if(p===s.length)return n(o,h),io&&Zr(o,p),c;if(null===h){for(;p<s.length;p++)null!==(h=d(o,s[p],l))&&(a=i(h,a,p),null===u?c=h:u.sibling=h,u=h);return io&&Zr(o,p),c}for(h=r(h);p<s.length;p++)null!==(m=g(h,o,p,s[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),a=i(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(o,e)})),io&&Zr(o,p),c}(l,c,u,h);if(O(u)){if("function"!=typeof(w=O(u)))throw Error(a(150));return function(o,s,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,p=s,m=s=0,A=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(A=p,p=null):A=p.sibling;var w=f(o,p,v.value,c);if(null===w){null===p&&(p=A);break}e&&p&&null===w.alternate&&t(o,p),s=i(w,s,m),null===h?u=w:h.sibling=w,h=w,p=A}if(v.done)return n(o,p),io&&Zr(o,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(o,v.value,c))&&(s=i(v,s,m),null===h?u=v:h.sibling=v,h=v);return io&&Zr(o,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=g(p,o,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=i(v,s,m),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach((function(e){return t(o,e)})),io&&Zr(o,m),u}(l,c,u=w.call(u),h)}if("function"==typeof u.then)return v(l,c,Xa(u),h);if(u.$$typeof===y)return v(l,c,Io(l,u),h);Za(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=o(c,u)).return=l,l=h):(n(l,c),(h=Hr(u,l.mode,h)).return=l,l=h),s(l)):n(l,c)}return function(e,t,n,r){try{Ya=0;var o=v(e,t,n,r);return Qa=null,o}catch(t){if(t===$o||t===Go)throw t;var i=Lr(29,t,null,e.mode);return i.lanes=r,i.return=e,i}}}var ns=ts(!0),rs=ts(!1),os=_(null),is=null;function as(e){var t=e.alternate;W(us,1&us.current),W(os,e),null===is&&(null===t||null!==pi.current||null!==t.memoizedState)&&(is=e)}function ss(e){if(22===e.tag){if(W(us,us.current),W(os,e),null===is){var t=e.alternate;null!==t&&null!==t.memoizedState&&(is=e)}}else ls()}function ls(){W(us,us.current),W(os,os.current)}function cs(e){j(os),is===e&&(is=null),j(us)}var us=_(0);function hs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||Ah(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ds(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tc(),o=ii(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=ai(e,o,r))&&(Lc(t,0,r),si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tc(),o=ii(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=ai(e,o,r))&&(Lc(t,0,r),si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tc(),r=ii(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ai(e,r,n))&&(Lc(t,0,n),si(t,e,n))}};function ps(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&Yn(n,r)&&Yn(o,i))}function ms(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function As(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=d({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var gs="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){gs(e)}function ws(e){console.error(e)}function bs(e){gs(e)}function ys(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout((function(){throw e}))}}function Cs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout((function(){throw e}))}}function xs(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){ys(e,t)},n}function ks(e){return(e=ii(e)).tag=3,e}function Ps(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Cs(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Cs(t,n,r),"function"!=typeof o&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Es=Error(a(461)),Ss=!1;function Is(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Ms(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Eo(t),r=Bi(e,t,n,a,i,o),s=Li(),null===e||Ss?(io&&s&&to(t),t.flags|=1,Is(e,t,r,o),t.child):(zi(e,t,o),Qs(e,t,o))}function Os(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||zr(i)||void 0!==i.defaultProps||null!==n.compare?((e=jr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ns(e,t,i,r,o))}if(i=e.child,!Ys(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(a,r)&&e.ref===t.ref)return Qs(e,t,o)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function Ns(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Yn(i,r)&&e.ref===t.ref){if(Ss=!1,t.pendingProps=r=i,!Ys(e,o))return t.lanes=e.lanes,Qs(e,t,o);131072&e.flags&&(Ss=!0)}}return Rs(e,t,n,r,o)}function Bs(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==i?i.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ds(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ds(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qo(0,null!==i?i.cachePool:null),null!==i?Ai(t,i):gi(),ss(t)}else null!==i?(qo(0,i.cachePool),Ai(t,i),ls(),t.memoizedState=null):(null!==e&&qo(0,null),gi(),ls());return Is(e,t,o,n),t.child}function Ds(e,t,n,r){var o=Vo();return o=null===o?null:{parent:Do._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&qo(0,null),gi(),ss(t),null!==e&&ko(e,t,r,!0),null}function Ts(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Rs(e,t,n,r,o){return Eo(t),n=Bi(e,t,n,r,void 0,o),r=Li(),null===e||Ss?(io&&r&&to(t),t.flags|=1,Is(e,t,n,o),t.child):(zi(e,t,o),Qs(e,t,o))}function Ls(e,t,n,r,o,i){return Eo(t),t.updateQueue=null,n=Ti(t,r,n,o),Di(e),r=Li(),null===e||Ss?(io&&r&&to(t),t.flags|=1,Is(e,t,n,i),t.child):(zi(e,t,i),Qs(e,t,i))}function zs(e,t,n,r,o){if(Eo(t),null===t.stateNode){var i=Tr,a=n.contextType;"object"==typeof a&&null!==a&&(i=So(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ri(t),a=n.contextType,i.context="object"==typeof a&&null!==a?So(a):Tr,i.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(ds(t,n,a,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(a=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&fs.enqueueReplaceState(i,i.state,null),hi(t,r,i,o),ui(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=As(n,s);i.props=l;var c=i.context,u=n.contextType;a=Tr,"object"==typeof u&&null!==u&&(a=So(u));var h=n.getDerivedStateFromProps;u="function"==typeof h||"function"==typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s||c!==a)&&ms(t,i,r,a),ni=!1;var d=t.memoizedState;i.state=d,hi(t,r,i,o),ui(),c=t.memoizedState,s||d!==c||ni?("function"==typeof h&&(ds(t,n,h,r),c=t.memoizedState),(l=ni||ps(t,n,l,r,d,c,a))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,oi(e,t),u=As(n,a=t.memoizedProps),i.props=u,h=t.pendingProps,d=i.context,c=n.contextType,l=Tr,"object"==typeof c&&null!==c&&(l=So(c)),(c="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a!==h||d!==l)&&ms(t,i,r,l),ni=!1,d=t.memoizedState,i.state=d,hi(t,r,i,o),ui();var f=t.memoizedState;a!==h||d!==f||ni||null!==e&&null!==e.dependencies&&Po(e.dependencies)?("function"==typeof s&&(ds(t,n,s,r),f=t.memoizedState),(u=ni||ps(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Po(e.dependencies))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ts(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,o),t.child=ns(t,null,n,o)):Is(e,t,n,o),t.memoizedState=i.state,e=t.child):e=Qs(e,t,o),e}function Fs(e,t,n,r){return po(),t.flags|=256,Is(e,t,n,r),t.child}var _s={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function js(e){return{baseLanes:e,cachePool:Uo()}}function Ws(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ac),e}function Hs(e,t,n){var r,o=t.pendingProps,i=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&us.current)),r&&(i=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(io){if(i?as(t):ls(),io){var l,c=oo;if(l=c){e:{for(l=c,c=so;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=gh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ro=t,oo=null,l=!0):l=!1}l||co(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return Ah(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=o.children,o=o.fallback,i?(ls(),c=qs({mode:"hidden",children:c},i=t.mode),o=Wr(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=js(n),i.childLanes=Ws(e,r,n),t.memoizedState=_s,o):(as(t),Vs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(as(t),t.flags&=-257,t=Us(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),i=o.fallback,c=t.mode,o=qs({mode:"visible",children:o.children},c),(i=Wr(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,ns(t,e.child,null,n),(o=t.child).memoizedState=js(n),o.childLanes=Ws(e,r,n),t.memoizedState=_s,t=i);else if(as(t),Ah(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(a(419))).stack="",o.digest=r,Ao({value:o,source:null,stack:null}),t=Us(e,t,n)}else if(Ss||ko(e,t,n,!1),r=!!(n&e.childLanes),Ss||r){if(null!==(r=rc)&&0!==(o=(o=42&(o=n&-n)?1:Ie(o))&(r.suspendedLanes|n)?0:o)&&o!==l.retryLane)throw l.retryLane=o,Nr(e,o),Lc(r,0,o),Es;"$?"===c.data||Kc(),t=Us(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oo=gh(c.nextSibling),ro=t,io=!0,ao=null,so=!1,null!==e&&(Gr[Qr++]=Xr,Gr[Qr++]=Jr,Gr[Qr++]=Yr,Xr=e.id,Jr=e.overflow,Yr=t),(t=Vs(t,o.children)).flags|=4096);return t}return i?(ls(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Fr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Fr(u,i):(i=Wr(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=js(n):(null!==(l=c.cachePool)?(u=Do._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Uo(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Ws(e,r,n),t.memoizedState=_s,o):(as(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Vs(e,t){return(t=qs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qs(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Us(e,t,n){return ns(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $s(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Ks(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Gs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Is(e,t,r.children,n),2&(r=us.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n,t);else if(19===e.tag)$s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(W(us,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===hs(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ks(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===hs(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ks(t,!0,n,null,i);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,!(n&t.childLanes)){if(null===e)return null;if(ko(e,t,n,!1),!(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){return!!(e.lanes&t)||!(null===(e=e.dependencies)||!Po(e))}function Xs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ss=!0;else{if(!(Ys(e,n)||128&t.flags))return Ss=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),bo(0,Do,e.memoizedState.cache),po();break;case 27:case 5:G(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:bo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(as(t),t.flags|=128,null):n&t.child.childLanes?Hs(e,t,n):(as(t),null!==(e=Qs(e,t,n))?e.sibling:null);as(t);break;case 19:var o=!!(128&e.flags);if((r=!!(n&t.childLanes))||(ko(e,t,n,!1),r=!!(n&t.childLanes)),o){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Bs(e,t,n);case 24:bo(0,Do,e.memoizedState.cache)}return Qs(e,t,n)}(e,t,n);Ss=!!(131072&e.flags)}else Ss=!1,io&&1048576&t.flags&&eo(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((o=r.$$typeof)===C){t.tag=11,t=Ms(null,t,r,e,n);break e}if(o===P){t.tag=14,t=Os(null,t,r,e,n);break e}}throw t=B(r)||r,Error(a(306,t,""))}zr(r)?(e=As(r,e),t.tag=1,t=zs(null,t,r,e,n)):(t.tag=0,t=Rs(null,t,r,e,n))}return t;case 0:return Rs(e,t,t.type,t.pendingProps,n);case 1:return zs(e,t,r=t.type,o=As(r,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,oi(e,t),hi(t,r,null,n);var s=t.memoizedState;if(r=s.cache,bo(0,Do,r),r!==i.cache&&xo(t,[Do],n,!0),ui(),r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fs(e,t,r,n);break e}if(r!==o){Ao(o=kr(Error(a(424)),t)),t=Fs(e,t,r,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,oo=gh(e.firstChild),ro=t,io=!0,ao=null,so=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===o){t=Qs(e,t,n);break e}Is(e,t,r,n)}t=t.child}return t;case 26:return Ts(e,t),null===e?(n=Ih(t.type,null,t.pendingProps,null))?t.memoizedState=n:io||(n=t.type,e=t.pendingProps,(r=rh(q.current).createElement(n))[Be]=t,r[De]=e,eh(r,n,e),Ue(r),t.stateNode=r):t.memoizedState=Ih(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&io&&(r=t.stateNode=bh(t.type,t.pendingProps,q.current),ro=t,so=!0,o=oo,fh(t.type)?(vh=o,oo=gh(r.firstChild)):oo=o),Is(e,t,t.pendingProps.children,n),Ts(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&io&&((o=r=oo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[_e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=gh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,so))?(t.stateNode=r,ro=t,oo=gh(r.firstChild),so=!1,o=!0):o=!1),o||co(t)),G(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,ah(o,i)?r=null:null!==s&&ah(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=Bi(e,t,Ri,null,null,n),Gh._currentValue=o),Ts(e,t),Is(e,t,r,n),t.child;case 6:return null===e&&io&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gh(e.nextSibling)))return null}return e}(n,t.pendingProps,so))?(t.stateNode=n,ro=t,oo=null,e=!0):e=!1),e||co(t)),null;case 13:return Hs(e,t,n);case 4:return $(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Is(e,t,r,n),t.child;case 11:return Ms(e,t,t.type,t.pendingProps,n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bo(0,t.type,r.value),Is(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Eo(t),r=r(o=So(o)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return Os(e,t,t.type,t.pendingProps,n);case 15:return Ns(e,t,t.type,t.pendingProps,n);case 19:return Gs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Bs(e,t,n);case 24:return Eo(t),r=So(Do),null===e?(null===(o=Vo())&&(o=rc,i=To(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},ri(t),bo(0,Do,o)):(!!(e.lanes&n)&&(oi(e,t),hi(t,null,null,n),ui()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),bo(0,Do,r)):(r=i.cache,bo(0,Do,r),r!==o.cache&&xo(t,[Do],n,!0))),Is(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Js(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Wh(t)){if(null!==(t=os.current)&&((4194048&ic)===ic?null!==is:(62914560&ic)!==ic&&!(536870912&ic)||t!==is))throw Zo=Qo,Ko;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?xe():536870912,e.lanes|=t,gc|=t)}function tl(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),yo(Do),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fo(t)?Js(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,mo())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Js(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Js(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Js(t),nl(t),t.flags&=-16777217),null;case 27:Q(t),n=q.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=H.current,fo(t)?uo(t):(e=bh(o,r,n),t.stateNode=e,Js(t))}return nl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=H.current,fo(t))uo(t);else{switch(o=rh(q.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Be]=t,e[De]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(eh(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=q.current,fo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ro))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||co(t)}else(e=rh(e).createTextNode(r))[Be]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[Be]=t}else po(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else o=mo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&ju(t.stateNode.containerInfo),nl(t),null;case 10:return yo(t.type),nl(t),null;case 19:if(j(us),null===(o=t.memoizedState))return nl(t),null;if(r=!!(128&t.flags),null===(i=o.rendering))if(r)tl(o,!1);else{if(0!==dc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=hs(e))){for(t.flags|=128,tl(o,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)_r(n,e),n=n.sibling;return W(us,1&us.current|2),t.child}e=e.sibling}null!==o.tail&&te()>Cc&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hs(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!io)return nl(t),null}else 2*te()-o.renderingStartTime>Cc&&536870912!==n&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=us.current,W(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),vi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&j(Ho),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yo(Do),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ol(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yo(Do),K(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return j(us),null;case 4:return K(),null;case 10:return yo(t.type),null;case 22:case 23:return cs(t),vi(),null!==e&&j(Ho),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yo(Do),null;default:return null}}function il(e,t){switch(no(t),t.tag){case 3:yo(Do),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:cs(t);break;case 19:j(us);break;case 10:yo(t.type);break;case 22:case 23:cs(t),vi(),null!==e&&j(Ho);break;case 24:yo(Do)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(e){uu(t,t.return,e)}}function sl(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var l=n,c=s;try{c()}catch(e){uu(o,l,e)}}}r=r.next}while(r!==i)}}catch(e){uu(t,t.return,e)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fi(t,n)}catch(t){uu(e,e.return,t)}}}function cl(e,t,n){n.props=As(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){uu(e,t,n)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){uu(e,t,n)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){uu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){uu(e,t,n)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){uu(e,e.return,t)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":i=p;break;case"name":o=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&Ju(e,t,f,p,r,d)}}return void At(e,s,l,c,u,h,i,o);case"select":for(i in p=s=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Ju(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&Ju(e,t,o,i,r,c)}return t=l,n=s,r=p,void(null!=f?wt(e,!!n,f,!1):!!r!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&Ju(e,t,s,o,r,i)}return void bt(e,f,p);case"option":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&("selected"===m?e.selected=!1:Ju(e,t,m,null,r,f));for(c in r)f=r[c],p=n[c],!r.hasOwnProperty(c)||f===p||null==f&&null==p||("selected"===c?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:Ju(e,t,c,f,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)f=n[A],n.hasOwnProperty(A)&&null!=f&&!r.hasOwnProperty(A)&&Ju(e,t,A,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(Et(t)){for(var g in n)f=n[g],n.hasOwnProperty(g)&&void 0!==f&&!r.hasOwnProperty(g)&&Zu(e,t,g,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Zu(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Ju(e,t,d,f,r,p)}(r,e.type,n,t),r[De]=t}catch(t){uu(e,e.return,t)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fh(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);eh(t,r,n),t[Be]=e,t[De]=n}catch(t){uu(e,e.return,t)}}var wl=!1,bl=!1,yl=!1,Cl="function"==typeof WeakSet?WeakSet:Set,xl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:zl(e,n),4&r&&al(5,n);break;case 1:if(zl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){uu(n,n.return,e)}else{var o=As(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){uu(n,n.return,e)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(zl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fi(e,t)}catch(e){uu(n,n.return,e)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:zl(e,n),null===t&&4&r&&dl(n),512&r&&ul(n,n.return);break;case 12:zl(e,n);break;case 13:zl(e,n),4&r&&Ol(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||bl,o=wl;var i=bl;wl=r,(bl=t)&&!i?_l(e,n,!!(8772&n.subtreeFlags)):zl(e,n),wl=o,bl=i}break;case 30:break;default:zl(e,n)}}function Pl(e){var t=e.alternate;null!==t&&(e.alternate=null,Pl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&je(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Sl=!1;function Il(e,t,n){for(n=n.child;null!==n;)Ml(e,t,n),n=n.sibling}function Ml(e,t,n){if(he&&"function"==typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(e){}switch(n.tag){case 26:bl||hl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||hl(n,t);var r=El,o=Sl;fh(n.type)&&(El=n.stateNode,Sl=!1),Il(e,t,n),yh(n.stateNode),El=r,Sl=o;break;case 5:bl||hl(n,t);case 6:if(r=El,o=Sl,El=null,Il(e,t,n),Sl=o,null!==(El=r))if(Sl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(e){uu(n,t,e)}else try{El.removeChild(n.stateNode)}catch(e){uu(n,t,e)}break;case 18:null!==El&&(Sl?(ph(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Sd(e)):ph(El,n.stateNode));break;case 4:r=El,o=Sl,El=n.stateNode.containerInfo,Sl=!0,Il(e,t,n),El=r,Sl=o;break;case 0:case 11:case 14:case 15:bl||sl(2,n,t),bl||sl(4,n,t),Il(e,t,n);break;case 1:bl||(hl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:bl=(r=bl)||null!==n.memoizedState,Il(e,t,n),bl=r;break;default:Il(e,t,n)}}function Ol(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Sd(e)}catch(e){uu(t,t.return,e)}}function Nl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Cl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Cl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Bl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){El=l.stateNode,Sl=!1;break e}break;case 5:El=l.stateNode,Sl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Sl=!0;break e}l=l.return}if(null===El)throw Error(a(160));Ml(i,s,o),El=null,Sl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Tl(t,e),t=t.sibling}var Dl=null;function Tl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bl(t,e),Rl(e),4&r&&(sl(3,e,e.return),al(3,e),sl(5,e,e.return));break;case 1:Bl(t,e),Rl(e),512&r&&(bl||null===n||hl(n,n.return)),64&r&&wl&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var o=Dl;if(Bl(t,e),Rl(e),512&r&&(bl||null===n||hl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[_e]||i[Be]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),eh(i,r,n),i[Be]=e,Ue(i),r=i;break e;case"link":var s=_h("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}eh(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=_h("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}eh(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[Be]=e,Ue(i),r=i}e.stateNode=r}else jh(o,e.type,e.stateNode);else e.stateNode=Th(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?jh(o,e.type,e.stateNode):Th(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bl(t,e),Rl(e),512&r&&(bl||null===n||hl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bl(t,e),Rl(e),512&r&&(bl||null===n||hl(n,n.return)),32&e.flags){o=e.stateNode;try{Ct(o,"")}catch(t){uu(e,e.return,t)}}4&r&&null!=e.stateNode&&fl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(yl=!0);break;case 6:if(Bl(t,e),Rl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){uu(e,e.return,t)}}break;case 3:if(Fh=null,o=Dl,Dl=kh(t.containerInfo),Bl(t,e),Dl=o,Rl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Sd(t.containerInfo)}catch(t){uu(e,e.return,t)}yl&&(yl=!1,Ll(e));break;case 4:r=Dl,Dl=kh(e.stateNode.containerInfo),Bl(t,e),Rl(e),Dl=r;break;case 12:default:Bl(t,e),Rl(e);break;case 13:Bl(t,e),Rl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(yc=te()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Nl(e,r));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,h=bl;if(wl=u||o,bl=h||c,Bl(t,e),bl=h,wl=u,Rl(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||wl||bl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,o)"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=null!=d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){uu(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(e){uu(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,Nl(e,n));break;case 19:Bl(t,e),Rl(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Nl(e,r));case 30:case 21:}}function Rl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var o=n.stateNode;gl(e,ml(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(Ct(i,""),n.flags&=-33),gl(e,ml(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;Al(e,ml(e),s);break;default:throw Error(a(161))}}catch(t){uu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function zl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Fl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&cl(t,t.return,n),Fl(t);break;case 27:yh(t.stateNode);case 26:case 5:hl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function _l(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:_l(o,i,n),al(4,i);break;case 1:if(_l(o,i,n),"function"==typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(e){uu(r,r.return,e)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)di(l[o],s)}catch(e){uu(r,r.return,e)}}n&&64&a&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:_l(o,i,n),n&&null===r&&4&a&&dl(i),ul(i,i.return);break;case 12:_l(o,i,n);break;case 13:_l(o,i,n),n&&4&a&&Ol(o,i);break;case 22:null===i.memoizedState&&_l(o,i,n),ul(i,i.return);break;case 30:break;default:_l(o,i,n)}t=t.sibling}}function jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ro(n))}function Wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ro(e))}function Hl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,r),t=t.sibling}function Vl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,r),2048&o&&al(9,t);break;case 1:case 13:default:Hl(e,t,n,r);break;case 3:Hl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ro(e)));break;case 12:if(2048&o){Hl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"==typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){uu(t,t.return,e)}}else Hl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Hl(e,t,n,r):Ul(e,t):2&i._visibility?Hl(e,t,n,r):(i._visibility|=2,ql(e,t,n,r,!!(10256&t.subtreeFlags))),2048&o&&jl(a,t);break;case 24:Hl(e,t,n,r),2048&o&&Wl(t.alternate,t)}}function ql(e,t,n,r,o){for(o=o&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ql(i,a,s,l,o),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ql(i,a,s,l,o):Ul(i,a):(u._visibility|=2,ql(i,a,s,l,o)),o&&2048&c&&jl(a.alternate,a);break;case 24:ql(i,a,s,l,o),o&&2048&c&&Wl(a.alternate,a);break;default:ql(i,a,s,l,o)}t=t.sibling}}function Ul(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Ul(n,r),2048&o&&jl(r.alternate,r);break;case 24:Ul(n,r),2048&o&&Wl(r.alternate,r);break;default:Ul(n,r)}t=t.sibling}}var $l=8192;function Kl(e){if(e.subtreeFlags&$l)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Kl(e),e.flags&$l&&null!==e.memoizedState&&function(e,t,n){if(null===Hh)throw Error(a(475));var r=Hh;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var o=Mh(n.href),i=e.querySelector(Oh(o));if(i)return null!==(e=i._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=qh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void Ue(i);i=e.ownerDocument||e,n=Nh(n),(o=Ch.get(o))&&Lh(n,o),Ue(i=i.createElement("link"));var s=i;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),eh(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=qh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Dl;Dl=kh(e.stateNode.containerInfo),Kl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=$l,$l=16777216,Kl(e),$l=t):Kl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Zl(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,Zl(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ro(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,xl=r;else e:for(n=e;null!==xl;){var o=(r=xl).sibling,i=r.return;if(Pl(r),r===n){xl=null;break e}if(null!==o){o.return=i,xl=o;break e}xl=i}}}var ec={getCacheForType:function(e){var t=So(Do),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"==typeof WeakMap?WeakMap:Map,nc=0,rc=null,oc=null,ic=0,ac=0,sc=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,fc=0,pc=0,mc=0,Ac=0,gc=0,vc=null,wc=null,bc=!1,yc=0,Cc=1/0,xc=null,kc=null,Pc=0,Ec=null,Sc=null,Ic=0,Mc=0,Oc=null,Nc=null,Bc=0,Dc=null;function Tc(){return 2&nc&&0!==ic?ic&-ic:null!==T.T?0!==Fo?Fo:Mu():Oe()}function Rc(){0===Ac&&(Ac=536870912&ic&&!io?536870912:Ce());var e=os.current;return null!==e&&(e.flags|=32),Ac}function Lc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Vc(e,0),jc(e,ic,Ac,!1)),Pe(e,n),2&nc&&e===rc||(e===rc&&(!(2&nc)&&(pc|=n),4===dc&&jc(e,ic,Ac,!1)),Cu(e))}function zc(e,t,n){if(6&nc)throw Error(a(327));for(var r=!n&&!(124&t)&&!(t&e.expiredLanes)||be(e,t),o=r?function(e,t){var n=nc;nc|=2;var r=Uc(),o=$c();rc!==e||ic!==t?(xc=null,Cc=te()+500,Vc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==ac&&null!==oc){t=oc;var i=sc;t:switch(ac){case 1:ac=0,sc=null,Zc(e,t,i,1);break;case 2:case 9:if(Yo(i)){ac=0,sc=null,Jc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),Cu(e)},i.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Yo(i)?(ac=0,sc=null,Jc(t)):(ac=0,sc=null,Zc(e,t,i,7));break;case 5:var s=null;switch(oc.tag){case 26:s=oc.memoizedState;case 5:case 27:var l=oc;if(!s||Wh(s)){ac=0,sc=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,eu(u)):oc=null}break t}}ac=0,sc=null,Zc(e,t,i,5);break;case 6:ac=0,sc=null,Zc(e,t,i,6);break;case 8:Hc(),dc=6;break e;default:throw Error(a(462))}}Yc();break}catch(t){qc(e,t)}return wo=vo=null,T.H=r,T.A=o,nc=n,null!==oc?0:(rc=null,ic=0,Ir(),dc)}(e,t):Gc(e,t,!0),i=r;;){if(0===o){cc&&!r&&jc(e,t,0,!1);break}if(n=e.current.alternate,!i||_c(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!=(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,s).flags|=256),2!==(s=Gc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,o=4;break e}i=wc,wc=o,null!==i&&(null===wc?wc=i:wc.push.apply(wc,i))}o=s}if(i=!1,2!==o)continue}}if(1===o){Vc(e,0),jc(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:jc(r,t,Ac,!lc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(o=yc+300-te())){if(jc(r,t,Ac,!lc),0!==we(r,0,!0))break e;r.timeoutHandle=lh(Fc.bind(null,r,n,wc,xc,bc,t,Ac,pc,gc,lc,i,2,-0,0),o)}else Fc(r,n,wc,xc,bc,t,Ac,pc,gc,lc,i,0,-0,0)}break}o=Gc(e,t,!1),i=!1}Cu(e)}function Fc(e,t,n,r,o,i,s,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||!(16785408&~d))&&(Hh={stylesheets:null,count:0,unsuspend:Vh},Gl(t),null!==(d=function(){if(null===Hh)throw Error(a(475));var e=Hh;return e.stylesheets&&0===e.count&&$h(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&$h(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,i,n,r,o,s,l,c,h,1,f,p)),void jc(e,i,s,!u);nu(e,t,i,n,r,o,s,l,c)}function _c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Qn(i(),o))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-fe(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&Ee(e,n,t)}function Wc(){return!!(6&nc)||(xu(0,!1),!1)}function Hc(){if(null!==oc){if(0===ac)var e=oc.return;else wo=vo=null,Fi(e=oc),Qa=null,Ya=0,e=oc;for(;null!==e;)il(e.alternate,e),e=e.return;oc=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),rc=e,oc=n=Fr(e.current,null),ic=t,ac=0,sc=null,lc=!1,cc=be(e,t),uc=!1,gc=Ac=mc=pc=fc=dc=0,wc=vc=null,bc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-fe(r),i=1<<o;t|=e[o],r&=~i}return hc=t,Ir(),n}function qc(e,t){bi=null,T.H=Ua,t===$o||t===Go?(t=ei(),ac=3):t===Ko?(t=ei(),ac=4):ac=t===Es?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,sc=t,null===oc&&(dc=1,ys(e,kr(t,e.current)))}function Uc(){var e=T.H;return T.H=Ua,null===e?Ua:e}function $c(){var e=T.A;return T.A=ec,e}function Kc(){dc=4,lc||(4194048&ic)!==ic&&null!==os.current||(cc=!0),!(134217727&fc)&&!(134217727&pc)||null===rc||jc(rc,ic,Ac,!1)}function Gc(e,t,n){var r=nc;nc|=2;var o=Uc(),i=$c();rc===e&&ic===t||(xc=null,Vc(e,t)),t=!1;var a=dc;e:for(;;)try{if(0!==ac&&null!==oc){var s=oc,l=sc;switch(ac){case 8:Hc(),a=6;break e;case 3:case 2:case 9:case 6:null===os.current&&(t=!0);var c=ac;if(ac=0,sc=null,Zc(e,s,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,sc=null,Zc(e,s,l,c)}}Qc(),a=dc;break}catch(t){qc(e,t)}return t&&e.shellSuspendCounter++,wo=vo=null,nc=r,T.H=o,T.A=i,null===oc&&(rc=null,ic=0,Ir()),a}function Qc(){for(;null!==oc;)Xc(oc)}function Yc(){for(;null!==oc&&!Z();)Xc(oc)}function Xc(e){var t=Xs(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ls(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Ls(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Fi(t);default:il(n,t),t=Xs(n,t=oc=_r(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Zc(e,t,n,r){wo=vo=null,Fi(t),Qa=null,Ya=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&ko(t,n,o,!0),null!==(n=os.current)){switch(n.tag){case 13:return null===is?Kc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Qo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,o)),!1;case 22:return n.flags|=65536,r===Qo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,o)),!1}throw Error(a(435,n.tag))}return hu(e,r,o),Kc(),!1}if(io)return null!==(t=os.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==lo&&Ao(kr(e=Error(a(422),{cause:r}),n))):(r!==lo&&Ao(kr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=kr(r,n),li(e,o=xs(e.stateNode,r,o)),4!==dc&&(dc=2)),!1;var i=Error(a(520),{cause:r});if(i=kr(i,n),null===vc?vc=[i]:vc.push(i),4!==dc&&(dc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,li(n,e=xs(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==kc&&kc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Ps(o=ks(o),e,n,r),li(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,ic))return dc=1,ys(e,kr(n,e.current)),void(oc=null)}catch(t){if(null!==o)throw oc=o,t;return dc=1,ys(e,kr(n,e.current)),void(oc=null)}32768&t.flags?(io||1===r?e=!0:cc||536870912&ic?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=os.current)&&13===r.tag&&(r.flags|=16384)),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(32768&t.flags)return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);dc=6,oc=null}function nu(e,t,n,r,o,i,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Pc);if(6&nc)throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),h=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Ee(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Sr,s,l,c),e===rc&&(oc=rc=null,ic=0),Sc=t,Ec=e,Ic=n,Mc=i,Oc=o,Nc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,X(ie,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=T.T,T.T=null,o=R.p,R.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==o&&3!==d.nodeType||(l=s+o),d!==i||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===o&&(l=s),f===i&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,xl=t;null!==xl;)if(e=(t=xl).child,1024&t.subtreeFlags&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(i=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=As(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){uu(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{nc=s,R.p=o,T.T=r}}Pc=1,ru(),ou(),iu()}}function ru(){if(1===Pc){Pc=0;var e=Ec,t=Sc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=T.T,T.T=null;var r=R.p;R.p=2;var o=nc;nc|=4;try{Tl(t,e);var i=nh,a=er(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(a!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),A=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>A&&(a=A,A=m,m=a);var g=Jn(s,m),v=Jn(s,A);if(g&&v&&(1!==f.rangeCount||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var w=h.createRange();w.setStart(g.node,g.offset),f.removeAllRanges(),m>A?(f.addRange(w),f.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),f.addRange(w))}}}}for(h=[],f=s;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<h.length;s++){var b=h[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nd=!!th,nh=th=null}finally{nc=o,R.p=r,T.T=n}}e.current=t,Pc=2}}function ou(){if(2===Pc){Pc=0;var e=Ec,t=Sc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=T.T,T.T=null;var r=R.p;R.p=2;var o=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=o,R.p=r,T.T=n}}Pc=3}}function iu(){if(4===Pc||3===Pc){Pc=0,ee();var e=Ec,t=Sc,n=Ic,r=Nc;10256&t.subtreeFlags||10256&t.flags?Pc=5:(Pc=0,Sc=Ec=null,au(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(kc=null),Me(n),t=t.stateNode,he&&"function"==typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=T.T,o=R.p,R.p=2,T.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];i(s.value,{componentStack:s.stack})}}finally{T.T=t,R.p=o}}3&Ic&&su(),Cu(e),o=e.pendingLanes,4194090&n&&42&o?e===Dc?Bc++:(Bc=0,Dc=e):Bc=0,xu(0,!1)}}function au(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Ro(t))}function su(e){return ru(),ou(),iu(),lu()}function lu(){if(5!==Pc)return!1;var e=Ec,t=Mc;Mc=0;var n=Me(Ic),r=T.T,o=R.p;try{R.p=32>n?32:n,T.T=null,n=Oc,Oc=null;var i=Ec,s=Ic;if(Pc=0,Sc=Ec=null,Ic=0,6&nc)throw Error(a(331));var l=nc;if(nc|=4,Xl(i.current),Vl(i,i.current,s,n),nc=l,xu(0,!1),he&&"function"==typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,i)}catch(e){}return!0}finally{R.p=o,T.T=r,au(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=ai(e,t=xs(e.stateNode,t,2),2))&&(Pe(e,2),Cu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=ai(t,n=ks(2),2))&&(Ps(n,r,t,e),Pe(r,2),Cu(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(uc=!0,o.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===dc||3===dc&&(62914560&ic)===ic&&300>te()-yc?!(2&nc)&&Vc(e,0):mc|=n,gc===ic&&(gc=0)),Cu(e)}function fu(e,t){0===t&&(t=xe()),null!==(e=Nr(e,t))&&(Pe(e,t),Cu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var Au=null,gu=null,vu=!1,wu=!1,bu=!1,yu=0;function Cu(e){e!==gu&&null===e.next&&(null===gu?Au=gu=e:gu=gu.next=e),wu=!0,vu||(vu=!0,hh((function(){6&nc?X(re,ku):Pu()})))}function xu(e,t){if(!bu&&wu){bu=!0;do{for(var n=!1,r=Au;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=o&~(a&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Iu(r,i))}else i=ic,!(3&(i=we(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,i)||(n=!0,Iu(r,i));r=r.next}}while(n);bu=!1}}function ku(){Pu()}function Pu(){wu=vu=!1;var e,t=0;0!==yu&&(((e=window.event)&&"popstate"===e.type?e!==sh&&(sh=e,!0):(sh=null,!1))&&(t=yu),yu=0);for(var n=te(),r=null,o=Au;null!==o;){var i=o.next,a=Eu(o,n);0===a?(o.next=null,null===r?Au=i:r.next=i,null===i&&(gu=r)):(r=o,(0!==t||3&a)&&(wu=!0)),o=i}xu(t,!1)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-fe(i),s=1<<a,l=o[a];-1===l?s&n&&!(s&r)||(o[a]=ye(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=ic,n=we(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Me(n)){case 2:case 8:n=oe;break;case 32:default:n=ie;break;case 268435456:n=se}return r=Su.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Su(e,t){if(0!==Pc&&5!==Pc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=we(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(zc(e,r,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Su.bind(null,e):null)}function Iu(e,t){if(su())return null;zc(e,t,!0)}function Mu(){return 0===yu&&(yu=Ce()),yu}function Ou(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Mt(""+e)}function Nu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Bu=0;Bu<yr.length;Bu++){var Du=yr[Bu];Cr(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}Cr(fr,"onAnimationEnd"),Cr(pr,"onAnimationIteration"),Cr(mr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(Ar,"onTransitionRun"),Cr(gr,"onTransitionStart"),Cr(vr,"onTransitionCancel"),Cr(wr,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ru=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function Lu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(e){gs(e)}o.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(e){gs(e)}o.currentTarget=null,i=l}}}}function zu(e,t){var n=t[Re];void 0===n&&(n=t[Re]=new Set);var r=e+"__bubble";n.has(r)||(Wu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),Wu(n,e,r,t)}var _u="_reactListening"+Math.random().toString(36).slice(2);function ju(e){if(!e[_u]){e[_u]=!0,$e.forEach((function(t){"selectionchange"!==t&&(Ru.has(t)||Fu(t,!1,e),Fu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[_u]||(t[_u]=!0,Fu("selectionchange",!1,t))}}function Wu(e,t,n,r){switch(cd(t)){case 2:var o=rd;break;case 8:o=od;break;default:o=id}n=o.bind(null,t,n,e),o=void 0,!_t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==s;){if(null===(a=We(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}s=s.parentNode}}r=r.return}Lt((function(){var r=i,o=Nt(n),a=[];e:{var s=br.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Ut(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gn;break;case fr:case pr:case mr:c=sn;break;case wr:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=An;break;case"toggle":case"beforetoggle":c=bn}var h=!!(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==s?s+"Capture":null:s;h=[];for(var p,m=r;null!==m;){var A=m;if(p=A.stateNode,5!==(A=A.tag)&&26!==A&&27!==A||null===p||null===f||null!=(A=zt(m,f))&&h.push(Vu(m,A,p)),d)break;m=m.return}0<h.length&&(s=new c(s,u,null,n,o),a.push({event:s,listeners:h}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ot||!(u=n.relatedTarget||n.fromElement)||!We(u)&&!u[Te])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?We(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,A="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=An,A="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?s:Ve(c),p=null==u?s:Ve(u),(s=new h(A,m+"leave",c,n,o)).target=d,s.relatedTarget=p,A=null,We(o)===r&&((h=new h(f,m+"enter",u,n,o)).target=p,h.relatedTarget=d,A=h),d=A,c&&u)e:{for(f=u,m=0,p=h=c;p;p=Uu(p))m++;for(p=0,A=f;A;A=Uu(A))p++;for(;0<m-p;)h=Uu(h),m--;for(;0<p-m;)f=Uu(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break e;h=Uu(h),f=Uu(f)}h=null}else h=null;null!==c&&$u(a,s,c,h,!1),null!==u&&null!==d&&$u(a,d,u,h,!0)}if("select"===(c=(s=r?Ve(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Fn;else if(Bn(s))if(_n)g=Gn;else{g=$n;var v=Un}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Et(r.elementType)&&(g=Fn):g=Kn;switch(g&&(g=g(e,r))?Dn(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?Ve(r):window,e){case"focusin":(Bn(v)||"true"===v.contentEditable)&&(rr=v,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,o)}var w;if(Cn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else On?In(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Pn&&"ko"!==n.locale&&(On||"onCompositionStart"!==b?"onCompositionEnd"===b&&On&&(w=qt()):(Ht="value"in(Wt=o)?Wt.value:Wt.textContent,On=!0)),0<(v=qu(r,b)).length&&(b=new cn(b,e,null,n,o),a.push({event:b,listeners:v}),(w||null!==(w=Mn(n)))&&(b.data=w))),(w=kn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Sn=!0,En);case"textInput":return(e=t.data)===En&&Sn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!Cn&&In(e,t)?(e=qt(),Vt=Ht=Wt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(b=qu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,o),a.push({event:v,listeners:b}),v.data=w),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Ou((o[De]||null).action),a=r.submitter;a&&null!==(t=(t=a[De]||null)?Ou(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new Zt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==yu){var e=a?Nu(o,a):new FormData(o);Na(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"==typeof i&&(s.preventDefault(),e=a?Nu(o,a):new FormData(o),Na(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Lu(a,t)}))}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=zt(e,n))&&r.unshift(Vu(e,o,i)),null!=(o=zt(e,t))&&r.push(Vu(e,o,i))),3===e.tag)return r;e=e.return}return[]}function Uu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function $u(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=zt(n,i))&&a.unshift(Vu(n,c,l)):o||null!=(c=zt(n,i))&&a.push(Vu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ku=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Qu(e){return("string"==typeof e?e:""+e).replace(Ku,"\n").replace(Gu,"")}function Yu(e,t){return t=Qu(t),Qu(e)===t}function Xu(){}function Ju(e,t,n,r,o,i){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Pt(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Mt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",o.name,o,null),Ju(e,t,"formEncType",o.formEncType,o,null),Ju(e,t,"formMethod",o.formMethod,o,null),Ju(e,t,"formTarget",o.formTarget,o,null)):(Ju(e,t,"encType",o.encType,o,null),Ju(e,t,"method",o.method,o,null),Ju(e,t,"target",o.target,o,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Mt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&zu("scroll",e);break;case"onScrollEnd":null!=r&&zu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Mt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":zu("beforetoggle",e),zu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=St.get(n)||n,r)}}function Zu(e,t,n,r,o,i){switch(n){case"style":Pt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Ct(e,r):("number"==typeof r||"bigint"==typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&zu("scroll",e);break;case"onScrollEnd":null!=r&&zu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(i=null!=(i=e[De]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zu("error",e),zu("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,r,s,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(o&&Ju(e,t,"src",n.src,n,null));case"input":zu("invalid",e);var l=r=s=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var h=n[o];if(null!=h)switch(o){case"name":i=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Ju(e,t,o,h,n,null)}}return gt(e,r,l,c,u,s,i,!1),void ht(e);case"select":for(i in zu("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:Ju(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?wt(e,!!o,t,!1):null!=n&&wt(e,!!o,n,!0));case"textarea":for(s in zu("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Ju(e,t,s,l,n,null)}return yt(e,o,i,r),void ht(e);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(o=n[c])&&("selected"===c?e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o:Ju(e,t,c,o,n,null));return;case"dialog":zu("beforetoggle",e),zu("toggle",e),zu("cancel",e),zu("close",e);break;case"iframe":case"object":zu("load",e);break;case"video":case"audio":for(o=0;o<Tu.length;o++)zu(Tu[o],e);break;case"image":zu("error",e),zu("load",e);break;case"details":zu("toggle",e);break;case"embed":case"source":case"link":zu("error",e),zu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,u,o,n,null)}return;default:if(Et(t)){for(h in n)n.hasOwnProperty(h)&&void 0!==(o=n[h])&&Zu(e,t,h,o,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(o=n[l])&&Ju(e,t,l,o,n,null)}var th=null,nh=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function oh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ih(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sh=null,lh="function"==typeof setTimeout?setTimeout:void 0,ch="function"==typeof clearTimeout?clearTimeout:void 0,uh="function"==typeof Promise?Promise:void 0,hh="function"==typeof queueMicrotask?queueMicrotask:void 0!==uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout((function(){throw e}))}function fh(e){return"head"===e}function ph(e,t){var n=t,r=0,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&yh(a.documentElement),2&n&&yh(a.body),4&n)for(yh(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[_e]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===o)return e.removeChild(i),void Sd(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Sd(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),je(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ah(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vh=null;function wh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bh(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function yh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);je(e)}var Ch=new Map,xh=new Set;function kh(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ph=R.d;R.d={f:function(){var e=Ph.f(),t=Wc();return e||t},r:function(e){var t=He(e);null!==t&&5===t.tag&&"form"===t.type?Da(t):Ph.r(e)},D:function(e){Ph.D(e),Sh("dns-prefetch",e,null)},C:function(e,t){Ph.C(e,t),Sh("preconnect",e,t)},L:function(e,t,n){Ph.L(e,t,n);var r=Eh;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var i=o;switch(t){case"style":i=Mh(e);break;case"script":i=Bh(e)}Ch.has(i)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ch.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Oh(i))||"script"===t&&r.querySelector(Dh(i))||(eh(t=r.createElement("link"),"link",e),Ue(t),r.head.appendChild(t)))}},m:function(e,t){Ph.m(e,t);var n=Eh;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Bh(e)}if(!Ch.has(i)&&(e=d({rel:"modulepreload",href:e},t),Ch.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dh(i)))return}eh(r=n.createElement("link"),"link",e),Ue(r),n.head.appendChild(r)}}},X:function(e,t){Ph.X(e,t);var n=Eh;if(n&&e){var r=qe(n).hoistableScripts,o=Bh(e),i=r.get(o);i||((i=n.querySelector(Dh(o)))||(e=d({src:e,async:!0},t),(t=Ch.get(o))&&zh(e,t),Ue(i=n.createElement("script")),eh(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Ph.S(e,t,n);var r=Eh;if(r&&e){var o=qe(r).hoistableStyles,i=Mh(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Oh(i)))s.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ch.get(i))&&Lh(e,n);var l=a=r.createElement("link");Ue(l),eh(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Rh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){Ph.M(e,t);var n=Eh;if(n&&e){var r=qe(n).hoistableScripts,o=Bh(e),i=r.get(o);i||((i=n.querySelector(Dh(o)))||(e=d({src:e,async:!0,type:"module"},t),(t=Ch.get(o))&&zh(e,t),Ue(i=n.createElement("script")),eh(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Eh="undefined"==typeof document?null:document;function Sh(e,t,n){var r=Eh;if(r&&"string"==typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),xh.has(o)||(xh.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(eh(t=r.createElement("link"),"link",e),Ue(t),r.head.appendChild(t)))}}function Ih(e,t,n,r){var o,i,s,l,c=(c=q.current)?kh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Mh(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Mh(n.href);var u=qe(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Oh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Ch.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ch.set(e,n),u||(o=c,i=e,s=n,l=h.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),eh(i,"link",s),Ue(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Bh(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Mh(e){return'href="'+mt(e)+'"'}function Oh(e){return'link[rel="stylesheet"]['+e+"]"}function Nh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Bh(e){return'[src="'+mt(e)+'"]'}function Dh(e){return"script[async]"+e}function Th(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,Ue(r),r;var o=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ue(r=(e.ownerDocument||e).createElement("style")),eh(r,"style",o),Rh(r,n.precedence,e),t.instance=r;case"stylesheet":o=Mh(n.href);var i=e.querySelector(Oh(o));if(i)return t.state.loading|=4,t.instance=i,Ue(i),i;r=Nh(n),(o=Ch.get(o))&&Lh(r,o),Ue(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),eh(i,"link",r),t.state.loading|=4,Rh(i,n.precedence,e),t.instance=i;case"script":return i=Bh(n.src),(o=e.querySelector(Dh(i)))?(t.instance=o,Ue(o),o):(r=n,(o=Ch.get(i))&&zh(r=d({},n),o),Ue(o=(e=e.ownerDocument||e).createElement("script")),eh(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Rh(r,n.precedence,e));return t.instance}function Rh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Lh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function zh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fh=null;function _h(e,t,n){if(null===Fh){var r=new Map,o=Fh=new Map;o.set(n,r)}else(r=(o=Fh).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[_e]||i[Be]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function jh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Wh(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Hh=null;function Vh(){}function qh(){if(this.count--,0===this.count)if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Uh=null;function $h(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Uh=new Map,t.forEach(Kh,e),Uh=null,qh.call(e))}function Kh(e,t){if(!(4&t.state.loading)){var n=Uh.get(e);if(n)var r=n.get(null);else{n=new Map,Uh.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=qh.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Gh={$$typeof:y,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Qh(e,t,n,r,o,i,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Yh(e,t,n,r,o,i,a,s,l,c,u,h){return e=new Qh(e,t,n,a,s,l,c,h),t=1,!0===i&&(t|=24),i=Lr(3,null,null,t),e.current=i,i.stateNode=e,(t=To()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ri(i),e}function Xh(e){return e?e=Tr:Tr}function Jh(e,t,n,r,o,i){o=Xh(o),null===r.context?r.context=o:r.pendingContext=o,(r=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ai(e,r,t))&&(Lc(n,0,t),si(n,e,t))}function Zh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function td(e){if(13===e.tag){var t=Nr(e,67108864);null!==t&&Lc(t,0,67108864),ed(e,67108864)}}var nd=!0;function rd(e,t,n,r){var o=T.T;T.T=null;var i=R.p;try{R.p=2,id(e,t,n,r)}finally{R.p=i,T.T=o}}function od(e,t,n,r){var o=T.T;T.T=null;var i=R.p;try{R.p=8,id(e,t,n,r)}finally{R.p=i,T.T=o}}function id(e,t,n,r){if(nd){var o=ad(r);if(null===o)Hu(e,t,r,sd,n),vd(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return hd=wd(hd,e,t,n,r,o),!0;case"dragenter":return dd=wd(dd,e,t,n,r,o),!0;case"mouseover":return fd=wd(fd,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return pd.set(i,wd(pd.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,md.set(i,wd(md.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(vd(e,r),4&t&&-1<gd.indexOf(e)){for(;null!==o;){var i=He(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ve(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-fe(a);s.entanglements[1]|=l,a&=~l}Cu(i),!(6&nc)&&(Cc=te()+500,xu(0,!1))}}break;case 13:null!==(s=Nr(i,2))&&Lc(s,0,2),Wc(),ed(i,2)}if(null===(i=ad(r))&&Hu(e,t,r,sd,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hu(e,t,r,null,n)}}function ad(e){return ld(e=Nt(e))}var sd=null;function ld(e){if(sd=null,null!==(e=We(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sd=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case oe:return 8;case ie:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,md=new Map,Ad=[],gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function wd(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=He(t))&&td(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function bd(e){var t=We(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e){var t=R.p;try{return R.p=e,function(){if(13===n.tag){var e=Tc();e=Ie(e);var t=Nr(n,e);null!==t&&Lc(t,0,e),ed(n,e)}}()}finally{R.p=t}}(e.priority)}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(null!==n)return null!==(t=He(n))&&td(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function Cd(e,t,n){yd(e)&&n.delete(t)}function xd(){ud=!1,null!==hd&&yd(hd)&&(hd=null),null!==dd&&yd(dd)&&(dd=null),null!==fd&&yd(fd)&&(fd=null),pd.forEach(Cd),md.forEach(Cd)}function kd(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xd)))}var Pd=null;function Ed(e){Pd!==e&&(Pd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Pd===e&&(Pd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!=typeof r){if(null===ld(r||n))continue;break}var i=He(n);null!==i&&(e.splice(t,3),t-=3,Na(i,{pending:!0,data:o,method:n.method,action:r},r,o))}})))}function Sd(e){function t(t){return kd(t,e)}null!==hd&&kd(hd,e),null!==dd&&kd(dd,e),null!==fd&&kd(fd,e),pd.forEach(t),md.forEach(t);for(var n=0;n<Ad.length;n++){var r=Ad[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ad.length&&null===(n=Ad[0]).blockedOn;)bd(n),null===n.blockedOn&&Ad.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[De]||null;if("function"==typeof i)a||Ed(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[De]||null)s=a.formAction;else if(null!==ld(o))continue}else s=a.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Ed(n)}}}function Id(e){this._internalRoot=e}function Md(e){this._internalRoot=e}Md.prototype.render=Id.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Jh(t.current,Tc(),e,t,null,null)},Md.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jh(e.current,2,null,e,null,null),Wc(),t[Te]=null}},Md.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ad.length&&0!==t&&t<Ad[n].priority;n++);Ad.splice(n,0,e),0===n&&bd(e)}};var Od=o.version;if("19.1.0"!==Od)throw Error(a(527,Od,"19.1.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return u(o),e;if(i===r)return u(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?h(e):null)?null:e.stateNode};var Nd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{ue=Bd.inject(Nd),he=Bd}catch(e){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=vs,i=ws,l=bs;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yh(e,1,!1,null,0,n,r,o,i,l,0,null),e[Te]=t.current,ju(e),new Id(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=vs,l=ws,c=bs,u=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yh(e,1,!0,t,0,r,o,i,l,c,0,u)).context=Xh(null),n=t.current,(o=ii(r=Ie(r=Tc()))).callback=null,ai(n,o,r),n=r,t.current.lanes=n,Pe(t,n),Cu(t),e[Te]=t.current,ju(e),new Md(t)},t.version="19.1.0"},249:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){s=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(e){h=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,a=Object.create(o.prototype),s=new B(r||[]);return i(a,"_invoke",{value:I(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",m="suspendedYield",A="executing",g="completed",v={};function w(){}function b(){}function y(){}var C={};h(C,l,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(D([])));k&&k!==n&&o.call(k,l)&&(C=k);var P=y.prototype=w.prototype=Object.create(C);function E(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,s,l){var c=f(e[i],e,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==r(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function I(t,n,r){var o=p;return function(i,a){if(o===A)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=M(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=A;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?g:m,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=g,r.method="throw",r.arg=c.arg)}}}function M(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,M(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return b.prototype=y,i(P,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=h(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,h(e,u,"GeneratorFunction")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},E(S.prototype),h(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(P),h(P,u,"Generator"),h(P,l,(function(){return this})),h(P,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,B.prototype={constructor:B,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}n.r(t),n.d(t,{openFolder:()=>h,readMarkdownFile:()=>f,saveMarkdownFile:()=>p,scanDirectory:()=>d});var u=function(){return"undefined"!=typeof window&&void 0!==window.api},h=function(){var e=c(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u()){e.next=3;break}return e.abrupt("return",(null===(t=window.api)||void 0===t?void 0:t.openFileDialog())||Promise.resolve([]));case 3:return e.next=5,window.api.openFileDialog(!0);case 5:if(null!==(n=e.sent)){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",Array.isArray(n)?n:[n]);case 11:return e.prev=11,e.t0=e.catch(0),console.error("Error in openFolder function:",e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=c(s().mark((function e(t){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u()){e.next=4;break}return console.warn("Warning: window.api is not available for scanning directory. Using mock implementation."),e.abrupt("return",(null===(n=window.api)||void 0===n?void 0:n.scanDirectory(t))||{files:[],folders:[]});case 4:return r=t.replace(/\\/g,"/"),e.next=7,window.api.scanDirectory(t);case 7:return(o=e.sent)&&o.folders&&(o.folders=o.folders.map((function(e){var t=e.path.replace(/\\/g,"/");if(!t.startsWith(r+"/")&&t!==r){var n=e.name||e.path.split("/").pop().split("\\").pop();return i(i({},e),{},{path:"".concat(r,"/").concat(n),name:n})}return i(i({},e),{},{path:t,name:e.name||t.split("/").pop()})}))),o&&o.files&&(o.files=o.files.map((function(e){var t=e.path.replace(/\\/g,"/");if(!t.startsWith(r+"/")&&t!==r){var n=e.name||e.path.split("/").pop().split("\\").pop();return i(i({},e),{},{path:"".concat(r,"/").concat(n),name:n})}return i(i({},e),{},{path:t,name:e.name||t.split("/").pop()})}))),e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Error scanning directory:",e.t0),e.abrupt("return",{files:[],folders:[]});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u()){e.next=4;break}return console.warn("Warning: window.api is not available for reading file. Using mock implementation."),e.abrupt("return",(null===(n=window.api)||void 0===n?void 0:n.readMarkdownFile(t))||"# Unable to read file\n\nElectron API is not available.");case 4:return e.next=6,window.api.readMarkdownFile(t);case 6:if(null!=(r=e.sent)){e.next=10;break}return console.warn("Read null or undefined content from file: ".concat(t)),e.abrupt("return","");case 10:return e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Error reading markdown file:",e.t0),e.abrupt("return","# Error Reading File\n\n".concat(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=c(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u()){e.next=4;break}return console.warn("Warning: window.api is not available for saving file. Using mock implementation."),e.abrupt("return",null===(r=window.api)||void 0===r?void 0:r.writeMarkdownFile(t,n));case 4:return e.next=6,window.api.writeMarkdownFile(t,n);case 6:return e.abrupt("return",!0);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("Error saving markdown file:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},286:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(354),o=n.n(r),i=n(314),a=n.n(i),s=n(417),l=n.n(s),c=new URL(n(489),n.b),u=new URL(n(681),n.b),h=a()(o()),d=l()(c),f=l()(u);h.push([e.id,`/* Split pane styling */\n.gutter {\n  background-color: #eee;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  flex-shrink: 0; /* Prevent gutter from shrinking */\n}\n\n.dark .gutter {\n  background-color: #2a2a2a;\n}\n\n.gutter:hover {\n  background-color: #ddd;\n}\n\n.dark .gutter:hover {\n  background-color: #3a3a3a;\n}\n\n.gutter.gutter-horizontal {\n  background-image: url(${d});\n  cursor: col-resize;\n  width: 5px !important; /* Enforce consistent width */\n}\n\n.gutter.gutter-vertical {\n  background-image: url(${f});\n  cursor: row-resize;\n  height: 5px !important; /* Enforce consistent height */\n}\n\n/* Make sure the split container takes full height */\n.split {\n  display: flex;\n  height: 100%;\n  min-height: 0; /* Changed from 100% to 0 to prevent overflow */\n  width: 100%;\n  overflow: hidden; /* Prevent overflow issues */\n}\n\n.split.vertical {\n  flex-direction: column;\n}\n\n/* Remove float which can cause layout issues */\n.split, .gutter.gutter-horizontal {\n  float: none; /* Changed from left to none */\n}\n\n/* Ensure child containers behave properly */\n.split > div {\n  height: 100%;\n  min-height: 0; /* Allow shrinking below content size */\n  min-width: 0; /* Allow shrinking below content size */\n  display: flex;\n  flex-direction: column;\n  overflow: hidden; /* Prevent content from overflowing */\n}\n\n/* Ensure the preview container fills its parent height */\n.preview-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0; /* Changed from 100% to 0 to prevent overflow */\n  overflow: hidden; /* Prevent content from overflowing */\n  position: relative; /* For proper child positioning */\n}\n\n/* Force editor and preview to use full available height */\n.editor, .markdown-preview {\n  flex: 1 1 auto;\n  min-height: 0; /* Allow shrinking */\n  min-width: 0; /* Allow shrinking */\n  height: auto; /* Auto height based on container */\n  width: 100%;\n  overflow: auto; /* Allow scrolling inside components */\n  position: relative;\n}\n\n/* Enhanced scrollbar styling specifically for editor and preview */\n.editor::-webkit-scrollbar,\n.markdown-preview::-webkit-scrollbar,\n.cm-scroller::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n\n.editor::-webkit-scrollbar-thumb,\n.markdown-preview::-webkit-scrollbar-thumb,\n.cm-scroller::-webkit-scrollbar-thumb {\n  background-color: rgba(156, 163, 175, 0.3);\n  border-radius: 3px;\n}\n\n.editor::-webkit-scrollbar-thumb:hover,\n.markdown-preview::-webkit-scrollbar-thumb:hover,\n.cm-scroller::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(156, 163, 175, 0.5);\n}\n\n.dark .editor::-webkit-scrollbar-thumb,\n.dark .markdown-preview::-webkit-scrollbar-thumb,\n.dark .cm-scroller::-webkit-scrollbar-thumb {\n  background-color: rgba(75, 85, 99, 0.3);\n}\n\n.dark .editor::-webkit-scrollbar-thumb:hover,\n.dark .markdown-preview::-webkit-scrollbar-thumb:hover,\n.dark .cm-scroller::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(75, 85, 99, 0.5);\n}\n\n/* Add specific styling for mobile view */\n@media (max-width: 768px) {\n  .split.vertical > div {\n    min-height: 150px; /* Minimum height for panels in mobile view */\n  }\n  \n  .editor, .markdown-preview {\n    min-height: 150px;\n  }\n} `,"",{version:3,sources:["webpack://./src/splitPane.css"],names:[],mappings:"AAAA,uBAAuB;AACvB;EACE,sBAAsB;EACtB,4BAA4B;EAC5B,wBAAwB;EACxB,cAAc,EAAE,kCAAkC;AACpD;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yDAA2K;EAC3K,kBAAkB;EAClB,qBAAqB,EAAE,6BAA6B;AACtD;;AAEA;EACE,yDAA2L;EAC3L,kBAAkB;EAClB,sBAAsB,EAAE,8BAA8B;AACxD;;AAEA,oDAAoD;AACpD;EACE,aAAa;EACb,YAAY;EACZ,aAAa,EAAE,+CAA+C;EAC9D,WAAW;EACX,gBAAgB,EAAE,4BAA4B;AAChD;;AAEA;EACE,sBAAsB;AACxB;;AAEA,+CAA+C;AAC/C;EACE,WAAW,EAAE,8BAA8B;AAC7C;;AAEA,4CAA4C;AAC5C;EACE,YAAY;EACZ,aAAa,EAAE,uCAAuC;EACtD,YAAY,EAAE,uCAAuC;EACrD,aAAa;EACb,sBAAsB;EACtB,gBAAgB,EAAE,qCAAqC;AACzD;;AAEA,yDAAyD;AACzD;EACE,OAAO;EACP,aAAa;EACb,sBAAsB;EACtB,aAAa,EAAE,+CAA+C;EAC9D,gBAAgB,EAAE,qCAAqC;EACvD,kBAAkB,EAAE,iCAAiC;AACvD;;AAEA,0DAA0D;AAC1D;EACE,cAAc;EACd,aAAa,EAAE,oBAAoB;EACnC,YAAY,EAAE,oBAAoB;EAClC,YAAY,EAAE,mCAAmC;EACjD,WAAW;EACX,cAAc,EAAE,sCAAsC;EACtD,kBAAkB;AACpB;;AAEA,mEAAmE;AACnE;;;EAGE,UAAU;EACV,WAAW;AACb;;AAEA;;;EAGE,0CAA0C;EAC1C,kBAAkB;AACpB;;AAEA;;;EAGE,0CAA0C;AAC5C;;AAEA;;;EAGE,uCAAuC;AACzC;;AAEA;;;EAGE,uCAAuC;AACzC;;AAEA,yCAAyC;AACzC;EACE;IACE,iBAAiB,EAAE,6CAA6C;EAClE;;EAEA;IACE,iBAAiB;EACnB;AACF",sourcesContent:["/* Split pane styling */\n.gutter {\n  background-color: #eee;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  flex-shrink: 0; /* Prevent gutter from shrinking */\n}\n\n.dark .gutter {\n  background-color: #2a2a2a;\n}\n\n.gutter:hover {\n  background-color: #ddd;\n}\n\n.dark .gutter:hover {\n  background-color: #3a3a3a;\n}\n\n.gutter.gutter-horizontal {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');\n  cursor: col-resize;\n  width: 5px !important; /* Enforce consistent width */\n}\n\n.gutter.gutter-vertical {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII=');\n  cursor: row-resize;\n  height: 5px !important; /* Enforce consistent height */\n}\n\n/* Make sure the split container takes full height */\n.split {\n  display: flex;\n  height: 100%;\n  min-height: 0; /* Changed from 100% to 0 to prevent overflow */\n  width: 100%;\n  overflow: hidden; /* Prevent overflow issues */\n}\n\n.split.vertical {\n  flex-direction: column;\n}\n\n/* Remove float which can cause layout issues */\n.split, .gutter.gutter-horizontal {\n  float: none; /* Changed from left to none */\n}\n\n/* Ensure child containers behave properly */\n.split > div {\n  height: 100%;\n  min-height: 0; /* Allow shrinking below content size */\n  min-width: 0; /* Allow shrinking below content size */\n  display: flex;\n  flex-direction: column;\n  overflow: hidden; /* Prevent content from overflowing */\n}\n\n/* Ensure the preview container fills its parent height */\n.preview-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0; /* Changed from 100% to 0 to prevent overflow */\n  overflow: hidden; /* Prevent content from overflowing */\n  position: relative; /* For proper child positioning */\n}\n\n/* Force editor and preview to use full available height */\n.editor, .markdown-preview {\n  flex: 1 1 auto;\n  min-height: 0; /* Allow shrinking */\n  min-width: 0; /* Allow shrinking */\n  height: auto; /* Auto height based on container */\n  width: 100%;\n  overflow: auto; /* Allow scrolling inside components */\n  position: relative;\n}\n\n/* Enhanced scrollbar styling specifically for editor and preview */\n.editor::-webkit-scrollbar,\n.markdown-preview::-webkit-scrollbar,\n.cm-scroller::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n\n.editor::-webkit-scrollbar-thumb,\n.markdown-preview::-webkit-scrollbar-thumb,\n.cm-scroller::-webkit-scrollbar-thumb {\n  background-color: rgba(156, 163, 175, 0.3);\n  border-radius: 3px;\n}\n\n.editor::-webkit-scrollbar-thumb:hover,\n.markdown-preview::-webkit-scrollbar-thumb:hover,\n.cm-scroller::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(156, 163, 175, 0.5);\n}\n\n.dark .editor::-webkit-scrollbar-thumb,\n.dark .markdown-preview::-webkit-scrollbar-thumb,\n.dark .cm-scroller::-webkit-scrollbar-thumb {\n  background-color: rgba(75, 85, 99, 0.3);\n}\n\n.dark .editor::-webkit-scrollbar-thumb:hover,\n.dark .markdown-preview::-webkit-scrollbar-thumb:hover,\n.dark .cm-scroller::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(75, 85, 99, 0.5);\n}\n\n/* Add specific styling for mobile view */\n@media (max-width: 768px) {\n  .split.vertical > div {\n    min-height: 150px; /* Minimum height for panels in mobile view */\n  }\n  \n  .editor, .markdown-preview {\n    min-height: 150px;\n  }\n} "],sourceRoot:""}]);const p=h},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},338:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(247)},354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},477:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,A=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,w="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function C(e){if(A=!1,y(e),!m)if(null!==r(c))m=!0,k||(k=!0,x());else{var t=r(u);null!==t&&B(C,t.startTime-e)}}var x,k=!1,P=-1,E=5,S=-1;function I(){return!(!g&&t.unstable_now()-S<E)}function M(){if(g=!1,k){var e=t.unstable_now();S=e;var n=!0;try{e:{m=!1,A&&(A=!1,w(P),P=-1),p=!0;var i=f;try{t:{for(y(e),d=r(c);null!==d&&!(d.expirationTime>e&&I());){var a=d.callback;if("function"==typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof s){d.callback=s,y(e),n=!0;break t}d===r(c)&&o(c),y(e)}else o(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&B(C,l.startTime-e),n=!1}}break e}finally{d=null,f=i,p=!1}n=void 0}}finally{n?x():k=!1}}}if("function"==typeof b)x=function(){b(M)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=M,x=function(){N.postMessage(null)}}else x=function(){v(M,0)};function B(e,n){P=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(A?(w(P),P=-1):A=!0,B(C,i-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,k||(k=!0,x()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},489:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg=="},540:(e,t,n)=>{"use strict";e.exports=n(869)},556:(e,t,n)=>{e.exports=n(694)()},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},681:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII="},694:(e,t,n)=>{"use strict";var r=n(925);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},869:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,A={};function g(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=w.prototype=new v;b.constructor=w,m(b,g.prototype),b.isPureReactComponent=!0;var y=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},x=Object.prototype.hasOwnProperty;function k(e,t,r,o,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function I(){}function M(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return M((u=e._init)(e._payload),t,o,i,a)}}if(u)return a=a(e),u=""===i?"."+S(e,0):i,y(a)?(o="",null!=u&&(o=u.replace(E,"$&/")+"/"),M(a,t,o,"",(function(e){return e}))):null!=a&&(P(a)&&(l=a,c=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+u,a=k(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var h,p=""===i?".":i+":";if(y(e))for(var m=0;m<e.length;m++)u+=M(i=e[m],t,o,s=p+S(i,m),a);else if("function"==typeof(m=null===(h=e)||"object"!=typeof h?null:"function"==typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=M(i=i.value,t,o,s=p+S(i,m++),a);else if("object"===s){if("function"==typeof e.then)return M(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function O(e,t,n){if(null==e)return e;var r=[],o=0;return M(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=a,t.PureComponent=w,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(i in t.ref,void 0!==t.key&&(o=""+t.key),t)!x.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return k(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)x.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return k(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),o=C.S;null!==o&&o(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(D,B)}catch(e){B(e)}finally{C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=C.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.1.0"},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(221)},972:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(354),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,'/*! tailwindcss v4.1.4 | MIT License | https://tailwindcss.com */\n@layer properties;\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --color-red-100: oklch(93.6% 0.032 17.717);\n    --color-red-200: oklch(88.5% 0.062 18.334);\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-800: oklch(44.4% 0.177 26.899);\n    --color-red-900: oklch(39.6% 0.141 25.723);\n    --color-amber-500: oklch(76.9% 0.188 70.08);\n    --color-green-100: oklch(96.2% 0.044 156.743);\n    --color-green-200: oklch(92.5% 0.084 155.995);\n    --color-green-500: oklch(72.3% 0.219 149.579);\n    --color-green-800: oklch(44.8% 0.119 151.328);\n    --color-green-900: oklch(39.3% 0.095 152.535);\n    --color-blue-100: oklch(93.2% 0.032 255.585);\n    --color-blue-200: oklch(88.2% 0.059 254.128);\n    --color-blue-400: oklch(70.7% 0.165 254.624);\n    --color-blue-500: oklch(62.3% 0.214 259.815);\n    --color-blue-800: oklch(42.4% 0.199 265.638);\n    --color-blue-900: oklch(37.9% 0.146 265.522);\n    --color-gray-200: oklch(92.8% 0.006 264.531);\n    --color-gray-700: oklch(37.3% 0.034 259.733);\n    --color-black: #000;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --container-sm: 24rem;\n    --container-md: 28rem;\n    --container-lg: 32rem;\n    --container-2xl: 42rem;\n    --text-xs: calc(0.75rem * var(--text-scaling));\n    --text-xs--line-height: calc(calc(1 / 0.75) * var(--text-scaling));\n    --text-sm: calc(0.875rem * var(--text-scaling));\n    --text-sm--line-height: calc(calc(1.25 / 0.875) * var(--text-scaling));\n    --text-base: calc(1rem * var(--text-scaling));\n    --text-base--line-height: calc(calc(1.5 / 1) * var(--text-scaling));\n    --text-lg: calc(1.125rem * var(--text-scaling));\n    --text-lg--line-height: calc(calc(1.75 / 1.125) * var(--text-scaling));\n    --text-3xl: calc(1.875rem * var(--text-scaling));\n    --text-3xl--line-height: calc(calc(2.25 / 1.875) * var(--text-scaling));\n    --text-4xl: calc(2.25rem * var(--text-scaling));\n    --text-4xl--line-height: calc(calc(2.5 / 2.25) * var(--text-scaling));\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --radius-sm: 0.25rem;\n    --radius-md: 0.375rem;\n    --radius-lg: 0.5rem;\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n    --animate-spin: spin 1s linear infinite;\n    --blur-sm: 8px;\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: var(--font-sans);\n    --default-mono-font-family: var(--font-mono);\n    --text-scaling: 1;\n    --base-font-color: inherit;\n    --base-font-color-dark: inherit;\n    --base-font-family: inherit;\n    --base-font-size: inherit;\n    --base-line-height: inherit;\n    --base-font-weight: inherit;\n    --base-font-style: inherit;\n    --base-letter-spacing: inherit;\n    --heading-font-color: inherit;\n    --heading-font-color-dark: inherit;\n    --heading-font-family: inherit;\n    --heading-font-weight: inherit;\n    --heading-font-style: inherit;\n    --heading-letter-spacing: inherit;\n    --anchor-font-color: inherit;\n    --anchor-font-color-dark: inherit;\n    --anchor-font-family: inherit;\n    --anchor-font-size: inherit;\n    --anchor-line-height: inherit;\n    --anchor-font-weight: inherit;\n    --anchor-font-style: inherit;\n    --anchor-letter-spacing: inherit;\n    --anchor-text-decoration: inherit;\n    --anchor-text-decoration-hover: underline;\n    --anchor-text-decoration-active: inherit;\n    --anchor-text-decoration-focus: inherit;\n    --radius-base: 0.25rem;\n    --radius-container: 0.25rem;\n    --default-ring-width: 1px;\n    --color-primary-50: oklch(98.5% 0 0deg);\n    --color-primary-100: oklch(97% 0 0deg);\n    --color-primary-300: oklch(87% 0 0deg);\n    --color-primary-400: oklch(70.8% 0 0deg);\n    --color-primary-500: oklch(55.6% 0 0deg);\n    --color-primary-600: oklch(43.9% 0 0deg);\n    --color-primary-700: oklch(37.1% 0 0deg);\n    --color-primary-900: oklch(20.5% 0 0deg);\n    --color-primary-950: oklch(14.5% 0 0deg);\n    --color-primary-contrast-dark: var(--color-primary-950);\n    --color-primary-contrast-light: var(--color-primary-50);\n    --color-primary-contrast-50: var(--color-primary-contrast-dark);\n    --color-primary-contrast-950: var(--color-primary-contrast-light);\n    --color-secondary-50: oklch(98.5% 0 0deg);\n    --color-secondary-400: oklch(70.8% 0 0deg);\n    --color-secondary-500: oklch(55.6% 0 0deg);\n    --color-secondary-contrast-light: var(--color-secondary-50);\n    --color-tertiary-50: oklch(98.5% 0 0deg);\n    --color-tertiary-500: oklch(55.6% 0 0deg);\n    --color-tertiary-contrast-light: var(--color-tertiary-50);\n    --color-tertiary-contrast-500: var(--color-tertiary-contrast-light);\n    --color-success-50: oklch(98.5% 0 0deg);\n    --color-success-contrast-light: var(--color-success-50);\n    --color-warning-50: oklch(98.5% 0 0deg);\n    --color-warning-500: oklch(55.6% 0 0deg);\n    --color-warning-contrast-light: var(--color-warning-50);\n    --color-error-50: oklch(98.5% 0 0deg);\n    --color-error-100: oklch(97% 0 0deg);\n    --color-error-200: oklch(92.2% 0 0deg);\n    --color-error-300: oklch(87% 0 0deg);\n    --color-error-400: oklch(70.8% 0 0deg);\n    --color-error-500: oklch(55.6% 0 0deg);\n    --color-error-600: oklch(43.9% 0 0deg);\n    --color-error-700: oklch(37.1% 0 0deg);\n    --color-error-800: oklch(26.9% 0 0deg);\n    --color-error-900: oklch(20.5% 0 0deg);\n    --color-error-contrast-light: var(--color-error-50);\n    --color-surface-50: oklch(98.5% 0 0deg);\n    --color-surface-100: oklch(97% 0 0deg);\n    --color-surface-200: oklch(92.2% 0 0deg);\n    --color-surface-300: oklch(87% 0 0deg);\n    --color-surface-400: oklch(70.8% 0 0deg);\n    --color-surface-500: oklch(55.6% 0 0deg);\n    --color-surface-600: oklch(43.9% 0 0deg);\n    --color-surface-700: oklch(37.1% 0 0deg);\n    --color-surface-800: oklch(26.9% 0 0deg);\n    --color-surface-900: oklch(20.5% 0 0deg);\n    --color-surface-950: oklch(14.5% 0 0deg);\n    --color-surface-contrast-light: var(--color-surface-50);\n    --body-background-color: var(--color-surface-50);\n    --body-background-color-dark: var(--color-surface-950);\n    --color-primary-contrast-50-950: light-dark(\n  \tvar(--color-primary-contrast-50),\n  \tvar(--color-primary-contrast-950)\n  );\n    --color-primary-100-900: light-dark(var(--color-primary-100), var(--color-primary-900));\n    --color-surface-50-950: light-dark(var(--color-surface-50), var(--color-surface-950));\n    --color-surface-100-900: light-dark(var(--color-surface-100), var(--color-surface-900));\n    --color-surface-200-800: light-dark(var(--color-surface-200), var(--color-surface-800));\n    --color-surface-300-700: light-dark(var(--color-surface-300), var(--color-surface-700));\n    --color-surface-600-400: light-dark(var(--color-surface-600), var(--color-surface-400));\n    --color-surface-700-300: light-dark(var(--color-surface-700), var(--color-surface-300));\n    --color-surface-950-50: light-dark(var(--color-surface-950), var(--color-surface-50));\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    tab-size: 4;\n    font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");\n    font-feature-settings: var(--default-font-feature-settings, normal);\n    font-variation-settings: var(--default-font-variation-settings, normal);\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);\n    font-feature-settings: var(--default-mono-font-feature-settings, normal);\n    font-variation-settings: var(--default-mono-font-variation-settings, normal);\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::placeholder {\n      color: currentcolor;\n      @supports (color: color-mix(in lab, red, red)) {\n        color: color-mix(in oklab, currentcolor 50%, transparent);\n      }\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type="button"], [type="reset"], [type="submit"]), ::file-selector-button {\n    appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden="until-found"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .pointer-events-auto {\n    pointer-events: auto;\n  }\n  .pointer-events-none {\n    pointer-events: none;\n  }\n  .visible {\n    visibility: visible;\n  }\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border-width: 0;\n  }\n  .table {\n    font-size: var(--text-sm);\n    line-height: var(--text-sm--line-height);\n    position: relative;\n    width: 100%;\n    & thead {\n      color: var(--color-surface-700-300);\n      border-bottom-width: 1px;\n      border-color: var(--color-surface-200-800);\n    }\n    & th {\n      text-align: left;\n      font-weight: 400;\n    }\n    & tbody {\n      & > :not(:last-child) {\n        border-color: var(--color-surface-200-800);\n      }\n      & > :not(:last-child) {\n        border-top-width: 0px;\n        border-bottom-width: 1px;\n      }\n    }\n    & tfoot {\n      border-top-width: 1px;\n      border-color: var(--color-surface-200-800);\n      background-color: var(--color-surface-100-900);\n    }\n    & th {\n      padding: calc(var(--spacing) * 2);\n    }\n    & td {\n      padding: calc(var(--spacing) * 2);\n    }\n    & caption {\n      color: var(--color-surface-600-400);\n      font-size: var(--text-xs);\n      line-height: var(--text-xs--line-height);\n    }\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .inset-0 {\n    inset: calc(var(--spacing) * 0);\n  }\n  .inset-y-0 {\n    inset-block: calc(var(--spacing) * 0);\n  }\n  .top-0 {\n    top: calc(var(--spacing) * 0);\n  }\n  .top-1\\/2 {\n    top: calc(1/2 * 100%);\n  }\n  .top-2\\.5 {\n    top: calc(var(--spacing) * 2.5);\n  }\n  .top-4 {\n    top: calc(var(--spacing) * 4);\n  }\n  .right-1 {\n    right: calc(var(--spacing) * 1);\n  }\n  .right-2 {\n    right: calc(var(--spacing) * 2);\n  }\n  .right-3 {\n    right: calc(var(--spacing) * 3);\n  }\n  .right-4 {\n    right: calc(var(--spacing) * 4);\n  }\n  .right-10 {\n    right: calc(var(--spacing) * 10);\n  }\n  .left-0 {\n    left: calc(var(--spacing) * 0);\n  }\n  .left-2\\.5 {\n    left: calc(var(--spacing) * 2.5);\n  }\n  .z-5 {\n    z-index: 5;\n  }\n  .z-10 {\n    z-index: 10;\n  }\n  .z-50 {\n    z-index: 50;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .mx-1 {\n    margin-inline: calc(var(--spacing) * 1);\n  }\n  .mx-4 {\n    margin-inline: calc(var(--spacing) * 4);\n  }\n  .my-1 {\n    margin-block: calc(var(--spacing) * 1);\n  }\n  .select {\n    background-color: transparent;\n    border-radius: var(--radius-base);\n    display: block;\n    width: 100%;\n    font-size: var(--text-base);\n    line-height: var(--text-base--line-height);\n    padding-block: calc(var(--spacing) * 1);\n    outline-color: transparent;\n    border-width: 0;\n    --tw-ring-inset: inset;\n    --tw-ring-color: var(--color-surface-200-800);\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 var(--default-ring-width) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    &:active {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &:focus {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &:focus-within {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    & > * + * {\n      margin-top: calc(var(--spacing) * 2);\n    }\n    &[multiple] {\n      border-radius: var(--radius-container);\n      padding: calc(var(--spacing) * 1);\n      & optgroup,\t& option {\n        background-color: transparent;\n      }\n    }\n    &[size] {\n      border-radius: var(--radius-container);\n      padding: calc(var(--spacing) * 1);\n      & optgroup,\t& option {\n        background-color: transparent;\n      }\n    }\n    & optgroup {\n      background-color: var(--color-surface-50-950);\n      color: var(--color-surface-950-50);\n    }\n    & optgroup > * + * {\n      margin-top: calc(var(--spacing) * 2);\n    }\n    & optgroup option:first-of-type {\n      margin-top: calc(var(--spacing) * 2);\n    }\n    & optgroup option:last-child {\n      margin-bottom: calc(var(--spacing) * 2) !important;\n    }\n    & option {\n      background-color: var(--color-surface-50-950);\n      color: var(--color-surface-950-50);\n      border-radius: var(--radius-base);\n      font-size: var(--text-base);\n      line-height: calc(var(--spacing) * 9);\n      height: calc(var(--spacing) * 9);\n      padding: calc(var(--spacing) * 2);\n    }\n  }\n  .prose {\n    color: var(--tw-prose-body);\n    max-width: 65ch;\n    :where(p):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 1.25em;\n      margin-bottom: 1.25em;\n    }\n    :where([class~="lead"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-lead);\n      font-size: 1.25em;\n      line-height: 1.6;\n      margin-top: 1.2em;\n      margin-bottom: 1.2em;\n    }\n    :where(a):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-links);\n      text-decoration: underline;\n      font-weight: 500;\n    }\n    :where(strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-bold);\n      font-weight: 600;\n    }\n    :where(a strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(blockquote strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(thead th strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(ol):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: decimal;\n      margin-top: 1.25em;\n      margin-bottom: 1.25em;\n      padding-inline-start: 1.625em;\n    }\n    :where(ol[type="A"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: upper-alpha;\n    }\n    :where(ol[type="a"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: lower-alpha;\n    }\n    :where(ol[type="A" s]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: upper-alpha;\n    }\n    :where(ol[type="a" s]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: lower-alpha;\n    }\n    :where(ol[type="I"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: upper-roman;\n    }\n    :where(ol[type="i"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: lower-roman;\n    }\n    :where(ol[type="I" s]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: upper-roman;\n    }\n    :where(ol[type="i" s]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: lower-roman;\n    }\n    :where(ol[type="1"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: decimal;\n    }\n    :where(ul):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: disc;\n      margin-top: 1.25em;\n      margin-bottom: 1.25em;\n      padding-inline-start: 1.625em;\n    }\n    :where(ol > li):not(:where([class~="not-prose"],[class~="not-prose"] *))::marker {\n      font-weight: 400;\n      color: var(--tw-prose-counters);\n    }\n    :where(ul > li):not(:where([class~="not-prose"],[class~="not-prose"] *))::marker {\n      color: var(--tw-prose-bullets);\n    }\n    :where(dt):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 600;\n      margin-top: 1.25em;\n    }\n    :where(hr):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      border-color: var(--tw-prose-hr);\n      border-top-width: 1;\n      margin-top: 3em;\n      margin-bottom: 3em;\n    }\n    :where(blockquote):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 500;\n      font-style: italic;\n      color: var(--tw-prose-quotes);\n      border-inline-start-width: 0.25rem;\n      border-inline-start-color: var(--tw-prose-quote-borders);\n      quotes: "\\201C""\\201D""\\2018""\\2019";\n      margin-top: 1.6em;\n      margin-bottom: 1.6em;\n      padding-inline-start: 1em;\n    }\n    :where(blockquote p:first-of-type):not(:where([class~="not-prose"],[class~="not-prose"] *))::before {\n      content: open-quote;\n    }\n    :where(blockquote p:last-of-type):not(:where([class~="not-prose"],[class~="not-prose"] *))::after {\n      content: close-quote;\n    }\n    :where(h1):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 800;\n      font-size: 2.25em;\n      margin-top: 0;\n      margin-bottom: 0.8888889em;\n      line-height: 1.1111111;\n    }\n    :where(h1 strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 900;\n      color: inherit;\n    }\n    :where(h2):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 700;\n      font-size: 1.5em;\n      margin-top: 2em;\n      margin-bottom: 1em;\n      line-height: 1.3333333;\n    }\n    :where(h2 strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 800;\n      color: inherit;\n    }\n    :where(h3):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 600;\n      font-size: 1.25em;\n      margin-top: 1.6em;\n      margin-bottom: 0.6em;\n      line-height: 1.6;\n    }\n    :where(h3 strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 700;\n      color: inherit;\n    }\n    :where(h4):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 600;\n      margin-top: 1.5em;\n      margin-bottom: 0.5em;\n      line-height: 1.5;\n    }\n    :where(h4 strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 700;\n      color: inherit;\n    }\n    :where(img):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 2em;\n      margin-bottom: 2em;\n    }\n    :where(picture):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      display: block;\n      margin-top: 2em;\n      margin-bottom: 2em;\n    }\n    :where(video):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 2em;\n      margin-bottom: 2em;\n    }\n    :where(kbd):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 500;\n      font-family: inherit;\n      color: var(--tw-prose-kbd);\n      box-shadow: 0 0 0 1px rgb(var(--tw-prose-kbd-shadows) / 10%), 0 3px 0 rgb(var(--tw-prose-kbd-shadows) / 10%);\n      font-size: 0.875em;\n      border-radius: 0.3125rem;\n      padding-top: 0.1875em;\n      padding-inline-end: 0.375em;\n      padding-bottom: 0.1875em;\n      padding-inline-start: 0.375em;\n    }\n    :where(code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-code);\n      font-weight: 600;\n      font-size: 0.875em;\n    }\n    :where(code):not(:where([class~="not-prose"],[class~="not-prose"] *))::before {\n      content: "`";\n    }\n    :where(code):not(:where([class~="not-prose"],[class~="not-prose"] *))::after {\n      content: "`";\n    }\n    :where(a code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(h1 code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(h2 code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n      font-size: 0.875em;\n    }\n    :where(h3 code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n      font-size: 0.9em;\n    }\n    :where(h4 code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(blockquote code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(thead th code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(pre):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-pre-code);\n      background-color: var(--tw-prose-pre-bg);\n      overflow-x: auto;\n      font-weight: 400;\n      font-size: 0.875em;\n      line-height: 1.7142857;\n      margin-top: 1.7142857em;\n      margin-bottom: 1.7142857em;\n      border-radius: 0.375rem;\n      padding-top: 0.8571429em;\n      padding-inline-end: 1.1428571em;\n      padding-bottom: 0.8571429em;\n      padding-inline-start: 1.1428571em;\n    }\n    :where(pre code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      background-color: transparent;\n      border-width: 0;\n      border-radius: 0;\n      padding: 0;\n      font-weight: inherit;\n      color: inherit;\n      font-size: inherit;\n      font-family: inherit;\n      line-height: inherit;\n    }\n    :where(pre code):not(:where([class~="not-prose"],[class~="not-prose"] *))::before {\n      content: none;\n    }\n    :where(pre code):not(:where([class~="not-prose"],[class~="not-prose"] *))::after {\n      content: none;\n    }\n    :where(table):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      width: 100%;\n      table-layout: auto;\n      margin-top: 2em;\n      margin-bottom: 2em;\n      font-size: 0.875em;\n      line-height: 1.7142857;\n    }\n    :where(thead):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      border-bottom-width: 1px;\n      border-bottom-color: var(--tw-prose-th-borders);\n    }\n    :where(thead th):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 600;\n      vertical-align: bottom;\n      padding-inline-end: 0.5714286em;\n      padding-bottom: 0.5714286em;\n      padding-inline-start: 0.5714286em;\n    }\n    :where(tbody tr):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      border-bottom-width: 1px;\n      border-bottom-color: var(--tw-prose-td-borders);\n    }\n    :where(tbody tr:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      border-bottom-width: 0;\n    }\n    :where(tbody td):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      vertical-align: baseline;\n    }\n    :where(tfoot):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      border-top-width: 1px;\n      border-top-color: var(--tw-prose-th-borders);\n    }\n    :where(tfoot td):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      vertical-align: top;\n    }\n    :where(th, td):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      text-align: start;\n    }\n    :where(figure > *):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n    :where(figcaption):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-captions);\n      font-size: 0.875em;\n      line-height: 1.4285714;\n      margin-top: 0.8571429em;\n    }\n    --tw-prose-body: oklch(37.3% 0.034 259.733);\n    --tw-prose-headings: oklch(21% 0.034 264.665);\n    --tw-prose-lead: oklch(44.6% 0.03 256.802);\n    --tw-prose-links: oklch(21% 0.034 264.665);\n    --tw-prose-bold: oklch(21% 0.034 264.665);\n    --tw-prose-counters: oklch(55.1% 0.027 264.364);\n    --tw-prose-bullets: oklch(87.2% 0.01 258.338);\n    --tw-prose-hr: oklch(92.8% 0.006 264.531);\n    --tw-prose-quotes: oklch(21% 0.034 264.665);\n    --tw-prose-quote-borders: oklch(92.8% 0.006 264.531);\n    --tw-prose-captions: oklch(55.1% 0.027 264.364);\n    --tw-prose-kbd: oklch(21% 0.034 264.665);\n    --tw-prose-kbd-shadows: NaN NaN NaN;\n    --tw-prose-code: oklch(21% 0.034 264.665);\n    --tw-prose-pre-code: oklch(92.8% 0.006 264.531);\n    --tw-prose-pre-bg: oklch(27.8% 0.033 256.848);\n    --tw-prose-th-borders: oklch(87.2% 0.01 258.338);\n    --tw-prose-td-borders: oklch(92.8% 0.006 264.531);\n    --tw-prose-invert-body: oklch(87.2% 0.01 258.338);\n    --tw-prose-invert-headings: #fff;\n    --tw-prose-invert-lead: oklch(70.7% 0.022 261.325);\n    --tw-prose-invert-links: #fff;\n    --tw-prose-invert-bold: #fff;\n    --tw-prose-invert-counters: oklch(70.7% 0.022 261.325);\n    --tw-prose-invert-bullets: oklch(44.6% 0.03 256.802);\n    --tw-prose-invert-hr: oklch(37.3% 0.034 259.733);\n    --tw-prose-invert-quotes: oklch(96.7% 0.003 264.542);\n    --tw-prose-invert-quote-borders: oklch(37.3% 0.034 259.733);\n    --tw-prose-invert-captions: oklch(70.7% 0.022 261.325);\n    --tw-prose-invert-kbd: #fff;\n    --tw-prose-invert-kbd-shadows: 255 255 255;\n    --tw-prose-invert-code: #fff;\n    --tw-prose-invert-pre-code: oklch(87.2% 0.01 258.338);\n    --tw-prose-invert-pre-bg: rgb(0 0 0 / 50%);\n    --tw-prose-invert-th-borders: oklch(44.6% 0.03 256.802);\n    --tw-prose-invert-td-borders: oklch(37.3% 0.034 259.733);\n    font-size: 1rem;\n    line-height: 1.75;\n    :where(picture > img):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n    :where(li):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0.5em;\n      margin-bottom: 0.5em;\n    }\n    :where(ol > li):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-start: 0.375em;\n    }\n    :where(ul > li):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-start: 0.375em;\n    }\n    :where(.prose > ul > li p):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0.75em;\n      margin-bottom: 0.75em;\n    }\n    :where(.prose > ul > li > p:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 1.25em;\n    }\n    :where(.prose > ul > li > p:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-bottom: 1.25em;\n    }\n    :where(.prose > ol > li > p:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 1.25em;\n    }\n    :where(.prose > ol > li > p:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-bottom: 1.25em;\n    }\n    :where(ul ul, ul ol, ol ul, ol ol):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0.75em;\n      margin-bottom: 0.75em;\n    }\n    :where(dl):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 1.25em;\n      margin-bottom: 1.25em;\n    }\n    :where(dd):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0.5em;\n      padding-inline-start: 1.625em;\n    }\n    :where(hr + *):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n    }\n    :where(h2 + *):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n    }\n    :where(h3 + *):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n    }\n    :where(h4 + *):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n    }\n    :where(thead th:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-start: 0;\n    }\n    :where(thead th:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-end: 0;\n    }\n    :where(tbody td, tfoot td):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-top: 0.5714286em;\n      padding-inline-end: 0.5714286em;\n      padding-bottom: 0.5714286em;\n      padding-inline-start: 0.5714286em;\n    }\n    :where(tbody td:first-child, tfoot td:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-start: 0;\n    }\n    :where(tbody td:last-child, tfoot td:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-end: 0;\n    }\n    :where(figure):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 2em;\n      margin-bottom: 2em;\n    }\n    :where(.prose > :first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n    }\n    :where(.prose > :last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-bottom: 0;\n    }\n  }\n  .label {\n    display: block;\n    width: 100%;\n    & > * + * {\n      margin-top: calc(var(--spacing) * 1);\n    }\n  }\n  .-mt-px {\n    margin-top: -1px;\n  }\n  .mt-1 {\n    margin-top: calc(var(--spacing) * 1);\n  }\n  .mt-2 {\n    margin-top: calc(var(--spacing) * 2);\n  }\n  .mt-4 {\n    margin-top: calc(var(--spacing) * 4);\n  }\n  .input {\n    background-color: transparent;\n    border-radius: var(--radius-base);\n    display: block;\n    width: 100%;\n    font-size: var(--text-base);\n    line-height: var(--text-base--line-height);\n    padding-block: calc(var(--spacing) * 1);\n    padding-inline: calc(var(--spacing) * 3);\n    outline-color: transparent;\n    border-width: 0;\n    --tw-ring-inset: inset;\n    --tw-ring-color: var(--color-surface-200-800);\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 var(--default-ring-width) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    &:active {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &:focus {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &:focus-within {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &::placeholder {\n      color: var(--color-surface-700-300);\n    }\n    &[type=\'file\']::file-selector-button {\n      cursor: pointer;\n      border-radius: var(--radius-base);\n      background-color: var(--color-surface-950-50);\n      color: var(--color-surface-50-950);\n      transform: translateY(calc(var(--spacing) * -0.5));\n      margin-right: calc(var(--spacing) * 2);\n      text-transform: capitalize;\n      font-size: var(--text-xs);\n      height: var(--text-xs--line-height);\n      padding-block: calc(var(--spacing) * 0);\n      padding-inline: calc(var(--spacing) * 3);\n    }\n    &[type=\'range\'] {\n      accent-color: var(--color-surface-950-50);\n      box-shadow: none;\n    }\n    &[type=\'color\'] {\n      border-radius: var(--radius-base);\n      width: calc(var(--spacing) * 8.5);\n      height: calc(var(--spacing) * 8.5);\n      padding: 0;\n      border: none;\n      outline: none;\n      -webkit-appearance: none;\n    }\n    &[type=\'color\']::-webkit-color-swatch-wrapper {\n      padding: 0;\n    }\n    &[type=\'color\']::-webkit-color-swatch {\n      border: none;\n      border-radius: var(--radius-base);\n    }\n  }\n  .mr-0\\.5 {\n    margin-right: calc(var(--spacing) * 0.5);\n  }\n  .mr-1 {\n    margin-right: calc(var(--spacing) * 1);\n  }\n  .mr-2 {\n    margin-right: calc(var(--spacing) * 2);\n  }\n  .mr-4 {\n    margin-right: calc(var(--spacing) * 4);\n  }\n  .-mb-px {\n    margin-bottom: -1px;\n  }\n  .mb-1 {\n    margin-bottom: calc(var(--spacing) * 1);\n  }\n  .mb-2 {\n    margin-bottom: calc(var(--spacing) * 2);\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .ml-1 {\n    margin-left: calc(var(--spacing) * 1);\n  }\n  .ml-2 {\n    margin-left: calc(var(--spacing) * 2);\n  }\n  .ml-auto {\n    margin-left: auto;\n  }\n  .btn {\n    border-radius: var(--radius-base);\n    display: inline-flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: calc(var(--spacing) * 2);\n    text-decoration-line: none;\n    white-space: nowrap;\n    font-size: var(--text-base);\n    line-height: var(--text-base--line-height);\n    padding-block: calc(var(--spacing) * 1);\n    padding-inline: calc(var(--spacing) * 4);\n    transition-property: all;\n    transition-timing-function: var(--default-transition-timing-function);\n    transition-duration: var(--default-transition-duration);\n    &:hover {\n      @media (hover: hover) {\n        filter: brightness(125%);\n        &:is(.dark *) {\n          filter: brightness(75%);\n        }\n      }\n    }\n  }\n  .block {\n    display: block;\n  }\n  .contents {\n    display: contents;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline {\n    display: inline;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .table {\n    display: table;\n  }\n  .checkbox {\n    --tw-ring-color: var(--color-surface-200-800);\n    cursor: pointer;\n    background-color: var(--color-surface-300-700);\n    border-radius: var(--radius-sm);\n    height: calc(var(--spacing) * 5);\n    width: calc(var(--spacing) * 5);\n    &:focus-within {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &:hover {\n      @media (hover: hover) {\n        filter: brightness(105%);\n      }\n    }\n    &:focus {\n      filter: brightness(105%);\n    }\n    &:checked {\n      background-color: var(--color-primary-500);\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-primary-500);\n        }\n      }\n      &:focus {\n        background-color: var(--color-primary-500);\n        border: 0;\n      }\n    }\n    &:indeterminate {\n      background-color: var(--color-primary-500);\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-primary-500);\n        }\n      }\n      &:focus {\n        background-color: var(--color-primary-500);\n        border: 0;\n      }\n    }\n  }\n  .progress {\n    webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    border-radius: var(--radius-base);\n    background-color: var(--color-surface-200-800);\n    width: 100%;\n    height: calc(var(--spacing) * 2);\n    overflow: hidden;\n    &::-webkit-progress-bar {\n      background-color: var(--color-surface-200-800);\n    }\n    &::-webkit-progress-value {\n      background-color: var(--color-surface-950-50);\n    }\n    &::-moz-progress-bar {\n      background-color: var(--color-surface-950-50);\n    }\n    &:indeterminate::-moz-progress-bar {\n      width: 0;\n    }\n  }\n  .h-1\\.5 {\n    height: calc(var(--spacing) * 1.5);\n  }\n  .h-2 {\n    height: calc(var(--spacing) * 2);\n  }\n  .h-4 {\n    height: calc(var(--spacing) * 4);\n  }\n  .h-5 {\n    height: calc(var(--spacing) * 5);\n  }\n  .h-6 {\n    height: calc(var(--spacing) * 6);\n  }\n  .h-8 {\n    height: calc(var(--spacing) * 8);\n  }\n  .h-10 {\n    height: calc(var(--spacing) * 10);\n  }\n  .h-12 {\n    height: calc(var(--spacing) * 12);\n  }\n  .h-full {\n    height: 100%;\n  }\n  .h-px {\n    height: 1px;\n  }\n  .max-h-60 {\n    max-height: calc(var(--spacing) * 60);\n  }\n  .max-h-\\[80vh\\] {\n    max-height: 80vh;\n  }\n  .placeholder {\n    background-color: var(--color-surface-200-800);\n    border-radius: var(--radius-base);\n    min-height: calc(var(--spacing) * 4);\n  }\n  .min-h-0 {\n    min-height: calc(var(--spacing) * 0);\n  }\n  .min-h-\\[38px\\] {\n    min-height: 38px;\n  }\n  .w-1\\.5 {\n    width: calc(var(--spacing) * 1.5);\n  }\n  .w-4 {\n    width: calc(var(--spacing) * 4);\n  }\n  .w-5 {\n    width: calc(var(--spacing) * 5);\n  }\n  .w-8 {\n    width: calc(var(--spacing) * 8);\n  }\n  .w-10 {\n    width: calc(var(--spacing) * 10);\n  }\n  .w-11 {\n    width: calc(var(--spacing) * 11);\n  }\n  .w-12 {\n    width: calc(var(--spacing) * 12);\n  }\n  .w-40 {\n    width: calc(var(--spacing) * 40);\n  }\n  .w-48 {\n    width: calc(var(--spacing) * 48);\n  }\n  .w-80 {\n    width: calc(var(--spacing) * 80);\n  }\n  .w-full {\n    width: 100%;\n  }\n  .w-px {\n    width: 1px;\n  }\n  .max-w-2xl {\n    max-width: var(--container-2xl);\n  }\n  .max-w-\\[120px\\] {\n    max-width: 120px;\n  }\n  .max-w-lg {\n    max-width: var(--container-lg);\n  }\n  .max-w-md {\n    max-width: var(--container-md);\n  }\n  .max-w-none {\n    max-width: none;\n  }\n  .max-w-sm {\n    max-width: var(--container-sm);\n  }\n  .min-w-0 {\n    min-width: calc(var(--spacing) * 0);\n  }\n  .min-w-40 {\n    min-width: calc(var(--spacing) * 40);\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .flex-shrink {\n    flex-shrink: 1;\n  }\n  .flex-shrink-0 {\n    flex-shrink: 0;\n  }\n  .shrink {\n    flex-shrink: 1;\n  }\n  .shrink-0 {\n    flex-shrink: 0;\n  }\n  .flex-grow {\n    flex-grow: 1;\n  }\n  .grow {\n    flex-grow: 1;\n  }\n  .translate-x-0 {\n    --tw-translate-x: calc(var(--spacing) * 0);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-x-5 {\n    --tw-translate-x: calc(var(--spacing) * 5);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-x-full {\n    --tw-translate-x: 100%;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .-translate-y-1\\/2 {\n    --tw-translate-y: calc(calc(1/2 * 100%) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .transform {\n    transform: var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,);\n  }\n  .animate-spin {\n    animation: var(--animate-spin);\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .touch-none {\n    touch-action: none;\n  }\n  .resize {\n    resize: both;\n  }\n  .appearance-none {\n    appearance: none;\n  }\n  .grid-cols-1 {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .flex-row {\n    flex-direction: row;\n  }\n  .flex-wrap {\n    flex-wrap: wrap;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .items-start {\n    align-items: flex-start;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .justify-end {\n    justify-content: flex-end;\n  }\n  .justify-start {\n    justify-content: flex-start;\n  }\n  .gap-1 {\n    gap: calc(var(--spacing) * 1);\n  }\n  .gap-2 {\n    gap: calc(var(--spacing) * 2);\n  }\n  .gap-3 {\n    gap: calc(var(--spacing) * 3);\n  }\n  .gap-4 {\n    gap: calc(var(--spacing) * 4);\n  }\n  .space-y-1 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 1) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-x-1 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 1) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 2) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 4) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-auto {\n    overflow: auto;\n  }\n  .overflow-hidden {\n    overflow: hidden;\n  }\n  .pre {\n    background-color: rgba(0, 0, 0, 0.85);\n    backdrop-filter: blur(var(--blur-sm));\n    border-radius: var(--radius-container);\n    color: var(--color-white);\n    font-size: var(--text-xs);\n    white-space: pre-wrap;\n    padding: calc(var(--spacing) * 4);\n    overflow-x: auto;\n  }\n  .code {\n    &:not(pre &, .ec-line &) {\n      background-color: var(--color-primary-100-900);\n      border-radius: var(--radius-base);\n      color: var(--color-primary-contrast-50-950);\n      font-family: var(--font-mono);\n      font-size: var(--text-xs);\n      white-space: nowrap;\n      padding-inline: calc(var(--spacing) * 1.5);\n      padding-block: calc(var(--spacing) * 0.75);\n      overflow-x: auto;\n    }\n  }\n  .overflow-x-auto {\n    overflow-x: auto;\n  }\n  .overflow-y-auto {\n    overflow-y: auto;\n  }\n  .mark {\n    color: var(--color-tertiary-contrast-500);\n    background-color: var(--color-tertiary-500);\n    border-radius: var(--radius-sm);\n    padding-inline: calc(var(--spacing) * 1);\n  }\n  .rounded {\n    border-radius: 0.25rem;\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-lg {\n    border-radius: var(--radius-lg);\n  }\n  .rounded-md {\n    border-radius: var(--radius-md);\n  }\n  .rounded-none {\n    border-radius: 0;\n  }\n  .rounded-t-md {\n    border-top-left-radius: var(--radius-md);\n    border-top-right-radius: var(--radius-md);\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-2 {\n    border-style: var(--tw-border-style);\n    border-width: 2px;\n  }\n  .border-3 {\n    border-style: var(--tw-border-style);\n    border-width: 3px;\n  }\n  .border-4 {\n    border-style: var(--tw-border-style);\n    border-width: 4px;\n  }\n  .border-t {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-t-2 {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 2px;\n  }\n  .border-r {\n    border-right-style: var(--tw-border-style);\n    border-right-width: 1px;\n  }\n  .border-b {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-b-0 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 0px;\n  }\n  .border-b-2 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 2px;\n  }\n  .border-l-2 {\n    border-left-style: var(--tw-border-style);\n    border-left-width: 2px;\n  }\n  .border-l-4 {\n    border-left-style: var(--tw-border-style);\n    border-left-width: 4px;\n  }\n  .blockquote {\n    border-left-width: 3px;\n    border-left-color: var(--color-primary-500);\n    padding-left: calc(var(--spacing) * 4);\n    font-style: italic;\n  }\n  .border-blue-500 {\n    border-color: var(--color-blue-500);\n  }\n  .border-error-500 {\n    border-color: var(--color-error-500);\n  }\n  .border-green-500 {\n    border-color: var(--color-green-500);\n  }\n  .border-primary-400 {\n    border-color: var(--color-primary-400);\n  }\n  .border-primary-500 {\n    border-color: var(--color-primary-500);\n  }\n  .border-red-500 {\n    border-color: var(--color-red-500);\n  }\n  .border-surface-200 {\n    border-color: var(--color-surface-200);\n  }\n  .border-surface-300 {\n    border-color: var(--color-surface-300);\n  }\n  .border-surface-500 {\n    border-color: var(--color-surface-500);\n  }\n  .border-transparent {\n    border-color: transparent;\n  }\n  .border-white {\n    border-color: var(--color-white);\n  }\n  .border-t-transparent {\n    border-top-color: transparent;\n  }\n  .bg-black {\n    background-color: var(--color-black);\n  }\n  .bg-black\\/50 {\n    background-color: color-mix(in srgb, #000 50%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-black) 50%, transparent);\n    }\n  }\n  .bg-blue-100 {\n    background-color: var(--color-blue-100);\n  }\n  .bg-error-100 {\n    background-color: var(--color-error-100);\n  }\n  .bg-error-500 {\n    background-color: var(--color-error-500);\n  }\n  .bg-green-100 {\n    background-color: var(--color-green-100);\n  }\n  .bg-primary-100 {\n    background-color: var(--color-primary-100);\n  }\n  .bg-primary-500 {\n    background-color: var(--color-primary-500);\n  }\n  .bg-primary-600 {\n    background-color: var(--color-primary-600);\n  }\n  .bg-red-100 {\n    background-color: var(--color-red-100);\n  }\n  .bg-red-500 {\n    background-color: var(--color-red-500);\n  }\n  .bg-surface-100 {\n    background-color: var(--color-surface-100);\n  }\n  .bg-surface-200 {\n    background-color: var(--color-surface-200);\n  }\n  .bg-surface-300 {\n    background-color: var(--color-surface-300);\n  }\n  .bg-surface-900 {\n    background-color: var(--color-surface-900);\n  }\n  .bg-transparent {\n    background-color: transparent;\n  }\n  .bg-warning-500 {\n    background-color: var(--color-warning-500);\n  }\n  .bg-white {\n    background-color: var(--color-white);\n  }\n  .bg-white\\/70 {\n    background-color: color-mix(in srgb, #fff 70%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-white) 70%, transparent);\n    }\n  }\n  .bg-white\\/80 {\n    background-color: color-mix(in srgb, #fff 80%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-white) 80%, transparent);\n    }\n  }\n  .p-0\\.5 {\n    padding: calc(var(--spacing) * 0.5);\n  }\n  .p-1 {\n    padding: calc(var(--spacing) * 1);\n  }\n  .p-2 {\n    padding: calc(var(--spacing) * 2);\n  }\n  .p-3 {\n    padding: calc(var(--spacing) * 3);\n  }\n  .p-4 {\n    padding: calc(var(--spacing) * 4);\n  }\n  .px-1 {\n    padding-inline: calc(var(--spacing) * 1);\n  }\n  .px-2 {\n    padding-inline: calc(var(--spacing) * 2);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .px-6 {\n    padding-inline: calc(var(--spacing) * 6);\n  }\n  .py-0 {\n    padding-block: calc(var(--spacing) * 0);\n  }\n  .py-1 {\n    padding-block: calc(var(--spacing) * 1);\n  }\n  .py-1\\.5 {\n    padding-block: calc(var(--spacing) * 1.5);\n  }\n  .py-2 {\n    padding-block: calc(var(--spacing) * 2);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .py-4 {\n    padding-block: calc(var(--spacing) * 4);\n  }\n  .pt-1 {\n    padding-top: calc(var(--spacing) * 1);\n  }\n  .pt-2 {\n    padding-top: calc(var(--spacing) * 2);\n  }\n  .pr-2 {\n    padding-right: calc(var(--spacing) * 2);\n  }\n  .pr-3 {\n    padding-right: calc(var(--spacing) * 3);\n  }\n  .pr-7 {\n    padding-right: calc(var(--spacing) * 7);\n  }\n  .pr-8 {\n    padding-right: calc(var(--spacing) * 8);\n  }\n  .pl-2 {\n    padding-left: calc(var(--spacing) * 2);\n  }\n  .pl-3 {\n    padding-left: calc(var(--spacing) * 3);\n  }\n  .pl-8 {\n    padding-left: calc(var(--spacing) * 8);\n  }\n  .pl-10 {\n    padding-left: calc(var(--spacing) * 10);\n  }\n  .text-center {\n    text-align: center;\n  }\n  .text-left {\n    text-align: left;\n  }\n  .anchor {\n    color: var(--anchor-font-color);\n    font-family: var(--anchor-font-family);\n    font-size: var(--anchor-font-size);\n    line-height: var(--anchor-line-height);\n    font-weight: var(--anchor-font-weight);\n    font-style: var(--anchor-font-style);\n    letter-spacing: var(--anchor-letter-spacing);\n    text-decoration: var(--anchor-text-decoration);\n    &:hover {\n      @media (hover: hover) {\n        text-decoration: var(--anchor-text-decoration-hover);\n      }\n    }\n    &:active {\n      text-decoration: var(--anchor-text-decoration-active);\n    }\n    &:focus {\n      text-decoration: var(--anchor-text-decoration-focus);\n    }\n    &:is(.dark *) {\n      color: var(--anchor-font-color-dark);\n    }\n  }\n  .h2 {\n    color: var(--heading-font-color);\n    font-family: var(--heading-font-family);\n    font-weight: var(--heading-font-weight);\n    font-style: var(--heading-font-style);\n    letter-spacing: var(--heading-letter-spacing);\n    font-size: var(--text-3xl);\n    line-height: var(--text-3xl--line-height);\n    @media (width >= 48rem) {\n      font-size: var(--text-4xl);\n      line-height: var(--text-4xl--line-height);\n    }\n    &:is(.dark *) {\n      color: var(--heading-font-color-dark);\n    }\n  }\n  .h6 {\n    color: var(--heading-font-color);\n    font-family: var(--heading-font-family);\n    font-weight: var(--heading-font-weight);\n    font-style: var(--heading-font-style);\n    letter-spacing: var(--heading-letter-spacing);\n    font-size: var(--text-base);\n    line-height: var(--text-base--line-height);\n    @media (width >= 48rem) {\n      font-size: var(--text-lg);\n      line-height: var(--text-lg--line-height);\n    }\n    &:is(.dark *) {\n      color: var(--heading-font-color-dark);\n    }\n  }\n  .text-lg {\n    font-size: calc(1.125rem * var(--text-scaling));\n    line-height: var(--tw-leading, calc(calc(1.75 / 1.125) * var(--text-scaling)));\n  }\n  .text-sm {\n    font-size: calc(0.875rem * var(--text-scaling));\n    line-height: var(--tw-leading, calc(calc(1.25 / 0.875) * var(--text-scaling)));\n  }\n  .text-xs {\n    font-size: calc(0.75rem * var(--text-scaling));\n    line-height: var(--tw-leading, calc(calc(1 / 0.75) * var(--text-scaling)));\n  }\n  .font-medium {\n    --tw-font-weight: var(--font-weight-medium);\n    font-weight: var(--font-weight-medium);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .whitespace-nowrap {\n    white-space: nowrap;\n  }\n  .text-amber-500 {\n    color: var(--color-amber-500);\n  }\n  .text-blue-800 {\n    color: var(--color-blue-800);\n  }\n  .text-error-500 {\n    color: var(--color-error-500);\n  }\n  .text-error-700 {\n    color: var(--color-error-700);\n  }\n  .text-green-800 {\n    color: var(--color-green-800);\n  }\n  .text-primary-500 {\n    color: var(--color-primary-500);\n  }\n  .text-primary-600 {\n    color: var(--color-primary-600);\n  }\n  .text-primary-700 {\n    color: var(--color-primary-700);\n  }\n  .text-red-800 {\n    color: var(--color-red-800);\n  }\n  .text-secondary-500 {\n    color: var(--color-secondary-500);\n  }\n  .text-surface-400 {\n    color: var(--color-surface-400);\n  }\n  .text-surface-500 {\n    color: var(--color-surface-500);\n  }\n  .text-surface-600 {\n    color: var(--color-surface-600);\n  }\n  .text-surface-700 {\n    color: var(--color-surface-700);\n  }\n  .text-surface-800 {\n    color: var(--color-surface-800);\n  }\n  .text-surface-900 {\n    color: var(--color-surface-900);\n  }\n  .text-warning-500 {\n    color: var(--color-warning-500);\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .italic {\n    font-style: italic;\n  }\n  .opacity-0 {\n    opacity: 0%;\n  }\n  .opacity-60 {\n    opacity: 60%;\n  }\n  .opacity-70 {\n    opacity: 70%;\n  }\n  .opacity-75 {\n    opacity: 75%;\n  }\n  .opacity-100 {\n    opacity: 100%;\n  }\n  .shadow-lg {\n    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-md {\n    --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-sm {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-xl {\n    --tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 8px 10px -6px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-0 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-1 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-black {\n    --tw-ring-color: var(--color-black);\n  }\n  .outline {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .filter {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .backdrop-blur-sm {\n    --tw-backdrop-blur: blur(var(--blur-sm));\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .transition {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-all {\n    transition-property: all;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-colors {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-opacity {\n    transition-property: opacity;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-transform {\n    transition-property: transform, translate, scale, rotate;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .duration-100 {\n    --tw-duration: 100ms;\n    transition-duration: 100ms;\n  }\n  .duration-150 {\n    --tw-duration: 150ms;\n    transition-duration: 150ms;\n  }\n  .duration-200 {\n    --tw-duration: 200ms;\n    transition-duration: 200ms;\n  }\n  .duration-300 {\n    --tw-duration: 300ms;\n    transition-duration: 300ms;\n  }\n  .ease-in-out {\n    --tw-ease: var(--ease-in-out);\n    transition-timing-function: var(--ease-in-out);\n  }\n  .outline-none {\n    --tw-outline-style: none;\n    outline-style: none;\n  }\n  .select-none {\n    -webkit-user-select: none;\n    user-select: none;\n  }\n  .group-hover\\:opacity-100 {\n    &:is(:where(.group):hover *) {\n      @media (hover: hover) {\n        opacity: 100%;\n      }\n    }\n  }\n  .file\\:border-0 {\n    &::file-selector-button {\n      border-style: var(--tw-border-style);\n      border-width: 0px;\n    }\n  }\n  .file\\:bg-transparent {\n    &::file-selector-button {\n      background-color: transparent;\n    }\n  }\n  .file\\:text-sm {\n    &::file-selector-button {\n      font-size: calc(0.875rem * var(--text-scaling));\n      line-height: var(--tw-leading, calc(calc(1.25 / 0.875) * var(--text-scaling)));\n    }\n  }\n  .file\\:font-medium {\n    &::file-selector-button {\n      --tw-font-weight: var(--font-weight-medium);\n      font-weight: var(--font-weight-medium);\n    }\n  }\n  .placeholder\\:text-surface-500 {\n    &::placeholder {\n      color: var(--color-surface-500);\n    }\n  }\n  .hover\\:border-surface-400 {\n    &:hover {\n      @media (hover: hover) {\n        border-color: var(--color-surface-400);\n      }\n    }\n  }\n  .hover\\:bg-error-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-error-200);\n      }\n    }\n  }\n  .hover\\:bg-error-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-error-600);\n      }\n    }\n  }\n  .hover\\:bg-gray-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-200);\n      }\n    }\n  }\n  .hover\\:bg-primary-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-primary-600);\n      }\n    }\n  }\n  .hover\\:bg-primary-700 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-primary-700);\n      }\n    }\n  }\n  .hover\\:bg-red-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-red-600);\n      }\n    }\n  }\n  .hover\\:bg-surface-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-surface-100);\n      }\n    }\n  }\n  .hover\\:bg-surface-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-surface-200);\n      }\n    }\n  }\n  .hover\\:bg-surface-300 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-surface-300);\n      }\n    }\n  }\n  .hover\\:text-error-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-error-700);\n      }\n    }\n  }\n  .hover\\:text-surface-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-surface-600);\n      }\n    }\n  }\n  .hover\\:text-surface-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-surface-700);\n      }\n    }\n  }\n  .hover\\:text-surface-800 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-surface-800);\n      }\n    }\n  }\n  .hover\\:text-surface-900 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-surface-900);\n      }\n    }\n  }\n  .hover\\:underline {\n    &:hover {\n      @media (hover: hover) {\n        text-decoration-line: underline;\n      }\n    }\n  }\n  .focus\\:not-sr-only {\n    &:focus {\n      position: static;\n      width: auto;\n      height: auto;\n      padding: 0;\n      margin: 0;\n      overflow: visible;\n      clip: auto;\n      white-space: normal;\n    }\n  }\n  .focus\\:absolute {\n    &:focus {\n      position: absolute;\n    }\n  }\n  .focus\\:top-0 {\n    &:focus {\n      top: calc(var(--spacing) * 0);\n    }\n  }\n  .focus\\:left-0 {\n    &:focus {\n      left: calc(var(--spacing) * 0);\n    }\n  }\n  .focus\\:z-50 {\n    &:focus {\n      z-index: 50;\n    }\n  }\n  .focus\\:border-primary-500 {\n    &:focus {\n      border-color: var(--color-primary-500);\n    }\n  }\n  .focus\\:bg-primary-500 {\n    &:focus {\n      background-color: var(--color-primary-500);\n    }\n  }\n  .focus\\:p-4 {\n    &:focus {\n      padding: calc(var(--spacing) * 4);\n    }\n  }\n  .focus\\:text-white {\n    &:focus {\n      color: var(--color-white);\n    }\n  }\n  .focus\\:ring-1 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-2 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-error-500 {\n    &:focus {\n      --tw-ring-color: var(--color-error-500);\n    }\n  }\n  .focus\\:ring-primary-500 {\n    &:focus {\n      --tw-ring-color: var(--color-primary-500);\n    }\n  }\n  .focus\\:ring-offset-2 {\n    &:focus {\n      --tw-ring-offset-width: 2px;\n      --tw-ring-offset-shadow: var(--tw-ring-inset,) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n    }\n  }\n  .focus\\:outline-none {\n    &:focus {\n      --tw-outline-style: none;\n      outline-style: none;\n    }\n  }\n  .focus-visible\\:ring-2 {\n    &:focus-visible {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus-visible\\:ring-primary-500 {\n    &:focus-visible {\n      --tw-ring-color: var(--color-primary-500);\n    }\n  }\n  .focus-visible\\:ring-offset-2 {\n    &:focus-visible {\n      --tw-ring-offset-width: 2px;\n      --tw-ring-offset-shadow: var(--tw-ring-inset,) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n    }\n  }\n  .focus-visible\\:outline-none {\n    &:focus-visible {\n      --tw-outline-style: none;\n      outline-style: none;\n    }\n  }\n  .disabled\\:pointer-events-none {\n    &:disabled {\n      pointer-events: none;\n    }\n  }\n  .disabled\\:cursor-not-allowed {\n    &:disabled {\n      cursor: not-allowed;\n    }\n  }\n  .disabled\\:opacity-50 {\n    &:disabled {\n      opacity: 50%;\n    }\n  }\n  .md\\:grid-cols-2 {\n    @media (width >= 48rem) {\n      grid-template-columns: repeat(2, minmax(0, 1fr));\n    }\n  }\n  .md\\:gap-4 {\n    @media (width >= 48rem) {\n      gap: calc(var(--spacing) * 4);\n    }\n  }\n  .dark\\:border-blue-400 {\n    &:is(.dark *) {\n      border-color: var(--color-blue-400);\n    }\n  }\n  .dark\\:border-primary-400 {\n    &:is(.dark *) {\n      border-color: var(--color-primary-400);\n    }\n  }\n  .dark\\:border-primary-600 {\n    &:is(.dark *) {\n      border-color: var(--color-primary-600);\n    }\n  }\n  .dark\\:border-surface-600 {\n    &:is(.dark *) {\n      border-color: var(--color-surface-600);\n    }\n  }\n  .dark\\:border-surface-700 {\n    &:is(.dark *) {\n      border-color: var(--color-surface-700);\n    }\n  }\n  .dark\\:bg-blue-900\\/30 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(37.9% 0.146 265.522) 30%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-blue-900) 30%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-error-900 {\n    &:is(.dark *) {\n      background-color: var(--color-error-900);\n    }\n  }\n  .dark\\:bg-error-900\\/20 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(20.5% 0 0deg) 20%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-error-900) 20%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-green-900\\/30 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(39.3% 0.095 152.535) 30%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-green-900) 30%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-primary-900 {\n    &:is(.dark *) {\n      background-color: var(--color-primary-900);\n    }\n  }\n  .dark\\:bg-red-900\\/30 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(39.6% 0.141 25.723) 30%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-red-900) 30%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-surface-700 {\n    &:is(.dark *) {\n      background-color: var(--color-surface-700);\n    }\n  }\n  .dark\\:bg-surface-800 {\n    &:is(.dark *) {\n      background-color: var(--color-surface-800);\n    }\n  }\n  .dark\\:bg-surface-900 {\n    &:is(.dark *) {\n      background-color: var(--color-surface-900);\n    }\n  }\n  .dark\\:bg-surface-900\\/70 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(20.5% 0 0deg) 70%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-surface-900) 70%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-surface-900\\/80 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(20.5% 0 0deg) 80%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-surface-900) 80%, transparent);\n      }\n    }\n  }\n  .dark\\:text-blue-200 {\n    &:is(.dark *) {\n      color: var(--color-blue-200);\n    }\n  }\n  .dark\\:text-error-300 {\n    &:is(.dark *) {\n      color: var(--color-error-300);\n    }\n  }\n  .dark\\:text-green-200 {\n    &:is(.dark *) {\n      color: var(--color-green-200);\n    }\n  }\n  .dark\\:text-primary-300 {\n    &:is(.dark *) {\n      color: var(--color-primary-300);\n    }\n  }\n  .dark\\:text-primary-400 {\n    &:is(.dark *) {\n      color: var(--color-primary-400);\n    }\n  }\n  .dark\\:text-red-200 {\n    &:is(.dark *) {\n      color: var(--color-red-200);\n    }\n  }\n  .dark\\:text-secondary-400 {\n    &:is(.dark *) {\n      color: var(--color-secondary-400);\n    }\n  }\n  .dark\\:text-surface-100 {\n    &:is(.dark *) {\n      color: var(--color-surface-100);\n    }\n  }\n  .dark\\:text-surface-200 {\n    &:is(.dark *) {\n      color: var(--color-surface-200);\n    }\n  }\n  .dark\\:text-surface-300 {\n    &:is(.dark *) {\n      color: var(--color-surface-300);\n    }\n  }\n  .dark\\:text-surface-400 {\n    &:is(.dark *) {\n      color: var(--color-surface-400);\n    }\n  }\n  .dark\\:text-surface-500 {\n    &:is(.dark *) {\n      color: var(--color-surface-500);\n    }\n  }\n  .dark\\:text-surface-700 {\n    &:is(.dark *) {\n      color: var(--color-surface-700);\n    }\n  }\n  .dark\\:hover\\:border-surface-500 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          border-color: var(--color-surface-500);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:bg-error-800 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-error-800);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:bg-gray-700 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-gray-700);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:bg-surface-600 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-surface-600);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:bg-surface-700 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-surface-700);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:bg-surface-800 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-surface-800);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:text-error-400 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          color: var(--color-error-400);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:text-surface-100 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          color: var(--color-surface-100);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:text-surface-200 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          color: var(--color-surface-200);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:text-surface-300 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          color: var(--color-surface-300);\n        }\n      }\n    }\n  }\n}\n@layer base {\n  :root {\n    color-scheme: light;\n    &:is(.dark *) {\n      color-scheme: dark;\n    }\n    scrollbar-color: var(--color-surface-300-700) var(--color-surface-100-900);\n    scrollbar-width: thin;\n  }\n  html {\n    -webkit-tap-highlight-color: color-mix(in srgb, oklch(55.6% 0 0deg) 30%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      -webkit-tap-highlight-color: color-mix(in oklab, var(--color-primary-500) 30%, transparent);\n    }\n  }\n  body {\n    background-color: var(--body-background-color);\n    &:is(.dark *) {\n      background-color: var(--body-background-color-dark);\n    }\n    color: var(--base-font-color);\n    font-family: var(--base-font-family);\n    font-size: var(--base-font-size);\n    line-height: var(--base-line-height);\n    font-weight: var(--base-font-weight);\n    font-style: var(--base-font-style);\n    letter-spacing: var(--base-letter-spacing);\n    &:is(.dark *) {\n      color: var(--base-font-color-dark);\n    }\n  }\n  button:not(:disabled),\t[role=\'button\']:not(:disabled) {\n    cursor: pointer;\n  }\n  ::selection {\n    background-color: color-mix(in srgb, oklch(55.6% 0 0deg) 50%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in srgb, var(--color-primary-500) 50%, transparent);\n    }\n  }\n  *:disabled,\t.disabled {\n    opacity: 0.5;\n    & > * {\n      pointer-events: none;\n    }\n  }\n}\n@keyframes anim-progress-indeterminate {\n  from {\n    transform: translateX(-200%);\n  }\n  to {\n    transform: translateX(200%);\n  }\n}\n@keyframes anim-ring-indeterminate {\n  from {\n    stroke-dasharray: 1, 400;\n    stroke-dashoffset: 0;\n  }\n  to {\n    stroke-dasharray: 400, 400;\n    stroke-dashoffset: -140;\n  }\n}\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n::-webkit-scrollbar-track {\n  background: transparent;\n}\n::-webkit-scrollbar-thumb {\n  background-color: rgba(156, 163, 175, 0.5);\n  border-radius: 6px;\n  border: 2px solid transparent;\n  background-clip: content-box;\n}\n::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(156, 163, 175, 0.7);\n}\n* {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(156, 163, 175, 0.5) transparent;\n}\n.dark::-webkit-scrollbar-thumb {\n  background-color: rgba(75, 85, 99, 0.5);\n}\n.dark::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(75, 85, 99, 0.7);\n}\n.dark * {\n  scrollbar-color: rgba(75, 85, 99, 0.5) transparent;\n}\nhtml, body {\n  margin: 0;\n  padding: 0;\n  font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', \'Roboto\', \'Oxygen\',\n    \'Ubuntu\', \'Cantarell\', \'Fira Sans\', \'Droid Sans\', \'Helvetica Neue\',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n}\n#root {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\nmain {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n}\n.dark body {\n  background-color: var(--color-surface-900);\n  color: var(--color-surface-100);\n}\n.dark .markdown-preview {\n  background-color: var(--color-surface-800);\n  color: var(--color-surface-100);\n  border-color: var(--color-surface-700);\n}\n.dark .markdown-preview pre {\n  background-color: var(--color-surface-900);\n}\n@media (max-width: 768px) {\n  .gutter {\n    background-color: rgba(120, 120, 120, 0.2);\n  }\n  .gutter.gutter-horizontal {\n    cursor: col-resize;\n    height: 100%;\n    width: 8px !important;\n  }\n  .gutter.gutter-vertical {\n    cursor: row-resize;\n    width: 100%;\n    height: 8px !important;\n  }\n  .preview-container {\n    max-height: 100%;\n    overflow-y: auto;\n  }\n  .fixed {\n    z-index: 50;\n  }\n}\n@media (max-width: 768px) {\n  .responsive-split {\n    display: flex !important;\n    flex-direction: column !important;\n  }\n  .responsive-split > .gutter {\n    width: 100% !important;\n    height: 8px !important;\n    cursor: row-resize !important;\n  }\n  .responsive-split-vertical {\n    flex-direction: column !important;\n  }\n  .responsive-split-vertical > .gutter {\n    width: 100% !important;\n    height: 8px !important;\n  }\n}\n.sidebar-mobile {\n  overflow-y: auto !important;\n  max-height: 100vh;\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n:focus-visible {\n  outline: 2px solid #0ea5e9;\n  outline-offset: 2px;\n}\n@media (forced-colors: active) {\n  * {\n    border-color: currentColor;\n  }\n  button, \n  a, \n  .gutter {\n    forced-color-adjust: none;\n  }\n  :focus {\n    outline: 2px solid transparent;\n    outline-offset: 2px;\n  }\n}\n@media (prefers-reduced-motion: reduce) {\n  *, *::before, *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n    scroll-behavior: auto !important;\n  }\n}\n[tabindex]:not([tabindex="-1"]):focus,\na:focus,\nbutton:focus,\ninput:focus,\nselect:focus,\ntextarea:focus {\n  outline: 2px solid #0ea5e9;\n  outline-offset: 2px;\n}\n.skip-to-content {\n  background: #0ea5e9;\n  color: white;\n  font-weight: bold;\n  left: 50%;\n  padding: 8px;\n  position: absolute;\n  transform: translateY(-100%);\n  transition: transform 0.3s;\n  z-index: 100;\n}\n.skip-to-content:focus {\n  transform: translateY(0%);\n}\nbody.modal-open {\n  overflow: hidden;\n}\n.editor-tabs button:focus,\n.workspace-state-tabs button:focus {\n  outline: none;\n}\n@property --tw-translate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-rotate-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-rotate-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-rotate-z {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-skew-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-skew-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-space-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-space-x-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-border-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-font-weight {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-inset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: "<length>";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: "*";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-outline-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-drop-shadow-size {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ease {\n  syntax: "*";\n  inherits: false;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n@layer properties {\n  @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))) {\n    *, ::before, ::after, ::backdrop {\n      --tw-translate-x: 0;\n      --tw-translate-y: 0;\n      --tw-translate-z: 0;\n      --tw-rotate-x: initial;\n      --tw-rotate-y: initial;\n      --tw-rotate-z: initial;\n      --tw-skew-x: initial;\n      --tw-skew-y: initial;\n      --tw-space-y-reverse: 0;\n      --tw-space-x-reverse: 0;\n      --tw-border-style: solid;\n      --tw-font-weight: initial;\n      --tw-shadow: 0 0 #0000;\n      --tw-shadow-color: initial;\n      --tw-shadow-alpha: 100%;\n      --tw-inset-shadow: 0 0 #0000;\n      --tw-inset-shadow-color: initial;\n      --tw-inset-shadow-alpha: 100%;\n      --tw-ring-color: initial;\n      --tw-ring-shadow: 0 0 #0000;\n      --tw-inset-ring-color: initial;\n      --tw-inset-ring-shadow: 0 0 #0000;\n      --tw-ring-inset: initial;\n      --tw-ring-offset-width: 0px;\n      --tw-ring-offset-color: #fff;\n      --tw-ring-offset-shadow: 0 0 #0000;\n      --tw-outline-style: solid;\n      --tw-blur: initial;\n      --tw-brightness: initial;\n      --tw-contrast: initial;\n      --tw-grayscale: initial;\n      --tw-hue-rotate: initial;\n      --tw-invert: initial;\n      --tw-opacity: initial;\n      --tw-saturate: initial;\n      --tw-sepia: initial;\n      --tw-drop-shadow: initial;\n      --tw-drop-shadow-color: initial;\n      --tw-drop-shadow-alpha: 100%;\n      --tw-drop-shadow-size: initial;\n      --tw-backdrop-blur: initial;\n      --tw-backdrop-brightness: initial;\n      --tw-backdrop-contrast: initial;\n      --tw-backdrop-grayscale: initial;\n      --tw-backdrop-hue-rotate: initial;\n      --tw-backdrop-invert: initial;\n      --tw-backdrop-opacity: initial;\n      --tw-backdrop-saturate: initial;\n      --tw-backdrop-sepia: initial;\n      --tw-duration: initial;\n      --tw-ease: initial;\n    }\n  }\n} ',"",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA,gEAwPoC;AAxPpC,iBAwPoC;AAxPpC,yCAwPoC;AAxPpC;EAAA;IAAA;6DAwPoC;IAxPpC;8BAwPoC;IAxPpC,0CAwPoC;IAxPpC,0CAwPoC;IAxPpC,0CAwPoC;IAxPpC,0CAwPoC;IAxPpC,0CAwPoC;IAxPpC,0CAwPoC;IAxPpC,2CAwPoC;IAxPpC,6CAwPoC;IAxPpC,6CAwPoC;IAxPpC,6CAwPoC;IAxPpC,6CAwPoC;IAxPpC,6CAwPoC;IAxPpC,4CAwPoC;IAxPpC,4CAwPoC;IAxPpC,4CAwPoC;IAxPpC,4CAwPoC;IAxPpC,4CAwPoC;IAxPpC,4CAwPoC;IAxPpC,4CAwPoC;IAxPpC,4CAwPoC;IAxPpC,mBAwPoC;IAxPpC,mBAwPoC;IAxPpC,kBAwPoC;IAxPpC,qBAwPoC;IAxPpC,qBAwPoC;IAxPpC,qBAwPoC;IAxPpC,sBAwPoC;IAxPpC,8CAwPoC;IAxPpC,kEAwPoC;IAxPpC,+CAwPoC;IAxPpC,sEAwPoC;IAxPpC,6CAwPoC;IAxPpC,mEAwPoC;IAxPpC,+CAwPoC;IAxPpC,sEAwPoC;IAxPpC,gDAwPoC;IAxPpC,uEAwPoC;IAxPpC,+CAwPoC;IAxPpC,qEAwPoC;IAxPpC,yBAwPoC;IAxPpC,2BAwPoC;IAxPpC,oBAwPoC;IAxPpC,qBAwPoC;IAxPpC,mBAwPoC;IAxPpC,2CAwPoC;IAxPpC,uCAwPoC;IAxPpC,cAwPoC;IAxPpC,oCAwPoC;IAxPpC,kEAwPoC;IAxPpC,uCAwPoC;IAxPpC,4CAwPoC;IAxPpC,iBAwPoC;IAxPpC,0BAwPoC;IAxPpC,+BAwPoC;IAxPpC,2BAwPoC;IAxPpC,yBAwPoC;IAxPpC,2BAwPoC;IAxPpC,2BAwPoC;IAxPpC,0BAwPoC;IAxPpC,8BAwPoC;IAxPpC,6BAwPoC;IAxPpC,kCAwPoC;IAxPpC,8BAwPoC;IAxPpC,8BAwPoC;IAxPpC,6BAwPoC;IAxPpC,iCAwPoC;IAxPpC,4BAwPoC;IAxPpC,iCAwPoC;IAxPpC,6BAwPoC;IAxPpC,2BAwPoC;IAxPpC,6BAwPoC;IAxPpC,6BAwPoC;IAxPpC,4BAwPoC;IAxPpC,gCAwPoC;IAxPpC,iCAwPoC;IAxPpC,yCAwPoC;IAxPpC,wCAwPoC;IAxPpC,uCAwPoC;IAxPpC,sBAwPoC;IAxPpC,2BAwPoC;IAxPpC,yBAwPoC;IAxPpC,uCAwPoC;IAxPpC,sCAwPoC;IAxPpC,sCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,uDAwPoC;IAxPpC,uDAwPoC;IAxPpC,+DAwPoC;IAxPpC,iEAwPoC;IAxPpC,yCAwPoC;IAxPpC,0CAwPoC;IAxPpC,0CAwPoC;IAxPpC,2DAwPoC;IAxPpC,wCAwPoC;IAxPpC,yCAwPoC;IAxPpC,yDAwPoC;IAxPpC,mEAwPoC;IAxPpC,uCAwPoC;IAxPpC,uDAwPoC;IAxPpC,uCAwPoC;IAxPpC,wCAwPoC;IAxPpC,uDAwPoC;IAxPpC,qCAwPoC;IAxPpC,oCAwPoC;IAxPpC,sCAwPoC;IAxPpC,oCAwPoC;IAxPpC,sCAwPoC;IAxPpC,sCAwPoC;IAxPpC,sCAwPoC;IAxPpC,sCAwPoC;IAxPpC,sCAwPoC;IAxPpC,sCAwPoC;IAxPpC,mDAwPoC;IAxPpC,uCAwPoC;IAxPpC,sCAwPoC;IAxPpC,wCAwPoC;IAxPpC,sCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wCAwPoC;IAxPpC,uDAwPoC;IAxPpC,gDAwPoC;IAxPpC,sDAwPoC;IAxPpC;;;GAwPoC;IAxPpC,uFAwPoC;IAxPpC,qFAwPoC;IAxPpC,uFAwPoC;IAxPpC,uFAwPoC;IAxPpC,uFAwPoC;IAxPpC,uFAwPoC;IAxPpC,uFAwPoC;IAxPpC,qFAwPoC;EAAA;AAAA;AAxPpC;EAAA;IAAA,sBAwPoC;IAxPpC,SAwPoC;IAxPpC,UAwPoC;IAxPpC,eAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;IAxPpC,8BAwPoC;IAxPpC,WAwPoC;IAxPpC,2JAwPoC;IAxPpC,mEAwPoC;IAxPpC,uEAwPoC;IAxPpC,wCAwPoC;EAAA;EAxPpC;IAAA,SAwPoC;IAxPpC,cAwPoC;IAxPpC,qBAwPoC;EAAA;EAxPpC;IAAA,yCAwPoC;IAxPpC,iCAwPoC;EAAA;EAxPpC;IAAA,kBAwPoC;IAxPpC,oBAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;IAxPpC,gCAwPoC;IAxPpC,wBAwPoC;EAAA;EAxPpC;IAAA,mBAwPoC;EAAA;EAxPpC;IAAA,gJAwPoC;IAxPpC,wEAwPoC;IAxPpC,4EAwPoC;IAxPpC,cAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;IAxPpC,cAwPoC;IAxPpC,kBAwPoC;IAxPpC,wBAwPoC;EAAA;EAxPpC;IAAA,eAwPoC;EAAA;EAxPpC;IAAA,WAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;IAxPpC,qBAwPoC;IAxPpC,yBAwPoC;EAAA;EAxPpC;IAAA,aAwPoC;EAAA;EAxPpC;IAAA,wBAwPoC;EAAA;EAxPpC;IAAA,kBAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;IAxPpC,sBAwPoC;EAAA;EAxPpC;IAAA,eAwPoC;IAxPpC,YAwPoC;EAAA;EAxPpC;IAAA,aAwPoC;IAxPpC,8BAwPoC;IAxPpC,gCAwPoC;IAxPpC,uBAwPoC;IAxPpC,cAwPoC;IAxPpC,gBAwPoC;IAxPpC,6BAwPoC;IAxPpC,UAwPoC;EAAA;EAxPpC;IAAA,mBAwPoC;EAAA;EAxPpC;IAAA,0BAwPoC;EAAA;EAxPpC;IAAA,sBAwPoC;EAAA;EAxPpC;IAAA,UAwPoC;EAAA;EAxPpC;IAAA;MAAA,mBAwPoC;MAxPpC;QAAA,yDAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,wBAwPoC;EAAA;EAxPpC;IAAA,eAwPoC;IAxPpC,mBAwPoC;EAAA;EAxPpC;IAAA,oBAwPoC;EAAA;EAxPpC;IAAA,UAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,kBAwPoC;EAAA;EAxPpC;IAAA,YAwPoC;EAAA;EAxPpC;IAAA,wBAwPoC;EAAA;AAAA;AAxPpC;EAAA;IAAA,oBAwPoC;EAAA;EAxPpC;IAAA,oBAwPoC;EAAA;EAxPpC;IAAA,mBAwPoC;EAAA;EAxPpC;IAAA,kBAwPoC;IAxPpC,UAwPoC;IAxPpC,WAwPoC;IAxPpC,UAwPoC;IAxPpC,YAwPoC;IAxPpC,gBAwPoC;IAxPpC,sBAwPoC;IAxPpC,mBAwPoC;IAxPpC,eAwPoC;EAAA;EAxPpC;IAAA,yBAwPoC;IAxPpC,wCAwPoC;IAxPpC,kBAwPoC;IAxPpC,WAwPoC;IAxPpC;MAAA,mCAwPoC;MAxPpC,wBAwPoC;MAxPpC,0CAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;MAxPpC,gBAwPoC;IAAA;IAxPpC;MAAA;QAAA,0CAwPoC;MAAA;MAxPpC;QAAA,qBAwPoC;QAxPpC,wBAwPoC;MAAA;IAAA;IAxPpC;MAAA,qBAwPoC;MAxPpC,0CAwPoC;MAxPpC,8CAwPoC;IAAA;IAxPpC;MAAA,iCAwPoC;IAAA;IAxPpC;MAAA,iCAwPoC;IAAA;IAxPpC;MAAA,mCAwPoC;MAxPpC,yBAwPoC;MAxPpC,wCAwPoC;IAAA;EAAA;EAxPpC;IAAA,kBAwPoC;EAAA;EAxPpC;IAAA,eAwPoC;EAAA;EAxPpC;IAAA,kBAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,qCAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,qBAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,8BAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,UAwPoC;EAAA;EAxPpC;IAAA,WAwPoC;EAAA;EAxPpC;IAAA,WAwPoC;EAAA;EAxPpC;IAAA,WAwPoC;IAxPpC;MAAA,gBAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;IAAA;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;IAxPpC,iCAwPoC;IAxPpC,cAwPoC;IAxPpC,WAwPoC;IAxPpC,2BAwPoC;IAxPpC,0CAwPoC;IAxPpC,uCAwPoC;IAxPpC,0BAwPoC;IAxPpC,eAwPoC;IAxPpC,sBAwPoC;IAxPpC,6CAwPoC;IAxPpC,0GAwPoC;IAxPpC,sIAwPoC;IAxPpC;MAAA,yCAwPoC;IAAA;IAxPpC;MAAA,yCAwPoC;IAAA;IAxPpC;MAAA,yCAwPoC;IAAA;IAxPpC;MAAA,oCAwPoC;IAAA;IAxPpC;MAAA,sCAwPoC;MAxPpC,iCAwPoC;MAxPpC;QAAA,6BAwPoC;MAAA;IAAA;IAxPpC;MAAA,sCAwPoC;MAxPpC,iCAwPoC;MAxPpC;QAAA,6BAwPoC;MAAA;IAAA;IAxPpC;MAAA,6CAwPoC;MAxPpC,kCAwPoC;IAAA;IAxPpC;MAAA,oCAwPoC;IAAA;IAxPpC;MAAA,oCAwPoC;IAAA;IAxPpC;MAAA,kDAwPoC;IAAA;IAxPpC;MAAA,6CAwPoC;MAxPpC,kCAwPoC;MAxPpC,iCAwPoC;MAxPpC,2BAwPoC;MAxPpC,qCAwPoC;MAxPpC,gCAwPoC;MAxPpC,iCAwPoC;IAAA;EAAA;EAxPpC;IAAA,2BAwPoC;IAxPpC,eAwPoC;IAxPpC;MAAA,kBAwPoC;MAxPpC,qBAwPoC;IAAA;IAxPpC;MAAA,2BAwPoC;MAxPpC,iBAwPoC;MAxPpC,gBAwPoC;MAxPpC,iBAwPoC;MAxPpC,oBAwPoC;IAAA;IAxPpC;MAAA,4BAwPoC;MAxPpC,0BAwPoC;MAxPpC,gBAwPoC;IAAA;IAxPpC;MAAA,2BAwPoC;MAxPpC,gBAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;IAAA;IAxPpC;MAAA,wBAwPoC;MAxPpC,kBAwPoC;MAxPpC,qBAwPoC;MAxPpC,6BAwPoC;IAAA;IAxPpC;MAAA,4BAwPoC;IAAA;IAxPpC;MAAA,4BAwPoC;IAAA;IAxPpC;MAAA,4BAwPoC;IAAA;IAxPpC;MAAA,4BAwPoC;IAAA;IAxPpC;MAAA,4BAwPoC;IAAA;IAxPpC;MAAA,4BAwPoC;IAAA;IAxPpC;MAAA,4BAwPoC;IAAA;IAxPpC;MAAA,4BAwPoC;IAAA;IAxPpC;MAAA,wBAwPoC;IAAA;IAxPpC;MAAA,qBAwPoC;MAxPpC,kBAwPoC;MAxPpC,qBAwPoC;MAxPpC,6BAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;MAxPpC,+BAwPoC;IAAA;IAxPpC;MAAA,8BAwPoC;IAAA;IAxPpC;MAAA,+BAwPoC;MAxPpC,gBAwPoC;MAxPpC,kBAwPoC;IAAA;IAxPpC;MAAA,gCAwPoC;MAxPpC,mBAwPoC;MAxPpC,eAwPoC;MAxPpC,kBAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;MAxPpC,kBAwPoC;MAxPpC,6BAwPoC;MAxPpC,kCAwPoC;MAxPpC,wDAwPoC;MAxPpC,oCAwPoC;MAxPpC,iBAwPoC;MAxPpC,oBAwPoC;MAxPpC,yBAwPoC;IAAA;IAxPpC;MAAA,mBAwPoC;IAAA;IAxPpC;MAAA,oBAwPoC;IAAA;IAxPpC;MAAA,+BAwPoC;MAxPpC,gBAwPoC;MAxPpC,iBAwPoC;MAxPpC,aAwPoC;MAxPpC,0BAwPoC;MAxPpC,sBAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;MAxPpC,cAwPoC;IAAA;IAxPpC;MAAA,+BAwPoC;MAxPpC,gBAwPoC;MAxPpC,gBAwPoC;MAxPpC,eAwPoC;MAxPpC,kBAwPoC;MAxPpC,sBAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;MAxPpC,cAwPoC;IAAA;IAxPpC;MAAA,+BAwPoC;MAxPpC,gBAwPoC;MAxPpC,iBAwPoC;MAxPpC,iBAwPoC;MAxPpC,oBAwPoC;MAxPpC,gBAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;MAxPpC,cAwPoC;IAAA;IAxPpC;MAAA,+BAwPoC;MAxPpC,gBAwPoC;MAxPpC,iBAwPoC;MAxPpC,oBAwPoC;MAxPpC,gBAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;MAxPpC,cAwPoC;IAAA;IAxPpC;MAAA,eAwPoC;MAxPpC,kBAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;MAxPpC,eAwPoC;MAxPpC,kBAwPoC;IAAA;IAxPpC;MAAA,eAwPoC;MAxPpC,kBAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;MAxPpC,oBAwPoC;MAxPpC,0BAwPoC;MAxPpC,4GAwPoC;MAxPpC,kBAwPoC;MAxPpC,wBAwPoC;MAxPpC,qBAwPoC;MAxPpC,2BAwPoC;MAxPpC,wBAwPoC;MAxPpC,6BAwPoC;IAAA;IAxPpC;MAAA,2BAwPoC;MAxPpC,gBAwPoC;MAxPpC,kBAwPoC;IAAA;IAxPpC;MAAA,YAwPoC;IAAA;IAxPpC;MAAA,YAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;MAxPpC,kBAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;MAxPpC,gBAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;IAAA;IAxPpC;MAAA,cAwPoC;IAAA;IAxPpC;MAAA,+BAwPoC;MAxPpC,wCAwPoC;MAxPpC,gBAwPoC;MAxPpC,gBAwPoC;MAxPpC,kBAwPoC;MAxPpC,sBAwPoC;MAxPpC,uBAwPoC;MAxPpC,0BAwPoC;MAxPpC,uBAwPoC;MAxPpC,wBAwPoC;MAxPpC,+BAwPoC;MAxPpC,2BAwPoC;MAxPpC,iCAwPoC;IAAA;IAxPpC;MAAA,6BAwPoC;MAxPpC,eAwPoC;MAxPpC,gBAwPoC;MAxPpC,UAwPoC;MAxPpC,oBAwPoC;MAxPpC,cAwPoC;MAxPpC,kBAwPoC;MAxPpC,oBAwPoC;MAxPpC,oBAwPoC;IAAA;IAxPpC;MAAA,aAwPoC;IAAA;IAxPpC;MAAA,aAwPoC;IAAA;IAxPpC;MAAA,WAwPoC;MAxPpC,kBAwPoC;MAxPpC,eAwPoC;MAxPpC,kBAwPoC;MAxPpC,kBAwPoC;MAxPpC,sBAwPoC;IAAA;IAxPpC;MAAA,wBAwPoC;MAxPpC,+CAwPoC;IAAA;IAxPpC;MAAA,+BAwPoC;MAxPpC,gBAwPoC;MAxPpC,sBAwPoC;MAxPpC,+BAwPoC;MAxPpC,2BAwPoC;MAxPpC,iCAwPoC;IAAA;IAxPpC;MAAA,wBAwPoC;MAxPpC,+CAwPoC;IAAA;IAxPpC;MAAA,sBAwPoC;IAAA;IAxPpC;MAAA,wBAwPoC;IAAA;IAxPpC;MAAA,qBAwPoC;MAxPpC,4CAwPoC;IAAA;IAxPpC;MAAA,mBAwPoC;IAAA;IAxPpC;MAAA,iBAwPoC;IAAA;IAxPpC;MAAA,aAwPoC;MAxPpC,gBAwPoC;IAAA;IAxPpC;MAAA,+BAwPoC;MAxPpC,kBAwPoC;MAxPpC,sBAwPoC;MAxPpC,uBAwPoC;IAAA;IAxPpC,2CAwPoC;IAxPpC,6CAwPoC;IAxPpC,0CAwPoC;IAxPpC,0CAwPoC;IAxPpC,yCAwPoC;IAxPpC,+CAwPoC;IAxPpC,6CAwPoC;IAxPpC,yCAwPoC;IAxPpC,2CAwPoC;IAxPpC,oDAwPoC;IAxPpC,+CAwPoC;IAxPpC,wCAwPoC;IAxPpC,mCAwPoC;IAxPpC,yCAwPoC;IAxPpC,+CAwPoC;IAxPpC,6CAwPoC;IAxPpC,gDAwPoC;IAxPpC,iDAwPoC;IAxPpC,iDAwPoC;IAxPpC,gCAwPoC;IAxPpC,kDAwPoC;IAxPpC,6BAwPoC;IAxPpC,4BAwPoC;IAxPpC,sDAwPoC;IAxPpC,oDAwPoC;IAxPpC,gDAwPoC;IAxPpC,oDAwPoC;IAxPpC,2DAwPoC;IAxPpC,sDAwPoC;IAxPpC,2BAwPoC;IAxPpC,0CAwPoC;IAxPpC,4BAwPoC;IAxPpC,qDAwPoC;IAxPpC,0CAwPoC;IAxPpC,uDAwPoC;IAxPpC,wDAwPoC;IAxPpC,eAwPoC;IAxPpC,iBAwPoC;IAxPpC;MAAA,aAwPoC;MAxPpC,gBAwPoC;IAAA;IAxPpC;MAAA,iBAwPoC;MAxPpC,oBAwPoC;IAAA;IAxPpC;MAAA,6BAwPoC;IAAA;IAxPpC;MAAA,6BAwPoC;IAAA;IAxPpC;MAAA,kBAwPoC;MAxPpC,qBAwPoC;IAAA;IAxPpC;MAAA,kBAwPoC;IAAA;IAxPpC;MAAA,qBAwPoC;IAAA;IAxPpC;MAAA,kBAwPoC;IAAA;IAxPpC;MAAA,qBAwPoC;IAAA;IAxPpC;MAAA,kBAwPoC;MAxPpC,qBAwPoC;IAAA;IAxPpC;MAAA,kBAwPoC;MAxPpC,qBAwPoC;IAAA;IAxPpC;MAAA,iBAwPoC;MAxPpC,6BAwPoC;IAAA;IAxPpC;MAAA,aAwPoC;IAAA;IAxPpC;MAAA,aAwPoC;IAAA;IAxPpC;MAAA,aAwPoC;IAAA;IAxPpC;MAAA,aAwPoC;IAAA;IAxPpC;MAAA,uBAwPoC;IAAA;IAxPpC;MAAA,qBAwPoC;IAAA;IAxPpC;MAAA,wBAwPoC;MAxPpC,+BAwPoC;MAxPpC,2BAwPoC;MAxPpC,iCAwPoC;IAAA;IAxPpC;MAAA,uBAwPoC;IAAA;IAxPpC;MAAA,qBAwPoC;IAAA;IAxPpC;MAAA,eAwPoC;MAxPpC,kBAwPoC;IAAA;IAxPpC;MAAA,aAwPoC;IAAA;IAxPpC;MAAA,gBAwPoC;IAAA;EAAA;EAxPpC;IAAA,cAwPoC;IAxPpC,WAwPoC;IAxPpC;MAAA,oCAwPoC;IAAA;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;IAxPpC,iCAwPoC;IAxPpC,cAwPoC;IAxPpC,WAwPoC;IAxPpC,2BAwPoC;IAxPpC,0CAwPoC;IAxPpC,uCAwPoC;IAxPpC,wCAwPoC;IAxPpC,0BAwPoC;IAxPpC,eAwPoC;IAxPpC,sBAwPoC;IAxPpC,6CAwPoC;IAxPpC,0GAwPoC;IAxPpC,sIAwPoC;IAxPpC;MAAA,yCAwPoC;IAAA;IAxPpC;MAAA,yCAwPoC;IAAA;IAxPpC;MAAA,yCAwPoC;IAAA;IAxPpC;MAAA,mCAwPoC;IAAA;IAxPpC;MAAA,eAwPoC;MAxPpC,iCAwPoC;MAxPpC,6CAwPoC;MAxPpC,kCAwPoC;MAxPpC,kDAwPoC;MAxPpC,sCAwPoC;MAxPpC,0BAwPoC;MAxPpC,yBAwPoC;MAxPpC,mCAwPoC;MAxPpC,uCAwPoC;MAxPpC,wCAwPoC;IAAA;IAxPpC;MAAA,yCAwPoC;MAxPpC,gBAwPoC;IAAA;IAxPpC;MAAA,iCAwPoC;MAxPpC,iCAwPoC;MAxPpC,kCAwPoC;MAxPpC,UAwPoC;MAxPpC,YAwPoC;MAxPpC,aAwPoC;MAxPpC,wBAwPoC;IAAA;IAxPpC;MAAA,UAwPoC;IAAA;IAxPpC;MAAA,YAwPoC;MAxPpC,iCAwPoC;IAAA;EAAA;EAxPpC;IAAA,wCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,mBAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,qCAwPoC;EAAA;EAxPpC;IAAA,qCAwPoC;EAAA;EAxPpC;IAAA,iBAwPoC;EAAA;EAxPpC;IAAA,iCAwPoC;IAxPpC,oBAwPoC;IAxPpC,mBAwPoC;IAxPpC,mBAwPoC;IAxPpC,uBAwPoC;IAxPpC,6BAwPoC;IAxPpC,0BAwPoC;IAxPpC,mBAwPoC;IAxPpC,2BAwPoC;IAxPpC,0CAwPoC;IAxPpC,uCAwPoC;IAxPpC,wCAwPoC;IAxPpC,wBAwPoC;IAxPpC,qEAwPoC;IAxPpC,uDAwPoC;IAxPpC;MAAA;QAAA,wBAwPoC;QAxPpC;UAAA,uBAwPoC;QAAA;MAAA;IAAA;EAAA;EAxPpC;IAAA,cAwPoC;EAAA;EAxPpC;IAAA,iBAwPoC;EAAA;EAxPpC;IAAA,aAwPoC;EAAA;EAxPpC;IAAA,aAwPoC;EAAA;EAxPpC;IAAA,aAwPoC;EAAA;EAxPpC;IAAA,eAwPoC;EAAA;EAxPpC;IAAA,oBAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;EAAA;EAxPpC;IAAA,6CAwPoC;IAxPpC,eAwPoC;IAxPpC,8CAwPoC;IAxPpC,+BAwPoC;IAxPpC,gCAwPoC;IAxPpC,+BAwPoC;IAxPpC;MAAA,yCAwPoC;IAAA;IAxPpC;MAAA;QAAA,wBAwPoC;MAAA;IAAA;IAxPpC;MAAA,wBAwPoC;IAAA;IAxPpC;MAAA,0CAwPoC;MAxPpC;QAAA;UAAA,0CAwPoC;QAAA;MAAA;MAxPpC;QAAA,0CAwPoC;QAxPpC,SAwPoC;MAAA;IAAA;IAxPpC;MAAA,0CAwPoC;MAxPpC;QAAA;UAAA,0CAwPoC;QAAA;MAAA;MAxPpC;QAAA,0CAwPoC;QAxPpC,SAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA,uBAwPoC;IAxPpC,qBAwPoC;IAxPpC,gBAwPoC;IAxPpC,iCAwPoC;IAxPpC,8CAwPoC;IAxPpC,WAwPoC;IAxPpC,gCAwPoC;IAxPpC,gBAwPoC;IAxPpC;MAAA,8CAwPoC;IAAA;IAxPpC;MAAA,6CAwPoC;IAAA;IAxPpC;MAAA,6CAwPoC;IAAA;IAxPpC;MAAA,QAwPoC;IAAA;EAAA;EAxPpC;IAAA,kCAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,iCAwPoC;EAAA;EAxPpC;IAAA,iCAwPoC;EAAA;EAxPpC;IAAA,YAwPoC;EAAA;EAxPpC;IAAA,WAwPoC;EAAA;EAxPpC;IAAA,qCAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,8CAwPoC;IAxPpC,iCAwPoC;IAxPpC,oCAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,iCAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,WAwPoC;EAAA;EAxPpC;IAAA,UAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,8BAwPoC;EAAA;EAxPpC;IAAA,8BAwPoC;EAAA;EAxPpC;IAAA,eAwPoC;EAAA;EAxPpC;IAAA,8BAwPoC;EAAA;EAxPpC;IAAA,mCAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;EAAA;EAxPpC;IAAA,OAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;EAAA;EAxPpC;IAAA,YAwPoC;EAAA;EAxPpC;IAAA,YAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;IAxPpC,sDAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;IAxPpC,sDAwPoC;EAAA;EAxPpC;IAAA,sBAwPoC;IAxPpC,sDAwPoC;EAAA;EAxPpC;IAAA,6CAwPoC;IAxPpC,sDAwPoC;EAAA;EAxPpC;IAAA,0GAwPoC;EAAA;EAxPpC;IAAA,8BAwPoC;EAAA;EAxPpC;IAAA,eAwPoC;EAAA;EAxPpC;IAAA,kBAwPoC;EAAA;EAxPpC;IAAA,YAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,gDAwPoC;EAAA;EAxPpC;IAAA,sBAwPoC;EAAA;EAxPpC;IAAA,mBAwPoC;EAAA;EAxPpC;IAAA,eAwPoC;EAAA;EAxPpC;IAAA,mBAwPoC;EAAA;EAxPpC;IAAA,uBAwPoC;EAAA;EAxPpC;IAAA,8BAwPoC;EAAA;EAxPpC;IAAA,uBAwPoC;EAAA;EAxPpC;IAAA,yBAwPoC;EAAA;EAxPpC;IAAA,2BAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA;MAAA,uBAwPoC;MAxPpC,8EAwPoC;MAxPpC,sFAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,uBAwPoC;MAxPpC,8EAwPoC;MAxPpC,sFAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,uBAwPoC;MAxPpC,8EAwPoC;MAxPpC,sFAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,uBAwPoC;MAxPpC,8EAwPoC;MAxPpC,sFAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,uBAwPoC;MAxPpC,+EAwPoC;MAxPpC,uFAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,uBAwPoC;MAxPpC,+EAwPoC;MAxPpC,uFAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,uBAwPoC;MAxPpC,+EAwPoC;MAxPpC,uFAwPoC;IAAA;EAAA;EAxPpC;IAAA,gBAwPoC;IAxPpC,uBAwPoC;IAxPpC,mBAwPoC;EAAA;EAxPpC;IAAA,cAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,qCAwPoC;IAxPpC,qCAwPoC;IAxPpC,sCAwPoC;IAxPpC,yBAwPoC;IAxPpC,yBAwPoC;IAxPpC,qBAwPoC;IAxPpC,iCAwPoC;IAxPpC,gBAwPoC;EAAA;EAxPpC;IAAA;MAAA,8CAwPoC;MAxPpC,iCAwPoC;MAxPpC,2CAwPoC;MAxPpC,6BAwPoC;MAxPpC,yBAwPoC;MAxPpC,mBAwPoC;MAxPpC,0CAwPoC;MAxPpC,0CAwPoC;MAxPpC,gBAwPoC;IAAA;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,yCAwPoC;IAxPpC,2CAwPoC;IAxPpC,+BAwPoC;IAxPpC,wCAwPoC;EAAA;EAxPpC;IAAA,sBAwPoC;EAAA;EAxPpC;IAAA,mCAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;IAxPpC,yCAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;IAxPpC,iBAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;IAxPpC,iBAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;IAxPpC,iBAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;IAxPpC,iBAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;IAxPpC,qBAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;IAxPpC,qBAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;IAxPpC,uBAwPoC;EAAA;EAxPpC;IAAA,2CAwPoC;IAxPpC,wBAwPoC;EAAA;EAxPpC;IAAA,2CAwPoC;IAxPpC,wBAwPoC;EAAA;EAxPpC;IAAA,2CAwPoC;IAxPpC,wBAwPoC;EAAA;EAxPpC;IAAA,yCAwPoC;IAxPpC,sBAwPoC;EAAA;EAxPpC;IAAA,yCAwPoC;IAxPpC,sBAwPoC;EAAA;EAxPpC;IAAA,sBAwPoC;IAxPpC,2CAwPoC;IAxPpC,sCAwPoC;IAxPpC,kBAwPoC;EAAA;EAxPpC;IAAA,mCAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,kCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,yBAwPoC;EAAA;EAxPpC;IAAA,gCAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;EAAA;EAxPpC;IAAA,2DAwPoC;IAxPpC;MAAA,0EAwPoC;IAAA;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,0CAwPoC;EAAA;EAxPpC;IAAA,oCAwPoC;EAAA;EAxPpC;IAAA,2DAwPoC;IAxPpC;MAAA,0EAwPoC;IAAA;EAAA;EAxPpC;IAAA,2DAwPoC;IAxPpC;MAAA,0EAwPoC;IAAA;EAAA;EAxPpC;IAAA,mCAwPoC;EAAA;EAxPpC;IAAA,iCAwPoC;EAAA;EAxPpC;IAAA,iCAwPoC;EAAA;EAxPpC;IAAA,iCAwPoC;EAAA;EAxPpC;IAAA,iCAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,yCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,qCAwPoC;EAAA;EAxPpC;IAAA,qCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;EAAA;EAxPpC;IAAA,uCAwPoC;EAAA;EAxPpC;IAAA,kBAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;IAxPpC,sCAwPoC;IAxPpC,kCAwPoC;IAxPpC,sCAwPoC;IAxPpC,sCAwPoC;IAxPpC,oCAwPoC;IAxPpC,4CAwPoC;IAxPpC,8CAwPoC;IAxPpC;MAAA;QAAA,oDAwPoC;MAAA;IAAA;IAxPpC;MAAA,qDAwPoC;IAAA;IAxPpC;MAAA,oDAwPoC;IAAA;IAxPpC;MAAA,oCAwPoC;IAAA;EAAA;EAxPpC;IAAA,gCAwPoC;IAxPpC,uCAwPoC;IAxPpC,uCAwPoC;IAxPpC,qCAwPoC;IAxPpC,6CAwPoC;IAxPpC,0BAwPoC;IAxPpC,yCAwPoC;IAxPpC;MAAA,0BAwPoC;MAxPpC,yCAwPoC;IAAA;IAxPpC;MAAA,qCAwPoC;IAAA;EAAA;EAxPpC;IAAA,gCAwPoC;IAxPpC,uCAwPoC;IAxPpC,uCAwPoC;IAxPpC,qCAwPoC;IAxPpC,6CAwPoC;IAxPpC,2BAwPoC;IAxPpC,0CAwPoC;IAxPpC;MAAA,yBAwPoC;MAxPpC,wCAwPoC;IAAA;IAxPpC;MAAA,qCAwPoC;IAAA;EAAA;EAxPpC;IAAA,+CAwPoC;IAxPpC,8EAwPoC;EAAA;EAxPpC;IAAA,+CAwPoC;IAxPpC,8EAwPoC;EAAA;EAxPpC;IAAA,8CAwPoC;IAxPpC,0EAwPoC;EAAA;EAxPpC;IAAA,2CAwPoC;IAxPpC,sCAwPoC;EAAA;EAxPpC;IAAA,6CAwPoC;IAxPpC,wCAwPoC;EAAA;EAxPpC;IAAA,mBAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,4BAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,2BAwPoC;EAAA;EAxPpC;IAAA,iCAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,+BAwPoC;EAAA;EAxPpC;IAAA,yBAwPoC;EAAA;EAxPpC;IAAA,kBAwPoC;EAAA;EAxPpC;IAAA,WAwPoC;EAAA;EAxPpC;IAAA,YAwPoC;EAAA;EAxPpC;IAAA,YAwPoC;EAAA;EAxPpC;IAAA,YAwPoC;EAAA;EAxPpC;IAAA,aAwPoC;EAAA;EAxPpC;IAAA,+HAwPoC;IAxPpC,sIAwPoC;EAAA;EAxPpC;IAAA,6HAwPoC;IAxPpC,sIAwPoC;EAAA;EAxPpC;IAAA,0HAwPoC;IAxPpC,sIAwPoC;EAAA;EAxPpC;IAAA,gIAwPoC;IAxPpC,sIAwPoC;EAAA;EAxPpC;IAAA,wHAwPoC;IAxPpC,sIAwPoC;EAAA;EAxPpC;IAAA,wHAwPoC;IAxPpC,sIAwPoC;EAAA;EAxPpC;IAAA,mCAwPoC;EAAA;EAxPpC;IAAA,sCAwPoC;IAxPpC,kBAwPoC;EAAA;EAxPpC;IAAA,0LAwPoC;EAAA;EAxPpC;IAAA,wCAwPoC;IAxPpC,wRAwPoC;IAxPpC,gRAwPoC;EAAA;EAxPpC;IAAA,mRAwPoC;IAxPpC,qFAwPoC;IAxPpC,2EAwPoC;EAAA;EAxPpC;IAAA,wBAwPoC;IAxPpC,qFAwPoC;IAxPpC,2EAwPoC;EAAA;EAxPpC;IAAA,uKAwPoC;IAxPpC,qFAwPoC;IAxPpC,2EAwPoC;EAAA;EAxPpC;IAAA,4BAwPoC;IAxPpC,qFAwPoC;IAxPpC,2EAwPoC;EAAA;EAxPpC;IAAA,wDAwPoC;IAxPpC,qFAwPoC;IAxPpC,2EAwPoC;EAAA;EAxPpC;IAAA,oBAwPoC;IAxPpC,0BAwPoC;EAAA;EAxPpC;IAAA,oBAwPoC;IAxPpC,0BAwPoC;EAAA;EAxPpC;IAAA,oBAwPoC;IAxPpC,0BAwPoC;EAAA;EAxPpC;IAAA,oBAwPoC;IAxPpC,0BAwPoC;EAAA;EAxPpC;IAAA,6BAwPoC;IAxPpC,8CAwPoC;EAAA;EAxPpC;IAAA,wBAwPoC;IAxPpC,mBAwPoC;EAAA;EAxPpC;IAAA,yBAwPoC;IAxPpC,iBAwPoC;EAAA;EAxPpC;IAAA;MAAA;QAAA,aAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA,oCAwPoC;MAxPpC,iBAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,6BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,+CAwPoC;MAxPpC,8EAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,2CAwPoC;MAxPpC,sCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,+BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,sCAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,wCAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,wCAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,uCAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,0CAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,0CAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,sCAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,0CAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,0CAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,0CAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,6BAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,+BAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,+BAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,+BAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,+BAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA,+BAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA,gBAwPoC;MAxPpC,WAwPoC;MAxPpC,YAwPoC;MAxPpC,UAwPoC;MAxPpC,SAwPoC;MAxPpC,iBAwPoC;MAxPpC,UAwPoC;MAxPpC,mBAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,kBAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,6BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,8BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,WAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,sCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,0CAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,iCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,yBAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,wHAwPoC;MAxPpC,sIAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,wHAwPoC;MAxPpC,sIAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,uCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,yCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,2BAwPoC;MAxPpC,4GAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,wBAwPoC;MAxPpC,mBAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,wHAwPoC;MAxPpC,sIAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,yCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,2BAwPoC;MAxPpC,4GAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,wBAwPoC;MAxPpC,mBAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,oBAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,mBAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,YAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,gDAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,6BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,mCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,sCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,sCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,sCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,sCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,iFAwPoC;MAxPpC;QAAA,6EAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA,wCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,0EAwPoC;MAxPpC;QAAA,8EAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA,iFAwPoC;MAxPpC;QAAA,8EAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA,0CAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,gFAwPoC;MAxPpC;QAAA,4EAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA,0CAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,0CAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,0CAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,0EAwPoC;MAxPpC;QAAA,gFAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA,0EAwPoC;MAxPpC;QAAA,gFAwPoC;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA,4BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,6BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,6BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,+BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,+BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,2BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,iCAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,+BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,+BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,+BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,+BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,+BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA,+BAwPoC;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA;UAAA,sCAwPoC;QAAA;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA;UAAA,wCAwPoC;QAAA;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA;UAAA,uCAwPoC;QAAA;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA;UAAA,0CAwPoC;QAAA;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA;UAAA,0CAwPoC;QAAA;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA;UAAA,0CAwPoC;QAAA;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA;UAAA,6BAwPoC;QAAA;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA;UAAA,+BAwPoC;QAAA;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA;UAAA,+BAwPoC;QAAA;MAAA;IAAA;EAAA;EAxPpC;IAAA;MAAA;QAAA;UAAA,+BAwPoC;QAAA;MAAA;IAAA;EAAA;AAAA;AAxPpC;EAAA;IAAA,mBAwPoC;IAxPpC;MAAA,kBAwPoC;IAAA;IAxPpC,0EAwPoC;IAxPpC,qBAwPoC;EAAA;EAxPpC;IAAA,qFAwPoC;IAxPpC;MAAA,2FAwPoC;IAAA;EAAA;EAxPpC;IAAA,8CAwPoC;IAxPpC;MAAA,mDAwPoC;IAAA;IAxPpC,6BAwPoC;IAxPpC,oCAwPoC;IAxPpC,gCAwPoC;IAxPpC,oCAwPoC;IAxPpC,oCAwPoC;IAxPpC,kCAwPoC;IAxPpC,0CAwPoC;IAxPpC;MAAA,kCAwPoC;IAAA;EAAA;EAxPpC;IAAA,eAwPoC;EAAA;EAxPpC;IAAA,0EAwPoC;IAxPpC;MAAA,+EAwPoC;IAAA;EAAA;EAxPpC;IAAA,YAwPoC;IAxPpC;MAAA,oBAwPoC;IAAA;EAAA;AAAA;AAxPpC;EAAA;IAAA,4BAwPoC;EAAA;EAxPpC;IAAA,2BAwPoC;EAAA;AAAA;AAxPpC;EAAA;IAAA,wBAwPoC;IAxPpC,oBAwPoC;EAAA;EAxPpC;IAAA,0BAwPoC;IAxPpC,uBAwPoC;EAAA;AAAA;AAxPpC;EAAA,UAwPoC;EAxPpC,WAwPoC;AAAA;AAxPpC;EAAA,uBAwPoC;AAAA;AAxPpC;EAAA,0CAwPoC;EAxPpC,kBAwPoC;EAxPpC,6BAwPoC;EAxPpC,4BAwPoC;AAAA;AAxPpC;EAAA,0CAwPoC;AAAA;AAxPpC;EAAA,qBAwPoC;EAxPpC,qDAwPoC;AAAA;AAxPpC;EAAA,uCAwPoC;AAAA;AAxPpC;EAAA,uCAwPoC;AAAA;AAxPpC;EAAA,kDAwPoC;AAAA;AAxPpC;EAAA,SAwPoC;EAxPpC,UAwPoC;EAxPpC;;cAwPoC;EAxPpC,mCAwPoC;EAxPpC,kCAwPoC;EAxPpC,aAwPoC;EAxPpC,YAwPoC;EAxPpC,gBAwPoC;AAAA;AAxPpC;EAAA,aAwPoC;EAxPpC,aAwPoC;EAxPpC,sBAwPoC;AAAA;AAxPpC;EAAA,OAwPoC;EAxPpC,aAwPoC;EAxPpC,aAwPoC;EAxPpC,sBAwPoC;AAAA;AAxPpC;EAAA,0CAwPoC;EAxPpC,+BAwPoC;AAAA;AAxPpC;EAAA,0CAwPoC;EAxPpC,+BAwPoC;EAxPpC,sCAwPoC;AAAA;AAxPpC;EAAA,0CAwPoC;AAAA;AAxPpC;EAAA;IAAA,0CAwPoC;EAAA;EAxPpC;IAAA,kBAwPoC;IAxPpC,YAwPoC;IAxPpC,qBAwPoC;EAAA;EAxPpC;IAAA,kBAwPoC;IAxPpC,WAwPoC;IAxPpC,sBAwPoC;EAAA;EAxPpC;IAAA,gBAwPoC;IAxPpC,gBAwPoC;EAAA;EAxPpC;IAAA,WAwPoC;EAAA;AAAA;AAxPpC;EAAA;IAAA,wBAwPoC;IAxPpC,iCAwPoC;EAAA;EAxPpC;IAAA,sBAwPoC;IAxPpC,sBAwPoC;IAxPpC,6BAwPoC;EAAA;EAxPpC;IAAA,iCAwPoC;EAAA;EAxPpC;IAAA,sBAwPoC;IAxPpC,sBAwPoC;EAAA;AAAA;AAxPpC;EAAA,2BAwPoC;EAxPpC,iBAwPoC;AAAA;AAxPpC;EAAA,kBAwPoC;EAxPpC,UAwPoC;EAxPpC,WAwPoC;EAxPpC,UAwPoC;EAxPpC,YAwPoC;EAxPpC,gBAwPoC;EAxPpC,sBAwPoC;EAxPpC,mBAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,0BAwPoC;EAxPpC,mBAwPoC;AAAA;AAxPpC;EAAA;IAAA,0BAwPoC;EAAA;EAxPpC;;;IAAA,yBAwPoC;EAAA;EAxPpC;IAAA,8BAwPoC;IAxPpC,mBAwPoC;EAAA;AAAA;AAxPpC;EAAA;IAAA,qCAwPoC;IAxPpC,uCAwPoC;IAxPpC,sCAwPoC;IAxPpC,gCAwPoC;EAAA;AAAA;AAxPpC;;;;;;EAAA,0BAwPoC;EAxPpC,mBAwPoC;AAAA;AAxPpC;EAAA,mBAwPoC;EAxPpC,YAwPoC;EAxPpC,iBAwPoC;EAxPpC,SAwPoC;EAxPpC,YAwPoC;EAxPpC,kBAwPoC;EAxPpC,4BAwPoC;EAxPpC,0BAwPoC;EAxPpC,YAwPoC;AAAA;AAxPpC;EAAA,yBAwPoC;AAAA;AAxPpC;EAAA,gBAwPoC;AAAA;AAxPpC;;EAAA,aAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,gBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,gBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,gBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,gBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,gBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,oBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,wBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,sBAwPoC;EAxPpC,eAwPoC;EAxPpC,mBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,wBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,sBAwPoC;EAxPpC,eAwPoC;EAxPpC,mBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,wBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,wBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,kBAwPoC;EAxPpC,eAwPoC;EAxPpC,kBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,mBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,wBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;EAxPpC,oBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,sBAwPoC;EAxPpC,eAwPoC;EAxPpC,mBAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA,WAwPoC;EAxPpC,eAwPoC;AAAA;AAxPpC;EAAA;IAAA,yBAwPoC;EAAA;AAAA;AAxPpC;EAAA;IAAA;MAAA,mBAwPoC;MAxPpC,mBAwPoC;MAxPpC,mBAwPoC;MAxPpC,sBAwPoC;MAxPpC,sBAwPoC;MAxPpC,sBAwPoC;MAxPpC,oBAwPoC;MAxPpC,oBAwPoC;MAxPpC,uBAwPoC;MAxPpC,uBAwPoC;MAxPpC,wBAwPoC;MAxPpC,yBAwPoC;MAxPpC,sBAwPoC;MAxPpC,0BAwPoC;MAxPpC,uBAwPoC;MAxPpC,4BAwPoC;MAxPpC,gCAwPoC;MAxPpC,6BAwPoC;MAxPpC,wBAwPoC;MAxPpC,2BAwPoC;MAxPpC,8BAwPoC;MAxPpC,iCAwPoC;MAxPpC,wBAwPoC;MAxPpC,2BAwPoC;MAxPpC,4BAwPoC;MAxPpC,kCAwPoC;MAxPpC,yBAwPoC;MAxPpC,kBAwPoC;MAxPpC,wBAwPoC;MAxPpC,sBAwPoC;MAxPpC,uBAwPoC;MAxPpC,wBAwPoC;MAxPpC,oBAwPoC;MAxPpC,qBAwPoC;MAxPpC,sBAwPoC;MAxPpC,mBAwPoC;MAxPpC,yBAwPoC;MAxPpC,+BAwPoC;MAxPpC,4BAwPoC;MAxPpC,8BAwPoC;MAxPpC,2BAwPoC;MAxPpC,iCAwPoC;MAxPpC,+BAwPoC;MAxPpC,gCAwPoC;MAxPpC,iCAwPoC;MAxPpC,6BAwPoC;MAxPpC,8BAwPoC;MAxPpC,+BAwPoC;MAxPpC,4BAwPoC;MAxPpC,sBAwPoC;MAxPpC,kBAwPoC;IAAA;EAAA;AAAA",sourcesContent:["@config '../tailwind.config.js'; /* Corrected path relative to src/ */\n\n/* Replace Tailwind directives with v4 import */\n@import \"tailwindcss\";\n\n/* Import Skeleton core ONLY */\n@import \"@skeletonlabs/skeleton\"; \n/* @import \"@skeletonlabs/skeleton/themes/theme-skeleton\"; <-- Removed theme import */\n\n/* Remove direct forms import (Tailwind v4 handles plugin styles) */\n/* @import \"@tailwindcss/forms\"; */\n\n/* Custom scrollbar styling */\n/* For Webkit browsers (Chrome, Safari, Edge) */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n::-webkit-scrollbar-thumb {\n  background-color: rgba(156, 163, 175, 0.5); /* Gray with transparency */\n  border-radius: 6px;\n  border: 2px solid transparent;\n  background-clip: content-box;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(156, 163, 175, 0.7);\n}\n\n/* For Firefox */\n* {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(156, 163, 175, 0.5) transparent;\n}\n\n/* Dark mode scrollbars */\n.dark::-webkit-scrollbar-thumb {\n  background-color: rgba(75, 85, 99, 0.5);\n}\n\n.dark::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(75, 85, 99, 0.7);\n}\n\n.dark * {\n  scrollbar-color: rgba(75, 85, 99, 0.5) transparent;\n}\n\nhtml, body {\n  margin: 0;\n  padding: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n}\n\n#root {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n/* Ensure the application container takes full height */\nmain {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n/* Dark mode styles */\n.dark body {\n  /* @apply bg-surface-900 text-surface-100; */\n  background-color: var(--color-surface-900);\n  color: var(--color-surface-100);\n}\n\n.dark .markdown-preview {\n  /* @apply bg-surface-800 text-surface-100 border-surface-700; */\n  background-color: var(--color-surface-800);\n  color: var(--color-surface-100);\n  border-color: var(--color-surface-700);\n}\n\n.dark .markdown-preview pre {\n  /* @apply bg-surface-900; */\n  background-color: var(--color-surface-900);\n}\n\n/* Responsive styles */\n@media (max-width: 768px) {\n  /* Adjust gutters */\n  .gutter {\n    background-color: rgba(120, 120, 120, 0.2);\n  }\n  \n  .gutter.gutter-horizontal {\n    cursor: col-resize;\n    height: 100%;\n    width: 8px !important;\n  }\n  \n  .gutter.gutter-vertical {\n    cursor: row-resize;\n    width: 100%;\n    height: 8px !important;\n  }\n  \n  /* Make sure the mobile preview is scrollable */\n  .preview-container {\n    max-height: 100%;\n    overflow-y: auto;\n  }\n  \n  /* Ensure the mobile floating buttons are visible */\n  .fixed {\n    z-index: 50;\n  }\n}\n\n/* Override react-split styles for mobile */\n@media (max-width: 768px) {\n  .responsive-split {\n    display: flex !important;\n    flex-direction: column !important;\n  }\n  \n  .responsive-split > .gutter {\n    width: 100% !important;\n    height: 8px !important;\n    cursor: row-resize !important;\n  }\n  \n  .responsive-split-vertical {\n    flex-direction: column !important;\n  }\n  \n  .responsive-split-vertical > .gutter {\n    width: 100% !important;\n    height: 8px !important;\n  }\n}\n\n/* Ensure the mobile sidebar is scrollable */\n.sidebar-mobile {\n  overflow-y: auto !important;\n  max-height: 100vh;\n}\n\n/* Accessibility styles */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n/* High contrast focus styles */\n:focus-visible {\n  outline: 2px solid #0ea5e9; /* Or your preferred focus color */\n  outline-offset: 2px;\n}\n\n/* Improves readability in high contrast mode */\n@media (forced-colors: active) {\n  * {\n    border-color: currentColor;\n  }\n  \n  button, \n  a, \n  .gutter {\n    forced-color-adjust: none;\n  }\n  \n  /* Ensure focus outlines are visible in high contrast mode */\n  :focus {\n    outline: 2px solid transparent;\n    outline-offset: 2px;\n  }\n}\n\n/* Reduce motion for users who prefer reduced motion */\n@media (prefers-reduced-motion: reduce) {\n  *, *::before, *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n    scroll-behavior: auto !important;\n  }\n}\n\n/* Improved keyboard navigation */\n[tabindex]:not([tabindex=\"-1\"]):focus,\na:focus,\nbutton:focus,\ninput:focus,\nselect:focus,\ntextarea:focus {\n  outline: 2px solid #0ea5e9;\n  outline-offset: 2px;\n}\n\n/* Skip to content link when focused */\n.skip-to-content {\n  background: #0ea5e9;\n  color: white;\n  font-weight: bold;\n  left: 50%;\n  padding: 8px;\n  position: absolute;\n  transform: translateY(-100%);\n  transition: transform 0.3s;\n  z-index: 100;\n}\n\n.skip-to-content:focus {\n  transform: translateY(0%);\n}\n\n/* Focus trap for modals - prevent background interaction when modal is open */\nbody.modal-open {\n  overflow: hidden;\n}\n\n/* Add custom styles here */\n\n/* Remove focus outline from tab buttons */\n.editor-tabs button:focus,\n.workspace-state-tabs button:focus {\n  outline: none;\n}\n\n/* Add other custom styles below */ "],sourceRoot:""}]);const s=a},975:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",o=0,i=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",o=0):o=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),i=s,a=0;continue}}else if(2===r.length||1===r.length){r="",o=0,i=s,a=0;continue}t&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),o=s-i-1;i=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var e,r="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(r=a+"/"+r,o=47===a.charCodeAt(0))}return r=n(r,!o),o?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&o&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var o=arguments[n];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var i=e.length,a=i-o,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var l=n.length-s,c=a<l?a:l,u=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===n.charCodeAt(s+h))return n.slice(s+h+1);if(0===h)return n.slice(s+h)}else a>c&&(47===e.charCodeAt(o+h)?u=h:0===h&&(u=0));break}var d=e.charCodeAt(o+h);if(d!==n.charCodeAt(s+h))break;47===d&&(u=h)}var f="";for(h=o+u+1;h<=i;++h)h!==i&&47!==e.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(s+u):(s+=u,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,o=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(n=e.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?r?"/":".":r&&1===o?"//":e.slice(0,o)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,o=0,i=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!a){o=r+1;break}}else-1===l&&(a=!1,l=r+1),s>=0&&(c===n.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=l))}return o===i?i=l:-1===i&&(i=e.length),e.slice(o,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){o=r+1;break}}else-1===i&&(a=!1,i=r+1);return-1===i?"":e.slice(o,i)},extname:function(e){t(e);for(var n=-1,r=0,o=-1,i=!0,a=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===o&&(i=!1,o=s+1),46===l?-1===n?n=s:1!==a&&(a=1):-1!==n&&(a=-1);else if(!i){r=s+1;break}}return-1===n||-1===o||0===a||1===a&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,o=e.charCodeAt(0),i=47===o;i?(n.root="/",r=1):r=0;for(var a=-1,s=0,l=-1,c=!0,u=e.length-1,h=0;u>=r;--u)if(47!==(o=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===o?-1===a?a=u:1!==h&&(h=1):-1!==a&&(h=-1);else if(!c){s=u+1;break}return-1===a||-1===l||0===h||1===h&&a===l-1&&a===s+1?-1!==l&&(n.base=n.name=0===s&&i?e.slice(1,l):e.slice(s,l)):(0===s&&i?(n.name=e.slice(1,a),n.base=e.slice(1,l)):(n.name=e.slice(s,a),n.base=e.slice(s,l)),n.ext=e.slice(a,l)),s>0?n.dir=e.slice(0,s-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},982:(e,t,n)=>{"use strict";e.exports=n(477)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=n(540),t=n(338),r={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const o=(t,n,o,i)=>{const a=(0,e.forwardRef)((({color:o="currentColor",size:a=24,stroke:s=2,title:l,className:c,children:u,...h},d)=>(0,e.createElement)("svg",{ref:d,...r[t],width:a,height:a,className:["tabler-icon",`tabler-icon-${n}`,c].join(" "),..."filled"===t?{fill:o}:{strokeWidth:s,stroke:o},...h},[l&&(0,e.createElement)("title",{key:"svg-title"},l),...i.map((([t,n])=>(0,e.createElement)(t,n))),...Array.isArray(u)?u:[u]])));return a.displayName=`${o}`,a};var i=o("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),a=o("outline","eraser","IconEraser",[["path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3",key:"svg-0"}],["path",{d:"M18 13.3l-6.3 -6.3",key:"svg-1"}]]),s=o("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]),l=o("outline","eye-off","IconEyeOff",[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]),c=o("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]),u=o("outline","zoom-out","IconZoomOut",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M7 10l6 0",key:"svg-1"}],["path",{d:"M21 21l-6 -6",key:"svg-2"}]]),h=o("outline","zoom-in","IconZoomIn",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M7 10l6 0",key:"svg-1"}],["path",{d:"M10 7l0 6",key:"svg-2"}],["path",{d:"M21 21l-6 -6",key:"svg-3"}]]),d=o("outline","zoom-reset","IconZoomReset",[["path",{d:"M21 21l-6 -6",key:"svg-0"}],["path",{d:"M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403",key:"svg-1"}],["path",{d:"M3 4v4h4",key:"svg-2"}]]),f=o("outline","printer","IconPrinter",[["path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4",key:"svg-1"}],["path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z",key:"svg-2"}]]),p=o("outline","link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]]),m=o("outline","unlink","IconUnlink",[["path",{d:"M17 22v-2",key:"svg-0"}],["path",{d:"M9 15l6 -6",key:"svg-1"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-2"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-3"}],["path",{d:"M20 17h2",key:"svg-4"}],["path",{d:"M2 7h2",key:"svg-5"}],["path",{d:"M7 2v2",key:"svg-6"}]]),A=n(556),g=n.n(A),v="undefined"!=typeof window?window:null,w=null===v,b=w?void 0:v.document,y="addEventListener",C="removeEventListener",x="getBoundingClientRect",k="_a",P="_b",E="_c",S="horizontal",I=function(){return!1},M=w?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=b.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",O=function(e){return"string"==typeof e||e instanceof String},N=function(e){if(O(e)){var t=b.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},B=function(e,t,n){var r=e[t];return void 0!==r?r:n},D=function(e,t,n,r){if(t){if("end"===r)return 0;if("center"===r)return e/2}else if(n){if("start"===r)return 0;if("center"===r)return e/2}return e},T=function(e,t){var n=b.createElement("div");return n.className="gutter gutter-"+t,n},R=function(e,t,n){var r={};return O(t)?r[e]=t:r[e]=M+"("+t+"% - "+n+"px)",r},L=function(e,t){var n;return(n={})[e]=t+"px",n};const z=function(e,t){if(void 0===t&&(t={}),w)return{};var n,r,o,i,a,s,l=e;Array.from&&(l=Array.from(l));var c=N(l[0]).parentNode,u=getComputedStyle?getComputedStyle(c):null,h=u?u.flexDirection:null,d=B(t,"sizes")||l.map((function(){return 100/l.length})),f=B(t,"minSize",100),p=Array.isArray(f)?f:l.map((function(){return f})),m=B(t,"maxSize",1/0),A=Array.isArray(m)?m:l.map((function(){return m})),g=B(t,"expandToMin",!1),M=B(t,"gutterSize",10),O=B(t,"gutterAlign","center"),z=B(t,"snapOffset",30),F=Array.isArray(z)?z:l.map((function(){return z})),_=B(t,"dragInterval",1),j=B(t,"direction",S),W=B(t,"cursor",j===S?"col-resize":"row-resize"),H=B(t,"gutter",T),V=B(t,"elementStyle",R),q=B(t,"gutterStyle",L);function U(e,t,r,o){var i=V(n,t,r,o);Object.keys(i).forEach((function(t){e.style[t]=i[t]}))}function $(){return s.map((function(e){return e.size}))}function K(e){return"touches"in e?e.touches[0][r]:e[r]}function G(e){var t=s[this.a],n=s[this.b],r=t.size+n.size;t.size=e/this.size*r,n.size=r-e/this.size*r,U(t.element,t.size,this[P],t.i),U(n.element,n.size,this[E],n.i)}function Q(e){var n,r=s[this.a],o=s[this.b];this.dragging&&(n=K(e)-this.start+(this[P]-this.dragOffset),_>1&&(n=Math.round(n/_)*_),n<=r.minSize+r.snapOffset+this[P]?n=r.minSize+this[P]:n>=this.size-(o.minSize+o.snapOffset+this[E])&&(n=this.size-(o.minSize+this[E])),n>=r.maxSize-r.snapOffset+this[P]?n=r.maxSize+this[P]:n<=this.size-(o.maxSize-o.snapOffset+this[E])&&(n=this.size-(o.maxSize+this[E])),G.call(this,n),B(t,"onDrag",I)($()))}function Y(){var e=s[this.a].element,t=s[this.b].element,r=e[x](),a=t[x]();this.size=r[n]+a[n]+this[P]+this[E],this.start=r[o],this.end=r[i]}function X(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[a];return 0===n?null:n-=j===S?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(c);if(null===t)return e;if(p.reduce((function(e,t){return e+t}),0)>t)return e;var n=0,r=[],o=e.map((function(o,i){var a=t*o/100,s=D(M,0===i,i===e.length-1,O),l=p[i]+s;return a<l?(n+=l-a,r.push(0),l):(r.push(a-l),a)}));return 0===n?e:o.map((function(e,o){var i=e;if(n>0&&r[o]-n>0){var a=Math.min(n,r[o]-n);n-=a,i=e-a}return i/t*100}))}function J(){var e=this,n=s[e.a].element,r=s[e.b].element;e.dragging&&B(t,"onDragEnd",I)($()),e.dragging=!1,v[C]("mouseup",e.stop),v[C]("touchend",e.stop),v[C]("touchcancel",e.stop),v[C]("mousemove",e.move),v[C]("touchmove",e.move),e.stop=null,e.move=null,n[C]("selectstart",I),n[C]("dragstart",I),r[C]("selectstart",I),r[C]("dragstart",I),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",b.body.style.cursor=""}function Z(e){if(!("button"in e)||0===e.button){var n=this,r=s[n.a].element,o=s[n.b].element;n.dragging||B(t,"onDragStart",I)($()),e.preventDefault(),n.dragging=!0,n.move=Q.bind(n),n.stop=J.bind(n),v[y]("mouseup",n.stop),v[y]("touchend",n.stop),v[y]("touchcancel",n.stop),v[y]("mousemove",n.move),v[y]("touchmove",n.move),r[y]("selectstart",I),r[y]("dragstart",I),o[y]("selectstart",I),o[y]("dragstart",I),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",n.gutter.style.cursor=W,n.parent.style.cursor=W,b.body.style.cursor=W,Y.call(n),n.dragOffset=K(e)-n.end}}j===S?(n="width",r="clientX",o="left",i="right",a="clientWidth"):"vertical"===j&&(n="height",r="clientY",o="top",i="bottom",a="clientHeight"),d=X(d);var ee=[];function te(e){var t=e.i===ee.length,n=t?ee[e.i-1]:ee[e.i];Y.call(n);var r=t?n.size-e.minSize-n[E]:e.minSize+n[P];G.call(n,r)}return s=l.map((function(e,t){var r,o={element:N(e),size:d[t],minSize:p[t],maxSize:A[t],snapOffset:F[t],i:t};if(t>0&&((r={a:t-1,b:t,dragging:!1,direction:j,parent:c})[P]=D(M,t-1==0,!1,O),r[E]=D(M,!1,t===l.length-1,O),"row-reverse"===h||"column-reverse"===h)){var i=r.a;r.a=r.b,r.b=i}if(t>0){var a=H(t,j,o.element);!function(e,t,r){var o=q(n,t,r);Object.keys(o).forEach((function(t){e.style[t]=o[t]}))}(a,M,t),r[k]=Z.bind(r),a[y]("mousedown",r[k]),a[y]("touchstart",r[k]),c.insertBefore(a,o.element),r.gutter=a}return U(o.element,o.size,D(M,0===t,t===l.length-1,O),t),t>0&&ee.push(r),o})),s.forEach((function(e){var t=e.element[x]()[n];t<e.minSize&&(g?te(e):e.minSize=t)})),{setSizes:function(e){var t=X(e);t.forEach((function(e,n){if(n>0){var r=ee[n-1],o=s[r.a],i=s[r.b];o.size=t[n-1],i.size=e,U(o.element,o.size,r[P],o.i),U(i.element,i.size,r[E],i.i)}}))},getSizes:$,collapse:function(e){te(s[e])},destroy:function(e,t){ee.forEach((function(r){if(!0!==t?r.parent.removeChild(r.gutter):(r.gutter[C]("mousedown",r[k]),r.gutter[C]("touchstart",r[k])),!0!==e){var o=V(n,r.a.size,r[P]);Object.keys(o).forEach((function(e){s[r.a].element.style[e]="",s[r.b].element.style[e]=""}))}}))},parent:c,pairs:ee}};function F(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}var _=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.componentDidMount=function(){var e=this.props;e.children;var t=e.gutter,n=F(e,["children","gutter"]);n.gutter=function(e,n){var r;return t?r=t(e,n):(r=document.createElement("div")).className="gutter gutter-"+n,r.__isSplitGutter=!0,r},this.split=z(this.parent.children,n)},n.prototype.componentDidUpdate=function(e){var t=this,n=this.props;n.children;var r=n.minSize,o=n.sizes,i=n.collapsed,a=F(n,["children","minSize","sizes","collapsed"]),s=e.minSize,l=e.sizes,c=e.collapsed,u=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"].map((function(n){return t.props[n]!==e[n]})).reduce((function(e,t){return e||t}),!1);if(Array.isArray(r)&&Array.isArray(s)){var h=!1;r.forEach((function(e,t){h=h||e!==s[t]})),u=u||h}else u=!(!Array.isArray(r)&&!Array.isArray(s))||u||r!==s;if(u)a.minSize=r,a.sizes=o||this.split.getSizes(),this.split.destroy(!0,!0),a.gutter=function(e,t,n){return n.previousSibling},this.split=z(Array.from(this.parent.children).filter((function(e){return!e.__isSplitGutter})),a);else if(o){var d=!1;o.forEach((function(e,t){d=d||e!==l[t]})),d&&this.split.setSizes(this.props.sizes)}Number.isInteger(i)&&(i!==c||u)&&this.split.collapse(i)},n.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},n.prototype.render=function(){var t=this,n=this.props;n.sizes,n.minSize,n.maxSize,n.expandToMin,n.gutterSize,n.gutterAlign,n.snapOffset,n.dragInterval,n.direction,n.cursor,n.gutter,n.elementStyle,n.gutterStyle,n.onDrag,n.onDragStart,n.onDragEnd,n.collapsed;var r=n.children,o=F(n,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]);return e.createElement("div",Object.assign({},{ref:function(e){t.parent=e}},o),r)},n}(e.Component);_.propTypes={sizes:g().arrayOf(g().number),minSize:g().oneOfType([g().number,g().arrayOf(g().number)]),maxSize:g().oneOfType([g().number,g().arrayOf(g().number)]),expandToMin:g().bool,gutterSize:g().number,gutterAlign:g().string,snapOffset:g().oneOfType([g().number,g().arrayOf(g().number)]),dragInterval:g().number,direction:g().string,cursor:g().string,gutter:g().func,elementStyle:g().func,gutterStyle:g().func,onDrag:g().func,onDragStart:g().func,onDragEnd:g().func,collapsed:g().number,children:g().arrayOf(g().element)},_.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};const j=_;var W=o("outline","folder-plus","IconFolderPlus",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}]]),H=o("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]),V=n(975),q=n.n(V),U=function(e){return q().basename(e)},$=function(e){return q().dirname(e)},K=o("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]),G=o("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),Q=o("outline","folder-open","IconFolderOpen",[["path",{d:"M5 19l2.757 -7.351a1 1 0 0 1 .936 -.649h12.307a1 1 0 0 1 .986 1.164l-.996 5.211a2 2 0 0 1 -1.964 1.625h-14.026a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2",key:"svg-0"}]]),Y=o("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]),X=o("outline","file","IconFile",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}]]);function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(t){var n=t.node,r=t.level,o=void 0===r?0:r,i=t.onNodeSelect,a=t.onFolderToggle,s=t.expandedNodes,l=t.selectedNodePaths,c=t.renamingNodePath,u=t.onRenameSubmit,h=t.onRenameCancel,d=t.currentFilePath,f=t.onContextMenu,p=t.onMoveItem,m=t.isDragging,A=t.dragOverPosition,g=t.dragOverPath,v=t.itemOrderVersion,w=s[n.path]||!1,b=l.has(n.path),y=n.children&&n.children.length>0,C="folder"===n.type,x=J((0,e.useState)(!1),2),k=x[0],P=x[1],E=J((0,e.useState)(n.name),2),S=E[0],I=E[1],M=(0,e.useRef)(null),O=(0,e.useRef)(0),N=(0,e.useRef)(null),B=(0,e.useRef)(n);(0,e.useEffect)((function(){B.current=n}),[n]),(0,e.useEffect)((function(){if(c===n.path){P(!0);var e=n.name;I(e),setTimeout((function(){var t=M.current;if(t){t.focus();var r="file"===n.type,o=r?e.lastIndexOf("."):-1,i=r&&o>0?o:e.length;t.setSelectionRange(0,i)}}),0)}else P(!1)}),[c,n.path,n.name,n.type]);var D=(0,e.useCallback)((function(e){e.stopPropagation(),i(n,e)}),[n,i]),T=(0,e.useCallback)((function(e){e.stopPropagation(),C&&a(n.path)}),[C,n.path,a]),R=function(){if(k){var e=S.trim();e&&e!==n.name?u(n,e):h(),P(!1)}},L=(0,e.useCallback)((function(e){e.stopPropagation();var t;t=l.has(n.path)&&l.size>1?Array.from(l).map((function(e){return{path:e,type:e.includes(".")?"file":"folder",name:e.split("/").pop()}})):[{path:n.path,type:n.type,name:n.name}],e.dataTransfer.setData("text/plain",JSON.stringify(t)),e.dataTransfer.setData("application/json",JSON.stringify(t)),e.dataTransfer.effectAllowed="move",p(t,null,"dragStart")}),[n,l,p]),z=(0,e.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.getBoundingClientRect(),n=e.clientY-t.top,r=t.height;return n<.25*r?"top":n>.75*r?"bottom":"middle"}),[]),F=(0,e.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=Date.now();if(!(t-O.current<200)){var r=z(e);r===N.current&&g===n.path||(N.current=r,O.current=t,"folder"===n.type||"middle"!==r?e.dataTransfer.dropEffect="move":e.dataTransfer.dropEffect="none",p(null,B.current,"dragOver",r))}}),[n,z,p,g]),_=(0,e.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),O.current=0,N.current=null;try{var t;try{(t=e.dataTransfer.getData("application/json"))||(t=e.dataTransfer.getData("text/plain"))}catch(n){t=e.dataTransfer.getData("text/plain")}if(!t)return void console.error("[TreeNode] No drag data available");var r=JSON.parse(t),o=z(e);if(r&&r.length>0){if(r.some((function(e){return e.path===n.path}))&&"middle"===o)return;p(r,B.current,"drop",o)}}catch(e){console.error("[TreeNode] Error during drop:",e)}}),[n,z,p]),j=(0,e.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),O.current=0,N.current=null,p(null,null,"dragEnd")}),[p]),W=b?"bg-primary-100 dark:bg-primary-900 border border-primary-400 dark:border-primary-600":"",H=b||n.path!==d?"":"font-semibold text-primary-700 dark:text-primary-300",V="".concat("flex items-center px-1 py-1 rounded cursor-pointer hover:bg-surface-200 dark:hover:bg-surface-700 overflow-hidden"," ").concat(W," ").concat(H).trim(),q=function(){if(g!==n.path)return"";switch(A){case"top":return"border-t-2 border-blue-500 dark:border-blue-400 -mt-px";case"bottom":return"border-b-2 border-blue-500 dark:border-blue-400 -mb-px";case"middle":return"folder"===n.type?"bg-blue-100 dark:bg-blue-900/30 rounded":"bg-red-100 dark:bg-red-900/30 rounded";default:return""}};return q(),e.createElement("div",{className:"flex flex-col transition-all duration-100 ease-in-out ".concat(m?"opacity-70":""," ").concat(g===n.path?q():""),style:{paddingLeft:16*o},onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),f(e,n)}},e.createElement("div",{className:V,onClick:D,draggable:!0,onDragStart:L,onDragOver:F,onDrop:_,onDragEnd:j,"data-testid":"tree-node-".concat(n.path)},e.createElement("div",{className:"w-5 flex-shrink-0",onClick:y?T:void 0},y&&C?w?e.createElement(K,{size:16,className:"opacity-60"}):e.createElement(G,{size:16,className:"opacity-60"}):e.createElement("span",{className:"w-4"})),e.createElement("div",{className:"w-5 flex-shrink-0 mr-1"},C?w?e.createElement(Q,{size:16,className:"text-amber-500"}):e.createElement(Y,{size:16,className:"text-amber-500"}):e.createElement(X,{size:16,className:"opacity-60"})),k?e.createElement("input",{ref:M,type:"text",value:S,onChange:function(e){I(e.target.value)},onKeyDown:function(e){"Enter"===e.key?R():"Escape"===e.key&&(P(!1),I(n.name),h())},onBlur:R,className:"flex-grow bg-white dark:bg-surface-800 border border-primary-500 rounded px-1 py-0 text-sm outline-none",autoFocus:!0}):e.createElement("div",{className:"flex-grow truncate","data-testid":"node-name"},n.name)),w&&y&&e.createElement("div",{className:"children"},n.children.map((function(t){return e.createElement(ee,{key:"".concat(t.path,"-").concat(v),node:t,level:o+1,onNodeSelect:i,onFolderToggle:a,expandedNodes:s,selectedNodePaths:l,renamingNodePath:c,onRenameSubmit:u,onRenameCancel:h,currentFilePath:d,onContextMenu:f,onMoveItem:p,isDragging:g===t.path,dragOverPath:g,dragOverPosition:A,itemOrderVersion:v})}))))};const te=ee;function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(){re=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:E(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",m="completed",A={};function g(){}function v(){}function w(){}var b={};c(b,a,(function(){return this}));var y=Object.getPrototypeOf,C=y&&y(y(N([])));C&&C!==n&&r.call(C,a)&&(b=C);var x=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(o,i,a,s){var l=h(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==ne(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function E(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=S(s,r);if(l){if(l===A)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=h(t,n,r);if("normal"===c.type){if(o=r.done?m:f,c.arg===A)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),A;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,A;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,A):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ne(t)+" is not iterable")}return v.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:v,configurable:!0}),v.displayName=c(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(P.prototype),c(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),A}},t}function oe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){oe(i,r,o,a,s,"next",e)}function s(e){oe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return(t=function(e){var t=function(e){if("object"!=ne(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||he(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||he(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){if(e){if("string"==typeof e)return de(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const fe=function(t){var n=t.files,r=void 0===n?[]:n,o=t.folders,i=void 0===o?[]:o,a=t.currentFolders,s=void 0===a?[]:a,l=t.currentFilePath,c=t.onFileSelect,u=(t.onScanFolder,t.onRenameItem),h=t.onCreateFile,d=t.onCreateFolder,f=t.onDeleteItem,p=t.onMoveItemProp,m=t.itemOrder,A=t.expandedNodes,g=t.onFolderToggle,v=t.onAddFolderProp,w=t.itemOrderVersion,b=ue((0,e.useState)([]),2),y=b[0],C=b[1],x=ue((0,e.useState)(""),2),k=(x[0],x[1]),P=ue((0,e.useState)(new Set),2),E=P[0],S=P[1],I=ue((0,e.useState)(null),2),M=I[0],O=I[1],N=ue((0,e.useState)({visible:!1,x:0,y:0,node:null}),2),B=N[0],D=N[1],T=ue((0,e.useState)(null),2),R=T[0],L=T[1],z=(0,e.useRef)(null),F=ue((0,e.useState)(null),2),_=F[0],j=F[1],V=ue((0,e.useState)(null),2),K=V[0],G=V[1],Q=ue((0,e.useState)(null),2),Y=Q[0],X=Q[1],J=(0,e.useRef)({draggingPath:null,dragOverPath:null,dragOverPosition:null}),Z=(0,e.useCallback)((function(e,t,n,r){w%5==0&&console.log("[ArboristFileExplorer] Building tree with itemOrderVersion:",w);var o=[].concat(ce(e),ce(t)),i={},a=[];o.forEach((function(e){var t=se(se({},e),{},{key:"".concat(e.path,"-").concat(w),children:[]});i[e.path]=t})),Object.values(i).forEach((function(e){if("."!==e.path){var t=$(e.path)||".",n=i[t];n&&n.children.push(e)}})),n.forEach((function(e){var t=i[e];t?a.some((function(e){return e.path===t.path}))?console.warn("[Arborist buildTree] Skipping duplicate root node:",t):a.push(t):console.warn("[Arborist buildTree] Root path ".concat(e," not found in processed nodes."))}));var s=function(e,t,n){if(e){var r=n?n[t]:null;e.sort((function(e,t){if(r){var n=r.indexOf(e.path),o=r.indexOf(t.path);if(-1!==n&&-1!==o)return n-o;if(-1!==n)return-1;if(-1!==o)return 1}return"folder"===e.type&&"folder"!==t.type?-1:"folder"!==e.type&&"folder"===t.type?1:e.name.localeCompare(t.name)})),e.forEach((function(e){e.children&&s(e.children,e.path,n)}))}};return Object.values(i).forEach((function(e){e.children&&s(e.children,e.path,r)})),s(a,".",r),w%5==0&&console.log("[ArboristFileExplorer] Built tree structure with itemOrderVersion:",w,a.map((function(e){var t;return{path:e.path,childrenCount:(null===(t=e.children)||void 0===t?void 0:t.length)||0}}))),a}),[w]);(0,e.useEffect)((function(){console.log("[ArboristFileExplorer] useEffect triggered to rebuild tree with itemOrderVersion:",w);var e=Z(r,i,s,m);if(C(e),s.length>0){var t=s[s.length-1];k(U(t))}else k("")}),[r,i,s,Z,m,w]);var ee=(0,e.useCallback)((function(){var e=[],t=function(n){n&&n.forEach((function(n){e.push(n),"folder"===n.type&&A[n.path]&&n.children&&t(n.children)}))};return t(y),e}),[y,A]),ne=(0,e.useCallback)((function(e,t){var n=t.metaKey||t.ctrlKey,r=t.shiftKey,o=e.path;S((function(i){var a=new Set(i);if(r&&M){var s=ee(),l=s.findIndex((function(e){return e.path===M})),u=s.findIndex((function(e){return e.path===o}));if(-1!==l&&-1!==u){a=new Set;for(var h=Math.min(l,u),d=Math.max(l,u),f=h;f<=d;f++)a.add(s[f].path)}else a=new Set([o]),O(o)}else n?a.has(o)?(a.delete(o),M===o&&O(null)):(a.add(o),O(o)):a.has(o)&&1===a.size?t.target.closest('[data-testid="node-name"]')?oe(e):"folder"===e.type&&g(e.path):(a=new Set([o]),O(o),"file"===e.type?c(e):"folder"===e.type&&g(e.path));return a}))}),[c,g,oe,M,ee]),oe=(0,e.useCallback)((function(e){L(e.path)}),[]),ae=function(){var e=ie(re().mark((function e(t,n){var r,o;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(null),r=t.path,o=q().join($(r),n),n&&!n.includes("/")&&!n.includes("\\")){e.next=6;break}return console.error("Invalid name for rename."),e.abrupt("return");case 6:if(e.prev=6,"function"!=typeof u){e.next=13;break}return e.next=10,u(r,o,"folder"===t.type);case 10:S(new Set([o])),e.next=14;break;case 13:console.warn("onRenameItem prop is not provided. Cannot perform rename.");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.error("Rename failed:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){L(null)},he=(0,e.useCallback)((function(){v?v():console.error("onAddFolderProp function is not available in FileExplorer")}),[v]),de=(0,e.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation();var n=e.clientX,r=e.clientY,o=window.innerWidth,i=window.innerHeight;n+160>o&&(n=o-160-10),r+150>i&&(r=i-150-10),S(new Set([t.path])),D({visible:!0,x:n,y:r,node:t})}),[]),fe=(0,e.useCallback)((function(e){B.visible&&!e.target.closest(".context-menu")&&D((function(e){return se(se({},e),{},{visible:!1})}))}),[B.visible]);(0,e.useEffect)((function(){return document.addEventListener("click",fe,!0),function(){document.removeEventListener("click",fe,!0)}}),[fe]);var pe=function(e){D((function(e){return se(se({},e),{},{visible:!1})})),"function"==typeof f?f(e.path,"folder"===e.type):console.warn("onDeleteItem prop is not provided.")},me=function(){var e=ie(re().mark((function e(t){var n,r;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D((function(e){return se(se({},e),{},{visible:!1})})),"function"!=typeof h||"function"!=typeof c){e.next=8;break}return e.next=4,h(t.path);case 4:(n=e.sent)?(A[t.path]||g(t.path),r={path:n,name:U(n),type:"file"},c(r),L(n)):console.error("onCreateFile prop failed or did not return a path."),e.next=9;break;case 8:console.warn("onCreateFile or onFileSelect prop is not provided.");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=ie(re().mark((function e(t){var n;return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D((function(e){return se(se({},e),{},{visible:!1})})),"function"!=typeof d){e.next=8;break}return e.next=4,d(t.path);case 4:(n=e.sent)?L(n):console.error("onCreateFolder prop failed or did not return a path."),e.next=9;break;case 8:console.warn("onCreateFolder prop is not provided.");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=(0,e.useCallback)((function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("dragStart"===n&&e){var o,i,a=Array.isArray(e)?e:[e];1!==a.length||E.has(a[0].path)||(S(new Set([a[0].path])),O(a[0].path)),j((null===(o=a[0])||void 0===o?void 0:o.path)||null),J.current.draggingPath=(null===(i=a[0])||void 0===i?void 0:i.path)||null,G(null),X(null),J.current.dragOverPath=null,J.current.dragOverPosition=null}else if("dragOver"===n&&t)J.current.dragOverPath===t.path&&J.current.dragOverPosition===r||(G(t.path),X(r),J.current.dragOverPath=t.path,J.current.dragOverPosition=r);else if("drop"===n&&t&&e){var s=Array.isArray(e)?e:[e];if(s.some((function(e){return e.path===t.path})))return;var l=r;if("file"===t.type&&"middle"===r&&(l="bottom"),p){var c=s.map((function(e){return{path:e.path,type:e.type||(e.path.includes(".")?"file":"folder"),name:e.name||e.path.split("/").pop()}})),u={path:t.path,type:t.type||(t.path.includes(".")?"file":"folder"),name:t.name||t.path.split("/").pop()};p(c,u,l)}G(null),X(null),j(null),J.current.dragOverPath=null,J.current.dragOverPosition=null,J.current.draggingPath=null}else"dragEnd"===n&&(G(null),X(null),j(null),J.current.dragOverPath=null,J.current.dragOverPosition=null,J.current.draggingPath=null)}),[E,S,O,p]),ve=(0,e.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=e.clientX,n=e.clientY,r=window.innerWidth,o=window.innerHeight;t+160>r&&(t=r-160-10),n+150>o&&(n=o-150-10),D({visible:!0,x:t,y:n,node:null})}),[]);return(0,e.useEffect)((function(){J.current={draggingPath:_,dragOverPath:K,dragOverPosition:Y}}),[_,K,Y]),e.createElement("div",{ref:z,className:"file-explorer h-full flex flex-col relative overflow-hidden ".concat(0===y.length?"items-center justify-center":""),onClick:function(e){e.target===z.current&&(S(new Set),O(null))},onContextMenu:ve},0===y.length?e.createElement("button",{onClick:he,className:"btn btn-primary px-4 py-2 text-sm flex flex-col items-center"},e.createElement(W,{size:24,className:"mb-1 opacity-75"}),"open workspace"):e.createElement("div",{className:"w-full flex-grow overflow-y-auto min-h-0 p-2",onContextMenu:ve},e.createElement("div",{className:"text-sm"},y.map((function(t){return e.createElement(te,{key:"".concat(t.path,"-").concat(w),node:t,level:0,onNodeSelect:ne,onFolderToggle:g,expandedNodes:A,selectedNodePaths:E,renamingNodePath:R,onRenameSubmit:ae,onRenameCancel:le,currentFilePath:l,onContextMenu:de,onMoveItem:ge,isDragging:_===t.path,dragOverPath:K,dragOverPosition:Y,itemOrderVersion:w})})))),B.visible&&e.createElement("div",{className:"context-menu fixed z-50 bg-white dark:bg-surface-800 shadow-lg rounded-md py-1 border border-surface-300 dark:border-surface-700 w-40",style:{top:B.y,left:B.x},"data-context-menu":"true"},!B.node&&e.createElement("button",{onClick:function(){D((function(e){return se(se({},e),{},{visible:!1})})),"function"==typeof v?v():console.error("onAddFolderProp function is not available")},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700 flex items-center gap-2"},e.createElement(W,{size:14,className:"opacity-70"}),"Add Folder to Workspace"),B.node&&e.createElement(e.Fragment,null,"folder"===B.node.type&&e.createElement(e.Fragment,null,e.createElement("button",{onClick:function(){return me(B.node)},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700"},"New File"),e.createElement("button",{onClick:function(){return Ae(B.node)},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-700 hover:bg-surface-100 dark:hover:bg-surface-700"},"New Folder"),e.createElement("div",{className:"context-menu-divider h-px my-1 bg-surface-200 dark:bg-surface-700"})),e.createElement("button",{onClick:function(){return oe(B.node)},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700"},"Rename"),B.node&&"folder"===B.node.type?e.createElement("button",{onClick:function(){return pe(B.node)},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700"},"Remove Folder from Workspace"):e.createElement("button",{onClick:function(){return pe(B.node)},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700"},"Delete File"),e.createElement("div",{className:"context-menu-divider h-px my-1 bg-surface-200 dark:bg-surface-700"}),e.createElement("button",{onClick:function(){return e=B.node,D((function(e){return se(se({},e),{},{visible:!1})})),void(e&&e.path?window.api&&"function"==typeof window.api.showItemInFolder?window.api.showItemInFolder(e.path):console.warn("window.api.showItemInFolder is not available."):console.error("Cannot show item in explorer: Node or node path is missing.",e));var e},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700 flex items-center gap-2"},e.createElement(H,{size:14,className:"opacity-70"}),"Show in Explorer"))))};var pe=o("outline","file-text","IconFileText",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]]),me=o("outline","clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]),Ae=o("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]),ge=o("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]),ve=["savedWorkspaceStates","pendingWorkspaceLoad"];function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){if(e){if("string"==typeof e)return xe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return(t=function(e){var t=function(e){if("object"!=we(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==we(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se={fileHistory:[],openFiles:[],ui:{openPanels:{sidebar:!0,preview:!0,settings:!1},preferences:{selectedSidebarTab:"files",explorerSortBy:"name",explorerSortDirection:"asc"},activeRootFolders:[],activeExpandedNodes:{},itemOrder:{}},editor:{cursorPosition:{line:0,ch:0},selections:[],scrollPosition:{top:0,left:0},unsavedChanges:!1,fontSize:14},errors:[],loading:{files:!1,folders:!1,content:!1},savedWorkspaceStates:{},pendingWorkspaceLoad:null,activeNamedWorkspaceName:null},Ie="ADD_TO_HISTORY",Me="CLEAR_HISTORY",Oe="ADD_OPEN_FILE",Ne="REMOVE_OPEN_FILE",Be="UPDATE_OPEN_FILE",De="SET_FILE_DIRTY",Te="CLEAR_OPEN_FILES",Re="REORDER_OPEN_FILES",Le="TOGGLE_PANEL",ze="SET_PANEL",Fe="SET_SIDEBAR_TAB",_e="UPDATE_PREFERENCES",je="SET_ACTIVE_ROOT_FOLDERS",We="SET_ACTIVE_EXPANDED_NODES",He="SET_ITEM_ORDER",Ve="UPDATE_ITEM_ORDER_FOR_PARENT",qe="REMOVE_FROM_ITEM_ORDER",Ue="ADD_ROOT_FOLDER",$e="REMOVE_ROOT_FOLDER",Ke="TOGGLE_EXPANDED_NODE",Ge="SET_EXPLORER_SORT",Qe="SET_CURSOR_POSITION",Ye="SET_SELECTIONS",Xe="SET_SCROLL_POSITION",Je="SET_UNSAVED_CHANGES",Ze="SET_EDITOR_FONT_SIZE",et="ADD_ERROR",tt="CLEAR_ERROR",nt="SET_LOADING",rt="RESET_STATE",ot="SAVE_NAMED_WORKSPACE",it="REMOVE_NAMED_WORKSPACE",at="RENAME_WORKSPACE",st="REORDER_SAVED_WORKSPACE_STATES",lt="SET_PENDING_WORKSPACE_LOAD",ct="CLEAR_PENDING_WORKSPACE_LOAD",ut="SET_ACTIVE_NAMED_WORKSPACE",ht="CLEAR_ACTIVE_NAMED_WORKSPACE";function dt(e,t){switch(t.type){case Ie:return Pe(Pe({},e),{},{fileHistory:[t.payload].concat(ye(e.fileHistory.filter((function(e){return e.path!==t.payload.path})))).slice(0,10)});case Me:return Pe(Pe({},e),{},{fileHistory:[]});case Oe:return e.openFiles.some((function(e){return e.path===t.payload.path}))?e:Pe(Pe({},e),{},{openFiles:[].concat(ye(e.openFiles),[Pe(Pe({},t.payload),{},{isDirty:!1})])});case Ne:return Pe(Pe({},e),{},{openFiles:e.openFiles.filter((function(e){return e.path!==t.payload.path}))});case Be:return Pe(Pe({},e),{},{openFiles:e.openFiles.map((function(e){return e.path===t.payload.oldPath?Pe(Pe({},e),t.payload.updates):e}))});case De:return Pe(Pe({},e),{},{openFiles:e.openFiles.map((function(e){return e.path===t.payload.path?Pe(Pe({},e),{},{isDirty:t.payload.isDirty}):e}))});case Te:return Pe(Pe({},e),{},{openFiles:[]});case Re:var n=t.payload,r=n.oldIndex,o=n.newIndex;if(r<0||r>=e.openFiles.length||o<0||o>=e.openFiles.length)return console.warn("[AppStateContext] Invalid indices for REORDER_OPEN_FILES:",r,o),e;var i=ye(e.openFiles),a=be(i.splice(r,1),1)[0];return i.splice(o,0,a),Pe(Pe({},e),{},{openFiles:i});case Le:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{openPanels:Pe(Pe({},e.ui.openPanels),{},Ee({},t.payload,!e.ui.openPanels[t.payload]))})});case ze:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{openPanels:Pe(Pe({},e.ui.openPanels),{},Ee({},t.payload.panel,t.payload.value))})});case Fe:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{preferences:Pe(Pe({},e.ui.preferences),{},{selectedSidebarTab:t.payload})})});case _e:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{preferences:Pe(Pe({},e.ui.preferences),t.payload)})});case je:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{activeRootFolders:t.payload})});case We:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{activeExpandedNodes:t.payload})});case He:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{itemOrder:t.payload})});case Ve:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{itemOrder:Pe(Pe({},e.ui.itemOrder),{},Ee({},t.payload.parentPath,t.payload.orderedPaths))})});case qe:var s=Pe({},e.ui.itemOrder),l=t.payload,c=l.itemPath,u=l.parentPath,h=l.isDirectory;if(s[u]&&(s[u]=s[u].filter((function(e){return e!==c})),0===s[u].length&&delete s[u]),h)Object.keys(s).filter((function(e){return e===c||e.startsWith(c+"/")})).forEach((function(e){return delete s[e]}));return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{itemOrder:s})});case Ue:return e.ui.activeRootFolders.includes(t.payload)?e:Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{activeRootFolders:[].concat(ye(e.ui.activeRootFolders),[t.payload])})});case $e:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{activeRootFolders:e.ui.activeRootFolders.filter((function(e){return e!==t.payload}))})});case Ke:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{activeExpandedNodes:Pe(Pe({},e.ui.activeExpandedNodes),{},Ee({},t.payload,!e.ui.activeExpandedNodes[t.payload]))})});case Ge:return Pe(Pe({},e),{},{ui:Pe(Pe({},e.ui),{},{preferences:Pe(Pe({},e.ui.preferences),{},{explorerSortBy:t.payload.sortBy,explorerSortDirection:t.payload.direction})})});case Qe:return Pe(Pe({},e),{},{editor:Pe(Pe({},e.editor),{},{cursorPosition:t.payload})});case Ye:return Pe(Pe({},e),{},{editor:Pe(Pe({},e.editor),{},{selections:t.payload})});case Xe:return Pe(Pe({},e),{},{editor:Pe(Pe({},e.editor),{},{scrollPosition:t.payload})});case Je:return Pe(Pe({},e),{},{editor:Pe(Pe({},e.editor),{},{unsavedChanges:t.payload})});case Ze:var d=Math.max(8,Math.min(t.payload,36));return Pe(Pe({},e),{},{editor:Pe(Pe({},e.editor),{},{fontSize:d})});case et:return Pe(Pe({},e),{},{errors:[].concat(ye(e.errors),[t.payload])});case tt:return Pe(Pe({},e),{},{errors:e.errors.filter((function(e,n){return n!==t.payload}))});case nt:return Pe(Pe({},e),{},{loading:Pe(Pe({},e.loading),{},Ee({},t.payload.key,t.payload.value))});case rt:return Pe(Pe({},Se),{},{savedWorkspaceStates:e.savedWorkspaceStates});case ot:return Pe(Pe({},e),{},{savedWorkspaceStates:Pe(Pe({},e.savedWorkspaceStates),{},Ee({},t.payload.name,t.payload.data)),activeNamedWorkspaceName:t.payload.name});case it:var f=Pe({},e.savedWorkspaceStates),p=t.payload.name||t.payload,m=!0===t.payload.isRename;if(m&&!f[p])return console.log('[AppStateContext] Workspace "'.concat(p,'" already removed, skipping removal during rename.')),e;delete f[p];var A=e.activeNamedWorkspaceName===p;return Pe(Pe({},e),{},{savedWorkspaceStates:f,activeNamedWorkspaceName:A&&!m?null:e.activeNamedWorkspaceName});case st:return Pe(Pe({},e),{},{savedWorkspaceStates:t.payload});case lt:return Pe(Pe({},e),{},{pendingWorkspaceLoad:t.payload});case ct:return Pe(Pe({},e),{},{pendingWorkspaceLoad:null});case ut:return Pe(Pe({},e),{},{activeNamedWorkspaceName:t.payload});case ht:return Pe(Pe({},e),{},{activeNamedWorkspaceName:null});case at:var g=t.payload,v=g.oldName,w=g.newName,b=g.data;if(!v||!w||v===w||!e.savedWorkspaceStates[v])return console.warn("[AppStateContext] Invalid rename operation: ".concat(v," -> ").concat(w)),e;if(e.savedWorkspaceStates[w])return console.warn('[AppStateContext] Cannot rename: A workspace named "'.concat(w,'" already exists.')),e;var y=Pe({},e.savedWorkspaceStates);delete y[v],y[w]=b;var C=e.activeNamedWorkspaceName===v;try{localStorage.setItem("savedMdViewerWorkspaceStates",JSON.stringify(y)),C&&localStorage.setItem("lastActiveMdViewerWorkspaceName",w)}catch(e){console.error("[AppStateContext] Failed to update workspace states in localStorage during rename:",e)}return Pe(Pe({},e),{},{savedWorkspaceStates:y,activeNamedWorkspaceName:C?w:e.activeNamedWorkspaceName});default:return e}}var ft=(0,e.createContext)(),pt=function(t){var n=t.children,r=be((0,e.useReducer)(dt,Se,(function(e){var t=Pe({},e);try{var n=localStorage.getItem("markdown-viewer-app-state");if(n){var r=JSON.parse(n);t=Pe(Pe(Pe({},e),r),{},{ui:Pe(Pe({},e.ui),r.ui||{}),editor:Pe(Pe({},e.editor),r.editor||{}),loading:Pe(Pe({},e.loading),r.loading||{})})}var o=localStorage.getItem("savedMdViewerWorkspaceStates");if(o){var i=JSON.parse(o);"object"!==we(i)||null===i||Array.isArray(i)?console.warn("Invalid format for saved workspace states in localStorage. Ignoring."):t.savedWorkspaceStates=i}}catch(t){return console.error("Failed to load state from localStorage:",t),e}return t.pendingWorkspaceLoad=null,t})),2),o=r[0],i=r[1];return(0,e.useEffect)((function(){try{var e=o.savedWorkspaceStates,t=(o.pendingWorkspaceLoad,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(o,ve));localStorage.setItem("markdown-viewer-app-state",JSON.stringify(t)),localStorage.setItem("savedMdViewerWorkspaceStates",JSON.stringify(e||{}))}catch(e){console.error("Failed to save app state to localStorage:",e)}}),[o]),e.createElement(ft.Provider,{value:{state:o,addToHistory:function(e){return i({type:Ie,payload:e})},clearHistory:function(){return i({type:Me})},addOpenFile:function(e){i({type:Oe,payload:e})},removeOpenFile:function(e){return i({type:Ne,payload:e})},updateOpenFile:function(e,t){i({type:Be,payload:{oldPath:e,updates:t}})},setFileDirty:function(e,t){return i({type:De,payload:{path:e.path,isDirty:t}})},clearOpenFiles:function(){return i({type:Te})},reorderOpenFiles:function(e,t){return i({type:Re,payload:{oldIndex:e,newIndex:t}})},togglePanel:function(e){return i({type:Le,payload:e})},setPanel:function(e,t){return i({type:ze,payload:{panel:e,value:t}})},setSidebarTab:function(e){return i({type:Fe,payload:e})},updatePreferences:function(e){return i({type:_e,payload:e})},setActiveRootFolders:function(e){return i({type:je,payload:e})},setActiveExpandedNodes:function(e){return i({type:We,payload:e})},setItemOrder:function(e){return i({type:He,payload:e})},updateItemOrderForParent:function(e,t){return i({type:Ve,payload:{parentPath:e,orderedPaths:t}})},removeFromItemOrder:function(e,t,n){return i({type:qe,payload:{itemPath:e,parentPath:t,isDirectory:n}})},addRootFolder:function(e){return i({type:Ue,payload:e})},removeRootFolder:function(e){return i({type:$e,payload:e})},toggleExpandedNode:function(e){return i({type:Ke,payload:e})},setExplorerSort:function(e,t){return i({type:Ge,payload:{sortBy:e,direction:t}})},setCursorPosition:function(e){return i({type:Qe,payload:e})},setSelections:function(e){return i({type:Ye,payload:e})},setScrollPosition:function(e){return i({type:Xe,payload:e})},setUnsavedChanges:function(e){return i({type:Je,payload:e})},setEditorFontSize:function(e){return i({type:Ze,payload:e})},addError:function(e){return i({type:et,payload:e})},clearError:function(e){return i({type:tt,payload:e})},setLoading:function(e,t){return i({type:nt,payload:{key:e,value:t}})},resetState:function(){return i({type:rt})},saveNamedWorkspace:function(e,t){return i({type:ot,payload:{name:e,data:t}})},removeNamedWorkspace:function(e){return i({type:it,payload:{name:e,isRename:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}})},renameWorkspace:function(e,t,n){return i({type:at,payload:{oldName:e,newName:t,data:n}})},loadNamedWorkspace:function(e){return i({type:lt,payload:e})},clearPendingWorkspaceLoad:function(){return i({type:ct})},setActiveNamedWorkspace:function(e){return i({type:ut,payload:e})},clearActiveNamedWorkspace:function(){return i({type:ht})},reorderSavedWorkspaceStates:function(e){return i({type:st,payload:e})}}},n)},mt=function(){var t=(0,e.useContext)(ft);if(!t)throw new Error("useAppState must be used within an AppStateProvider");return t};const At=function(t){var n=t.onFileSelect,r=mt(),o=r.state,i=r.clearHistory,a=r.updatePreferences,s=o.fileHistory,l=o.ui.preferences.recentFilesCollapsed||!1;return s&&0!==s.length?e.createElement("div",{className:"file-history"},e.createElement("div",{className:"flex items-center justify-between p-2 border-b border-surface-200 dark:border-surface-700"},e.createElement("div",{className:"flex items-center text-sm font-medium"},e.createElement(me,{size:16,className:"mr-2"}),"Recent Files"),e.createElement("div",{className:"flex items-center"},e.createElement("button",{onClick:function(){a({recentFilesCollapsed:!l})},className:"p-1 mr-1 text-xs rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-500","aria-label":l?"Expand":"Collapse",title:l?"Expand":"Collapse"},l?e.createElement(K,{size:14}):e.createElement(Ae,{size:14})),e.createElement("button",{onClick:i,className:"p-1 text-xs rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-500","aria-label":"Clear history",title:"Clear history"},e.createElement(ge,{size:14})))),!l&&e.createElement("ul",{className:"mt-1 max-h-60 overflow-y-auto"},s.map((function(t){return e.createElement("li",{key:t.path},e.createElement("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-surface-100 dark:hover:bg-surface-700 flex items-center",onClick:function(){return n(t)},title:t.path},e.createElement("span",{className:"mr-2 flex-shrink-0"},function(t){return"markdown"===t.type||t.name&&"string"==typeof t.name&&t.name.endsWith(".md")?e.createElement(pe,{size:16,className:"text-primary-500"}):e.createElement(X,{size:16,className:"text-surface-500"})}(t)),e.createElement("span",{className:"truncate"},t.name||t.path)))})))):e.createElement("div",{className:"p-4 text-surface-500 dark:text-surface-400 text-sm italic"},"No recent files")};let gt=[],vt=[];function wt(e){if(e<768)return!1;for(let t=0,n=gt.length;;){let r=t+n>>1;if(e<gt[r])n=r;else{if(!(e>=vt[r]))return!0;t=r+1}if(t==n)return!1}}function bt(e){return e>=127462&&e<=127487}function yt(e,t,n=!0,r=!0){return(n?Ct:xt)(e,t,r)}function Ct(e,t,n){if(t==e.length)return t;t&&Pt(e.charCodeAt(t))&&Et(e.charCodeAt(t-1))&&t--;let r=kt(e,t);for(t+=St(r);t<e.length;){let o=kt(e,t);if(8205==r||8205==o||n&&wt(o))t+=St(o),r=o;else{if(!bt(o))break;{let n=0,r=t-2;for(;r>=0&&bt(kt(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function xt(e,t,n){for(;t>0;){let r=Ct(e,t-2,n);if(r<t)return r;t--}return 0}function kt(e,t){let n=e.charCodeAt(t);if(!Et(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return Pt(r)?r-56320+(n-55296<<10)+65536:n}function Pt(e){return e>=56320&&e<57344}function Et(e){return e>=55296&&e<56320}function St(e){return e<65536?1:2}(()=>{let e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let t=0,n=0;t<e.length;t++)(t%2?vt:gt).push(n+=e[t])})();class It{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=zt(this,e,t);let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),Ot.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=zt(this,e,t);let n=[];return this.decompose(e,t,n,0),Ot.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new Dt(this),o=new Dt(e);for(let e=t,i=t;;){if(r.next(e),o.next(e),e=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(i+=r.value.length,r.done||i>=n)return!0}}iter(e=1){return new Dt(this,e)}iterRange(e,t=this.length){return new Tt(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Rt(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new Mt(e):Ot.from(Mt.split(e,[])):It.empty}}class Mt extends It{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.text[o],a=r+i.length;if((t?n:a)>=e)return new Lt(r,a,n,i);r=a+1,n++}}decompose(e,t,n,r){let o=e<=0&&t>=this.length?this:new Mt(Bt(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=n.pop(),t=Nt(o.text,e.text.slice(),0,o.length);if(t.length<=32)n.push(new Mt(t,e.length+o.length));else{let e=t.length>>1;n.push(new Mt(t.slice(0,e)),new Mt(t.slice(e)))}}else n.push(o)}replace(e,t,n){if(!(n instanceof Mt))return super.replace(e,t,n);[e,t]=zt(this,e,t);let r=Nt(this.text,Nt(n.text,Bt(this.text,0,e)),t),o=this.length+n.length-(t-e);return r.length<=32?new Mt(r,o):Ot.from(Mt.split(r,[]),o)}sliceString(e,t=this.length,n="\n"){[e,t]=zt(this,e,t);let r="";for(let o=0,i=0;o<=t&&i<this.text.length;i++){let a=this.text[i],s=o+a.length;o>e&&i&&(r+=n),e<s&&t>o&&(r+=a.slice(Math.max(0,e-o),t-o)),o=s+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let o of e)n.push(o),r+=o.length+1,32==n.length&&(t.push(new Mt(n,r)),n=[],r=-1);return r>-1&&t.push(new Mt(n,r)),t}}class Ot extends It{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.children[o],a=r+i.length,s=n+i.lines-1;if((t?s:a)>=e)return i.lineInner(e,t,n,r);r=a+1,n=s+1}}decompose(e,t,n,r){for(let o=0,i=0;i<=t&&o<this.children.length;o++){let a=this.children[o],s=i+a.length;if(e<=s&&t>=i){let o=r&((i<=e?1:0)|(s>=t?2:0));i>=e&&s<=t&&!o?n.push(a):a.decompose(e-i,t-i,n,o)}i=s+1}}replace(e,t,n){if([e,t]=zt(this,e,t),n.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let i=this.children[r],a=o+i.length;if(e>=o&&t<=a){let s=i.replace(e-o,t-o,n),l=this.lines-i.lines+s.lines;if(s.lines<l>>4&&s.lines>l>>6){let o=this.children.slice();return o[r]=s,new Ot(o,this.length-(t-e)+n.length)}return super.replace(o,a,s)}o=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){[e,t]=zt(this,e,t);let r="";for(let o=0,i=0;o<this.children.length&&i<=t;o++){let a=this.children[o],s=i+a.length;i>e&&o&&(r+=n),e<s&&t>i&&(r+=a.sliceString(e-i,t-i,n)),i=s+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Ot))return 0;let n=0,[r,o,i,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,o+=t){if(r==i||o==a)return n;let s=this.children[r],l=e.children[o];if(s!=l)return n+s.scanIdentical(l,t);n+=s.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new Mt(n,t)}let r=Math.max(32,n>>5),o=r<<1,i=r>>1,a=[],s=0,l=-1,c=[];function u(e){let t;if(e.lines>o&&e instanceof Ot)for(let t of e.children)u(t);else e.lines>i&&(s>i||!s)?(h(),a.push(e)):e instanceof Mt&&s&&(t=c[c.length-1])instanceof Mt&&e.lines+t.lines<=32?(s+=e.lines,l+=e.length+1,c[c.length-1]=new Mt(t.text.concat(e.text),t.length+1+e.length)):(s+e.lines>r&&h(),s+=e.lines,l+=e.length+1,c.push(e))}function h(){0!=s&&(a.push(1==c.length?c[0]:Ot.from(c,l)),l=-1,s=c.length=0)}for(let t of e)u(t);return h(),1==a.length?a[0]:new Ot(a,t)}}function Nt(e,t,n=0,r=1e9){for(let o=0,i=0,a=!0;i<e.length&&o<=r;i++){let s=e[i],l=o+s.length;l>=n&&(l>r&&(s=s.slice(0,r-o)),o<n&&(s=s.slice(n-o)),a?(t[t.length-1]+=s,a=!1):t.push(s)),o=l+1}return t}function Bt(e,t,n){return Nt(e,[""],t,n)}It.empty=new Mt([""],0);class Dt{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Mt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],o=this.offsets[n],i=o>>1,a=r instanceof Mt?r.text.length:r.children.length;if(i==(t>0?a:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof Mt){let o=r.text[i+(t<0?-1:0)];if(this.offsets[n]+=t,o.length>Math.max(0,e))return this.value=0==e?o:t>0?o.slice(e):o.slice(0,o.length-e),this;e-=o.length}else{let o=r.children[i+(t<0?-1:0)];e>o.length?(e-=o.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(o),this.offsets.push(t>0?1:(o instanceof Mt?o.text.length:o.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Tt{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new Dt(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class Rt{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(It.prototype[Symbol.iterator]=function(){return this.iter()},Dt.prototype[Symbol.iterator]=Tt.prototype[Symbol.iterator]=Rt.prototype[Symbol.iterator]=function(){return this});class Lt{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}function zt(e,t,n){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,n))]}function Ft(e,t,n=!0,r=!0){return yt(e,t,n,r)}function _t(e,t){let n=e.charCodeAt(t);if(!((r=n)>=55296&&r<56320&&t+1!=e.length))return n;var r;let o=e.charCodeAt(t+1);return function(e){return e>=56320&&e<57344}(o)?o-56320+(n-55296<<10)+65536:n}function jt(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Wt(e){return e<65536?1:2}const Ht=/\r\n?|\n/;var Vt=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(Vt||(Vt={}));class qt{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let o=this.sections[t++],i=this.sections[t++];i<0?(e(n,r,o),r+=o):r+=i,n+=o}}iterChangedRanges(e,t=!1){Gt(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new qt(e)}composeDesc(e){return this.empty?e:e.empty?this:Yt(this,e)}mapDesc(e,t=!1){return e.empty?this:Qt(this,e,t)}mapPos(e,t=-1,n=Vt.Simple){let r=0,o=0;for(let i=0;i<this.sections.length;){let a=this.sections[i++],s=this.sections[i++],l=r+a;if(s<0){if(l>e)return o+(e-r);o+=a}else{if(n!=Vt.Simple&&l>=e&&(n==Vt.TrackDel&&r<e&&l>e||n==Vt.TrackBefore&&r<e||n==Vt.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!a)return e==r||t<0?o:o+s;o+=s}r=l}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return o}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let o=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&o>=e)return!(r<e&&o>t)||"cover";r=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new qt(e)}static create(e){return new qt(e)}}class Ut extends qt{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Gt(this,((t,n,r,o,i)=>e=e.replace(r,r+(n-t),i)),!1),e}mapDesc(e,t=!1){return Qt(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,o=0;r<t.length;r+=2){let i=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=i;let s=r>>1;for(;n.length<s;)n.push(It.empty);n.push(i?e.slice(o,o+i):It.empty)}o+=i}return new Ut(t,n)}compose(e){return this.empty?e:e.empty?this:Yt(this,e,!0)}map(e,t=!1){return e.empty?this:Qt(this,e,t,!0)}iterChanges(e,t=!1){Gt(this,e,t)}get desc(){return qt.create(this.sections)}filter(e){let t=[],n=[],r=[],o=new Xt(this);e:for(let i=0,a=0;;){let s=i==e.length?1e9:e[i++];for(;a<s||a==s&&0==o.len;){if(o.done)break e;let e=Math.min(o.len,s-a);$t(r,e,-1);let i=-1==o.ins?-1:0==o.off?o.ins:0;$t(t,e,i),i>0&&Kt(n,t,o.text),o.forward(e),a+=e}let l=e[i++];for(;a<l;){if(o.done)break e;let e=Math.min(o.len,l-a);$t(t,e,-1),$t(r,e,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(e),a+=e}}return{changes:new Ut(t,n),filtered:qt.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],o=[],i=0,a=null;function s(e=!1){if(!e&&!r.length)return;i<t&&$t(r,t-i,-1);let n=new Ut(r,o);a=a?a.compose(n.map(a)):n,r=[],o=[],i=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof Ut){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);s(),a=a?a.compose(l.map(a)):l}else{let{from:e,to:a=e,insert:c}=l;if(e>a||e<0||a>t)throw new RangeError(`Invalid change range ${e} to ${a} (in doc of length ${t})`);let u=c?"string"==typeof c?It.of(c.split(n||Ht)):c:It.empty,h=u.length;if(e==a&&0==h)return;e<i&&s(),e>i&&$t(r,e-i,-1),$t(r,a-e,h),Kt(o,r,u),i=a}}(e),s(!a),a}static empty(e){return new Ut(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let o=e[r];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;n.length<r;)n.push(It.empty);n[r]=It.of(o.slice(1)),t.push(o[0],n[r].length)}}}return new Ut(t,n)}static createSet(e,t){return new Ut(e,t)}}function $t(e,t,n,r=!1){if(0==t&&n<=0)return;let o=e.length-2;o>=0&&n<=0&&n==e[o+1]?e[o]+=t:o>=0&&0==t&&0==e[o]?e[o+1]+=n:r?(e[o]+=t,e[o+1]+=n):e.push(t,n)}function Kt(e,t,n){if(0==n.length)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(It.empty);e.push(n)}}function Gt(e,t,n){let r=e.inserted;for(let o=0,i=0,a=0;a<e.sections.length;){let s=e.sections[a++],l=e.sections[a++];if(l<0)o+=s,i+=s;else{let c=o,u=i,h=It.empty;for(;c+=s,u+=l,l&&r&&(h=h.append(r[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)s=e.sections[a++],l=e.sections[a++];t(o,c,i,u,h),o=c,i=u}}}function Qt(e,t,n,r=!1){let o=[],i=r?[]:null,a=new Xt(e),s=new Xt(t);for(let e=-1;;){if(a.done&&s.len||s.done&&a.len)throw new Error("Mismatched change set lengths");if(-1==a.ins&&-1==s.ins){let e=Math.min(a.len,s.len);$t(o,e,-1),a.forward(e),s.forward(e)}else if(s.ins>=0&&(a.ins<0||e==a.i||0==a.off&&(s.len<a.len||s.len==a.len&&!n))){let t=s.len;for($t(o,s.ins,-1);t;){let n=Math.min(a.len,t);a.ins>=0&&e<a.i&&a.len<=n&&($t(o,0,a.ins),i&&Kt(i,o,a.text),e=a.i),a.forward(n),t-=n}s.next()}else{if(!(a.ins>=0)){if(a.done&&s.done)return i?Ut.createSet(o,i):qt.create(o);throw new Error("Mismatched change set lengths")}{let t=0,n=a.len;for(;n;)if(-1==s.ins){let e=Math.min(n,s.len);t+=e,n-=e,s.forward(e)}else{if(!(0==s.ins&&s.len<n))break;n-=s.len,s.next()}$t(o,t,e<a.i?a.ins:0),i&&e<a.i&&Kt(i,o,a.text),e=a.i,a.forward(a.len-n)}}}}function Yt(e,t,n=!1){let r=[],o=n?[]:null,i=new Xt(e),a=new Xt(t);for(let e=!1;;){if(i.done&&a.done)return o?Ut.createSet(r,o):qt.create(r);if(0==i.ins)$t(r,i.len,0,e),i.next();else if(0!=a.len||a.done){if(i.done||a.done)throw new Error("Mismatched change set lengths");{let t=Math.min(i.len2,a.len),n=r.length;if(-1==i.ins){let n=-1==a.ins?-1:a.off?0:a.ins;$t(r,t,n,e),o&&n&&Kt(o,r,a.text)}else-1==a.ins?($t(r,i.off?0:i.len,t,e),o&&Kt(o,r,i.textBit(t))):($t(r,i.off?0:i.len,a.off?0:a.ins,e),o&&!a.off&&Kt(o,r,a.text));e=(i.ins>t||a.ins>=0&&a.len>t)&&(e||r.length>n),i.forward2(t),a.forward(t)}}else $t(r,0,a.ins,e),o&&Kt(o,r,a.text),a.next()}}class Xt{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?It.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?It.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Jt{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new Jt(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Zt.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Zt.range(this.anchor,n)}eq(e,t=!1){return!(this.anchor!=e.anchor||this.head!=e.head||t&&this.empty&&this.assoc!=e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Zt.range(e.anchor,e.head)}static create(e,t,n){return new Jt(e,t,n)}}class Zt{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Zt.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Zt([this.main],0)}addRange(e,t=!0){return Zt.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Zt.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Zt(e.ranges.map((e=>Jt.fromJSON(e))),e.main)}static single(e,t=e){return new Zt([Zt.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=n:o.from<n)return Zt.normalized(e.slice(),t);n=o.to}return new Zt(e,t)}static cursor(e,t=0,n,r){return Jt.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(e,t,n,r){let o=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return t<e?Jt.create(t,e,48|o):Jt.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let n=1;n<e.length;n++){let r=e[n],o=e[n-1];if(r.empty?r.from<=o.to:r.from<o.to){let i=o.from,a=Math.max(r.to,o.to);n<=t&&t--,e.splice(--n,2,r.anchor>r.head?Zt.range(a,i):Zt.range(i,a))}}return new Zt(e,t)}}function en(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let tn=0;class nn{constructor(e,t,n,r,o){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=tn++,this.default=e([]),this.extensions="function"==typeof o?o(this):o}get reader(){return this}static define(e={}){return new nn(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:rn),!!e.static,e.enables)}of(e){return new on([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new on(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new on(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function rn(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class on{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=tn++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,o=this.id,i=e[o]>>1,a=2==this.type,s=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?s=!0:"selection"==n?l=!0:1&(null!==(t=e[n.id])&&void 0!==t?t:1)||c.push(e[n.id]);return{create:e=>(e.values[i]=n(e),1),update(e,t){if(s&&t.docChanged||l&&(t.docChanged||t.selection)||sn(e,c)){let t=n(e);if(a?!an(t,e.values[i],r):!r(t,e.values[i]))return e.values[i]=t,1}return 0},reconfigure:(e,t)=>{let s,l=t.config.address[o];if(null!=l){let o=vn(t,l);if(this.dependencies.every((n=>n instanceof nn?t.facet(n)===e.facet(n):!(n instanceof un)||t.field(n,!1)==e.field(n,!1)))||(a?an(s=n(e),o,r):r(s=n(e),o)))return e.values[i]=o,0}else s=n(e);return e.values[i]=s,1}}}}function an(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function sn(e,t){let n=!1;for(let r of t)1&gn(e,r)&&(n=!0);return n}function ln(e,t,n){let r=n.map((t=>e[t.id])),o=n.map((e=>e.type)),i=r.filter((e=>!(1&e))),a=e[t.id]>>1;function s(e){let n=[];for(let t=0;t<r.length;t++){let i=vn(e,r[t]);if(2==o[t])for(let e of i)n.push(e);else n.push(i)}return t.combine(n)}return{create(e){for(let t of r)gn(e,t);return e.values[a]=s(e),1},update(e,n){if(!sn(e,i))return 0;let r=s(e);return t.compare(r,e.values[a])?0:(e.values[a]=r,1)},reconfigure(e,o){let i=sn(e,r),l=o.config.facets[t.id],c=o.facet(t);if(l&&!i&&rn(n,l))return e.values[a]=c,0;let u=s(e);return t.compare(u,c)?(e.values[a]=c,0):(e.values[a]=u,1)}}}const cn=nn.define({static:!0});class un{constructor(e,t,n,r,o){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new un(tn++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(cn).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],o=this.updateF(r,n);return this.compareF(r,o)?0:(e.values[t]=o,1)},reconfigure:(e,n)=>{let r,o=e.facet(cn),i=n.facet(cn);return(r=o.find((e=>e.field==this)))&&r!=i.find((e=>e.field==this))?(e.values[t]=r.create(e),1):null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}}init(e){return[this,cn.of({field:this,create:e})]}get extension(){return this}}function hn(e){return t=>new fn(t,e)}const dn={highest:hn(0),high:hn(1),default:hn(2),low:hn(3),lowest:hn(4)};class fn{constructor(e,t){this.inner=e,this.prec=t}}class pn{of(e){return new mn(this,e)}reconfigure(e){return pn.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class mn{constructor(e,t){this.compartment=e,this.inner=t}}class An{constructor(e,t,n,r,o,i){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=o,this.facets=i,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],o=Object.create(null),i=new Map;for(let n of function(e,t,n){let r=[[],[],[],[],[]],o=new Map;return function e(i,a){let s=o.get(i);if(null!=s){if(s<=a)return;let e=r[s].indexOf(i);e>-1&&r[s].splice(e,1),i instanceof mn&&n.delete(i.compartment)}if(o.set(i,a),Array.isArray(i))for(let t of i)e(t,a);else if(i instanceof mn){if(n.has(i.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(i.compartment)||i.inner;n.set(i.compartment,r),e(r,a)}else if(i instanceof fn)e(i.inner,i.prec);else if(i instanceof un)r[a].push(i),i.provides&&e(i.provides,a);else if(i instanceof on)r[a].push(i),i.facet.extensions&&e(i.facet.extensions,2);else{let t=i.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${i}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);e(t,a)}}(e,2),r.reduce(((e,t)=>e.concat(t)))}(e,t,i))n instanceof un?r.push(n):(o[n.facet.id]||(o[n.facet.id]=[])).push(n);let a=Object.create(null),s=[],l=[];for(let e of r)a[e.id]=l.length<<1,l.push((t=>e.slot(t)));let c=null==n?void 0:n.config.facets;for(let e in o){let t=o[e],r=t[0].facet,i=c&&c[e]||[];if(t.every((e=>0==e.type)))if(a[r.id]=s.length<<1|1,rn(i,t))s.push(n.facet(r));else{let e=r.combine(t.map((e=>e.value)));s.push(n&&r.compare(e,n.facet(r))?n.facet(r):e)}else{for(let e of t)0==e.type?(a[e.id]=s.length<<1|1,s.push(e.value)):(a[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));a[r.id]=l.length<<1,l.push((e=>ln(e,r,t)))}}let u=l.map((e=>e(a)));return new An(e,i,u,a,s,o)}}function gn(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let o=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|o}function vn(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const wn=nn.define(),bn=nn.define({combine:e=>e.some((e=>e)),static:!0}),yn=nn.define({combine:e=>e.length?e[0]:void 0,static:!0}),Cn=nn.define(),xn=nn.define(),kn=nn.define(),Pn=nn.define({combine:e=>!!e.length&&e[0]});class En{constructor(e,t){this.type=e,this.value=t}static define(){return new Sn}}class Sn{of(e){return new En(this,e)}}class In{constructor(e){this.map=e}of(e){return new Mn(this,e)}}class Mn{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new Mn(this.type,t)}is(e){return this.type==e}static define(e={}){return new In(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}Mn.reconfigure=Mn.define(),Mn.appendConfig=Mn.define();class On{constructor(e,t,n,r,o,i){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=o,this.scrollIntoView=i,this._doc=null,this._state=null,n&&en(n,t.newLength),o.some((e=>e.type==On.time))||(this.annotations=o.concat(On.time.of(Date.now())))}static create(e,t,n,r,o,i){return new On(e,t,n,r,o,i)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(On.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function Nn(e,t){let n=[];for(let r=0,o=0;;){let i,a;if(r<e.length&&(o==t.length||t[o]>=e[r]))i=e[r++],a=e[r++];else{if(!(o<t.length))return n;i=t[o++],a=t[o++]}!n.length||n[n.length-1]<i?n.push(i,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function Bn(e,t,n){var r;let o,i,a;return n?(o=t.changes,i=Ut.empty(t.changes.length),a=e.changes.compose(t.changes)):(o=t.changes.map(e.changes),i=e.changes.mapDesc(t.changes,!0),a=e.changes.compose(o)),{changes:a,selection:t.selection?t.selection.map(i):null===(r=e.selection)||void 0===r?void 0:r.map(o),effects:Mn.mapEffects(e.effects,o).concat(Mn.mapEffects(t.effects,i)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function Dn(e,t,n){let r=t.selection,o=Ln(t.annotations);return t.userEvent&&(o=o.concat(On.userEvent.of(t.userEvent))),{changes:t.changes instanceof Ut?t.changes:Ut.of(t.changes||[],n,e.facet(yn)),selection:r&&(r instanceof Zt?r:Zt.single(r.anchor,r.head)),effects:Ln(t.effects),annotations:o,scrollIntoView:!!t.scrollIntoView}}function Tn(e,t,n){let r=Dn(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let o=1;o<t.length;o++){!1===t[o].filter&&(n=!1);let i=!!t[o].sequential;r=Bn(r,Dn(e,t[o],i?r.changes.newLength:e.doc.length),i)}let o=On.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(kn),r=e;for(let o=n.length-1;o>=0;o--){let i=n[o](e);i&&Object.keys(i).length&&(r=Bn(r,Dn(t,i,e.changes.newLength),!0))}return r==e?e:On.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let r of t.facet(Cn)){let t=r(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:Nn(n,t))}if(!0!==n){let r,o;if(!1===n)o=e.changes.invertedDesc,r=Ut.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,o=t.filtered.mapDesc(t.changes).invertedDesc}e=On.create(t,r,e.selection&&e.selection.map(o),Mn.mapEffects(e.effects,o),e.annotations,e.scrollIntoView)}let r=t.facet(xn);for(let n=r.length-1;n>=0;n--){let o=r[n](e);e=o instanceof On?o:Array.isArray(o)&&1==o.length&&o[0]instanceof On?o[0]:Tn(t,Ln(o),!1)}return e}(o):o)}On.time=En.define(),On.userEvent=En.define(),On.addToHistory=En.define(),On.remote=En.define();const Rn=[];function Ln(e){return null==e?Rn:Array.isArray(e)?e:[e]}var zn=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(zn||(zn={}));const Fn=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let _n;try{_n=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}class jn{constructor(e,t,n,r,o,i){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,i&&(i._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)gn(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return gn(this,n),vn(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return Tn(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:r,compartments:o}=n;for(let t of e.effects)t.is(pn.reconfigure)?(n&&(o=new Map,n.compartments.forEach(((e,t)=>o.set(t,e))),n=null),o.set(t.value.compartment,t.value.extension)):t.is(Mn.reconfigure)?(n=null,r=t.value):t.is(Mn.appendConfig)&&(n=null,r=Ln(r).concat(t.value));n?t=e.startState.values.slice():(n=An.resolve(r,o,this),t=new jn(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values);let i=e.startState.facet(bn)?e.newSelection:e.newSelection.asSingle();new jn(n,e.newDoc,i,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:Zt.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),o=[n.range],i=Ln(n.effects);for(let n=1;n<t.ranges.length;n++){let a=e(t.ranges[n]),s=this.changes(a.changes),l=s.map(r);for(let e=0;e<n;e++)o[e]=o[e].map(l);let c=r.mapDesc(s,!0);o.push(a.range.map(c)),r=r.compose(l),i=Mn.mapEffects(i,l).concat(Mn.mapEffects(Ln(a.effects),c))}return{changes:r,selection:Zt.create(o,t.mainIndex),effects:i}}changes(e=[]){return e instanceof Ut?e:Ut.of(e,this.doc.length,this.facet(jn.lineSeparator))}toText(e){return It.of(e.split(this.facet(jn.lineSeparator)||Ht))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(gn(this,t),vn(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof un&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let t in n)if(Object.prototype.hasOwnProperty.call(e,t)){let o=n[t],i=e[t];r.push(o.init((e=>o.spec.fromJSON(i,e))))}return jn.create({doc:e.doc,selection:Zt.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=An.resolve(e.extensions||[],new Map),n=e.doc instanceof It?e.doc:It.of((e.doc||"").split(t.staticFacet(jn.lineSeparator)||Ht)),r=e.selection?e.selection instanceof Zt?e.selection:Zt.single(e.selection.anchor,e.selection.head):Zt.single(0);return en(r,n.length),t.staticFacet(bn)||(r=r.asSingle()),new jn(t,n,r,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(jn.tabSize)}get lineBreak(){return this.facet(jn.lineSeparator)||"\n"}get readOnly(){return this.facet(Pn)}phrase(e,...t){for(let t of this.facet(jn.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>t.length?e:t[r-1]}))),e}languageDataAt(e,t,n=-1){let r=[];for(let o of this.facet(wn))for(let i of o(this,t,n))Object.prototype.hasOwnProperty.call(i,e)&&r.push(i[e]);return r}charCategorizer(e){return t=this.languageDataAt("wordChars",e).join(""),e=>{if(!/\S/.test(e))return zn.Space;if(function(e){if(_n)return _n.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Fn.test(n)))return!0}return!1}(e))return zn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return zn.Word;return zn.Other};var t}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),i=e-n,a=e-n;for(;i>0;){let e=Ft(t,i,!1);if(o(t.slice(e,i))!=zn.Word)break;i=e}for(;a<r;){let e=Ft(t,a);if(o(t.slice(a,e))!=zn.Word)break;a=e}return i==a?null:Zt.range(i+n,a+n)}}function Wn(e,t,n={}){let r={};for(let t of e)for(let e of Object.keys(t)){let o=t[e],i=r[e];if(void 0===i)r[e]=o;else if(i===o||void 0===o);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](i,o)}}for(let e in t)void 0===r[e]&&(r[e]=t[e]);return r}jn.allowMultipleSelections=bn,jn.tabSize=nn.define({combine:e=>e.length?e[0]:4}),jn.lineSeparator=yn,jn.readOnly=Pn,jn.phrases=nn.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((n=>e[n]==t[n]))}}),jn.languageData=wn,jn.changeFilter=Cn,jn.transactionFilter=xn,jn.transactionExtender=kn,pn.reconfigure=Mn.define();class Hn{eq(e){return this==e}range(e,t=e){return Vn.create(e,t,this)}}Hn.prototype.startSide=Hn.prototype.endSide=0,Hn.prototype.point=!1,Hn.prototype.mapMode=Vt.TrackDel;class Vn{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new Vn(e,t,n)}}function qn(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Un{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let o=n?this.to:this.from;for(let i=r,a=o.length;;){if(i==a)return i;let r=i+a>>1,s=o[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==i)return s>=0?i:a;s>=0?a=r:i=r+1}}between(e,t,n,r){for(let o=this.findIndex(t,-1e9,!0),i=this.findIndex(n,1e9,!1,o);o<i;o++)if(!1===r(this.from[o]+e,this.to[o]+e,this.value[o]))return!1}map(e,t){let n=[],r=[],o=[],i=-1,a=-1;for(let s=0;s<this.value.length;s++){let l,c,u=this.value[s],h=this.from[s]+e,d=this.to[s]+e;if(h==d){let e=t.mapPos(h,u.startSide,u.mapMode);if(null==e)continue;if(l=c=e,u.startSide!=u.endSide&&(c=t.mapPos(h,u.endSide),c<l))continue}else if(l=t.mapPos(h,u.startSide),c=t.mapPos(d,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(i<0&&(i=l),u.point&&(a=Math.max(a,c-l)),n.push(u),r.push(l-i),o.push(c-i))}return{mapped:n.length?new Un(r,o,n,a):null,pos:i}}}class $n{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new $n(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:o=this.length}=e,i=e.filter;if(0==t.length&&!i)return this;if(n&&(t=t.slice().sort(qn)),this.isEmpty)return t.length?$n.of(t):this;let a=new Qn(this,null,-1).goto(0),s=0,l=[],c=new Kn;for(;a.value||s<t.length;)if(s<t.length&&(a.from-t[s].from||a.startSide-t[s].value.startSide)>=0){let e=t[s++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==a.rangeIndex&&a.chunkIndex<this.chunk.length&&(s==t.length||this.chunkEnd(a.chunkIndex)<t[s].from)&&(!i||r>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!i||r>a.to||o<a.from||i(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||l.push(Vn.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?$n.empty:this.nextLayer.update({add:l,filter:i,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],a=this.chunk[o],s=e.touchesRange(i,i+a.length);if(!1===s)r=Math.max(r,a.maxPoint),t.push(a),n.push(e.mapPos(i));else if(!0===s){let{mapped:o,pos:s}=a.map(i,e);o&&(r=Math.max(r,o.maxPoint),t.push(o),n.push(s))}}let o=this.nextLayer.map(e);return 0==t.length?o:new $n(n,t,o||$n.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],i=this.chunk[r];if(t>=o&&e<=o+i.length&&!1===i.between(o,e-o,t-o,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return Yn.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Yn.from(e).goto(t)}static compare(e,t,n,r,o=-1){let i=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),a=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),s=Gn(i,a,n),l=new Jn(i,s,o),c=new Jn(a,s,o);n.iterGaps(((e,t,n)=>Zn(l,e,c,t,n,r))),n.empty&&0==n.length&&Zn(l,0,c,0,0,r)}static eq(e,t,n=0,r){null==r&&(r=999999999);let o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(o.length!=i.length)return!1;if(!o.length)return!0;let a=Gn(o,i),s=new Jn(o,a,0).goto(n),l=new Jn(i,a,0).goto(n);for(;;){if(s.to!=l.to||!er(s.active,l.active)||s.point&&(!l.point||!s.point.eq(l.point)))return!1;if(s.to>r)return!0;s.next(),l.next()}}static spans(e,t,n,r,o=-1){let i=new Jn(e,null,o).goto(t),a=t,s=i.openStart;for(;;){let e=Math.min(i.to,n);if(i.point){let n=i.activeForPoint(i.to),o=i.pointFrom<t?n.length+1:i.point.startSide<0?n.length:Math.min(n.length,s);r.point(a,e,i.point,n,o,i.pointRank),s=Math.min(i.openEnd(e),n.length)}else e>a&&(r.span(a,e,i.active,s),s=i.openEnd(e));if(i.to>n)return s+(i.point&&i.to>n?1:0);a=i.to,i.next()}}static of(e,t=!1){let n=new Kn;for(let r of e instanceof Vn?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(qn(t,r)>0)return e.slice().sort(qn);t=r}return e}(e):e)n.add(r.from,r.to,r.value);return n.finish()}static join(e){if(!e.length)return $n.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let r=e[n];r!=$n.empty;r=r.nextLayer)t=new $n(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}$n.empty=new $n([],[],null,-1),$n.empty.nextLayer=$n.empty;class Kn{finishChunk(e){this.chunks.push(new Un(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Kn)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner($n.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=$n.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Gn(e,t,n){let r=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&r.set(t.chunk[e],t.chunkPos[e]);let o=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let i=r.get(e.chunk[t]);null==i||(n?n.mapPos(i):i)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(i,i+e.chunk[t].length))||o.add(e.chunk[t])}return o}class Qn{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Yn{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let o=0;o<e.length;o++)for(let i=e[o];!i.isEmpty;i=i.nextLayer)i.maxPoint>=n&&r.push(new Qn(i,t,n,o));return 1==r.length?r[0]:new Yn(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)Xn(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)Xn(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Xn(this.heap,0)}}}function Xn(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let o=e[r];if(r+1<e.length&&o.compare(e[r+1])>=0&&(o=e[r+1],r++),n.compare(o)<0)break;e[r]=n,e[t]=o,t=r}}class Jn{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Yn.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){tr(this.active,e),tr(this.activeTo,e),tr(this.activeRank,e),this.minActive=rr(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||r-this.activeTo[t])>0;)t++;nr(this.active,t,n),nr(this.activeTo,t,r),nr(this.activeRank,t,o),e&&nr(e,t,this.cursor.from),this.minActive=rr(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&tr(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function Zn(e,t,n,r,o,i){e.goto(t),n.goto(r);let a=r+o,s=r,l=r-t;for(;;){let t=e.to+l-n.to,r=t||e.endSide-n.endSide,o=r<0?e.to+l:n.to,c=Math.min(o,a);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&er(e.activeForPoint(e.to),n.activeForPoint(n.to))||i.comparePoint(s,c,e.point,n.point):c>s&&!er(e.active,n.active)&&i.compareRange(s,c,e.active,n.active),o>a)break;(t||e.openEnd!=n.openEnd)&&i.boundChange&&i.boundChange(o),s=o,r<=0&&e.next(),r>=0&&n.next()}}function er(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function tr(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function nr(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function rr(e,t){let n=-1,r=1e9;for(let o=0;o<t.length;o++)(t[o]-r||e[o].endSide-e[n].endSide)<0&&(n=o,r=t[o]);return n}function or(e,t,n=e.length){let r=0;for(let o=0;o<n&&o<e.length;)9==e.charCodeAt(o)?(r+=t-r%t,o++):(r++,o=Ft(e,o));return r}function ir(e,t,n,r){for(let r=0,o=0;;){if(o>=t)return r;if(r==e.length)break;o+=9==e.charCodeAt(r)?n-o%n:1,r=Ft(e,r)}return!0===r?-1:e.length}const ar="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),sr="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),lr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class cr{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,i,a){let s=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return i.push(e[0]+";");for(let n in t){let a=t[n];if(/&/.test(n))o(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),a,i);else if(a&&"object"==typeof a){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");o(r(n),a,s,c)}else null!=a&&s.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+a+";")}(s.length||c)&&i.push((!n||l||a?e:e.map(n)).join(", ")+" {"+s.join(" ")+"}")}for(let t in e)o(r(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=lr[ar]||1;return lr[ar]=e+1,"ͼ"+e.toString(36)}static mount(e,t,n){let r=e[sr],o=n&&n.nonce;r?o&&r.setNonce(o):r=new hr(e,o),r.mount(Array.isArray(t)?t:[t],e)}}let ur=new Map;class hr{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let t=ur.get(n);if(t)return e[sr]=t;this.sheet=new r.CSSStyleSheet,ur.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[sr]=this}mount(e,t){let n=this.sheet,r=0,o=0;for(let t=0;t<e.length;t++){let i=e[t],a=this.modules.indexOf(i);if(a<o&&a>-1&&(this.modules.splice(a,1),o--,a=-1),-1==a){if(this.modules.splice(o++,0,i),n)for(let e=0;e<i.rules.length;e++)n.insertRule(i.rules[e],r++)}else{for(;o<a;)r+=this.modules[o++].rules.length;r+=i.rules.length,o++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e;let n=t.head||t;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var dr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},pr="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),mr="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ar=0;Ar<10;Ar++)dr[48+Ar]=dr[96+Ar]=String(Ar);for(Ar=1;Ar<=24;Ar++)dr[Ar+111]="F"+Ar;for(Ar=65;Ar<=90;Ar++)dr[Ar]=String.fromCharCode(Ar+32),fr[Ar]=String.fromCharCode(Ar);for(var gr in dr)fr.hasOwnProperty(gr)||(fr[gr]=dr[gr]);function vr(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function wr(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function br(e,t){if(!t.anchorNode)return!1;try{return wr(e,t.anchorNode)}catch(e){return!1}}function yr(e){return 3==e.nodeType?Tr(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function Cr(e,t,n,r){return!!n&&(Pr(e,t,n,r,-1)||Pr(e,t,n,r,1))}function xr(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function kr(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function Pr(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:Er(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=xr(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(o<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=o<0?Er(e):0}}}function Er(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Sr(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function Ir(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function Mr(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}class Or{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?Er(t):0),n,Math.min(e.focusOffset,n?Er(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let Nr,Br=null;function Dr(e){if(e.setActive)return e.setActive();if(Br)return e.focus(Br);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==Br?{get preventScroll(){return Br={preventScroll:!0},!0}}:void 0),!Br){Br=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],o=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=o&&(n.scrollLeft=o)}}}function Tr(e,t,n=t){let r=Nr||(Nr=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function Rr(e,t,n,r){let o={key:t,code:t,keyCode:n,which:n,cancelable:!0};r&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=r);let i=new KeyboardEvent("keydown",o);i.synthetic=!0,e.dispatchEvent(i);let a=new KeyboardEvent("keyup",o);return a.synthetic=!0,e.dispatchEvent(a),i.defaultPrevented||a.defaultPrevented}function Lr(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function zr(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function Fr(e,t){for(let n=e,r=t;;){if(3==n.nodeType&&r>0)return{node:n,offset:r};if(1==n.nodeType&&r>0){if("false"==n.contentEditable)return null;n=n.childNodes[r-1],r=Er(n)}else{if(!n.parentNode||kr(n))return null;r=xr(n),n=n.parentNode}}}function _r(e,t){for(let n=e,r=t;;){if(3==n.nodeType&&r<n.nodeValue.length)return{node:n,offset:r};if(1==n.nodeType&&r<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[r],r=0}else{if(!n.parentNode||kr(n))return null;r=xr(n)+1,n=n.parentNode}}}class jr{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new jr(e.parentNode,xr(e),t)}static after(e,t){return new jr(e.parentNode,xr(e)+1,t)}}const Wr=[];class Hr{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let n,r=this.dom,o=null;for(let i of this.children){if(7&i.flags){if(!i.dom&&(n=o?o.nextSibling:r.firstChild)){let e=Hr.get(n);(!e||!e.parent&&e.canReuseDOM(i))&&i.reuseDOM(n)}i.sync(e,t),i.flags&=-8}if(n=o?o.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&n!=i.dom&&(t.written=!0),i.dom.parentNode==r)for(;n&&n!=i.dom;)n=Vr(n);else r.insertBefore(i.dom,n);o=i.dom}for(n=o?o.nextSibling:r.firstChild,n&&t&&t.node==r&&(t.written=!0);n;)n=Vr(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=0==Er(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}n=r<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Hr.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let r=this.children[e];if(r.dom==n)return t;t+=r.length+r.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,o=-1,i=-1,a=-1;for(let s=0,l=n,c=n;s<this.children.length;s++){let n=this.children[s],u=l+n.length;if(l<e&&u>t)return n.domBoundsAround(e,t,l);if(u>=e&&-1==r&&(r=s,o=l),l>t&&n.dom.parentNode==this.dom){i=s,a=c;break}c=u,l=u+n.breakAfter}return{from:o,to:a<0?n+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:i<this.children.length&&i>=0?this.children[i].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=Wr){this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&n.indexOf(e)<0&&e.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new qr(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,o,i){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function Vr(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Hr.prototype.breakAfter=0;class qr{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Ur(e,t,n,r,o,i,a,s,l){let{children:c}=e,u=c.length?c[t]:null,h=i.length?i[i.length-1]:null,d=h?h.breakAfter:a;if(!(t==r&&u&&!a&&!d&&i.length<2&&u.merge(n,o,i.length?h:null,0==n,s,l))){if(r<c.length){let e=c[r];e&&(o<e.length||e.breakAfter&&(null==h?void 0:h.breakAfter))?(t==r&&(e=e.split(o),o=0),!d&&h&&e.merge(0,o,h,!0,0,l)?i[i.length-1]=e:((o||e.children.length&&!e.children[0].length)&&e.merge(0,o,null,!1,0,l),i.push(e))):(null==e?void 0:e.breakAfter)&&(h?h.breakAfter=1:a=1),r++}for(u&&(u.breakAfter=a,n>0&&(!a&&i.length&&u.merge(n,u.length,i[0],!1,s,0)?u.breakAfter=i.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,s,0),t++));t<r&&i.length;)if(c[r-1].become(i[i.length-1]))r--,i.pop(),l=i.length?0:s;else{if(!c[t].become(i[0]))break;t++,i.shift(),s=i.length?0:l}!i.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,s,l)&&t--,(t<r||i.length)&&e.replaceChildren(t,r,i)}}function $r(e,t,n,r,o,i){let a=e.childCursor(),{i:s,off:l}=a.findPos(n,1),{i:c,off:u}=a.findPos(t,-1),h=t-n;for(let e of r)h+=e.length;e.length+=h,Ur(e,c,u,s,l,r,0,o,i)}let Kr="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Gr="undefined"!=typeof document?document:{documentElement:{style:{}}};const Qr=/Edge\/(\d+)/.exec(Kr.userAgent),Yr=/MSIE \d/.test(Kr.userAgent),Xr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Kr.userAgent),Jr=!!(Yr||Xr||Qr),Zr=!Jr&&/gecko\/(\d+)/i.test(Kr.userAgent),eo=!Jr&&/Chrome\/(\d+)/.exec(Kr.userAgent),to="webkitFontSmoothing"in Gr.documentElement.style,no=!Jr&&/Apple Computer/.test(Kr.vendor),ro=no&&(/Mobile\/\w+/.test(Kr.userAgent)||Kr.maxTouchPoints>2);var oo={mac:ro||/Mac/.test(Kr.platform),windows:/Win/.test(Kr.platform),linux:/Linux|X11/.test(Kr.platform),ie:Jr,ie_version:Yr?Gr.documentMode||6:Xr?+Xr[1]:Qr?+Qr[1]:0,gecko:Zr,gecko_version:Zr?+(/Firefox\/(\d+)/.exec(Kr.userAgent)||[0,0])[1]:0,chrome:!!eo,chrome_version:eo?+eo[1]:0,ios:ro,android:/Android\b/.test(Kr.userAgent),webkit:to,safari:no,webkit_version:to?+(/\bAppleWebKit\/(\d+)/.exec(Kr.userAgent)||[0,0])[1]:0,tabSize:null!=Gr.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class io extends Hr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return!(8&this.flags||n&&(!(n instanceof io)||this.length-(t-e)+n.length>256||8&n.flags)||(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),0))}split(e){let t=new io(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new jr(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let o=t,i=t,a=0;0==t&&n<0||t==r&&n>=0?oo.chrome||oo.gecko||(t?(o--,a=1):i<r&&(i++,a=-1)):n<0?o--:i<r&&i++;let s=Tr(e,o,i).getClientRects();if(!s.length)return null;let l=s[(a?a<0:n>=0)?0:s.length-1];return oo.safari&&!a&&0==l.width&&(l=Array.prototype.find.call(s,(e=>e.width))||l),a?Sr(l,a<0):l||null}(this.dom,e,t)}}class ao extends Hr{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(Lr(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof ao&&n.mark.eq(this.mark))||e&&o<=0||t<this.length&&i<=0)||($r(this,e,t,n?n.children.slice():[],o-1,i-1),this.markDirty(),0))}split(e){let t=[],n=0,r=-1,o=0;for(let i of this.children){let a=n+i.length;a>e&&t.push(n<e?i.split(e-n):i),r<0&&n>=e&&(r=o),n=a,o++}let i=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new ao(this.mark,t,i)}domAtPos(e){return co(this,e)}coordsAt(e,t){return ho(this,e,t)}}class so extends Hr{static create(e,t,n){return new so(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=so.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof so&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}become(e){return e instanceof so&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return It.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):It.empty}domAtPos(e){return(this.length?0==e:this.side>0)?jr.before(this.dom):jr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;let i=this.side?this.side<0:e>0;for(let t=i?r.length-1:0;o=r[t],!(e>0?0==t:t==r.length-1||o.top<o.bottom);t+=i?-1:1);return Sr(o,!i)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class lo extends Hr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof lo&&e.side==this.side}split(){return new lo(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?jr.before(this.dom):jr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return It.empty}get isHidden(){return!0}}function co(e,t){let n=e.dom,{children:r}=e,o=0;for(let e=0;o<r.length;o++){let i=r[o],a=e+i.length;if(!(a==e&&i.getSide()<=0)){if(t>e&&t<a&&i.dom.parentNode==n)return i.domAtPos(t-e);if(t<=e)break;e=a}}for(let e=o;e>0;e--){let t=r[e-1];if(t.dom.parentNode==n)return t.domAtPos(t.length)}for(let e=o;e<r.length;e++){let t=r[e];if(t.dom.parentNode==n)return t.domAtPos(0)}return new jr(n,0)}function uo(e,t,n){let r,{children:o}=e;n>0&&t instanceof ao&&o.length&&(r=o[o.length-1])instanceof ao&&r.mark.eq(t.mark)?uo(r,t.children[0],n-1):(o.push(t),t.setParent(e)),e.length+=t.length}function ho(e,t,n){let r=null,o=-1,i=null,a=-1;!function e(t,s){for(let l=0,c=0;l<t.children.length&&c<=s;l++){let u=t.children[l],h=c+u.length;h>=s&&(u.children.length?e(u,s-c):(!i||i.isHidden&&(n>0||fo(i,u)))&&(h>s||c==h&&u.getSide()>0)?(i=u,a=s-c):(c<s||c==h&&u.getSide()<0&&!u.isHidden)&&(r=u,o=s-c)),c=h}}(e,t);let s=(n<0?r:i)||r||i;return s?s.coordsAt(Math.max(0,s==r?o:a),n):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=yr(t);return n[n.length-1]||null}(e)}function fo(e,t){let n=e.coordsAt(0,1),r=t.coordsAt(0,1);return n&&r&&r.top<n.bottom}function po(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}io.prototype.children=so.prototype.children=lo.prototype.children=Wr;const mo=Object.create(null);function Ao(e,t,n){if(e==t)return!0;e||(e=mo),t||(t=mo);let r=Object.keys(e),o=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=o.length-(n&&o.indexOf(n)>-1?1:0))return!1;for(let i of r)if(i!=n&&(-1==o.indexOf(i)||e[i]!==t[i]))return!1;return!0}function go(e,t,n){let r=!1;if(t)for(let o in t)n&&o in n||(r=!0,"style"==o?e.style.cssText="":e.removeAttribute(o));if(n)for(let o in n)t&&t[o]==n[o]||(r=!0,"style"==o?e.style.cssText=n[o]:e.setAttribute(o,n[o]));return r}function vo(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class wo{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var bo=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(bo||(bo={}));class yo extends Hn{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Co(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new ko(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:o,end:i}=Po(e,r);t=(o?r?-3e8:-1:5e8)-1,n=1+(i?r?2e8:1:-6e8)}return new ko(e,t,n,r,e.widget||null,!0)}static line(e){return new xo(e)}static set(e,t=!1){return $n.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}yo.none=$n.empty;class Co extends yo{constructor(e){let{start:t,end:n}=Po(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof Co&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(n=e.attrs)||void 0===n?void 0:n.class))&&Ao(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Co.prototype.point=!1;class xo extends yo{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof xo&&this.spec.class==e.spec.class&&Ao(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}xo.prototype.mapMode=Vt.TrackBefore,xo.prototype.point=!0;class ko extends yo{constructor(e,t,n,r,o,i){super(t,n,o,e),this.block=r,this.isReplace=i,this.mapMode=r?t<=0?Vt.TrackBefore:Vt.TrackAfter:Vt.TrackDel}get type(){return this.startSide!=this.endSide?bo.WidgetRange:this.startSide<=0?bo.WidgetBefore:bo.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ko&&((t=this.widget)==(n=e.widget)||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function Po(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!=n?n:t,end:null!=r?r:t}}function Eo(e,t,n,r=0){let o=n.length-1;o>=0&&n[o]+r>=e?n[o]=Math.max(n[o],t):n.push(e,t)}ko.prototype.point=!0;class So extends Hr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,o,i){if(n){if(!(n instanceof So))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),$r(this,e,t,n?n.children.slice():[],o,i),!0}split(e){let t=new So;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Ao(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){uo(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=po(t,this.attrs||{})),n&&(this.attrs=po({class:n},this.attrs||{}))}domAtPos(e){return co(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?4&this.flags&&(Lr(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(go(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&Hr.get(r)instanceof ao;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=Hr.get(r))||void 0===n?void 0:n.isEditable)||oo.ios&&this.children.some((e=>e instanceof io))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let n of this.children){if(!(n instanceof io)||/[^ -~]/.test(n.text))return null;let r=yr(n.dom);if(1!=r.length)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let n=ho(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=n.bottom-n.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let r=(t-e.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(e){return e instanceof So&&0==this.children.length&&0==e.children.length&&Ao(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let o=e.children[n],i=r+o.length;if(i>=t){if(o instanceof So)return o;if(i>t)break}r=i+o.breakAfter}return null}}class Io extends Hr{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof Io&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?jr.before(this.dom):jr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Io(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Wr}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):It.empty}domBoundsAround(){return null}become(e){return e instanceof Io&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)||(this.widget instanceof Mo?null:Sr(this.dom.getBoundingClientRect(),this.length?0==e:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t!=n&&(e<0?t<0:n>0)}}class Mo extends wo{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Oo{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Io&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new So),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(No(new lo(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof Io||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(No(new io(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,o,i){if(this.disallowBlockEffectsFor[i]&&n instanceof ko){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(n instanceof ko)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Io(n.widget||Bo.block,a,n));else{let i=so.create(n.widget||Bo.inline,a,a?0:n.startSide),s=this.atCursorPos&&!i.isEditable&&o<=r.length&&(e<t||n.startSide>0),l=!i.isEditable&&(e<t||o>r.length||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||s||i.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),s&&(c.append(No(new lo(1),r),o),o=r.length+Math.max(0,o-r.length)),c.append(No(i,r),o),this.atCursorPos=l,this.pendingBuffer=l?e<t||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,n,r,o){let i=new Oo(e,t,n,o);return i.openEnd=$n.spans(r,t,n,i),i.openStart<0&&(i.openStart=i.openEnd),i.finish(i.openEnd),i}}function No(e,t){for(let n of t)e=new ao(n,[e],e.length);return e}class Bo extends wo{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Bo.inline=new Bo("span"),Bo.block=new Bo("div");var Do=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Do||(Do={}));const To=Do.LTR,Ro=Do.RTL;function Lo(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const zo=Lo("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Fo=Lo("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),_o=Object.create(null),jo=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);_o[t]=n,_o[n]=-t}function Wo(e){return e<=247?zo[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?Fo[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const Ho=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Vo{get dir(){return this.level%2?Ro:To}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,r){let o=-1;for(let i=0;i<e.length;i++){let a=e[i];if(a.from<=t&&a.to>=t){if(a.level==n)return i;(o<0||(0!=r?r<0?a.from<t:a.to>t:e[o].level>a.level))&&(o=i)}}if(o<0)throw new RangeError("Index out of range");return o}}function qo(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.direction!=o.direction||!qo(r.inner,o.inner))return!1}return!0}const Uo=[];function $o(e,t,n,r,o,i,a){let s=r%2?2:1;if(r%2==o%2)for(let l=t,c=0;l<n;){let t=!0,u=!1;if(c==i.length||l<i[c].from){let e=Uo[l];e!=s&&(t=!1,u=16==e)}let h=t||1!=s?null:[],d=t?r:r+1,f=l;e:for(;;)if(c<i.length&&f==i[c].from){if(u)break e;let p=i[c];if(!t)for(let e=p.to,t=c+1;;){if(e==n)break e;if(!(t<i.length&&i[t].from==e)){if(Uo[e]==s)break e;break}e=i[t++].to}c++,h?h.push(p):(p.from>l&&a.push(new Vo(l,p.from,d)),Ko(e,p.direction==To!=!(d%2)?r+1:r,o,p.inner,p.from,p.to,a),l=p.to),f=p.to}else{if(f==n||(t?Uo[f]!=s:Uo[f]==s))break;f++}h?$o(e,l,f,r+1,o,h,a):l<f&&a.push(new Vo(l,f,d)),l=f}else for(let l=n,c=i.length;l>t;){let n=!0,u=!1;if(!c||l>i[c-1].to){let e=Uo[l-1];e!=s&&(n=!1,u=16==e)}let h=n||1!=s?null:[],d=n?r:r+1,f=l;e:for(;;)if(c&&f==i[c-1].to){if(u)break e;let p=i[--c];if(!n)for(let e=p.from,n=c;;){if(e==t)break e;if(!n||i[n-1].to!=e){if(Uo[e-1]==s)break e;break}e=i[--n].from}h?h.push(p):(p.to<l&&a.push(new Vo(p.to,l,d)),Ko(e,p.direction==To!=!(d%2)?r+1:r,o,p.inner,p.from,p.to,a),l=p.from),f=p.from}else{if(f==t||(n?Uo[f-1]!=s:Uo[f-1]==s))break;f--}h?$o(e,f,l,r+1,o,h,a):f<l&&a.push(new Vo(f,l,d)),l=f}}function Ko(e,t,n,r,o,i,a){let s=t%2?2:1;!function(e,t,n,r,o){for(let i=0;i<=r.length;i++){let a=i?r[i-1].to:t,s=i<r.length?r[i].from:n,l=i?256:o;for(let t=a,n=l,r=l;t<s;t++){let o=Wo(e.charCodeAt(t));512==o?o=n:8==o&&4==r&&(o=16),Uo[t]=4==o?2:o,7&o&&(r=o),n=o}for(let e=a,t=l,r=l;e<s;e++){let o=Uo[e];if(128==o)e<s-1&&t==Uo[e+1]&&24&t?o=Uo[e]=t:Uo[e]=256;else if(64==o){let o=e+1;for(;o<s&&64==Uo[o];)o++;let i=e&&8==t||o<n&&8==Uo[o]?1==r?1:8:256;for(let t=e;t<o;t++)Uo[t]=i;e=o-1}else 8==o&&1==r&&(Uo[e]=1);t=o,7&o&&(r=o)}}}(e,o,i,r,s),function(e,t,n,r,o){let i=1==o?2:1;for(let a=0,s=0,l=0;a<=r.length;a++){let c=a?r[a-1].to:t,u=a<r.length?r[a].from:n;for(let t,n,r,a=c;a<u;a++)if(n=_o[t=e.charCodeAt(a)])if(n<0){for(let e=s-3;e>=0;e-=3)if(jo[e+1]==-n){let t=jo[e+2],n=2&t?o:4&t?1&t?i:o:0;n&&(Uo[a]=Uo[jo[e]]=n),s=e;break}}else{if(189==jo.length)break;jo[s++]=a,jo[s++]=t,jo[s++]=l}else if(2==(r=Uo[a])||1==r){let e=r==o;l=e?0:1;for(let t=s-3;t>=0;t-=3){let n=jo[t+2];if(2&n)break;if(e)jo[t+2]|=2;else{if(4&n)break;jo[t+2]|=4}}}}}(e,o,i,r,s),function(e,t,n,r){for(let o=0,i=r;o<=n.length;o++){let a=o?n[o-1].to:e,s=o<n.length?n[o].from:t;for(let l=a;l<s;){let a=Uo[l];if(256==a){let a=l+1;for(;;)if(a==s){if(o==n.length)break;a=n[o++].to,s=o<n.length?n[o].from:t}else{if(256!=Uo[a])break;a++}let c=1==i,u=c==(1==(a<t?Uo[a]:r))?c?1:2:r;for(let t=a,r=o,i=r?n[r-1].to:e;t>l;)t==i&&(t=n[--r].from,i=r?n[r-1].to:e),Uo[--t]=u;l=a}else i=a,l++}}}(o,i,r,s),$o(e,o,i,t,n,r,a)}function Go(e){return[new Vo(0,e,0)]}let Qo="";function Yo(e,t,n,r,o){var i;let a=r.head-e.from,s=Vo.find(t,a,null!==(i=r.bidiLevel)&&void 0!==i?i:-1,r.assoc),l=t[s],c=l.side(o,n);if(a==c){let e=s+=o?1:-1;if(e<0||e>=t.length)return null;l=t[s=e],a=l.side(!o,n),c=l.side(o,n)}let u=Ft(e.text,a,l.forward(o,n));(u<l.from||u>l.to)&&(u=c),Qo=e.text.slice(Math.min(a,u),Math.max(a,u));let h=s==(o?t.length-1:0)?null:t[s+(o?1:-1)];return h&&u==c&&h.level+(o?0:1)<l.level?Zt.cursor(h.side(!o,n)+e.from,h.forward(o,n)?1:-1,h.level):Zt.cursor(u+e.from,l.forward(o,n)?-1:1,l.level)}function Xo(e,t,n){for(let r=t;r<n;r++){let t=Wo(e.charCodeAt(r));if(1==t)return To;if(2==t||4==t)return Ro}return To}const Jo=nn.define(),Zo=nn.define(),ei=nn.define(),ti=nn.define(),ni=nn.define(),ri=nn.define(),oi=nn.define(),ii=nn.define(),ai=nn.define(),si=nn.define({combine:e=>e.some((e=>e))}),li=nn.define({combine:e=>e.some((e=>e))}),ci=nn.define();class ui{constructor(e,t="nearest",n="nearest",r=5,o=5,i=!1){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=o,this.isSnapshot=i}map(e){return e.empty?this:new ui(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ui(Zt.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const hi=Mn.define({map:(e,t)=>e.map(t)}),di=Mn.define();function fi(e,t,n){let r=e.facet(ti);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const pi=nn.define({combine:e=>!e.length||e[0]});let mi=0;const Ai=nn.define();class gi{constructor(e,t,n,r,o){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.extension=o(this)}static define(e,t){const{eventHandlers:n,eventObservers:r,provide:o,decorations:i}=t||{};return new gi(mi++,e,n,r,(e=>{let t=[Ai.of(e)];return i&&t.push(yi.of((t=>{let n=t.plugin(e);return n?i(n):yo.none}))),o&&t.push(o(e)),t}))}static fromClass(e,t){return gi.define((t=>new e(t)),t)}}class vi{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(fi(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){fi(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){fi(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const wi=nn.define(),bi=nn.define(),yi=nn.define(),Ci=nn.define(),xi=nn.define(),ki=nn.define();function Pi(e,t){let n=e.state.facet(ki);if(!n.length)return n;let r=n.map((t=>t instanceof Function?t(e):t)),o=[];return $n.spans(r,t.from,t.to,{point(){},span(e,n,r,i){let a=e-t.from,s=n-t.from,l=o;for(let e=r.length-1;e>=0;e--,i--){let n,o=r[e].spec.bidiIsolate;if(null==o&&(o=Xo(t.text,a,s)),i>0&&l.length&&(n=l[l.length-1]).to==a&&n.direction==o)n.to=s,l=n.inner;else{let e={from:a,to:s,direction:o,inner:[]};l.push(e),l=e.inner}}}}),o}const Ei=nn.define();function Si(e){let t=0,n=0,r=0,o=0;for(let i of e.state.facet(Ei)){let a=i(e);a&&(null!=a.left&&(t=Math.max(t,a.left)),null!=a.right&&(n=Math.max(n,a.right)),null!=a.top&&(r=Math.max(r,a.top)),null!=a.bottom&&(o=Math.max(o,a.bottom)))}return{left:t,right:n,top:r,bottom:o}}const Ii=nn.define();class Mi{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new Mi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let r=0,o=0,i=0,a=0;;r++){let s=r==e.length?null:e[r],l=i-a,c=s?s.fromB:1e9;for(;o<t.length&&t[o]<c;){let e=t[o],r=t[o+1],i=Math.max(a,e),s=Math.min(c,r);if(i<=s&&new Mi(i+l,s+l,i,s).addToSet(n),r>c)break;o+=2}if(!s)return n;new Mi(s.fromA,s.toA,s.fromB,s.toB).addToSet(n),i=s.toA,a=s.toB}}}class Oi{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Ut.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges(((e,t,n,o)=>r.push(new Mi(e,t,n,o)))),this.changedRanges=r}static create(e,t,n){return new Oi(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class Ni extends Hr{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=yo.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new So],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Mi(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?r=this.domChanged.newSel.head:function(e,t){let n=!1;return t&&e.iterChangedRanges(((e,r)=>{e<t.to&&r>t.from&&(n=!0)})),n}(e.changes,this.hasComposition)||e.selectionSet||(r=e.state.selection.main.head));let o=r>-1?function(e,t,n){let r=Bi(e,n);if(!r)return null;let{node:o,from:i,to:a}=r,s=o.nodeValue;if(/[\n\r]/.test(s))return null;if(e.state.doc.sliceString(r.from,r.to)!=s)return null;let l=t.invertedDesc,c=new Mi(l.mapPos(i),l.mapPos(a),i,a),u=[];for(let t=o.parentNode;;t=t.parentNode){let n=Hr.get(t);if(n instanceof ao)u.push({node:t,deco:n.mark});else{if(n instanceof So||"DIV"==t.nodeName&&t.parentNode==e.contentDOM)return{range:c,text:o,marks:u,line:t};if(t==e.contentDOM)return null;u.push({node:t,deco:new Co({inclusive:!0,attributes:vo(t),tagName:t.tagName.toLowerCase()})})}}}(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:r}=this.hasComposition;n=new Mi(t,r,e.changes.mapPos(t,-1),e.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(oo.ie||oo.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=function(e,t,n){let r=new Di;return $n.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return n=Mi.extendWithRanges(n,i),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=oo.chrome||oo.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((e=>e.flags&=-9));let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof Io&&e.widget instanceof Mo&&o.push(e.dom);r.updateGaps(o)}updateChildren(e,t,n){let r=n?n.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let e=r.length-1;;e--){let t=e>=0?r[e]:null;if(!t)break;let i,a,s,l,{fromA:c,toA:u,fromB:h,toB:d}=t;if(n&&n.range.fromB<d&&n.range.toB>h){let e=Oo.build(this.view.state.doc,h,n.range.fromB,this.decorations,this.dynamicDecorationMap),t=Oo.build(this.view.state.doc,n.range.toB,d,this.decorations,this.dynamicDecorationMap);a=e.breakAtStart,s=e.openStart,l=t.openEnd;let r=this.compositionView(n);t.breakAtStart?r.breakAfter=1:t.content.length&&r.merge(r.length,r.length,t.content[0],!1,t.openStart,0)&&(r.breakAfter=t.content[0].breakAfter,t.content.shift()),e.content.length&&r.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),i=e.content.concat(r).concat(t.content)}else({content:i,breakAtStart:a,openStart:s,openEnd:l}=Oo.build(this.view.state.doc,h,d,this.decorations,this.dynamicDecorationMap));let{i:f,off:p}=o.findPos(u,1),{i:m,off:A}=o.findPos(c,-1);Ur(this,m,A,f,p,i,a,s,l)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let e of t.effects)e.is(di)&&(this.editContextFormatting=e.value)}compositionView(e){let t=new io(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new ao(n,[t],t.length);let n=new So;return n.append(t,0),n}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some((e=>7&e.flags))?1:0),this.markedForComposition.add(t);let n=Hr.get(e);n&&n!=t&&(n.dom=null),t.setDOM(e)},n=this.childPos(e.range.fromB,1),r=this.children[n.i];t(e.line,r);for(let o=e.marks.length-1;o>=-1;o--)n=r.childPos(n.off,1),r=r.children[n.i],t(o>=0?e.marks[o].node:e.text,r)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,o=!r&&!(this.view.state.facet(pi)||this.dom.tabIndex>-1)&&br(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||t||o))return;let i=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,s=this.moveToLine(this.domAtPos(a.anchor)),l=a.empty?s:this.moveToLine(this.domAtPos(a.head));if(oo.gecko&&a.empty&&!this.hasComposition&&1==(c=s).node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable)){let e=document.createTextNode("");this.view.observer.ignore((()=>s.node.insertBefore(e,s.node.childNodes[s.offset]||null))),s=l=new jr(e,0),i=!0}var c;let u=this.view.observer.selectionRange;!i&&u.focusNode&&(Cr(s.node,s.offset,u.anchorNode,u.anchorOffset)&&Cr(l.node,l.offset,u.focusNode,u.focusOffset)||this.suppressWidgetCursorChange(u,a))||(this.view.observer.ignore((()=>{oo.android&&oo.chrome&&this.dom.contains(u.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=vr(this.view.root);if(e)if(a.empty){if(oo.gecko){let e=(t=s.node,r=s.offset,1!=t.nodeType?0:(r&&"false"==t.childNodes[r-1].contentEditable?1:0)|(r<t.childNodes.length&&"false"==t.childNodes[r].contentEditable?2:0));if(e&&3!=e){let t=(1==e?Fr:_r)(s.node,s.offset);t&&(s=new jr(t.node,t.offset))}}e.collapse(s.node,s.offset),null!=a.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=a.bidiLevel)}else if(e.extend){e.collapse(s.node,s.offset);try{e.extend(l.node,l.offset)}catch(e){}}else{let t=document.createRange();a.anchor>a.head&&([s,l]=[l,s]),t.setEnd(l.node,l.offset),t.setStart(s.node,s.offset),e.removeAllRanges(),e.addRange(t)}var t,r;o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(s,l)),this.impreciseAnchor=s.precise?null:new jr(u.anchorNode,u.anchorOffset),this.impreciseHead=l.precise?null:new jr(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Cr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=vr(e.root),{anchorNode:r,anchorOffset:o}=e.observer.selectionRange;if(!(n&&t.empty&&t.assoc&&n.modify))return;let i=So.find(this,t.head);if(!i)return;let a=i.posAtStart;if(t.head==a||t.head==a+i.length)return;let s=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!s||!l||s.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(r,o)}moveToLine(e){let t,n=this.dom;if(e.node!=n)return e;for(let r=e.offset;!t&&r<n.childNodes.length;r++){let e=Hr.get(n.childNodes[r]);e instanceof So&&(t=e.domAtPos(0))}for(let r=e.offset-1;!t&&r>=0;r--){let e=Hr.get(n.childNodes[r]);e instanceof So&&(t=e.domAtPos(e.length))}return t?new jr(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=Hr.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof So)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,r=0;for(let o=this.length,i=this.children.length-1;i>=0;i--){let a=this.children[i],s=o-a.breakAfter,l=s-a.length;if(s<e)break;if(l<=e&&(l<e||a.covers(-1))&&(s>e||a.covers(1))&&(!n||a instanceof So&&!(n instanceof So&&t>=0)))n=a,r=l;else if(n&&l==e&&s==e&&a instanceof Io&&Math.abs(t)<2){if(a.deco.startSide<0)break;i&&(n=null)}o=l}return n?n.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),r=this.children[t];if(!(r instanceof So))return null;for(;r.children.length;){let{i:e,off:t}=r.childPos(n,1);for(;;e++){if(e==r.children.length)return null;if((r=r.children[e]).length)break}n=t}if(!(r instanceof io))return null;let o=Ft(r.text,n);if(o==n)return null;let i=Tr(r.dom,n,o).getClientRects();for(let e=0;e<i.length;e++){let t=i[e];if(e==i.length-1||t.top<t.bottom&&t.left<t.right)return t}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,o=this.view.contentDOM.clientWidth,i=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,s=this.view.textDirection==Do.LTR;for(let e=0,l=0;l<this.children.length;l++){let c=this.children[l],u=e+c.length;if(u>r)break;if(e>=n){let n=c.dom.getBoundingClientRect();if(t.push(n.height),i){let t=c.dom.lastChild,r=t?yr(t):[];if(r.length){let t=r[r.length-1],i=s?t.right-n.left:n.right-t.left;i>a&&(a=i,this.minWidth=o,this.minWidthFrom=e,this.minWidthTo=u)}}}e=u+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Do.RTL:Do.LTR}measureTextSize(){for(let e of this.children)if(e instanceof So){let t=e.measureTextSize();if(t)return t}let e,t,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let o=yr(r.firstChild)[0];e=r.getBoundingClientRect().height,t=o?o.width/27:7,n=o?o.height:e,r.remove()})),{lineHeight:e,charWidth:t,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new qr(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],i=o?o.from-1:this.length;if(i>n){let r=(t.lineBlockAt(i).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(yo.replace({widget:new Mo(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,i))}if(!o)break;n=o.to+1}return yo.set(e)}updateDeco(){let e=1,t=this.view.state.facet(yi).map((t=>(this.dynamicDecorationMap[e++]="function"==typeof t)?t(this.view):t)),n=!1,r=this.view.state.facet(Ci).map(((e,t)=>{let r="function"==typeof e;return r&&(n=!0),r?e(this.view):e}));for(r.length&&(this.dynamicDecorationMap[e++]=n,t.push($n.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}for(let t of this.view.state.facet(ci))try{if(t(this.view,e.range,e))return!0}catch(e){fi(this.view.state,e,"scroll handler")}let t,{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let o=Si(this.view),i={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:s}=this.view.scrollDOM;!function(e,t,n,r,o,i,a,s){let l=e.ownerDocument,c=l.defaultView||window;for(let u=e,h=!1;u&&!h;)if(1==u.nodeType){let e,d=u==l.body,f=1,p=1;if(d)e=Ir(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let t=u.getBoundingClientRect();({scaleX:f,scaleY:p}=Mr(u,t)),e={left:t.left,right:t.left+u.clientWidth*f,top:t.top,bottom:t.top+u.clientHeight*p}}let m=0,A=0;if("nearest"==o)t.top<e.top?(A=t.top-(e.top+a),n>0&&t.bottom>e.bottom+A&&(A=t.bottom-e.bottom+a)):t.bottom>e.bottom&&(A=t.bottom-e.bottom+a,n<0&&t.top-A<e.top&&(A=t.top-(e.top+a)));else{let r=t.bottom-t.top,i=e.bottom-e.top;A=("center"==o&&r<=i?t.top+r/2-i/2:"start"==o||"center"==o&&n<0?t.top-a:t.bottom-i+a)-e.top}if("nearest"==r?t.left<e.left?(m=t.left-(e.left+i),n>0&&t.right>e.right+m&&(m=t.right-e.right+i)):t.right>e.right&&(m=t.right-e.right+i,n<0&&t.left<e.left+m&&(m=t.left-(e.left+i))):m=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==s?t.left-i:t.right-(e.right-e.left)+i)-e.left,m||A)if(d)c.scrollBy(m,A);else{let e=0,n=0;if(A){let e=u.scrollTop;u.scrollTop+=A/p,n=(u.scrollTop-e)*p}if(m){let t=u.scrollLeft;u.scrollLeft+=m/f,e=(u.scrollLeft-t)*f}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-m)<1&&(r="nearest"),n&&Math.abs(n-A)<1&&(o="nearest")}if(d)break;(t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)&&(t={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)}),u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,i,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,s),-s),this.view.textDirection==Do.LTR)}}function Bi(e,t){let n=e.observer.selectionRange;if(!n.focusNode)return null;let r=Fr(n.focusNode,n.focusOffset),o=_r(n.focusNode,n.focusOffset),i=r||o;if(o&&r&&o.node!=r.node){let t=Hr.get(o.node);if(!t||t instanceof io&&t.text!=o.node.nodeValue)i=o;else if(e.docView.lastCompositionAfterCursor){let e=Hr.get(r.node);!e||e instanceof io&&e.text!=r.node.nodeValue||(i=o)}}if(e.docView.lastCompositionAfterCursor=i!=r,!i)return null;let a=t-i.offset;return{from:a,to:a+i.node.nodeValue.length,node:i.node}}let Di=class{constructor(){this.changes=[]}compareRange(e,t){Eo(e,t,this.changes)}comparePoint(e,t){Eo(e,t,this.changes)}boundChange(e){Eo(e,e,this.changes)}};function Ti(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function Ri(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Li(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function zi(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Fi(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function _i(e,t,n){let r,o,i,a,s,l,c,u,h=!1;for(let d=e.firstChild;d;d=d.nextSibling){let e=yr(d);for(let f=0;f<e.length;f++){let p=e[f];o&&Li(o,p)&&(p=zi(Fi(p,o.bottom),o.top));let m=Ti(t,p),A=Ri(n,p);if(0==m&&0==A)return 3==d.nodeType?ji(d,t,n):_i(d,t,n);if(!r||a>A||a==A&&i>m){r=d,o=p,i=m,a=A;let s=A?n<p.top?-1:1:m?t<p.left?-1:1:0;h=!s||(s>0?f<e.length-1:f>0)}0==m?n>p.bottom&&(!c||c.bottom<p.bottom)?(s=d,c=p):n<p.top&&(!u||u.top>p.top)&&(l=d,u=p):c&&Li(c,p)?c=Fi(c,p.bottom):u&&Li(u,p)&&(u=zi(u,p.top))}}if(c&&c.bottom>=n?(r=s,o=c):u&&u.top<=n&&(r=l,o=u),!r)return{node:e,offset:0};let d=Math.max(o.left,Math.min(o.right,t));return 3==r.nodeType?ji(r,d,n):h&&"false"!=r.contentEditable?_i(r,d,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(o.left+o.right)/2?1:0)}}function ji(e,t,n){let r=e.nodeValue.length,o=-1,i=1e9,a=0;for(let s=0;s<r;s++){let r=Tr(e,s,s+1).getClientRects();for(let l=0;l<r.length;l++){let c=r[l];if(c.top==c.bottom)continue;a||(a=t-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&u<i){let n=t>=(c.left+c.right)/2,r=n;if((oo.chrome||oo.gecko)&&Tr(e,s).getBoundingClientRect().left==c.right&&(r=!n),u<=0)return{node:e,offset:s+(r?1:0)};o=s+(r?1:0),i=u}}}return{node:e,offset:o>-1?o:a>0?e.nodeValue.length:0}}function Wi(e,t,n,r=-1){var o,i;let a,s=e.contentDOM.getBoundingClientRect(),l=s.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:u,y:h}=t,d=h-l;if(d<0)return 0;if(d>c)return e.state.doc.length;for(let t=e.viewState.heightOracle.textHeight/2,o=!1;a=e.elementAtHeight(d),a.type!=bo.Text;)for(;d=r>0?a.bottom+t:a.top-t,!(d>=0&&d<=c);){if(o)return n?null:0;o=!0,r=-r}h=l+d;let f=a.from;if(f<e.viewport.from)return 0==e.viewport.from?0:n?null:Hi(e,s,a,u,h);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:Hi(e,s,a,u,h);let p=e.dom.ownerDocument,m=e.root.elementFromPoint?e.root:p,A=m.elementFromPoint(u,h);A&&!e.contentDOM.contains(A)&&(A=null),A||(u=Math.max(s.left+1,Math.min(s.right-1,u)),A=m.elementFromPoint(u,h),A&&!e.contentDOM.contains(A)&&(A=null));let g,v=-1;if(A&&0!=(null===(o=e.docView.nearest(A))||void 0===o?void 0:o.isEditable)){if(p.caretPositionFromPoint){let e=p.caretPositionFromPoint(u,h);e&&({offsetNode:g,offset:v}=e)}else if(p.caretRangeFromPoint){let t=p.caretRangeFromPoint(u,h);t&&(({startContainer:g,startOffset:v}=t),(!e.contentDOM.contains(g)||oo.safari&&function(e,t,n){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return Tr(e,r-1,r).getBoundingClientRect().left>n}(g,v,u)||oo.chrome&&function(e,t,n){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}return n-(1==e.nodeType?e.getBoundingClientRect():Tr(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}(g,v,u))&&(g=void 0))}g&&(v=Math.min(Er(g),v))}if(!g||!e.docView.dom.contains(g)){let t=So.find(e.docView,f);if(!t)return d>a.top+a.height/2?a.to:a.from;({node:g,offset:v}=_i(t.dom,u,h))}let w=e.docView.nearest(g);if(!w)return null;if(w.isWidget&&1==(null===(i=w.dom)||void 0===i?void 0:i.nodeType)){let e=w.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?w.posAtStart:w.posAtEnd}return w.localPosFromDOM(g,v)+w.posAtStart}function Hi(e,t,n,r,o){let i=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;i+=Math.floor((o-n.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(n.from,n.to);return n.from+ir(a,i,e.state.tabSize)}function Vi(e,t,n){let r=e.lineBlockAt(t);if(Array.isArray(r.type)){let e;for(let o of r.type){if(o.from>t)break;if(!(o.to<t)){if(o.from<t&&o.to>t)return o;e&&(o.type!=bo.Text||e.type==o.type&&!(n<0?o.from<t:o.to>t))||(e=o)}}return e||r}return r}function qi(e,t,n,r){let o=e.state.doc.lineAt(t.head),i=e.bidiSpans(o),a=e.textDirectionAt(o.from);for(let s=t,l=null;;){let t=Yo(o,i,a,s,n),c=Qo;if(!t){if(o.number==(n?e.state.doc.lines:1))return s;c="\n",o=e.state.doc.line(o.number+(n?1:-1)),i=e.bidiSpans(o),t=e.visualLineSide(o,!n)}if(l){if(!l(c))return s}else{if(!r)return t;l=r(c)}s=t}}function Ui(e,t,n){for(;;){let r=0;for(let o of e)o.between(t-1,t+1,((e,o,i)=>{if(t>e&&t<o){let i=r||n||(t-e<o-t?-1:1);t=i<0?e:o,r=i}}));if(!r)return t}}function $i(e,t,n){let r=Ui(e.state.facet(xi).map((t=>t(e))),n.from,t.head>n.from?-1:1);return r==n.from?n:Zt.cursor(r,r<n.from?1:-1)}const Ki="￿";class Gi{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(jn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ki}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let e=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==t)break;let i=Hr.get(r),a=Hr.get(o);(i&&a?i.breakAfter:(i?i.breakAfter:kr(r))||kr(o)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>e)&&this.lineBreak(),r=o}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o,i=-1,a=1;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,n),a=this.lineSeparator.length):(o=r.exec(t))&&(i=o.index,a=o[0].length),this.append(t.slice(n,i<0?t.length:i)),i<0)break;if(this.lineBreak(),a>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=a-1);n=i+a}}readNode(e){if(e.cmIgnore)return;let t=Hr.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(Qi(e,n.node,n.offset)?t:0))}}function Qi(e,t,n){for(;;){if(!t||n<Er(t))return!1;if(t==e)return!0;n=xr(t)+1,t=t.parentNode}}class Yi{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Xi{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:i}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let t=o||i?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}=e.observer.selectionRange;return n&&(t.push(new Yi(n,r)),o==n&&i==r||t.push(new Yi(o,i))),t}(e),n=new Gi(t,e.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(e,t){if(0==e.length)return null;let n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?Zt.single(n+t,r+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=o&&o.node==t.focusNode&&o.offset==t.focusOffset||!wr(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),r=i&&i.node==t.anchorNode&&i.offset==t.anchorOffset||!wr(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset),a=e.viewport;if((oo.ios||oo.chrome)&&e.state.selection.main.empty&&n!=r&&(a.from>0||a.to<e.state.doc.length)){let t=Math.min(n,r),o=Math.max(n,r),i=a.from-t,s=a.to-o;0!=i&&1!=i&&0!=t||0!=s&&-1!=s&&o!=e.state.doc.length||(n=0,r=e.state.doc.length)}this.newSel=Zt.single(r,n)}}}function Ji(e,t){let n,{newSel:r}=t,o=e.state.selection.main,i=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:r,to:a}=t.bounds,s=o.from,l=null;(8===i||oo.android&&t.text.length<a-r)&&(s=o.to,l="end");let c=function(e,t,n,r){let o=Math.min(e.length,t.length),i=0;for(;i<o&&e.charCodeAt(i)==t.charCodeAt(i);)i++;if(i==o&&e.length==t.length)return null;let a=e.length,s=t.length;for(;a>0&&s>0&&e.charCodeAt(a-1)==t.charCodeAt(s-1);)a--,s--;return"end"==r&&(n-=a+Math.max(0,i-Math.min(a,s))-i),a<i&&e.length<t.length?(i-=n<=i&&n>=a?i-n:0,s=i+(s-a),a=i):s<i&&(i-=n<=i&&n>=s?i-n:0,a=i+(a-s),s=i),{from:i,toA:a,toB:s}}(e.state.doc.sliceString(r,a,Ki),t.text,s-r,l);c&&(oo.chrome&&13==i&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==Ki+Ki&&c.toB--,n={from:r+c.from,to:r+c.toA,insert:It.of(t.text.slice(c.from,c.toB).split(Ki))})}else r&&(!e.hasFocus&&e.state.facet(pi)||r.main.eq(o))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!o.empty&&r&&r.main.empty?n={from:o.from,to:o.to,insert:e.state.doc.slice(o.from,o.to)}:(oo.mac||oo.android)&&n&&n.from==n.to&&n.from==o.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(r&&2==n.insert.length&&(r=Zt.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:It.of([n.insert.toString().replace("."," ")])}):n&&n.from>=o.from&&n.to<=o.to&&(n.from!=o.from||n.to!=o.to)&&o.to-o.from-(n.to-n.from)<=4?n={from:o.from,to:o.to,insert:e.state.doc.slice(o.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,o.to))}:oo.chrome&&n&&n.from==n.to&&n.from==o.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=Zt.single(r.main.anchor-1,r.main.head-1)),n={from:o.from,to:o.to,insert:It.of([" "])}),n)return Zi(e,n,r,i);if(r&&!r.main.eq(o)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:t,userEvent:n}),!0}return!1}function Zi(e,t,n,r=-1){if(oo.ios&&e.inputState.flushIOSKey(t))return!0;let o=e.state.selection.main;if(oo.android&&(t.to==o.to&&(t.from==o.from||t.from==o.from-1&&" "==e.state.sliceDoc(t.from,o.from))&&1==t.insert.length&&2==t.insert.lines&&Rr(e.contentDOM,"Enter",13)||(t.from==o.from-1&&t.to==o.to&&0==t.insert.length||8==r&&t.insert.length<t.to-t.from&&t.to>o.head)&&Rr(e.contentDOM,"Backspace",8)||t.from==o.from&&t.to==o.to+1&&0==t.insert.length&&Rr(e.contentDOM,"Delete",46)))return!0;let i,a=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let s=()=>i||(i=function(e,t,n){let r,o=e.state,i=o.selection.main;if(t.from>=i.from&&t.to<=i.to&&t.to-t.from>=(i.to-i.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let n=i.from<t.from?o.sliceDoc(i.from,t.from):"",a=i.to>t.to?o.sliceDoc(t.to,i.to):"";r=o.replaceSelection(e.state.toText(n+t.insert.sliceString(0,void 0,e.state.lineBreak)+a))}else{let a=o.changes(t),s=n&&n.main.to<=a.newLength?n.main:void 0;if(o.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=i.to&&t.to>=i.to-10){let l,c=e.state.sliceDoc(t.from,t.to),u=n&&Bi(e,n.main.head);if(u){let e=t.insert.length-(t.to-t.from);l={from:u.from,to:u.to-e}}else l=e.state.doc.lineAt(i.head);let h=i.to-t.to,d=i.to-i.from;r=o.changeByRange((n=>{if(n.from==i.from&&n.to==i.to)return{changes:a,range:s||n.map(a)};let r=n.to-h,u=r-c.length;if(n.to-n.from!=d||e.state.sliceDoc(u,r)!=c||n.to>=l.from&&n.from<=l.to)return{range:n};let f=o.changes({from:u,to:r,insert:t.insert}),p=n.to-i.to;return{changes:f,range:s?Zt.range(Math.max(0,s.anchor+p),Math.max(0,s.head+p)):n.map(f)}}))}else r={changes:a,selection:s&&o.selection.replaceRange(s)}}let a="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),o.update(r,{userEvent:a,scrollIntoView:!0})}(e,t,n));return e.state.facet(ri).some((n=>n(e,t.from,t.to,a,s)))||e.dispatch(s()),!0}class ea{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,oo.safari&&e.contentDOM.addEventListener("input",(()=>null)),oo.gecko&&function(e){Sa.has(e)||(Sa.add(e),e.addEventListener("copy",(()=>{})),e.addEventListener("cut",(()=>{})))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=Hr.get(r))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||(0!=this.view.updateState?Promise.resolve().then((()=>this.runHandlers(e.type,e))):this.runHandlers(e.type,e)))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let e of n.observers)e(this.view,t);for(let e of n.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=na(e),n=this.handlers,r=this.view.contentDOM;for(let e in t)if("scroll"!=e){let o=!t[e].handlers.length,i=n[e];i&&o!=!i.handlers.length&&(r.removeEventListener(e,this.handleEvent),i=null),i||r.addEventListener(e,this.handleEvent,{passive:o})}for(let e in n)"scroll"==e||t[e]||r.removeEventListener(e,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=e.keyCode&&ia.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),oo.android&&oo.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!oo.ios||e.synthetic||e.altKey||e.metaKey||!((t=ra.find((t=>t.keyCode==e.keyCode)))&&!e.ctrlKey||oa.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&!("Enter"==t.key&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString()))&&(this.pendingIOSKey=void 0,Rr(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(oo.safari&&!oo.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function ta(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(e){fi(n.state,e)}}}function na(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let t of e){let e=t.spec;if(e&&e.domEventHandlers)for(let r in e.domEventHandlers){let o=e.domEventHandlers[r];o&&n(r).handlers.push(ta(t.value,o))}if(e&&e.domEventObservers)for(let r in e.domEventObservers){let o=e.domEventObservers[r];o&&n(r).observers.push(ta(t.value,o))}}for(let e in la)n(e).handlers.push(la[e]);for(let e in ca)n(e).observers.push(ca[e]);return t}const ra=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],oa="dthko",ia=[16,17,18,20,91,92,224,225];function aa(e){return.7*Math.max(0,e)+8}class sa{constructor(e,t,n,r){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=function(e){let t,n,r=e.ownerDocument;for(let o=e.parentNode;o&&!(o==r.body||t&&n);)if(1==o.nodeType)!n&&o.scrollHeight>o.clientHeight&&(n=o),!t&&o.scrollWidth>o.clientWidth&&(t=o),o=o.assignedSlot||o.parentNode;else{if(11!=o.nodeType)break;o=o.host}return{x:t,y:n}}(e.contentDOM),this.atoms=e.state.facet(xi).map((t=>t(e)));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(jn.allowMultipleSelections)&&function(e,t){let n=e.state.facet(Jo);return n.length?n[0](t):oo.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=vr(e.root);if(!r||0==r.rangeCount)return!0;let o=r.getRangeAt(0).getClientRects();for(let e=0;e<o.length;e++){let n=o[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(e,t)||1!=ya(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(t=this.startEvent,n=e,Math.max(Math.abs(t.clientX-n.clientX),Math.abs(t.clientY-n.clientY))<10))return;var t,n;this.select(this.lastEvent=e);let r=0,o=0,i=0,a=0,s=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:l}=this.scrollParents.y.getBoundingClientRect());let c=Si(this.view);e.clientX-c.left<=i+6?r=-aa(i-e.clientX):e.clientX+c.right>=s-6&&(r=aa(e.clientX-s)),e.clientY-c.top<=a+6?o=-aa(a-e.clientY):e.clientY+c.bottom>=l-6&&(o=aa(e.clientY-l)),this.setScrollSpeed(r,o)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let r=e.ranges[n],o=null;if(r.empty){let e=Ui(this.atoms,r.from,0);e!=r.from&&(o=Zt.cursor(e,-1))}else{let e=Ui(this.atoms,r.from,-1),t=Ui(this.atoms,r.to,1);e==r.from&&t==r.to||(o=Zt.range(r.from==r.anchor?e:t,r.from==r.head?e:t))}o&&(t||(t=e.ranges.slice()),t[n]=o)}return t?Zt.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&n.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some((e=>e.isUserEvent("input.type")))?this.destroy():this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const la=Object.create(null),ca=Object.create(null),ua=oo.ie&&oo.ie_version<15||oo.ios&&oo.webkit_version<604;function ha(e,t,n){for(let r of e.facet(t))n=r(n,e);return n}function da(e,t){t=ha(e.state,ii,t);let n,{state:r}=e,o=1,i=r.toText(t),a=i.lines==r.selection.ranges.length;if(null!=xa&&r.selection.ranges.every((e=>e.empty))&&xa==i.toString()){let e=-1;n=r.changeByRange((n=>{let s=r.doc.lineAt(n.from);if(s.from==e)return{range:n};e=s.from;let l=r.toText((a?i.line(o++).text:t)+r.lineBreak);return{changes:{from:s.from,insert:l},range:Zt.cursor(n.from+l.length)}}))}else n=a?r.changeByRange((e=>{let t=i.line(o++);return{changes:{from:e.from,to:e.to,insert:t.text},range:Zt.cursor(e.from+t.length)}})):r.replaceSelection(i);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function fa(e,t,n,r){if(1==r)return Zt.cursor(t,n);if(2==r)return function(e,t,n=1){let r=e.charCategorizer(t),o=e.doc.lineAt(t),i=t-o.from;if(0==o.length)return Zt.cursor(t);0==i?n=1:i==o.length&&(n=-1);let a=i,s=i;n<0?a=Ft(o.text,i,!1):s=Ft(o.text,i);let l=r(o.text.slice(a,s));for(;a>0;){let e=Ft(o.text,a,!1);if(r(o.text.slice(e,a))!=l)break;a=e}for(;s<o.length;){let e=Ft(o.text,s);if(r(o.text.slice(s,e))!=l)break;s=e}return Zt.range(a+o.from,s+o.from)}(e.state,t,n);{let n=So.find(e.docView,t),r=e.state.doc.lineAt(n?n.posAtEnd:t),o=n?n.posAtStart:r.from,i=n?n.posAtEnd:r.to;return i<e.state.doc.length&&i==r.to&&i++,Zt.range(o,i)}}ca.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},la.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&0!=e.inputState.tabFocusMode&&(e.inputState.tabFocusMode=Date.now()+2e3),!1),ca.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},ca.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},la.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(ei))if(n=r(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=Aa(e,t),r=ya(t),o=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),o=o.map(e.changes))},get(t,i,a){let s,l=Aa(e,t),c=fa(e,l.pos,l.bias,r);if(n.pos!=l.pos&&!i){let t=fa(e,n.pos,n.bias,r),o=Math.min(t.from,c.from),i=Math.max(t.to,c.to);c=o<c.from?Zt.range(o,i):Zt.range(i,o)}return i?o.replaceRange(o.main.extend(c.from,c.to)):a&&1==r&&o.ranges.length>1&&(s=function(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:o}=e.ranges[n];if(r<=t&&o>=t)return Zt.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(o,l.pos))?s:a?o.addRange(c):Zt.create([c])}}}(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new sa(e,t,n,r)),r&&e.observer.ignore((()=>{Dr(e.contentDOM);let t=e.root.activeElement;t&&!t.contains(e.contentDOM)&&t.blur()}));let o=e.inputState.mouseSelection;if(o)return o.start(t),!1===o.dragging}return!1};let pa=(e,t,n)=>t>=n.top&&t<=n.bottom&&e>=n.left&&e<=n.right;function ma(e,t,n,r){let o=So.find(e.docView,t);if(!o)return 1;let i=t-o.posAtStart;if(0==i)return 1;if(i==o.length)return-1;let a=o.coordsAt(i,-1);if(a&&pa(n,r,a))return-1;let s=o.coordsAt(i,1);return s&&pa(n,r,s)?1:a&&a.bottom>=r?-1:1}function Aa(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:ma(e,n,t.clientX,t.clientY)}}const ga=oo.ie&&oo.ie_version<=11;let va=null,wa=0,ba=0;function ya(e){if(!ga)return e.detail;let t=va,n=ba;return va=e,ba=Date.now(),wa=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(wa+1)%3:1}function Ca(e,t,n,r){if(!(n=ha(e.state,ii,n)))return;let o=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:i}=e.inputState,a=r&&i&&function(e,t){let n=e.state.facet(Zo);return n.length?n[0](t):oo.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:i.from,to:i.to}:null,s={from:o,insert:n},l=e.state.changes(a?[a,s]:s);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(o,-1),head:l.mapPos(o,1)},userEvent:a?"move.drop":"input.drop"}),e.inputState.draggedContent=null}la.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let r=e.docView.nearest(t.target);if(r&&r.isWidget){let e=r.posAtStart,t=e+r.length;(e>=n.to||t<=n.from)&&(n=Zt.range(e,t))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",ha(e.state,ai,e.state.sliceDoc(n.from,n.to))),t.dataTransfer.effectAllowed="copyMove"),!1},la.dragend=e=>(e.inputState.draggedContent=null,!1),la.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),o=0,i=()=>{++o==n.length&&Ca(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=i,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),i()},t.readAsText(n[e])}return!0}{let n=t.dataTransfer.getData("Text");if(n)return Ca(e,t,n,!0),!0}return!1},la.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=ua?null:t.clipboardData;return n?(da(e,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),da(e,n.value)}),50)}(e),!1)};let xa=null;la.copy=la.cut=(e,t)=>{let{text:n,ranges:r,linewise:o}=function(e){let t=[],n=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),n.push(r));if(!t.length){let o=-1;for(let{from:r}of e.selection.ranges){let i=e.doc.lineAt(r);i.number>o&&(t.push(i.text),n.push({from:i.from,to:Math.min(e.doc.length,i.to+1)})),o=i.number}r=!0}return{text:ha(e,ai,t.join(e.lineBreak)),ranges:n,linewise:r}}(e.state);if(!n&&!o)return!1;xa=o?n:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let i=ua?null:t.clipboardData;return i?(i.clearData(),i.setData("text/plain",n),!0):(function(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,n),!1)};const ka=En.define();function Pa(e,t){let n=[];for(let r of e.facet(oi)){let o=r(e,t);o&&n.push(o)}return n.length?e.update({effects:n,annotations:ka.of(!0)}):null}function Ea(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=Pa(e.state,t);n?e.dispatch(n):e.update([])}}),10)}ca.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),Ea(e)},ca.blur=e=>{e.observer.clearSelectionRange(),Ea(e)},ca.compositionstart=ca.compositionupdate=e=>{e.observer.editContext||(null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))},ca.compositionend=e=>{e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,oo.chrome&&oo.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((()=>e.observer.flush())):setTimeout((()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50))},ca.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},la.beforeinput=(e,t)=>{var n,r;if("insertReplacementText"==t.inputType&&e.observer.editContext){let r=null===(n=t.dataTransfer)||void 0===n?void 0:n.getData("text/plain"),o=t.getTargetRanges();if(r&&o.length){let t=o[0],n=e.posAtDOM(t.startContainer,t.startOffset),i=e.posAtDOM(t.endContainer,t.endOffset);return Zi(e,{from:n,to:i,insert:e.state.toText(r)},null),!0}}let o;if(oo.chrome&&oo.android&&(o=ra.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(o.key,o.keyCode),"Backspace"==o.key||"Delete"==o.key)){let t=(null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return oo.ios&&"deleteContentForward"==t.inputType&&e.observer.flushSoon(),oo.safari&&"insertText"==t.inputType&&e.inputState.composing>=0&&setTimeout((()=>ca.compositionend(e,t)),20),!1};const Sa=new Set,Ia=["pre-wrap","normal","pre-line","break-spaces"];let Ma=!1;function Oa(){Ma=!1}class Na{constructor(e){this.lineWrapping=e,this.doc=It.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Ia.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,n,r,o,i){let a=Ia.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=o,s){this.heightSamples={};for(let e=0;e<i.length;e++){let t=i[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return s}}class Ba{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Da{constructor(e,t,n,r,o){this.from=e,this.length=t,this.top=n,this.height=r,this._content=o}get type(){return"number"==typeof this._content?bo.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ko?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Da(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ta=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Ta||(Ta={}));const Ra=.001;class La{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ra&&(Ma=!0),this.height=e)}replace(e,t,n){return La.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let o=this,i=n.doc;for(let a=r.length-1;a>=0;a--){let{fromA:s,toA:l,fromB:c,toB:u}=r[a],h=o.lineAt(s,Ta.ByPosNoHeight,n.setDoc(t),0,0),d=h.to>=l?h:o.lineAt(l,Ta.ByPosNoHeight,n,0,0);for(u+=d.to-l,l=d.to;a>0&&h.from<=r[a-1].toA;)s=r[a-1].fromA,c=r[a-1].fromB,a--,s<h.from&&(h=o.lineAt(s,Ta.ByPosNoHeight,n,0,0));c+=h.from-s,s=h.from;let f=Va.build(n.setDoc(i),e,c,u);o=za(o,o.replace(s,l,f))}return o.updateHeight(n,0)}static empty(){return new _a(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,r=0,o=0;for(;;)if(t==n)if(r>2*o){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),n+=1+o.break,r-=o.size}else{if(!(o>2*r))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,o-=t.size}}else if(r<o){let n=e[t++];n&&(r+=n.size)}else{let t=e[--n];t&&(o+=t.size)}let i=0;return null==e[t-1]?(i=1,t--):null==e[t]&&(i=1,n++),new Wa(La.of(e.slice(0,t)),i,La.of(e.slice(n)))}}function za(e,t){return e==t?e:(e.constructor!=t.constructor&&(Ma=!0),t)}La.prototype.size=1;class Fa extends La{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,r){return new Da(r,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,r,o){return this.blockAt(0,n,r,o)}forEachLine(e,t,n,r,o,i){e<=o+this.length&&t>=o&&i(this.blockAt(0,n,r,o))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class _a extends Fa{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,r){return new Da(r,this.length,n,this.height,this.breaks)}replace(e,t,n){let r=n[0];return 1==n.length&&(r instanceof _a||r instanceof ja&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof ja?r=new _a(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):La.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ja extends La{constructor(e){super(e,0)}heightMetrics(e,t){let n,r=e.doc.lineAt(t).number,o=e.doc.lineAt(t+this.length).number,i=o-r+1,a=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*i);n=t/i,this.length>i+1&&(a=(this.height-t)/(this.length-i-1))}else n=this.height/i;return{firstLine:r,lastLine:o,perLine:n,perChar:a}}blockAt(e,t,n,r){let{firstLine:o,lastLine:i,perLine:a,perChar:s}=this.heightMetrics(t,r);if(t.lineWrapping){let o=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),i=t.doc.lineAt(o),l=a+i.length*s,c=Math.max(n,e-l/2);return new Da(i.from,i.length,c,l,0)}{let r=Math.max(0,Math.min(i-o,Math.floor((e-n)/a))),{from:s,length:l}=t.doc.line(o+r);return new Da(s,l,n+a*r,a,0)}}lineAt(e,t,n,r,o){if(t==Ta.ByHeight)return this.blockAt(e,n,r,o);if(t==Ta.ByPosNoHeight){let{from:t,to:r}=n.doc.lineAt(e);return new Da(t,r-t,0,0,0)}let{firstLine:i,perLine:a,perChar:s}=this.heightMetrics(n,o),l=n.doc.lineAt(e),c=a+l.length*s,u=l.number-i,h=r+a*u+s*(l.from-o-u);return new Da(l.from,l.length,Math.max(r,Math.min(h,r+this.height-c)),c,0)}forEachLine(e,t,n,r,o,i){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:a,perLine:s,perChar:l}=this.heightMetrics(n,o);for(let c=e,u=r;c<=t;){let t=n.doc.lineAt(c);if(c==e){let n=t.number-a;u+=s*n+l*(e-o-n)}let r=s+l*t.length;i(new Da(t.from,t.length,u,r,0)),u+=r,c=t.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let e=n[n.length-1];e instanceof ja?n[n.length-1]=new ja(e.length+r):n.push(null,new ja(r-1))}if(e>0){let t=n[0];t instanceof ja?n[0]=new ja(e+t.length):n.unshift(new ja(e-1),null)}return La.of(n)}decomposeLeft(e,t){t.push(new ja(e-1),null)}decomposeRight(e,t){t.push(null,new ja(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let n=[],i=Math.max(t,r.from),a=-1;for(r.from>t&&n.push(new ja(r.from-t-1).updateHeight(e,t));i<=o&&r.more;){let t=e.doc.lineAt(i).length;n.length&&n.push(null);let o=r.heights[r.index++];-1==a?a=o:Math.abs(o-a)>=Ra&&(a=-2);let s=new _a(t,o);s.outdated=!1,n.push(s),i+=t+1}i<=o&&n.push(null,new ja(o-i).updateHeight(e,i));let s=La.of(n);return(a<0||Math.abs(s.height-this.height)>=Ra||Math.abs(a-this.heightMetrics(e,t).perLine)>=Ra)&&(Ma=!0),za(this,s)}return(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Wa extends La{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,r){let o=n+this.left.height;return e<o?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,n,r,o){let i=r+this.left.height,a=o+this.left.length+this.break,s=t==Ta.ByHeight?e<i:e<a,l=s?this.left.lineAt(e,t,n,r,o):this.right.lineAt(e,t,n,i,a);if(this.break||(s?l.to<a:l.from>a))return l;let c=t==Ta.ByPosNoHeight?Ta.ByPosNoHeight:Ta.ByPos;return s?l.join(this.right.lineAt(a,c,n,i,a)):this.left.lineAt(a,c,n,r,o).join(l)}forEachLine(e,t,n,r,o,i){let a=r+this.left.height,s=o+this.left.length+this.break;if(this.break)e<s&&this.left.forEachLine(e,t,n,r,o,i),t>=s&&this.right.forEachLine(e,t,n,a,s,i);else{let l=this.lineAt(s,Ta.ByPos,n,r,o);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,o,i),l.to>=e&&l.from<=t&&i(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,a,s,i)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let o=[];e>0&&this.decomposeLeft(e,o);let i=o.length;for(let e of n)o.push(e);if(e>0&&Ha(o,i-1),t<this.length){let e=o.length;this.decomposeRight(t,o),Ha(o,e)}return La.of(o)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?La.of(this.break?[e,null,t]:[e,t]):(this.left=za(this.left,e),this.right=za(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:o,right:i}=this,a=t+o.length+this.break,s=null;return r&&r.from<=t+o.length&&r.more?s=o=o.updateHeight(e,t,n,r):o.updateHeight(e,t,n),r&&r.from<=a+i.length&&r.more?s=i=i.updateHeight(e,a,n,r):i.updateHeight(e,a,n),s?this.balanced(o,i):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Ha(e,t){let n,r;null==e[t]&&(n=e[t-1])instanceof ja&&(r=e[t+1])instanceof ja&&e.splice(t-1,3,new ja(n.length+1+r.length))}class Va{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof _a?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new _a(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let i=t-e;n.block?this.addBlock(new Fa(i,r,n)):(i||o||r>=5)&&this.addLineDeco(r,o,i)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new _a(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new ja(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof _a)return e;let t=new _a(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof _a||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new _a(0,-1));let n=e;for(let e of this.nodes)e instanceof _a&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,r){let o=new Va(n,e);return $n.spans(t,n,r,o,0),o.finish(n)}}class qa{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&Eo(e,t,this.changes,5)}}function Ua(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,o=r.defaultView||window,i=Math.max(0,n.left),a=Math.min(o.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(o.innerHeight,n.bottom);for(let t=e.parentNode;t&&t!=r.body;)if(1==t.nodeType){let n=t,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();i=Math.max(i,r.left),a=Math.min(a,r.right),s=Math.max(s,r.top),l=Math.min(t==e.parentNode?o.innerHeight:l,r.bottom)}t="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:i-n.left,right:Math.max(i,a)-n.left,top:s-(n.top+t),bottom:Math.max(s,l)-(n.top+t)}}function $a(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class Ka{constructor(e,t,n,r){this.from=e,this.to=t,this.size=n,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e,t){return yo.replace({widget:new Ga(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Ga extends wo{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Qa{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Za,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Do.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(bi).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new Na(t),this.stateDeco=e.facet(yi).filter((e=>"function"!=typeof e)),this.heightMap=La.empty().applyChanges(this.stateDeco,It.empty,this.heightOracle.setDoc(e.doc),[new Mi(0,0,0,e.doc.length)]);for(let e=0;e<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());e++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=yo.set(this.lineGaps.map((e=>e.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>r>=e&&r<=t))){let{from:t,to:n}=this.lineBlockAt(r);e.push(new Ya(t,n))}}return this.viewports=e.sort(((e,t)=>e.from-t.from)),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Za:new es(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(ts(e,this.scaler))}))}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(yi).filter((e=>"function"!=typeof e));let r=e.changedRanges,o=Mi.extendWithRanges(r,function(e,t,n){let r=new qa;return $n.compare(e,t,n,r,0),r.changes}(n,this.stateDeco,e?e.changes:Ut.empty(this.state.doc.length))),i=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Oa(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=i||Ma)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=i);let s=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));let l=s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,e.flags|=this.updateForViewport(),(l||!e.changes.empty||2&e.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(li)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?Do.RTL:Do.LTR;let i=this.heightOracle.mustRefreshForWrapping(o),a=t.getBoundingClientRect(),s=i||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let l=0,c=0;if(a.width&&a.height){let{scaleX:e,scaleY:n}=Mr(t,a);(e>.005&&Math.abs(this.scaleX-e)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=e,this.scaleY=n,l|=16,i=s=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,h=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==h||(this.paddingTop=u,this.paddingBottom=h,l|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=16);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=zr(e.scrollDOM);let f=(this.printing?$a:Ua)(t,this.paddingTop),p=f.top-this.pixelViewport.top,m=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let A=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(A!=this.inView&&(this.inView=A,A&&(s=!0)),!this.inView&&!this.scrollTarget&&!function(e){let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView||window;return t.left<n.innerWidth&&t.right>0&&t.top<n.innerHeight&&t.bottom>0}(e.dom))return 0;let g=a.width;if(this.contentDOMWidth==g&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,l|=16),s){let t=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(t)&&(i=!0),i||r.lineWrapping&&Math.abs(g-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:a,textHeight:s}=e.docView.measureTextSize();i=n>0&&r.refresh(o,n,a,s,g/a,t),i&&(e.docView.minWidth=0,l|=16)}p>0&&m>0?c=Math.max(p,m):p<0&&m<0&&(c=Math.min(p,m)),Oa();for(let n of this.viewports){let o=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(i?La.empty().applyChanges(this.stateDeco,It.empty,this.heightOracle,[new Mi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,i,new Ba(n.from,o))}Ma&&(l|=2)}let v=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(2&l&&(l|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),l|=this.updateForViewport()),(2&l||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(i?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:i,visibleBottom:a}=this,s=new Ya(r.lineAt(i-1e3*n,Ta.ByHeight,o,0,0).from,r.lineAt(a+1e3*(1-n),Ta.ByHeight,o,0,0).to);if(t){let{head:e}=t.range;if(e<s.from||e>s.to){let n,i=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),a=r.lineAt(e,Ta.ByPos,o,0,0);n="center"==t.y?(a.top+a.bottom)/2-i/2:"start"==t.y||"nearest"==t.y&&e<s.from?a.top:a.bottom-i,s=new Ya(r.lineAt(n-500,Ta.ByHeight,o,0,0).from,r.lineAt(n+i+500,Ta.ByHeight,o,0,0).to)}}return s}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Ya(this.heightMap.lineAt(n,Ta.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Ta.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Ta.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,Ta.ByPos,this.heightOracle,0,0),{visibleTop:i,visibleBottom:a}=this;return(0==e||r<=i-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||o>=a+Math.max(10,Math.min(n,250)))&&r>i-2e3&&o<a+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new Ka(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,o=r>>1,i=r<<1;if(this.defaultTextDirection!=Do.LTR&&!n)return[];let a=[],s=(r,i,l,c)=>{if(i-r<o)return;let u=this.state.selection.main,h=[u.from];u.empty||h.push(u.to);for(let e of h)if(e>r&&e<i)return s(r,e-10,l,c),void s(e+10,i,l,c);let d=function(e,t){for(let n of e)if(t(n))return n}(e,(e=>e.from>=l.from&&e.to<=l.to&&Math.abs(e.from-r)<o&&Math.abs(e.to-i)<o&&!h.some((t=>e.from<t&&e.to>t))));if(!d){if(i<l.to&&t&&n&&t.visibleRanges.some((e=>e.from<=i&&e.to>=i))){let e=t.moveToLineBoundary(Zt.cursor(i),!1,!0).head;e>r&&(i=e)}let e=this.gapSize(l,r,i,c);d=new Ka(r,i,e,n||e<2e6?e:2e6)}a.push(d)},l=t=>{if(t.length<i||t.type!=bo.Text)return;let o=function(e,t,n){let r=[],o=e,i=0;return $n.spans(n,e,t,{span(){},point(e,t){e>o&&(r.push({from:o,to:e}),i+=e-o),o=t}},20),o<t&&(r.push({from:o,to:t}),i+=t-o),{total:i,ranges:r}}(t.from,t.to,this.stateDeco);if(o.total<i)return;let a,l,c=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let e,n,i=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=c){let r=Ja(o,c),a=((this.visibleBottom-this.visibleTop)/2+i)/t.height;e=r-a,n=r+a}else e=(this.visibleTop-t.top-i)/t.height,n=(this.visibleBottom-t.top+i)/t.height;a=Xa(o,e),l=Xa(o,n)}else{let n=o.total*this.heightOracle.charWidth,i=r*this.heightOracle.charWidth,s=0;if(n>2e6)for(let n of e)n.from>=t.from&&n.from<t.to&&n.size!=n.displaySize&&n.from*this.heightOracle.charWidth+s<this.pixelViewport.left&&(s=n.size-n.displaySize);let u,h,d=this.pixelViewport.left+s,f=this.pixelViewport.right+s;if(null!=c){let e=Ja(o,c),t=((f-d)/2+i)/n;u=e-t,h=e+t}else u=(d-i)/n,h=(f+i)/n;a=Xa(o,u),l=Xa(o,h)}a>t.from&&s(t.from,a,t,o),l<t.to&&s(l,t.to,t,o)};for(let e of this.viewportLines)Array.isArray(e.type)?e.type.forEach(l):l(e);return a}gapSize(e,t,n,r){let o=Ja(r,n)-Ja(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){Ka.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=yo.set(e.map((e=>e.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];$n.spans(t,this.viewport.from,this.viewport.to,{span(e,t){n.push({from:e,to:t})},point(){}},20);let r=0;if(n.length!=this.visibleRanges.length)r=12;else for(let t=0;t<n.length&&!(8&r);t++){let o=this.visibleRanges[t],i=n[t];o.from==i.from&&o.to==i.to||(r|=4,e&&e.mapPos(o.from,-1)==i.from&&e.mapPos(o.to,1)==i.to||(r|=8))}return this.visibleRanges=n,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||ts(this.heightMap.lineAt(e,Ta.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((t=>t.top<=e&&t.bottom>=e))||ts(this.heightMap.lineAt(this.scaler.fromDOM(e),Ta.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return ts(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ya{constructor(e,t){this.from=e,this.to=t}}function Xa({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:o}=t[e],i=o-n;if(r<=i)return n+r;r-=i}}function Ja(e,t){let n=0;for(let{from:r,to:o}of e.ranges){if(t<=o){n+=t-r;break}n+=o-r}return n/e.total}const Za={toDOM:e=>e,fromDOM:e=>e,scale:1,eq(e){return e==this}};class es{constructor(e,t,n){let r=0,o=0,i=0;this.viewports=n.map((({from:n,to:o})=>{let i=t.lineAt(n,Ta.ByPos,e,0,0).top,a=t.lineAt(o,Ta.ByPos,e,0,0).bottom;return r+=a-i,{from:n,to:o,top:i,bottom:a,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=i+(e.top-o)*this.scale,i=e.domBottom=e.domTop+(e.bottom-e.top),o=e.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-n)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);n=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return n+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);n=o.bottom,r=o.domBottom}}eq(e){return e instanceof es&&this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every(((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to))}}function ts(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new Da(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map((e=>ts(e,t))):e._content)}const ns=nn.define({combine:e=>e.join(" ")}),rs=nn.define({combine:e=>e.indexOf(!0)>-1}),os=cr.newName(),is=cr.newName(),as=cr.newName(),ss={"&light":"."+is,"&dark":"."+as};function ls(e,t,n){return new cr(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const cs=ls("."+os,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},ss),us={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},hs=oo.ie&&oo.ie_version<=11;class ds{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Or,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(oo.ie&&oo.ie_version<=11||oo.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),!window.EditContext||!1===e.constructor.EDIT_CONTEXT||oo.chrome&&oo.chrome_version<126||(this.editContext=new ms(e),e.state.facet(pi)&&(e.contentDOM.editContext=this.editContext.editContext)),hs&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(e){("change"!=e.type&&e.type||e.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(pi)?n.root.activeElement!=this.dom:!br(this.dom,r))return;let o=r.anchorNode&&n.docView.nearest(r.anchorNode);o&&o.ignoreEvent(e)?t||(this.selectionChanged=!1):(oo.ie&&oo.ie_version<=11||oo.android&&oo.chrome)&&!n.state.selection.main.empty&&r.focusNode&&Cr(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=vr(e.root);if(!t)return!1;let n=oo.safari&&11==e.root.nodeType&&e.root.activeElement==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return ps(e,n)}let n=null;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.contentDOM.addEventListener("beforeinput",r,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",r,!0),n?ps(e,n):null}(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let r=br(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,Er(n));;)if(r){if(1!=n.nodeType)return!1;let e=n.childNodes[r-1];"false"==e.contentEditable?r--:(n=e,r=Er(n))}else{if(n==e)return!0;r=xr(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,us),hs&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),hs&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;e&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&Rr(this.dom,e.key,e.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let o of e){let e=this.readMutation(o);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&br(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new Xi(this.view,e,t,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=Ji(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let n=fs(t,e.previousSibling||e.target.previousSibling,-1),r=fs(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(pi)!=e.state.facet(pi)&&(e.view.contentDOM.editContext=e.state.facet(pi)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function fs(e,t,n){for(;t;){let r=Hr.get(t);if(r&&r.parent==e)return r;let o=t.parentNode;t=o!=e.dom?o:n>0?t.nextSibling:t.previousSibling}return null}function ps(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);return Cr(a.node,a.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}class ms{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=t=>{let n=e.state.selection.main,{anchor:r,head:o}=n,i=this.toEditorPos(t.updateRangeStart),a=this.toEditorPos(t.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:t.updateRangeStart,editorBase:i,drifted:!1});let s={from:i,to:a,insert:It.of(t.text.split("\n"))};if(s.from==this.from&&r<this.from?s.from=r:s.to==this.to&&r>this.to&&(s.to=r),s.from!=s.to||s.insert.length){if((oo.mac||oo.android)&&s.from==o-1&&/^\. ?$/.test(t.text)&&"off"==e.contentDOM.getAttribute("autocorrect")&&(s={from:i,to:a,insert:It.of([t.text.replace("."," ")])}),this.pendingContextChange=s,!e.state.readOnly){let n=this.to-this.from+(s.to-s.from+s.insert.length);Zi(e,s,Zt.single(this.toEditorPos(t.selectionStart,n),this.toEditorPos(t.selectionEnd,n)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))}else{let r=Zt.single(this.toEditorPos(t.selectionStart),this.toEditorPos(t.selectionEnd));r.main.eq(n)||e.dispatch({selection:r,userEvent:"select"})}},this.handlers.characterboundsupdate=n=>{let r=[],o=null;for(let t=this.toEditorPos(n.rangeStart),i=this.toEditorPos(n.rangeEnd);t<i;t++){let n=e.coordsForChar(t);o=n&&new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)||o||new DOMRect,r.push(o)}t.updateCharacterBounds(n.rangeStart,r)},this.handlers.textformatupdate=t=>{let n=[];for(let e of t.getTextFormats()){let t=e.underlineStyle,r=e.underlineThickness;if("None"!=t&&"None"!=r){let o=this.toEditorPos(e.rangeStart),i=this.toEditorPos(e.rangeEnd);if(o<i){let e=`text-decoration: underline ${"Dashed"==t?"dashed ":"Squiggle"==t?"wavy ":""}${"Thin"==r?1:2}px`;n.push(yo.mark({attributes:{style:e}}).range(o,i))}}}e.dispatch({effects:di.of(yo.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:t}=this.composing;this.composing=null,t&&this.reset(e.state)}};for(let e in this.handlers)t.addEventListener(e,this.handlers[e]);this.measureReq={read:e=>{this.editContext.updateControlBounds(e.contentDOM.getBoundingClientRect());let t=vr(e.root);t&&t.rangeCount&&this.editContext.updateSelectionBounds(t.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,r=this.pendingContextChange;return e.changes.iterChanges(((o,i,a,s,l)=>{if(n)return;let c=l.length-(i-o);if(r&&i>=r.to){if(r.from==o&&r.to==i&&r.insert.eq(l))return r=this.pendingContextChange=null,t+=c,void(this.to+=c);r=null,this.revertPending(e.state)}if(o+=t,(i+=t)<=this.from)this.from+=c,this.to+=c;else if(o<this.to){if(o<this.from||i>this.to||this.to-this.from+l.length>3e4)return void(n=!0);this.editContext.updateText(this.toContextPos(o),this.toContextPos(i),l.toString()),this.to+=c}t+=c})),r&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some((e=>!e.isUserEvent("input.type")&&e.changes.touchesRange(this.from,this.to))))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):this.applyEdits(e)&&this.rangeIsValid(e.state)?(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state):(this.pendingContextChange=null,this.reset(e.state)),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==r||this.editContext.updateSelection(n,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>3e4)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class As{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(e=>e.forEach((e=>n(e,this))))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new Qa(e.state||jn.create(e)),e.scrollTo&&e.scrollTo.is(hi)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ai).map((e=>new vi(e)));for(let e of this.plugins)e.update(this);this.observer=new ds(this),this.inputState=new ea(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Ni(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(t=document.fonts)||void 0===t?void 0:t.ready)&&document.fonts.ready.then((()=>this.requestMeasure()))}dispatch(...e){let t=1==e.length&&e[0]instanceof On?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,r=!1,o=this.state;for(let t of e){if(t.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=t.state}if(this.destroyed)return void(this.viewState.state=o);let i=this.hasFocus,a=0,s=null;e.some((e=>e.annotation(ka)))?(this.inputState.notifiedFocused=i,a=1):i!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=i,s=Pa(o,i),s||(a=1));let l=this.observer.delayedAndroidKey,c=null;if(l?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(jn.phrases)!=this.state.facet(jn.phrases))return this.setState(o);t=Oi.create(this,o,e),t.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&(u=u.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;u=new ui(e.empty?e:Zt.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(hi)&&(u=e.value.clip(this.state))}this.viewState.update(t,u),this.bidiCache=ws.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(Ii)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(ns)!=t.state.facet(ns)&&(this.viewState.mustMeasureContent=!0),(n||r||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!t.empty)for(let e of this.state.facet(ni))try{e(t)}catch(e){fi(this.state,e,"update listener")}(s||c)&&Promise.resolve().then((()=>{s&&this.state==s.startState&&this.dispatch(s),c&&!Ji(this,c)&&l.force&&Rr(this.contentDOM,l.key,l.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new Qa(e),this.plugins=e.facet(Ai).map((e=>new vi(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new Ni(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ai),n=e.state.facet(Ai);if(t!=n){let r=[];for(let o of n){let n=t.indexOf(o);if(n<0)r.push(new vi(o));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(e){fi(this.state,e,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:i}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(i=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(i<0)if(zr(n))o=-1,i=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(r);o=e.from,i=e.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];4&a||([this.measureRequests,s]=[s,this.measureRequests]);let l=s.map((e=>{try{return e.read(this)}catch(e){return fi(this.state,e),vs}})),c=Oi.create(this,this.state,[]),u=!1;c.flags|=a,t?t.flags|=a:t=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),u=this.docView.update(c),u&&this.docViewUpdate());for(let e=0;e<s.length;e++)if(l[e]!=vs)try{let t=s[e];t.write&&t.write(l[e],this)}catch(e){fi(this.state,e)}if(u&&this.docView.updateSelection(!0),!c.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,i=-1;continue}{let e=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-i;if(e>1||e<-1){r+=e,n.scrollTop=r/this.scaleY,i=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(ni))e(t)}get themeClasses(){return os+" "+(this.state.facet(rs)?as:is)+" "+this.state.facet(ns)}updateAttrs(){let e=bs(this,wi,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(pi)?"true":"false",class:"cm-content",style:`${oo.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),bs(this,bi,t);let n=this.observer.ignore((()=>{let n=go(this.contentDOM,this.contentAttrs,t),r=go(this.dom,this.editorAttrs,e);return n||r}));return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)e.is(As.announce)&&(t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value)}mountStyles(){this.styleModules=this.state.facet(Ii);let e=this.state.facet(As.cspNonce);cr.mount(this.root,this.styleModules.concat(cs).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return $i(this,e,qi(this,e,t,n))}moveByGroup(e,t){return $i(this,e,qi(this,e,t,(t=>function(e,t,n){let r=e.state.charCategorizer(t),o=r(n);return e=>{let t=r(e);return o==zn.Space&&(o=t),o==t}}(this,e.head,t))))}visualLineSide(e,t){let n=this.bidiSpans(e),r=this.textDirectionAt(e.from),o=n[t?n.length-1:0];return Zt.cursor(o.side(t,r)+e.from,o.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,n=!0){return function(e,t,n,r){let o=Vi(e,t.head,t.assoc||-1),i=r&&o.type==bo.Text&&(e.lineWrapping||o.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>o.from?t.head-1:t.head):null;if(i){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(o.from),a=e.posAtCoords({x:n==(r==Do.LTR)?t.right-1:t.left+1,y:(i.top+i.bottom)/2});if(null!=a)return Zt.cursor(a,n?-1:1)}return Zt.cursor(n?o.to:o.from,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return $i(this,e,function(e,t,n,r){let o=t.head,i=n?1:-1;if(o==(n?e.state.doc.length:0))return Zt.cursor(o,t.assoc);let a,s=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(o,t.assoc||-1),u=e.documentTop;if(c)null==s&&(s=c.left-l.left),a=i<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(o);null==s&&(s=Math.min(l.right-l.left,e.defaultCharacterWidth*(o-t.from))),a=(i<0?t.top:t.bottom)+u}let h=l.left+s,d=null!=r?r:e.viewState.heightOracle.textHeight>>1;for(let t=0;;t+=10){let n=a+(d+t)*i,r=Wi(e,{x:h,y:n},!1,i);if(n<l.top||n>l.bottom||(i<0?r<o:r>o)){let t=e.docView.coordsForChar(r),o=!t||n<t.top?-1:1;return Zt.cursor(r,o,void 0,s)}}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Wi(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r);return Sr(n,o[Vo.find(o,e-r.from,-1,t)].dir==Do.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(si)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>gs)return Go(e.length);let t,n=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==n&&(r.fresh||qo(r.isolates,t=Pi(this,e))))return r.order;t||(t=Pi(this,e));let r=function(e,t,n){if(!e)return[new Vo(0,0,t==Ro?1:0)];if(t==To&&!n.length&&!Ho.test(e))return Go(e.length);if(n.length)for(;e.length>Uo.length;)Uo[Uo.length]=256;let r=[],o=t==To?0:1;return Ko(e,o,o,n,0,e.length,r),r}(e.text,n,t);return this.bidiCache.push(new ws(e.from,e.to,n,t,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||oo.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Dr(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return hi.of(new ui("number"==typeof e?Zt.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return hi.of(new ui(Zt.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){null==e?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof e?this.inputState.tabFocusMode=e?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return gi.define((()=>({})),{eventHandlers:e})}static domEventObservers(e){return gi.define((()=>({})),{eventObservers:e})}static theme(e,t){let n=cr.newName(),r=[ns.of(n),Ii.of(ls(`.${n}`,e))];return t&&t.dark&&r.push(rs.of(!0)),r}static baseTheme(e){return dn.lowest(Ii.of(ls("."+os,e,ss)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&Hr.get(n)||Hr.get(e);return(null===(t=null==r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}As.styleModule=Ii,As.inputHandler=ri,As.clipboardInputFilter=ii,As.clipboardOutputFilter=ai,As.scrollHandler=ci,As.focusChangeEffect=oi,As.perLineTextDirection=si,As.exceptionSink=ti,As.updateListener=ni,As.editable=pi,As.mouseSelectionStyle=ei,As.dragMovesSelection=Zo,As.clickAddsSelectionRange=Jo,As.decorations=yi,As.outerDecorations=Ci,As.atomicRanges=xi,As.bidiIsolatedRanges=ki,As.scrollMargins=Ei,As.darkTheme=rs,As.cspNonce=nn.define({combine:e=>e.length?e[0]:""}),As.contentAttributes=bi,As.editorAttributes=wi,As.lineWrapping=As.contentAttributes.of({class:"cm-lineWrapping"}),As.announce=Mn.define();const gs=4096,vs={};class ws{constructor(e,t,n,r,o,i){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=o,this.order=i}static update(e,t){if(t.empty&&!e.some((e=>e.fresh)))return e;let n=[],r=e.length?e[e.length-1].dir:Do.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let i=e[o];i.dir!=r||t.touchesRange(i.from,i.to)||n.push(new ws(t.mapPos(i.from,1),t.mapPos(i.to,-1),i.dir,i.isolates,!1,i.order))}return n}}function bs(e,t,n){for(let r=e.state.facet(t),o=r.length-1;o>=0;o--){let t=r[o],i="function"==typeof t?t(e):t;i&&po(i,n)}return n}const ys=oo.mac?"mac":oo.windows?"win":oo.linux?"linux":"key";function Cs(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const xs=nn.define({enables:dn.default(As.domEventHandlers({keydown:(e,t)=>Ms(Ps(t.state),e,t,"editor")}))}),ks=new WeakMap;function Ps(e){let t=e.facet(xs),n=ks.get(t);return n||ks.set(t,n=function(e,t=ys){let n=Object.create(null),r=Object.create(null),o=(e,t)=>{let n=r[e];if(null==n)r[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},i=(e,r,i,a,s)=>{var l,c;let u=n[e]||(n[e]=Object.create(null)),h=r.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let r,o,i,a,s=n[n.length-1];"Space"==s&&(s=" ");for(let e=0;e<n.length-1;++e){const s=n[e];if(/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))o=!0;else if(/^s(hift)?$/i.test(s))i=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);"mac"==t?a=!0:o=!0}}return r&&(s="Alt-"+s),o&&(s="Ctrl-"+s),a&&(s="Meta-"+s),i&&(s="Shift-"+s),s}(e,t)));for(let t=1;t<h.length;t++){let n=h.slice(0,t).join(" ");o(n,!0),u[n]||(u[n]={preventDefault:!0,stopPropagation:!1,run:[t=>{let r=Es={view:t,prefix:n,scope:e};return setTimeout((()=>{Es==r&&(Es=null)}),Ss),!0}]})}let d=h.join(" ");o(d,!1);let f=u[d]||(u[d]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=u._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});i&&f.run.push(i),a&&(f.preventDefault=!0),s&&(f.stopPropagation=!0)};for(let r of e){let e=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:o}=r;for(let t in e)e[t].run.push((e=>o(e,Is)))}let o=r[t]||r.key;if(o)for(let t of e)i(t,o,r.run,r.preventDefault,r.stopPropagation),r.shift&&i(t,"Shift-"+o,r.shift,r.preventDefault,r.stopPropagation)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}let Es=null;const Ss=4e3;let Is=null;function Ms(e,t,n,r){Is=t;let o=function(e){var t=!(pr&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||mr&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?fr:dr)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),i=Wt(_t(o,0))==o.length&&" "!=o,a="",s=!1,l=!1,c=!1;Es&&Es.view==n&&Es.scope==r&&(a=Es.prefix+" ",ia.indexOf(t.keyCode)<0&&(l=!0,Es=null));let u,h,d=new Set,f=e=>{if(e){for(let t of e.run)if(!d.has(t)&&(d.add(t),t(n)))return e.stopPropagation&&(c=!0),!0;e.preventDefault&&(e.stopPropagation&&(c=!0),l=!0)}return!1},p=e[r];return p&&(f(p[a+Cs(o,t,!i)])?s=!0:i&&(t.altKey||t.metaKey||t.ctrlKey)&&!(oo.windows&&t.ctrlKey&&t.altKey)&&(u=dr[t.keyCode])&&u!=o?(f(p[a+Cs(u,t,!0)])||t.shiftKey&&(h=fr[t.keyCode])!=o&&h!=u&&f(p[a+Cs(h,t,!1)]))&&(s=!0):i&&t.shiftKey&&f(p[a+Cs(o,t,!0)])&&(s=!0),!s&&f(p._any)&&(s=!0)),l&&(s=!0),s&&c&&t.stopPropagation(),Is=null,s}class Os{constructor(e,t,n,r,o){this.className=e,this.left=t,this.top=n,this.width=r,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let r=e.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let o=Ns(e);return[new Os(t,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}return function(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),o=Math.min(n.to,e.viewport.to),i=e.textDirection==Do.LTR,a=e.contentDOM,s=a.getBoundingClientRect(),l=Ns(e),c=a.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=s.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=s.right-(u?parseInt(u.paddingRight):0),f=Vi(e,r,1),p=Vi(e,o,-1),m=f.type==bo.Text?f:null,A=p.type==bo.Text?p:null;if(m&&(e.lineWrapping||f.widgetLineBreaks)&&(m=Bs(e,r,1,m)),A&&(e.lineWrapping||p.widgetLineBreaks)&&(A=Bs(e,o,-1,A)),m&&A&&m.from==A.from&&m.to==A.to)return v(w(n.from,n.to,m));{let t=m?w(n.from,null,m):b(f,!1),r=A?w(null,n.to,A):b(p,!0),o=[];return(m||f).to<(A||p).from-(m&&A?1:0)||f.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<r.top?o.push(g(h,t.bottom,d,r.top)):t.bottom<r.top&&e.elementAtHeight((t.bottom+r.top)/2).type==bo.Text&&(t.bottom=r.top=(t.bottom+r.top)/2),v(t).concat(o).concat(v(r))}function g(e,n,r,o){return new Os(t,e-l.left,n-l.top,r-e,o-n)}function v({top:e,bottom:t,horizontal:n}){let r=[];for(let o=0;o<n.length;o+=2)r.push(g(n[o],e,n[o+1],t));return r}function w(t,n,r){let o=1e9,a=-1e9,s=[];function l(t,n,l,c,u){let f=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(l,l==r.from?2:-2);f&&p&&(o=Math.min(f.top,p.top,o),a=Math.max(f.bottom,p.bottom,a),u==Do.LTR?s.push(i&&n?h:f.left,i&&c?d:p.right):s.push(!i&&c?h:p.left,!i&&n?d:f.right))}let c=null!=t?t:r.from,u=null!=n?n:r.to;for(let r of e.visibleRanges)if(r.to>c&&r.from<u)for(let o=Math.max(r.from,c),i=Math.min(r.to,u);;){let r=e.state.doc.lineAt(o);for(let a of e.bidiSpans(r)){let e=a.from+r.from,s=a.to+r.from;if(e>=i)break;s>o&&l(Math.max(e,o),null==t&&e<=c,Math.min(s,i),null==n&&s>=u,a.dir)}if(o=r.to+1,o>=i)break}return 0==s.length&&l(c,null==t,u,null==n,e.textDirection),{top:o,bottom:a,horizontal:s}}function b(e,t){let n=s.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(e,t,n)}}function Ns(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Do.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function Bs(e,t,n,r){let o=e.coordsAtPos(t,2*n);if(!o)return r;let i=e.dom.getBoundingClientRect(),a=(o.top+o.bottom)/2,s=e.posAtCoords({x:i.left+1,y:a}),l=e.posAtCoords({x:i.right-1,y:a});return null==s||null==l?r:{from:Math.max(r.from,Math.min(s,l)),to:Math.min(r.to,Math.max(s,l))}}class Ds{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Ts)!=e.state.facet(Ts)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){!1!==this.layer.updateOnDocViewUpdate&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(Ts);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some(((e,t)=>{return n=e,r=this.drawn[t],!(n.constructor==r.constructor&&n.eq(r));var n,r}))){let t=this.dom.firstChild,n=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[n].constructor&&r.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(r.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Ts=nn.define();function Rs(e){return[gi.define((t=>new Ds(t,e))),Ts.of(e)]}const Ls=nn.define({combine:e=>Wn(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function zs(e={}){return[Ls.of(e),_s,Ws,Hs,li.of(!0)]}function Fs(e){return e.startState.facet(Ls)!=e.state.facet(Ls)}const _s=Rs({above:!0,markers(e){let{state:t}=e,n=t.facet(Ls),r=[];for(let o of t.selection.ranges){let i=o==t.selection.main;if(o.empty||n.drawRangeCursor){let t=i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=o.empty?o:Zt.cursor(o.head,o.head>o.anchor?-1:1);for(let o of Os.forRange(e,t,n))r.push(o)}}return r},update(e,t){e.transactions.some((e=>e.selection))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let n=Fs(e);return n&&js(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){js(t.state,e)},class:"cm-cursorLayer"});function js(e,t){t.style.animationDuration=e.facet(Ls).cursorBlinkRate+"ms"}const Ws=Rs({above:!1,markers:e=>e.state.selection.ranges.map((t=>t.empty?[]:Os.forRange(e,"cm-selectionBackground",t))).reduce(((e,t)=>e.concat(t))),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||Fs(e),class:"cm-selectionLayer"}),Hs=dn.highest(As.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Vs=Mn.define({map:(e,t)=>null==e?null:t.mapPos(e)}),qs=un.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is(Vs)?t.value:e),e))}),Us=gi.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(qs);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(qs)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(qs),n=null!=t&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(qs)!=e&&this.view.dispatch({effects:Vs.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function $s(e,t,n,r,o){t.lastIndex=0;for(let i,a=e.iterRange(n,r),s=n;!a.next().done;s+=a.value.length)if(!a.lineBreak)for(;i=t.exec(a.value);)o(s+i.index,i)}class Ks{constructor(e){const{regexp:t,decoration:n,decorate:r,boundary:o,maxLength:i=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,n,o)=>r(o,n,n+e[0].length,e,t);else if("function"==typeof n)this.addMatch=(e,t,r,o)=>{let i=n(e,t,r);i&&o(r,r+e[0].length,i)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,r,o)=>o(r,r+e[0].length,n)}this.boundary=o,this.maxLength=i}createDeco(e){let t=new Kn,n=t.add.bind(t);for(let{from:t,to:r}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:o,to:i}of n)o=Math.max(e.state.doc.lineAt(o).from,o-t),i=Math.min(e.state.doc.lineAt(i).to,i+t),r.length&&r[r.length-1].to>=o?r[r.length-1].to=i:r.push({from:o,to:i});return r}(e,this.maxLength))$s(e.state.doc,this.regexp,t,r,((t,r)=>this.addMatch(r,e,t,n)));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges(((t,o,i,a)=>{a>=e.view.viewport.from&&i<=e.view.viewport.to&&(n=Math.min(i,n),r=Math.max(a,r))})),e.viewportMoved||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let o of e.visibleRanges){let i=Math.max(o.from,n),a=Math.min(o.to,r);if(a>i){let n=e.state.doc.lineAt(i),r=n.to<a?e.state.doc.lineAt(a):n,s=Math.max(o.from,n.from),l=Math.min(o.to,r.to);if(this.boundary){for(;i>n.from;i--)if(this.boundary.test(n.text[i-1-n.from])){s=i;break}for(;a<r.to;a++)if(this.boundary.test(r.text[a-r.from])){l=a;break}}let c,u=[],h=(e,t,n)=>u.push(n.range(e,t));if(n==r)for(this.regexp.lastIndex=s-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;)this.addMatch(c,e,c.index+n.from,h);else $s(e.state.doc,this.regexp,s,l,((t,n)=>this.addMatch(n,e,t,h)));t=t.update({filterFrom:s,filterTo:l,filter:(e,t)=>e<s||t>l,add:u})}}return t}}const Gs=null!=/x/.unicode?"gu":"g",Qs=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",Gs),Ys={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Xs=null;const Js=nn.define({combine(e){let t=Wn(e,{render:null,specialChars:Qs,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==Xs&&"undefined"!=typeof document&&document.body){let t=document.body.style;Xs=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return Xs||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Gs)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Gs)),t}});function Zs(e={}){return[Js.of(e),el||(el=gi.fromClass(class{constructor(e){this.view=e,this.decorations=yo.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Js)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new Ks({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:o}=n.state,i=_t(t[0],0);if(9==i){let e=o.lineAt(r),t=n.state.tabSize,i=or(e.text,t,r-e.from);return yo.replace({widget:new nl((t-i%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[i]||(this.decorationCache[i]=yo.replace({widget:new tl(e,i)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(Js);e.startState.facet(Js)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let el=null;class tl extends wo{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(Ys[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let o=document.createElement("span");return o.textContent=t,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class nl extends wo{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const rl=yo.line({class:"cm-activeLine"}),ol=gi.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let o=e.lineBlockAt(r.head);o.from>t&&(n.push(rl.range(o.from)),t=o.from)}return yo.set(n)}},{decorations:e=>e.decorations}),il=2e3;function al(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),o=n-r.from,i=o>il?-1:o==r.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):or(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:i,off:o}}function sl(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return As.mouseSelectionStyle.of(((e,n)=>t(n)?function(e,t){let n=al(e,t),r=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),o=e.state.doc.lineAt(t);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(e.changes)}},get(t,o,i){let a=al(e,t);if(!a)return r;let s=function(e,t,n){let r=Math.min(t.line,n.line),o=Math.max(t.line,n.line),i=[];if(t.off>il||n.off>il||t.col<0||n.col<0){let a=Math.min(t.off,n.off),s=Math.max(t.off,n.off);for(let t=r;t<=o;t++){let n=e.doc.line(t);n.length<=s&&i.push(Zt.range(n.from+a,n.to+s))}}else{let a=Math.min(t.col,n.col),s=Math.max(t.col,n.col);for(let t=r;t<=o;t++){let n=e.doc.line(t),r=ir(n.text,a,e.tabSize,!0);if(r<0)i.push(Zt.cursor(n.to));else{let t=ir(n.text,s,e.tabSize);i.push(Zt.range(n.from+r,n.from+t))}}}return i}(e.state,n,a);return s.length?i?Zt.create(s.concat(r.ranges)):Zt.create(s):r}}:null}(e,n):null))}const ll={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},cl={style:"cursor: crosshair"};function ul(e={}){let[t,n]=ll[e.key||"Alt"],r=gi.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove(e){this.set(n(e))}}});return[r,As.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?cl:null}))]}const hl=nn.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function dl(e,t){let n=e.plugin(fl),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const fl=gi.fromClass(class{constructor(e){this.input=e.state.facet(Al),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(hl);this.top=new pl(e,!0,t.topContainer),this.bottom=new pl(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(hl);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new pl(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new pl(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(Al);if(n!=this.input){let t=n.filter((e=>e)),r=[],o=[],i=[],a=[];for(let n of t){let t,s=this.specs.indexOf(n);s<0?(t=n(e.view),a.push(t)):(t=this.panels[s],t.update&&t.update(e)),r.push(t),(t.top?o:i).push(t)}this.specs=t,this.panels=r,this.top.sync(o),this.bottom.sync(i);for(let e of a)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>As.scrollMargins.of((t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class pl{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=ml(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=ml(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function ml(e){let t=e.nextSibling;return e.remove(),t}const Al=nn.define({enables:fl});class gl extends Hn{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}gl.prototype.elementClass="",gl.prototype.toDOM=void 0,gl.prototype.mapMode=Vt.TrackBefore,gl.prototype.startSide=gl.prototype.endSide=-1,gl.prototype.point=!0;const vl=nn.define(),wl=nn.define(),bl={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>$n.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},yl=nn.define();function Cl(e){return[kl(),yl.of(Object.assign(Object.assign({},bl),e))]}const xl=nn.define({combine:e=>e.some((e=>e))});function kl(e){let t=[Pl];return e&&!1===e.fixed&&t.push(xl.of(!0)),t}const Pl=gi.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(yl).map((t=>new Ml(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(xl),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(xl)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=$n.iter(this.view.state.facet(vl),this.view.viewport.from),r=[],o=this.gutters.map((e=>new Il(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(e.type)){let t=!0;for(let i of e.type)if(i.type==bo.Text&&t){Sl(n,r,i.from);for(let e of o)e.line(this.view,i,r);t=!1}else if(i.widget)for(let e of o)e.widget(this.view,i)}else if(e.type==bo.Text){Sl(n,r,e.from);for(let t of o)t.line(this.view,e,r)}else if(e.widget)for(let t of o)t.widget(this.view,e);for(let e of o)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(yl),n=e.state.facet(yl),r=e.docChanged||e.heightChanged||e.viewportChanged||!$n.eq(e.startState.facet(vl),e.state.facet(vl),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(r=!0);else{r=!0;let o=[];for(let r of n){let n=t.indexOf(r);n<0?o.push(new Ml(this.view,r)):(this.gutters[n].update(e),o.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),o.indexOf(e)<0&&e.destroy();for(let e of o)this.dom.appendChild(e.dom);this.gutters=o}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>As.scrollMargins.of((t=>{let n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==Do.LTR?{left:n.dom.offsetWidth*t.scaleX}:{right:n.dom.offsetWidth*t.scaleX}:null}))});function El(e){return Array.isArray(e)?e:[e]}function Sl(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class Il{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=$n.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:r}=this,o=(t.top-this.height)/e.scaleY,i=t.height/e.scaleY;if(this.i==r.elements.length){let t=new Ol(e,i,o,n);r.elements.push(t),r.dom.appendChild(t.dom)}else r.elements[this.i].update(e,i,o,n);this.height=t.bottom,this.i++}line(e,t,n){let r=[];Sl(this.cursor,r,t.from),n.length&&(r=r.concat(n));let o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let i=this.gutter;(0!=r.length||i.config.renderEmptyElements)&&this.addElement(e,t,r)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),r=n?[n]:null;for(let n of e.state.facet(wl)){let o=n(e,t.widget,t);o&&(r||(r=[])).push(o)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Ml{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(r=>{let o,i=r.target;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let e=i.getBoundingClientRect();o=(e.top+e.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,a,r)&&r.preventDefault()}));this.markers=El(t.markers(e)),t.initialSpacer&&(this.spacer=new Ol(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=El(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!$n.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class Ol{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let o=0,i=0;;){let a=i,s=o<t.length?t[o++]:null,l=!1;if(s){let e=s.elementClass;e&&(n+=" "+e);for(let e=i;e<this.markers.length;e++)if(this.markers[e].compare(s)){a=e,l=!0;break}}else a=this.markers.length;for(;i<a;){let e=this.markers[i++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!s)break;s.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(s.toDOM(e),r)),l&&i++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const Nl=nn.define(),Bl=nn.define(),Dl=nn.define({combine:e=>Wn(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let r=n[e],o=t[e];n[e]=r?(e,t,n)=>r(e,t,n)||o(e,t,n):o}return n}})});class Tl extends gl{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Rl(e,t){return e.state.facet(Dl).formatNumber(t,e.state)}const Ll=yl.compute([Dl],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Nl),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new Tl(Rl(e,e.state.doc.lineAt(t.from).number)),widgetMarker:(e,t,n)=>{for(let r of e.state.facet(Bl)){let o=r(e,t,n);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(Dl)!=e.state.facet(Dl),initialSpacer:e=>new Tl(Rl(e,Fl(e.state.doc.lines))),updateSpacer(e,t){let n=Rl(t.view,Fl(t.view.state.doc.lines));return n==e.number?e:new Tl(n)},domEventHandlers:e.facet(Dl).domEventHandlers})));function zl(e={}){return[Dl.of(e),kl(),Ll]}function Fl(e){let t=9;for(;t<e;)t=10*t+9;return t}const _l=new class extends gl{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},jl=vl.compute(["selection"],(e=>{let t=[],n=-1;for(let r of e.selection.ranges){let o=e.doc.lineAt(r.head).from;o>n&&(n=o,t.push(_l.range(o)))}return $n.of(t)})),Wl=1024;let Hl=0;class Vl{constructor(e,t){this.from=e,this.to=t}}class ql{constructor(e={}){this.id=Hl++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=Kl.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}ql.closedBy=new ql({deserialize:e=>e.split(" ")}),ql.openedBy=new ql({deserialize:e=>e.split(" ")}),ql.group=new ql({deserialize:e=>e.split(" ")}),ql.isolate=new ql({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),ql.contextHash=new ql({perNode:!0}),ql.lookAhead=new ql({perNode:!0}),ql.mounted=new ql({perNode:!0});class Ul{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[ql.mounted.id]}}const $l=Object.create(null);class Kl{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):$l,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new Kl(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(ql.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(ql.group),r=-1;r<(n?n.length:0);r++){let o=t[r<0?e.name:n[r]];if(o)return o}}}}Kl.none=new Kl("",Object.create(null),0,8);const Gl=new WeakMap,Ql=new WeakMap;var Yl;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(Yl||(Yl={}));class Xl{constructor(e,t,n,r,o){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[e,t]of o)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=Ul.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new uc(this.topNode,e)}cursorAt(e,t=0,n=0){let r=Gl.get(this)||this.topNode,o=new uc(r);return o.moveTo(e,t),Gl.set(this,o._tree),o}get topNode(){return new rc(this,0,0,null)}resolve(e,t=0){let n=tc(Gl.get(this)||this.topNode,e,t,!1);return Gl.set(this,n),n}resolveInner(e,t=0){let n=tc(Ql.get(this)||this.topNode,e,t,!0);return Ql.set(this,n),n}resolveStack(e,t=0){return function(e,t,n){let r=e.resolveInner(t,n),o=null;for(let e=r instanceof rc?r:r.context.parent;e;e=e.parent)if(e.index<0){let i=e.parent;(o||(o=[r])).push(i.resolve(t,n)),e=i}else{let i=Ul.get(e.tree);if(i&&i.overlay&&i.overlay[0].from<=t&&i.overlay[i.overlay.length-1].to>=t){let a=new rc(i.tree,i.overlay[0].from+e.from,-1,e);(o||(o=[r])).push(tc(a,t,n,!1))}}return o?lc(o):r}(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:o=this.length}=e,i=e.mode||0,a=(i&Yl.IncludeAnonymous)>0;for(let e=this.cursor(i|Yl.IncludeAnonymous);;){let i=!1;if(e.from<=o&&e.to>=r&&(!a&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;i=!0}for(;i&&n&&(a||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;i=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:pc(Kl.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new Xl(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new Xl(Kl.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:o=Wl,reused:i=[],minRepeatType:a=r.types.length}=e,s=Array.isArray(n)?new Jl(n,n.length):n,l=r.types,c=0,u=0;function h(e,t,n,A,g,v){let{id:w,start:b,end:y,size:C}=s,x=u,k=c;for(;C<0;){if(s.next(),-1==C){let t=i[w];return n.push(t),void A.push(b-e)}if(-3==C)return void(c=w);if(-4==C)return void(u=w);throw new RangeError(`Unrecognized record size: ${C}`)}let P,E,S=l[w],I=b-e;if(y-b<=o&&(E=function(e,t){let n=s.fork(),r=0,i=0,l=0,c=n.end-o,u={size:0,start:0,skip:0};e:for(let o=n.pos-e;n.pos>o;){let e=n.size;if(n.id==t&&e>=0){u.size=r,u.start=i,u.skip=l,l+=4,r+=4,n.next();continue}let s=n.pos-e;if(e<0||s<o||n.start<c)break;let h=n.id>=a?4:0,d=n.start;for(n.next();n.pos>s;){if(n.size<0){if(-3!=n.size)break e;h+=4}else n.id>=a&&(h+=4);n.next()}i=d,r+=e,l+=h}return(t<0||r==e)&&(u.size=r,u.start=i,u.skip=l),u.size>4?u:void 0}(s.pos-t,g))){let t=new Uint16Array(E.size-E.skip),n=s.pos-E.size,o=t.length;for(;s.pos>n;)o=m(E.start,t,o);P=new Zl(t,y-E.start,r),I=E.start-e}else{let e=s.pos-C;s.next();let t=[],n=[],r=w>=a?w:-1,i=0,l=y;for(;s.pos>e;)r>=0&&s.id==r&&s.size>=0?(s.end<=l-o&&(f(t,n,b,i,s.end,l,r,x,k),i=t.length,l=s.end),s.next()):v>2500?d(b,e,t,n):h(b,e,t,n,r,v+1);if(r>=0&&i>0&&i<t.length&&f(t,n,b,i,b,l,r,x,k),t.reverse(),n.reverse(),r>-1&&i>0){let e=function(e,t){return(n,r,o)=>{let i,a,s=0,l=n.length-1;if(l>=0&&(i=n[l])instanceof Xl){if(!l&&i.type==e&&i.length==o)return i;(a=i.prop(ql.lookAhead))&&(s=r[l]+i.length+a)}return p(e,n,r,o,s,t)}}(S,k);P=pc(S,t,n,0,t.length,0,y-b,e,e)}else P=p(S,t,n,y-b,x-y,k)}n.push(P),A.push(I)}function d(e,t,n,i){let a=[],l=0,c=-1;for(;s.pos>t;){let{id:e,start:t,end:n,size:r}=s;if(r>4)s.next();else{if(c>-1&&t<c)break;c<0&&(c=n-o),a.push(e,t,n),l++,s.next()}}if(l){let t=new Uint16Array(4*l),o=a[a.length-2];for(let e=a.length-3,n=0;e>=0;e-=3)t[n++]=a[e],t[n++]=a[e+1]-o,t[n++]=a[e+2]-o,t[n++]=n;n.push(new Zl(t,a[2]-o,r)),i.push(o-e)}}function f(e,t,n,o,i,a,s,l,c){let u=[],h=[];for(;e.length>o;)u.push(e.pop()),h.push(t.pop()+n-i);e.push(p(r.types[s],u,h,a-i,l-a,c)),t.push(i-n)}function p(e,t,n,r,o,i,a){if(i){let e=[ql.contextHash,i];a=a?[e].concat(a):[e]}if(o>25){let e=[ql.lookAhead,o];a=a?[e].concat(a):[e]}return new Xl(e,t,n,r,a)}function m(e,t,n){let{id:r,start:o,end:i,size:l}=s;if(s.next(),l>=0&&r<a){let a=n;if(l>4){let r=s.pos-(l-4);for(;s.pos>r;)n=m(e,t,n)}t[--n]=a,t[--n]=i-e,t[--n]=o-e,t[--n]=r}else-3==l?c=r:-4==l&&(u=r);return n}let A=[],g=[];for(;s.pos>0;)h(e.start||0,e.bufferStart||0,A,g,-1,0);let v=null!==(t=e.length)&&void 0!==t?t:A.length?g[0]+A[0].length:0;return new Xl(l[e.topID],A.reverse(),g.reverse(),v)}(e)}}Xl.empty=new Xl(Kl.none,[],[],0);class Jl{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Jl(this.buffer,this.index)}}class Zl{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Kl.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),n==(e+=4))return o;let i=[];for(;e<n;)i.push(this.childString(e)),e=this.buffer[e+3];return o+"("+i.join(",")+")"}findChild(e,t,n,r,o){let{buffer:i}=this,a=-1;for(let s=e;s!=t&&!(ec(o,r,i[s+1],i[s+2])&&(a=s,n>0));s=i[s+3]);return a}slice(e,t,n){let r=this.buffer,o=new Uint16Array(t-e),i=0;for(let a=e,s=0;a<t;){o[s++]=r[a++],o[s++]=r[a++]-n;let t=o[s++]=r[a++]-n;o[s++]=r[a++]-e,i=Math.max(i,t)}return new Zl(o,i,this.set)}}function ec(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function tc(e,t,n,r){for(var o;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof rc&&e.index<0?null:e.parent;if(!t)return e;e=t}let i=r?0:Yl.IgnoreOverlays;if(r)for(let r=e,a=r.parent;a;r=a,a=r.parent)r instanceof rc&&r.index<0&&(null===(o=a.enter(t,n,i))||void 0===o?void 0:o.from)!=r.from&&(e=a);for(;;){let r=e.enter(t,n,i);if(!r)return e;e=r}}class nc{cursor(e=0){return new uc(this,e)}getChild(e,t=null,n=null){let r=oc(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return oc(this,e,t,n)}resolve(e,t=0){return tc(this,e,t,!1)}resolveInner(e,t=0){return tc(this,e,t,!0)}matchContext(e){return ic(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class rc extends nc{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,o=0){for(let i=this;;){for(let{children:a,positions:s}=i._tree,l=t>0?a.length:-1;e!=l;e+=t){let l=a[e],c=s[e]+i.from;if(ec(r,n,c,c+l.length))if(l instanceof Zl){if(o&Yl.ExcludeBuffers)continue;let a=l.findChild(0,l.buffer.length,t,n-c,r);if(a>-1)return new sc(new ac(i,l,e,c),null,a)}else if(o&Yl.IncludeAnonymous||!l.type.isAnonymous||hc(l)){let a;if(!(o&Yl.IgnoreMounts)&&(a=Ul.get(l))&&!a.overlay)return new rc(a.tree,c,e,i);let s=new rc(l,c,e,i);return o&Yl.IncludeAnonymous||!s.type.isAnonymous?s:s.nextChild(t<0?l.children.length-1:0,t,n,r)}}if(o&Yl.IncludeAnonymous||!i.type.isAnonymous)return null;if(e=i.index>=0?i.index+t:t<0?-1:i._parent._tree.children.length,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&Yl.IgnoreOverlays)&&(r=Ul.get(this._tree))&&r.overlay){let n=e-this.from;for(let{from:e,to:o}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?o>=n:o>n))return new rc(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function oc(e,t,n,r){let o=e.cursor(),i=[];if(!o.firstChild())return i;if(null!=n)for(let e=!1;!e;)if(e=o.type.is(n),!o.nextSibling())return i;for(;;){if(null!=r&&o.type.is(r))return i;if(o.type.is(t)&&i.push(o.node),!o.nextSibling())return null==r?i:[]}}function ic(e,t,n=t.length-1){for(let r=e;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class ac{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class sc extends nc{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return o<0?null:new sc(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&Yl.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new sc(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new sc(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new sc(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,o=n.buffer[this.index+3];if(o>r){let i=n.buffer[this.index+1];e.push(n.slice(r,o,i)),t.push(0)}return new Xl(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function lc(e){if(!e.length)return null;let t=0,n=e[0];for(let r=1;r<e.length;r++){let o=e[r];(o.from>n.from||o.to<n.to)&&(n=o,t=r)}let r=n instanceof rc&&n.index<0?null:n.parent,o=e.slice();return r?o[t]=r:o.splice(t,1),new cc(o,n)}class cc{constructor(e,t){this.heads=e,this.node=t}get next(){return lc(this.heads)}}class uc{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof rc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof rc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&Yl.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Yl.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Yl.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let r=t+e,o=e<0?-1:n._tree.children.length;r!=o;r+=e){let e=n._tree.children[r];if(this.mode&Yl.IncludeAnonymous||e instanceof Zl||!e.type.isAnonymous||hc(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let i=e;i;i=i._parent)if(i.index==r){if(r==this.index)return i;t=i,n=o+1;break e}r=this.stack[--o]}for(let e=n;e<this.stack.length;e++)t=new sc(this.buffer,t,this.stack[e]);return this.bufferNode=new sc(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return ic(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return ic(this._tree,e,r);let i=n[t.buffer[this.stack[o]]];if(!i.isAnonymous){if(e[r]&&e[r]!=i.name)return!1;r--}}return!0}}function hc(e){return e.children.some((e=>e instanceof Zl||!e.type.isAnonymous||hc(e)))}const dc=new WeakMap;function fc(e,t){if(!e.isAnonymous||t instanceof Zl||t.type!=e)return 1;let n=dc.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof Xl)){n=1;break}n+=fc(e,r)}dc.set(t,n)}return n}function pc(e,t,n,r,o,i,a,s,l){let c=0;for(let n=r;n<o;n++)c+=fc(e,t[n]);let u=Math.ceil(1.5*c/8),h=[],d=[];return function t(n,r,o,a,s){for(let c=o;c<a;){let o=c,f=r[c],p=fc(e,n[c]);for(c++;c<a;c++){let t=fc(e,n[c]);if(p+t>=u)break;p+=t}if(c==o+1){if(p>u){let e=n[o];t(e.children,e.positions,0,e.children.length,r[o]+s);continue}h.push(n[o])}else{let t=r[c-1]+n[c-1].length-f;h.push(pc(e,n,r,o,c,f,t,null,l))}d.push(f+s-i)}}(t,n,r,o,0),(s||l)(h,d,a)}class mc{constructor(e,t,n,r,o=!1,i=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(o?1:0)|(i?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let r=[new mc(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&r.push(n);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],o=1,i=e.length?e[0]:null;for(let a=0,s=0,l=0;;a++){let c=a<t.length?t[a]:null,u=c?c.fromA:1e9;if(u-s>=n)for(;i&&i.from<u;){let t=i;if(s>=t.from||u<=t.to||l){let e=Math.max(t.from,s)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new mc(e,n,t.tree,t.offset+l,a>0,!!c)}if(t&&r.push(t),i.to>u)break;i=o<e.length?e[o++]:null}if(!c)break;s=c.toA,l=c.toA-c.toB}return r}}class Ac{startParse(e,t,n){return"string"==typeof e&&(e=new gc(e)),n=n?n.length?n.map((e=>new Vl(e.from,e.to))):[new Vl(0,0)]:[new Vl(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}}class gc{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new ql({perNode:!0});let vc=0;class wc{constructor(e,t,n,r){this.name=e,this.set=t,this.base=n,this.modified=r,this.id=vc++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n="string"==typeof e?e:"?";if(e instanceof wc&&(t=e),null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let r=new wc(n,[],null,[]);if(r.set.push(r),t)for(let e of t.set)r.set.push(e);return r}static defineModifier(e){let t=new yc(e);return e=>e.modified.indexOf(t)>-1?e:yc.get(e.base||e,e.modified.concat(t).sort(((e,t)=>e.id-t.id)))}}let bc=0;class yc{constructor(e){this.name=e,this.instances=[],this.id=bc++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(r=t,o=n.modified,r.length==o.length&&r.every(((e,t)=>e==o[t])));var r,o}));if(n)return n;let r=[],o=new wc(e.name,r,e,t);for(let e of t)e.instances.push(o);let i=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,o=t.length;r<o;r++)t.push(t[r].concat(e[n]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let t of e.set)if(!t.modified.length)for(let e of i)r.push(yc.get(t,e));return o}}function Cc(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],o=2,i=e;for(let t=0;;){if("..."==i&&t>0&&t+3==e.length){o=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let a=e[t++];if(t==e.length&&"!"==a){o=0;break}if("/"!=a)throw new RangeError("Invalid path: "+e);i=e.slice(t)}let a=n.length-1,s=n[a];if(!s)throw new RangeError("Invalid path: "+e);let l=new kc(r,o,a>0?n.slice(0,a):null);t[s]=l.sort(t[s])}}return xc.add(t)}const xc=new ql;class kc{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function Pc(e,t){let n=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)n[e.id]=t.class;else n[t.tag.id]=t.class;let{scope:r,all:o=null}=t||{};return{style:e=>{let t=o;for(let r of e)for(let e of r.set){let r=n[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}kc.empty=new kc([],2,null);const Ec=wc.define,Sc=Ec(),Ic=Ec(),Mc=Ec(Ic),Oc=Ec(Ic),Nc=Ec(),Bc=Ec(Nc),Dc=Ec(Nc),Tc=Ec(),Rc=Ec(Tc),Lc=Ec(),zc=Ec(),Fc=Ec(),_c=Ec(Fc),jc=Ec(),Wc={comment:Sc,lineComment:Ec(Sc),blockComment:Ec(Sc),docComment:Ec(Sc),name:Ic,variableName:Ec(Ic),typeName:Mc,tagName:Ec(Mc),propertyName:Oc,attributeName:Ec(Oc),className:Ec(Ic),labelName:Ec(Ic),namespace:Ec(Ic),macroName:Ec(Ic),literal:Nc,string:Bc,docString:Ec(Bc),character:Ec(Bc),attributeValue:Ec(Bc),number:Dc,integer:Ec(Dc),float:Ec(Dc),bool:Ec(Nc),regexp:Ec(Nc),escape:Ec(Nc),color:Ec(Nc),url:Ec(Nc),keyword:Lc,self:Ec(Lc),null:Ec(Lc),atom:Ec(Lc),unit:Ec(Lc),modifier:Ec(Lc),operatorKeyword:Ec(Lc),controlKeyword:Ec(Lc),definitionKeyword:Ec(Lc),moduleKeyword:Ec(Lc),operator:zc,derefOperator:Ec(zc),arithmeticOperator:Ec(zc),logicOperator:Ec(zc),bitwiseOperator:Ec(zc),compareOperator:Ec(zc),updateOperator:Ec(zc),definitionOperator:Ec(zc),typeOperator:Ec(zc),controlOperator:Ec(zc),punctuation:Fc,separator:Ec(Fc),bracket:_c,angleBracket:Ec(_c),squareBracket:Ec(_c),paren:Ec(_c),brace:Ec(_c),content:Tc,heading:Rc,heading1:Ec(Rc),heading2:Ec(Rc),heading3:Ec(Rc),heading4:Ec(Rc),heading5:Ec(Rc),heading6:Ec(Rc),contentSeparator:Ec(Tc),list:Ec(Tc),quote:Ec(Tc),emphasis:Ec(Tc),strong:Ec(Tc),link:Ec(Tc),monospace:Ec(Tc),strikethrough:Ec(Tc),inserted:Ec(),deleted:Ec(),changed:Ec(),invalid:Ec(),meta:jc,documentMeta:Ec(jc),annotation:Ec(jc),processingInstruction:Ec(jc),definition:wc.defineModifier("definition"),constant:wc.defineModifier("constant"),function:wc.defineModifier("function"),standard:wc.defineModifier("standard"),local:wc.defineModifier("local"),special:wc.defineModifier("special")};for(let e in Wc){let t=Wc[e];t instanceof wc&&(t.name=e)}var Hc;Pc([{tag:Wc.link,class:"tok-link"},{tag:Wc.heading,class:"tok-heading"},{tag:Wc.emphasis,class:"tok-emphasis"},{tag:Wc.strong,class:"tok-strong"},{tag:Wc.keyword,class:"tok-keyword"},{tag:Wc.atom,class:"tok-atom"},{tag:Wc.bool,class:"tok-bool"},{tag:Wc.url,class:"tok-url"},{tag:Wc.labelName,class:"tok-labelName"},{tag:Wc.inserted,class:"tok-inserted"},{tag:Wc.deleted,class:"tok-deleted"},{tag:Wc.literal,class:"tok-literal"},{tag:Wc.string,class:"tok-string"},{tag:Wc.number,class:"tok-number"},{tag:[Wc.regexp,Wc.escape,Wc.special(Wc.string)],class:"tok-string2"},{tag:Wc.variableName,class:"tok-variableName"},{tag:Wc.local(Wc.variableName),class:"tok-variableName tok-local"},{tag:Wc.definition(Wc.variableName),class:"tok-variableName tok-definition"},{tag:Wc.special(Wc.variableName),class:"tok-variableName2"},{tag:Wc.definition(Wc.propertyName),class:"tok-propertyName tok-definition"},{tag:Wc.typeName,class:"tok-typeName"},{tag:Wc.namespace,class:"tok-namespace"},{tag:Wc.className,class:"tok-className"},{tag:Wc.macroName,class:"tok-macroName"},{tag:Wc.propertyName,class:"tok-propertyName"},{tag:Wc.operator,class:"tok-operator"},{tag:Wc.comment,class:"tok-comment"},{tag:Wc.meta,class:"tok-meta"},{tag:Wc.invalid,class:"tok-invalid"},{tag:Wc.punctuation,class:"tok-punctuation"}]);const Vc=new ql,qc=new ql;class Uc{constructor(e,t,n=[],r=""){this.data=e,this.name=r,jn.prototype.hasOwnProperty("tree")||Object.defineProperty(jn.prototype,"tree",{get(){return Kc(this)}}),this.parser=t,this.extension=[nu.of(this),jn.languageData.of(((e,t,n)=>{let r=$c(e,t,n),o=r.type.prop(Vc);if(!o)return[];let i=e.facet(o),a=r.type.prop(qc);if(a){let o=r.resolve(t-r.from,n);for(let t of a)if(t.test(o,e)){let n=e.facet(t.facet);return"replace"==t.type?n:n.concat(i)}}return i}))].concat(n)}isActiveAt(e,t,n=-1){return $c(e,t,n).type.prop(Vc)==this.data}findRegions(e){let t=e.facet(nu);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop(Vc)==this.data)return void n.push({from:t,to:t+e.length});let o=e.prop(ql.mounted);if(o){if(o.tree.prop(Vc)==this.data){if(o.overlay)for(let e of o.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(o.overlay){let e=n.length;if(r(o.tree,o.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let o=e.children[n];o instanceof Xl&&r(o,e.positions[n]+t)}};return r(Kc(e),0),n}get allowsNesting(){return!0}}function $c(e,t,n){let r=e.facet(nu),o=Kc(e).topNode;if(!r||r.allowsNesting)for(let e=o;e;e=e.enter(t,n,Yl.ExcludeBuffers))e.type.isTop&&(o=e);return o}function Kc(e){let t=e.field(Uc.state,!1);return t?t.tree:Xl.empty}Uc.setState=Mn.define();class Gc{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Qc=null;class Yc{constructor(e,t,n=[],r,o,i,a,s){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=o,this.viewport=i,this.skipped=a,this.scheduleOn=s,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Yc(e,t,[],Xl.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Gc(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=Xl.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(mc.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(mc.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Qc;Qc=this;try{return e()}finally{Qc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Xc(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:o,viewport:i,skipped:a}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,r,o)=>t.push({fromA:e,toA:n,fromB:r,toB:o}))),n=mc.applyChanges(n,t),r=Xl.empty,o=0,i={from:e.mapPos(i.from,-1),to:e.mapPos(i.to,1)},this.skipped.length){a=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&a.push({from:n,to:r})}}}return new Yc(this.parser,t,n,r,o,i,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:r}=this.skipped[t];n<e.to&&r>e.from&&(this.fragments=Xc(this.fragments,n,r),this.skipped.splice(t--,1))}return!(this.skipped.length>=t||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Ac{createParse(t,n,r){let o=r[0].from,i=r[r.length-1].to;return{parsedPos:o,advance(){let t=Qc;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=i,new Xl(Kl.none,[],[],i-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return Qc}}function Xc(e,t,n){return mc.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class Jc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new Jc(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Yc.create(e.facet(nu).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new Jc(n)}}Uc.state=un.define({create:Jc.init,update(e,t){for(let e of t.effects)if(e.is(Uc.setState))return e.value;return t.startState.facet(nu)!=t.state.facet(nu)?Jc.init(t.state):e.apply(t)}});let Zc=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(Zc=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const eu="undefined"!=typeof navigator&&(null===(Hc=navigator.scheduling)||void 0===Hc?void 0:Hc.isInputPending)?()=>navigator.scheduling.isInputPending():null,tu=gi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Uc.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Uc.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=Zc(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,o=n.field(Uc.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let i=Date.now()+Math.min(this.chunkBudget,100,e&&!eu?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<r&&n.doc.length>r+1e3,s=o.context.work((()=>eu&&eu()||Date.now()>i),r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(s||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Uc.setState.of(new Jc(o.context))})),this.chunkBudget>0&&(!s||a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>fi(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),nu=nn.define({combine:e=>e.length?e[0]:null,enables:e=>[Uc.state,tu,As.contentAttributes.compute([e],(t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]}),ru=nn.define(),ou=nn.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((e=>e!=t[0])))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function iu(e){let t=e.facet(ou);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function au(e,t){let n="",r=e.tabSize,o=e.facet(ou)[0];if("\t"==o){for(;t>=r;)n+="\t",t-=r;o=" "}for(let e=0;e<t;e++)n+=o;return n}function su(e,t){e instanceof jn&&(e=new lu(e));for(let n of e.state.facet(ru)){let r=n(e,t);if(void 0!==r)return r}let n=Kc(e.state);return n.length>=t?function(e,t,n){let r=t.resolveStack(n),o=t.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(o!=r.node){let e=[];for(let t=o;t&&(t.from!=r.node.from||t.type!=r.node.type);t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)r={node:e[t],next:r}}return uu(r,e,n)}(e,n,t):null}class lu{constructor(e,t={}){this.state=e,this.options=t,this.unit=iu(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return null!=r&&r>=n.from&&r<=n.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.countColumn(n,e-r),i=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return i>-1&&(o+=i-this.countColumn(n,n.search(/\S|$/))),o}countColumn(e,t=e.length){return or(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let e=o(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const cu=new ql;function uu(e,t,n){for(let r=e;r;r=r.next){let e=hu(r.node);if(e)return e(fu.create(t,n,r))}return 0}function hu(e){let t=e.type.prop(cu);if(t)return t;let n,r=e.firstChild;if(r&&(n=r.type.prop(ql.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>function(e,t,n,r,o){let i=e.textAfter,a=i.match(/^\s*/)[0].length,s=r&&i.slice(a,a+r.length)==r||o==e.pos+a,l=t?function(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let o=e.options.simulateBreak,i=e.state.doc.lineAt(n.from),a=null==o||o<=i.from?i.to:Math.min(i.to,o);for(let e=n.to;;){let o=t.childAfter(e);if(!o||o==r)return null;if(!o.type.isSkipped){if(o.from>=a)return null;let e=/^ */.exec(i.text.slice(n.to-i.from))[0].length;return{from:n.from,to:n.to+e}}e=o.to}}(e):null;return l?s?e.column(l.from):e.column(l.to):e.baseIndent+(s?0:e.unit*n)}(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?du:null}function du(){return 0}class fu extends lu{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new fu(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(pu(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return uu(this.context.next,this.base,this.pos)}}function pu(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}const mu=nn.define(),Au=new ql;function gu(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function vu(e,t,n){for(let r of e.facet(mu)){let o=r(e,t,n);if(o)return o}return function(e,t,n){let r=Kc(e);if(r.length<n)return null;let o=null;for(let i=r.resolveStack(n,1);i;i=i.next){let a=i.node;if(a.to<=n||a.from>n)continue;if(o&&a.from<t)break;let s=a.type.prop(Au);if(s&&(a.to<r.length-50||r.length==e.doc.length||!gu(a))){let r=s(a,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(o=r)}}return o}(e,t,n)}function wu(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const bu=Mn.define({map:wu}),yu=Mn.define({map:wu});function Cu(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const xu=un.define({create:()=>yo.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)if(n.is(bu)&&!Pu(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(Bu),o=r?yo.replace({widget:new Lu(r(t.state,n.value))}):Ru;e=e.update({add:[o.range(n.value.from,n.value.to)]})}else n.is(yu)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:r}=t.selection.main;e.between(r,r,((e,t)=>{e<r&&t>r&&(n=!0)})),n&&(e=e.update({filterFrom:r,filterTo:r,filter:(e,t)=>t<=r||e>=r}))}return e},provide:e=>As.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,((e,t)=>{n.push(e,t)})),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],o=e[n++];if("number"!=typeof r||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");t.push(Ru.range(r,o))}return yo.set(t,!0)}});function ku(e,t,n){var r;let o=null;return null===(r=e.field(xu,!1))||void 0===r||r.between(t,n,((e,t)=>{(!o||o.from>e)&&(o={from:e,to:t})})),o}function Pu(e,t,n){let r=!1;return e.between(t,t,((e,o)=>{e==t&&o==n&&(r=!0)})),r}function Eu(e,t){return e.field(xu,!1)?t:t.concat(Mn.appendConfig.of(Du()))}const Su=e=>{for(let t of Cu(e)){let n=vu(e.state,t.from,t.to);if(n)return e.dispatch({effects:Eu(e.state,[bu.of(n),Mu(e,n)])}),!0}return!1},Iu=e=>{if(!e.state.field(xu,!1))return!1;let t=[];for(let n of Cu(e)){let r=ku(e.state,n.from,n.to);r&&t.push(yu.of(r),Mu(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0};function Mu(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,o=e.state.doc.lineAt(t.to).number;return As.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${o}.`)}const Ou=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Su},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Iu},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let o=e.lineBlockAt(r),i=vu(t,o.from,o.to);i&&n.push(bu.of(i)),r=(i?e.lineBlockAt(i.to):o).to+1}return n.length&&e.dispatch({effects:Eu(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(xu,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(yu.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],Nu={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Bu=nn.define({combine:e=>Wn(e,Nu)});function Du(e){let t=[xu,ju];return e&&t.push(Bu.of(e)),t}function Tu(e,t){let{state:n}=e,r=n.facet(Bu),o=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),r=ku(e.state,n.from,n.to);r&&e.dispatch({effects:yu.of(r)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,o,t);let i=document.createElement("span");return i.textContent=r.placeholderText,i.setAttribute("aria-label",n.phrase("folded code")),i.title=n.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=o,i}const Ru=yo.replace({widget:new class extends wo{toDOM(e){return Tu(e,null)}}});class Lu extends wo{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Tu(e,this.value)}}const zu={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Fu extends gl{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function _u(e={}){let t=Object.assign(Object.assign({},zu),e),n=new Fu(t,!0),r=new Fu(t,!1),o=gi.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(nu)!=e.state.facet(nu)||e.startState.field(xu,!1)!=e.state.field(xu,!1)||Kc(e.startState)!=Kc(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new Kn;for(let o of e.viewportLineBlocks){let i=ku(e.state,o.from,o.to)?r:vu(e.state,o.from,o.to)?n:null;i&&t.add(o.from,o.from,i)}return t.finish()}}),{domEventHandlers:i}=t;return[o,Cl({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.markers)||$n.empty},initialSpacer:()=>new Fu(t,!1),domEventHandlers:Object.assign(Object.assign({},i),{click:(e,t,n)=>{if(i.click&&i.click(e,t,n))return!0;let r=ku(e.state,t.from,t.to);if(r)return e.dispatch({effects:yu.of(r)}),!0;let o=vu(e.state,t.from,t.to);return!!o&&(e.dispatch({effects:bu.of(o)}),!0)}})}),Du()]}const ju=As.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});Wc.meta,Wc.link,Wc.heading,Wc.emphasis,Wc.strong,Wc.strikethrough,Wc.keyword,Wc.atom,Wc.bool,Wc.url,Wc.contentSeparator,Wc.labelName,Wc.literal,Wc.inserted,Wc.string,Wc.deleted,Wc.regexp,Wc.escape,Wc.string,Wc.variableName,Wc.variableName,Wc.typeName,Wc.namespace,Wc.className,Wc.variableName,Wc.macroName,Wc.propertyName,Wc.comment,Wc.invalid;const Wu=As.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Hu="()[]{}",Vu=nn.define({combine:e=>Wn(e,{afterCursor:!0,brackets:Hu,maxScanDistance:1e4,renderMatch:$u})}),qu=yo.mark({class:"cm-matchingBracket"}),Uu=yo.mark({class:"cm-nonmatchingBracket"});function $u(e){let t=[],n=e.matched?qu:Uu;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const Ku=un.define({create:()=>yo.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(Vu);for(let e of t.state.selection.ranges){if(!e.empty)continue;let o=Zu(t.state,e.head,-1,r)||e.head>0&&Zu(t.state,e.head-1,1,r)||r.afterCursor&&(Zu(t.state,e.head,1,r)||e.head<t.state.doc.length&&Zu(t.state,e.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,t.state)))}return yo.set(n,!0)},provide:e=>As.decorations.from(e)}),Gu=[Ku,Wu];function Qu(e={}){return[Vu.of(e),Gu]}const Yu=new ql;function Xu(e,t,n){let r=e.prop(t<0?ql.openedBy:ql.closedBy);if(r)return r;if(1==e.name.length){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function Ju(e){let t=e.type.prop(Yu);return t?t(e.node):e}function Zu(e,t,n,r={}){let o=r.maxScanDistance||1e4,i=r.brackets||Hu,a=Kc(e),s=a.resolveInner(t,n);for(let e=s;e;e=e.parent){let r=Xu(e.type,n,i);if(r&&e.from<e.to){let o=Ju(e);if(o&&(n>0?t>=o.from&&t<o.to:t>o.from&&t<=o.to))return eh(0,0,n,e,o,r,i)}}return function(e,t,n,r,o,i,a){let s=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=a.indexOf(s);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),h=0;for(let e=0;!u.next().done&&e<=i;){let i=u.value;n<0&&(e+=i.length);let s=t+e*n;for(let e=n>0?0:i.length-1,t=n>0?i.length:-1;e!=t;e+=n){let t=a.indexOf(i[e]);if(!(t<0||r.resolveInner(s+e,1).type!=o))if(t%2==0==n>0)h++;else{if(1==h)return{start:c,end:{from:s+e,to:s+e+1},matched:t>>1==l>>1};h--}}n>0&&(e+=i.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,a,s.type,o,i)}function eh(e,t,n,r,o,i,a){let s=r.parent,l={from:o.from,to:o.to},c=0,u=null==s?void 0:s.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==c&&i.indexOf(u.type.name)>-1&&u.from<u.to){let e=Ju(u);return{start:l,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(Xu(u.type,n,a))c++;else if(Xu(u.type,-n,a)){if(0==c){let e=Ju(u);return{start:l,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}c--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}const th=Object.create(null),nh=[Kl.none],rh=[],oh=Object.create(null),ih=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])ih[e]=sh(th,t);function ah(e,t){rh.indexOf(e)>-1||(rh.push(e),console.warn(t))}function sh(e,t){let n=[];for(let r of t.split(" ")){let t=[];for(let n of r.split(".")){let r=e[n]||Wc[n];r?"function"==typeof r?t.length?t=t.map(r):ah(n,`Modifier ${n} used at start of tag`):t.length?ah(n,`Tag ${n} used as modifier`):t=Array.isArray(r)?r:[r]:ah(n,`Unknown highlighting tag ${n}`)}for(let e of t)n.push(e)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),o=r+" "+n.map((e=>e.id)),i=oh[o];if(i)return i.id;let a=oh[o]=Kl.define({id:nh.length,name:r,props:[Cc({[r]:n})]});return nh.push(a),a.id}function lh(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let o=e(t,n);return!!o&&(r(n.update(o)),!0)}}Do.RTL,Do.LTR;const ch=lh(mh,0),uh=lh(ph,0),hh=lh(((e,t)=>ph(e,t,function(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),o=n.to<=r.to?r:e.doc.lineAt(n.to);o.from>r.from&&o.from==n.to&&(o=n.to==r.to+1?r:e.doc.lineAt(n.to-1));let i=t.length-1;i>=0&&t[i].to>r.from?t[i].to=o.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:o.to})}return t}(t))),0);function dh(e,t){let n=e.languageDataAt("commentTokens",t,1);return n.length?n[0]:{}}const fh=50;function ph(e,t,n=t.selection.ranges){let r=n.map((e=>dh(t,e.from).block));if(!r.every((e=>e)))return null;let o=n.map(((e,n)=>function(e,{open:t,close:n},r,o){let i,a,s=e.sliceDoc(r-fh,r),l=e.sliceDoc(o,o+fh),c=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(l)[0].length,h=s.length-c;if(s.slice(h-t.length,h)==t&&l.slice(u,u+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:o+u,margin:u&&1}};o-r<=2*fh?i=a=e.sliceDoc(r,o):(i=e.sliceDoc(r,r+fh),a=e.sliceDoc(o-fh,o));let d=/^\s*/.exec(i)[0].length,f=/\s*$/.exec(a)[0].length,p=a.length-f-n.length;return i.slice(d,d+t.length)==t&&a.slice(p,p+n.length)==n?{open:{pos:r+d+t.length,margin:/\s/.test(i.charAt(d+t.length))?1:0},close:{pos:o-f-n.length,margin:/\s/.test(a.charAt(p-1))?1:0}}:null}(t,r[n],e.from,e.to)));if(2!=e&&!o.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>o[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}])))};if(1!=e&&o.some((e=>e))){let e=[];for(let t,n=0;n<o.length;n++)if(t=o[n]){let o=r[n],{open:i,close:a}=t;e.push({from:i.pos-o.open.length,to:i.pos+i.margin},{from:a.pos-a.margin,to:a.pos+o.close.length})}return{changes:e}}return null}function mh(e,t,n=t.selection.ranges){let r=[],o=-1;for(let{from:e,to:i}of n){let n=r.length,a=1e9,s=dh(t,e).line;if(s){for(let n=e;n<=i;){let l=t.doc.lineAt(n);if(l.from>o&&(e==i||i>l.from)){o=l.from;let e=/^\s*/.exec(l.text)[0].length,t=e==l.length,n=l.text.slice(e,e+s.length)==s?e:-1;e<l.text.length&&e<a&&(a=e),r.push({line:l,comment:n,token:s,indent:e,empty:t,single:!1})}n=l.to+1}if(a<1e9)for(let e=n;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=a);r.length==n+1&&(r[n].single=!0)}}if(2!=e&&r.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:n,indent:o,empty:i,single:a}of r)!a&&i||e.push({from:t.from+o,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&r.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:o}of r)if(n>=0){let r=t.from+n,i=r+o.length;" "==t.text[i-t.from]&&i++,e.push({from:r,to:i})}return{changes:e}}return null}const Ah=En.define(),gh=En.define(),vh=nn.define(),wh=nn.define({combine:e=>Wn(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}),bh=un.define({create:()=>zh.empty,update(e,t){let n=t.state.facet(wh),r=t.annotation(Ah);if(r){let o=Sh.fromTransaction(t,r.selection),i=r.side,a=0==i?e.undone:e.done;return a=o?Ih(a,a.length,n.minDepth,o):Bh(a,t.startState.selection),new zh(0==i?r.rest:a,0==i?a:r.rest)}let o=t.annotation(gh);if("full"!=o&&"before"!=o||(e=e.isolate()),!1===t.annotation(On.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let i=Sh.fromTransaction(t),a=t.annotation(On.time),s=t.annotation(On.userEvent);return i?e=e.addChanges(i,a,s,n,t):t.selection&&(e=e.addSelection(t.startState.selection,a,s,n.newGroupDelay)),"full"!=o&&"after"!=o||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new zh(e.done.map(Sh.fromJSON),e.undone.map(Sh.fromJSON))});function yh(e={}){return[bh,wh.of(e),As.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?xh:"historyRedo"==e.inputType?kh:null;return!!n&&(e.preventDefault(),n(t))}})]}function Ch(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let o=n.field(bh,!1);if(!o)return!1;let i=o.pop(e,n,t);return!!i&&(r(i),!0)}}const xh=Ch(0,!1),kh=Ch(1,!1),Ph=Ch(0,!0),Eh=Ch(1,!0);class Sh{constructor(e,t,n,r,o){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=o}setSelAfter(e){return new Sh(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new Sh(e.changes&&Ut.fromJSON(e.changes),[],e.mapped&&qt.fromJSON(e.mapped),e.startSelection&&Zt.fromJSON(e.startSelection),e.selectionsAfter.map(Zt.fromJSON))}static fromTransaction(e,t){let n=Oh;for(let t of e.startState.facet(vh)){let r=t(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new Sh(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,Oh)}static selection(e){return new Sh(void 0,Oh,void 0,void 0,e)}}function Ih(e,t,n,r){let o=t+1>n+20?t-n-1:0,i=e.slice(o,t);return i.push(r),i}function Mh(e,t){return e.length?t.length?e.concat(t):e:t}const Oh=[],Nh=200;function Bh(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Nh));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),Ih(e,e.length-1,1e9,n.setSelAfter(r)))}return[Sh.selection([t])]}function Dh(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function Th(e,t){if(!e.length)return e;let n=e.length,r=Oh;for(;n;){let o=Rh(e[n-1],t,r);if(o.changes&&!o.changes.empty||o.effects.length){let t=e.slice(0,n);return t[n-1]=o,t}t=o.mapped,n--,r=o.selectionsAfter}return r.length?[Sh.selection(r)]:Oh}function Rh(e,t,n){let r=Mh(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):Oh,n);if(!e.changes)return Sh.selection(r);let o=e.changes.map(t),i=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(i):i;return new Sh(o,Mn.mapEffects(e.effects,t),a,e.startSelection.map(i),r)}const Lh=/^(input\.type|delete)($|\.)/;class zh{constructor(e,t,n=0,r=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new zh(this.done,this.undone):this}addChanges(e,t,n,r,o){let i=this.done,a=i[i.length-1];return i=a&&a.changes&&!a.changes.empty&&e.changes&&(!n||Lh.test(n))&&(!a.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(o,function(e,t){let n=[],r=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,o,i)=>{for(let e=0;e<n.length;){let t=n[e++],a=n[e++];i>=t&&o<=a&&(r=!0)}})),r}(a.changes,e.changes))||"input.type.compose"==n)?Ih(i,i.length-1,r.minDepth,new Sh(e.changes.compose(a.changes),Mh(Mn.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Oh)):Ih(i,i.length,r.minDepth,e),new zh(i,Oh,t,n)}addSelection(e,t,n,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Oh;return o.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(i=o[o.length-1],a=e,i.ranges.length==a.ranges.length&&0===i.ranges.filter(((e,t)=>e.empty!=a.ranges[t].empty)).length)?this:new zh(Bh(this.done,e),this.undone,t,n);var i,a}addMapping(e){return new zh(Th(this.done,e),Th(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=0==e?this.done:this.undone;if(0==r.length)return null;let o=r[r.length-1],i=o.selectionsAfter[0]||t.selection;if(n&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Ah.of({side:e,rest:Dh(r),selection:i}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let n=1==r.length?Oh:r.slice(0,r.length-1);return o.mapped&&(n=Th(n,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Ah.of({side:e,rest:n,selection:i}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}zh.empty=new zh(Oh,Oh);const Fh=[{key:"Mod-z",run:xh,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:kh,preventDefault:!0},{linux:"Ctrl-Shift-z",run:kh,preventDefault:!0},{key:"Mod-u",run:Ph,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Eh,preventDefault:!0}];function _h(e,t){return Zt.create(e.ranges.map(t),e.mainIndex)}function jh(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Wh({state:e,dispatch:t},n){let r=_h(e.selection,n);return!r.eq(e.selection,!0)&&(t(jh(e,r)),!0)}function Hh(e,t){return Zt.cursor(t?e.to:e.from)}function Vh(e,t){return Wh(e,(n=>n.empty?e.moveByChar(n,t):Hh(n,t)))}function qh(e){return e.textDirectionAt(e.state.selection.main.head)==Do.LTR}const Uh=e=>Vh(e,!qh(e)),$h=e=>Vh(e,qh(e));function Kh(e,t){return Wh(e,(n=>n.empty?e.moveByGroup(n,t):Hh(n,t)))}function Gh(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Qh(e,t,n){let r,o,i=Kc(e).resolveInner(t.head),a=n?ql.closedBy:ql.openedBy;for(let r=t.head;;){let t=n?i.childAfter(r):i.childBefore(r);if(!t)break;Gh(e,t,a)?i=t:r=n?t.to:t.from}return o=i.type.prop(a)&&(r=n?Zu(e,i.from,1):Zu(e,i.to,-1))&&r.matched?n?r.end.to:r.end.from:n?i.to:i.from,Zt.cursor(o,n?-1:1)}function Yh(e,t){return Wh(e,(n=>{if(!n.empty)return Hh(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}"undefined"!=typeof Intl&&Intl.Segmenter;const Xh=e=>Yh(e,!1),Jh=e=>Yh(e,!0);function Zh(e){let t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,r=0,o=0;if(n){for(let t of e.state.facet(As.scrollMargins)){let n=t(e);(null==n?void 0:n.top)&&(r=Math.max(null==n?void 0:n.top,r)),(null==n?void 0:n.bottom)&&(o=Math.max(null==n?void 0:n.bottom,o))}t=e.scrollDOM.clientHeight-r-o}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:o,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function ed(e,t){let n,r=Zh(e),{state:o}=e,i=_h(o.selection,(n=>n.empty?e.moveVertically(n,t,r.height):Hh(n,t)));if(i.eq(o.selection))return!1;if(r.selfScroll){let t=e.coordsAtPos(o.selection.main.head),a=e.scrollDOM.getBoundingClientRect(),s=a.top+r.marginTop,l=a.bottom-r.marginBottom;t&&t.top>s&&t.bottom<l&&(n=As.scrollIntoView(i.main.head,{y:"start",yMargin:t.top-s}))}return e.dispatch(jh(o,i),{effects:n}),!0}const td=e=>ed(e,!1),nd=e=>ed(e,!0);function rd(e,t,n){let r=e.lineBlockAt(t.head),o=e.moveToLineBoundary(t,n);if(o.head==t.head&&o.head!=(n?r.to:r.from)&&(o=e.moveToLineBoundary(t,n,!1)),!n&&o.head==r.from&&r.length){let n=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&t.head!=r.from+n&&(o=Zt.cursor(r.from+n))}return o}function od(e,t){let n=_h(e.state.selection,(e=>{let n=t(e);return Zt.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(jh(e.state,n)),!0)}function id(e,t){return od(e,(n=>e.moveByChar(n,t)))}const ad=e=>id(e,!qh(e)),sd=e=>id(e,qh(e));function ld(e,t){return od(e,(n=>e.moveByGroup(n,t)))}function cd(e,t){return od(e,(n=>e.moveVertically(n,t)))}const ud=e=>cd(e,!1),hd=e=>cd(e,!0);function dd(e,t){return od(e,(n=>e.moveVertically(n,t,Zh(e).height)))}const fd=e=>dd(e,!1),pd=e=>dd(e,!0),md=({state:e,dispatch:t})=>(t(jh(e,{anchor:0})),!0),Ad=({state:e,dispatch:t})=>(t(jh(e,{anchor:e.doc.length})),!0),gd=({state:e,dispatch:t})=>(t(jh(e,{anchor:e.selection.main.anchor,head:0})),!0),vd=({state:e,dispatch:t})=>(t(jh(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function wd(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,o=r.changeByRange((r=>{let{from:o,to:i}=r;if(o==i){let a=t(r);a<o?(n="delete.backward",a=bd(e,a,!1)):a>o&&(n="delete.forward",a=bd(e,a,!0)),o=Math.min(o,a),i=Math.max(i,a)}else o=bd(e,o,!1),i=bd(e,i,!0);return o==i?{range:r}:{changes:{from:o,to:i},range:Zt.cursor(o,o<r.head?-1:1)}}));return!o.changes.empty&&(e.dispatch(r.update(o,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?As.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function bd(e,t,n){if(e instanceof As)for(let r of e.state.facet(As.atomicRanges).map((t=>t(e))))r.between(t,t,((e,r)=>{e<t&&r>t&&(t=n?r:e)}));return t}const yd=(e,t,n)=>wd(e,(r=>{let o,i,a=r.from,{state:s}=e,l=s.doc.lineAt(a);if(n&&!t&&a>l.from&&a<l.from+200&&!/[^ \t]/.test(o=l.text.slice(0,a-l.from))){if("\t"==o[o.length-1])return a-1;let e=or(o,s.tabSize)%iu(s)||iu(s);for(let t=0;t<e&&" "==o[o.length-1-t];t++)a--;i=a}else i=Ft(l.text,a-l.from,t,t)+l.from,i==a&&l.number!=(t?s.doc.lines:1)?i+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(l.text.slice(i-l.from,a-l.from))&&(i=Ft(l.text,i-l.from,!1,!1)+l.from);return i})),Cd=e=>yd(e,!1,!0),xd=e=>yd(e,!0,!1),kd=(e,t)=>wd(e,(n=>{let r=n.head,{state:o}=e,i=o.doc.lineAt(r),a=o.charCategorizer(r);for(let e=null;;){if(r==(t?i.to:i.from)){r==n.head&&i.number!=(t?o.doc.lines:1)&&(r+=t?1:-1);break}let s=Ft(i.text,r-i.from,t)+i.from,l=i.text.slice(Math.min(r,s)-i.from,Math.max(r,s)-i.from),c=a(l);if(null!=e&&c!=e)break;" "==l&&r==n.head||(e=c),r=s}return r})),Pd=e=>kd(e,!1);function Ed(e){let t=[],n=-1;for(let r of e.selection.ranges){let o=e.doc.lineAt(r.from),i=e.doc.lineAt(r.to);if(r.empty||r.to!=i.from||(i=e.doc.lineAt(r.to-1)),n>=o.number){let e=t[t.length-1];e.to=i.to,e.ranges.push(r)}else t.push({from:o.from,to:i.to,ranges:[r]});n=i.number+1}return t}function Sd(e,t,n){if(e.readOnly)return!1;let r=[],o=[];for(let t of Ed(e)){if(n?t.to==e.doc.length:0==t.from)continue;let i=e.doc.lineAt(n?t.to+1:t.from-1),a=i.length+1;if(n){r.push({from:t.to,to:i.to},{from:t.from,insert:i.text+e.lineBreak});for(let n of t.ranges)o.push(Zt.range(Math.min(e.doc.length,n.anchor+a),Math.min(e.doc.length,n.head+a)))}else{r.push({from:i.from,to:t.from},{from:t.to,insert:e.lineBreak+i.text});for(let e of t.ranges)o.push(Zt.range(e.anchor-a,e.head-a))}}return!!r.length&&(t(e.update({changes:r,scrollIntoView:!0,selection:Zt.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Id(e,t,n){if(e.readOnly)return!1;let r=[];for(let t of Ed(e))n?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Md=Od(!1);function Od(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange((n=>{let{from:r,to:o}=n,i=t.doc.lineAt(r),a=!e&&r==o&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,r=Kc(e).resolveInner(t),o=r.childBefore(t),i=r.childAfter(t);return o&&i&&o.to<=t&&i.from>=t&&(n=o.type.prop(ql.closedBy))&&n.indexOf(i.name)>-1&&e.doc.lineAt(o.to).from==e.doc.lineAt(i.from).from&&!/\S/.test(e.sliceDoc(o.to,i.from))?{from:o.to,to:i.from}:null}(t,r);e&&(r=o=(o<=i.to?i:t.doc.lineAt(o)).to);let s=new lu(t,{simulateBreak:r,simulateDoubleBreak:!!a}),l=su(s,r);for(null==l&&(l=or(/^\s*/.exec(t.doc.lineAt(r).text)[0],t.tabSize));o<i.to&&/\s/.test(i.text[o-i.from]);)o++;a?({from:r,to:o}=a):r>i.from&&r<i.from+100&&!/\S/.test(i.text.slice(0,r))&&(r=i.from);let c=["",au(t,l)];return a&&c.push(au(t,s.lineIndent(i.from,-1))),{changes:{from:r,to:o,insert:It.of(c)},range:Zt.cursor(r+1+c[1].length)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Nd(e,t){let n=-1;return e.changeByRange((r=>{let o=[];for(let i=r.from;i<=r.to;){let a=e.doc.lineAt(i);a.number>n&&(r.empty||r.to>a.from)&&(t(a,o,r),n=a.number),i=a.to+1}let i=e.changes(o);return{changes:o,range:Zt.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}}))}const Bd=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Nd(e,((t,n)=>{n.push({from:t.from,insert:e.facet(ou)})})),{userEvent:"input.indent"})),!0),Dd=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Nd(e,((t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let o=or(r,e.tabSize),i=0,a=au(e,Math.max(0,o-iu(e)));for(;i<r.length&&i<a.length&&r.charCodeAt(i)==a.charCodeAt(i);)i++;n.push({from:t.from+i,to:t.from+r.length,insert:a.slice(i)})})),{userEvent:"delete.dedent"})),!0),Td=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Wh(e,(t=>Qh(e.state,t,!qh(e)))),shift:e=>od(e,(t=>Qh(e.state,t,!qh(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Wh(e,(t=>Qh(e.state,t,qh(e)))),shift:e=>od(e,(t=>Qh(e.state,t,qh(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>Sd(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>Id(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>Sd(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>Id(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=Zt.create([n.main]):n.main.empty||(r=Zt.create([Zt.cursor(n.main.head)])),!!r&&(t(jh(e,r)),!0)}},{key:"Mod-Enter",run:Od(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=Ed(e).map((({from:t,to:n})=>Zt.range(t,Math.min(n+1,e.doc.length))));return t(e.update({selection:Zt.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=_h(e.selection,(t=>{let n=Kc(e),r=n.resolveStack(t.from,1);if(t.empty){let e=n.resolveStack(t.from,-1);e.node.from>=r.node.from&&e.node.to<=r.node.to&&(r=e)}for(let e=r;e;e=e.next){let{node:n}=e;if((n.from<t.from&&n.to>=t.to||n.to>t.to&&n.from<=t.from)&&e.next)return Zt.range(n.to,n.from)}return t}));return!n.eq(e.selection)&&(t(jh(e,n)),!0)},preventDefault:!0},{key:"Mod-[",run:Dd},{key:"Mod-]",run:Bd},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new lu(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),o=Nd(e,((t,o,i)=>{let a=su(r,t.from);if(null==a)return;/\S/.test(t.text)||(a=0);let s=/^\s*/.exec(t.text)[0],l=au(e,a);(s!=l||i.from<t.from+s.length)&&(n[t.from]=a,o.push({from:t.from,to:t.from+s.length,insert:l}))}));return o.changes.empty||t(e.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(Ed(t).map((({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n})))),r=_h(t.selection,(t=>{let n;if(e.lineWrapping){let r=e.lineBlockAt(t.head),o=e.coordsAtPos(t.head,t.assoc||1);o&&(n=r.bottom+e.documentTop-o.bottom+e.defaultLineHeight/2)}return e.moveVertically(t,!0,n)})).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>function(e,t,n){let r=!1,o=_h(e.selection,(t=>{let o=Zu(e,t.head,-1)||Zu(e,t.head,1)||t.head>0&&Zu(e,t.head-1,1)||t.head<e.doc.length&&Zu(e,t.head+1,-1);if(!o||!o.end)return t;r=!0;let i=o.start.from==t.head?o.end.to:o.end.from;return n?Zt.range(t.anchor,i):Zt.cursor(i)}));return!!r&&(t(jh(e,o)),!0)}(e,t,!1)},{key:"Mod-/",run:e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=dh(e.state,n.from);return r.line?ch(e):!!r.block&&hh(e)}},{key:"Alt-A",run:uh},{key:"Ctrl-m",mac:"Shift-Alt-m",run:e=>(e.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:Uh,shift:ad,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Kh(e,!qh(e)),shift:e=>ld(e,!qh(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>Wh(e,(t=>rd(e,t,!qh(e)))),shift:e=>od(e,(t=>rd(e,t,!qh(e)))),preventDefault:!0},{key:"ArrowRight",run:$h,shift:sd,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Kh(e,qh(e)),shift:e=>ld(e,qh(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>Wh(e,(t=>rd(e,t,qh(e)))),shift:e=>od(e,(t=>rd(e,t,qh(e)))),preventDefault:!0},{key:"ArrowUp",run:Xh,shift:ud,preventDefault:!0},{mac:"Cmd-ArrowUp",run:md,shift:gd},{mac:"Ctrl-ArrowUp",run:td,shift:fd},{key:"ArrowDown",run:Jh,shift:hd,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Ad,shift:vd},{mac:"Ctrl-ArrowDown",run:nd,shift:pd},{key:"PageUp",run:td,shift:fd},{key:"PageDown",run:nd,shift:pd},{key:"Home",run:e=>Wh(e,(t=>rd(e,t,!1))),shift:e=>od(e,(t=>rd(e,t,!1))),preventDefault:!0},{key:"Mod-Home",run:md,shift:gd},{key:"End",run:e=>Wh(e,(t=>rd(e,t,!0))),shift:e=>od(e,(t=>rd(e,t,!0))),preventDefault:!0},{key:"Mod-End",run:Ad,shift:vd},{key:"Enter",run:Md,shift:Md},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Cd,shift:Cd},{key:"Delete",run:xd},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Pd},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>kd(e,!0)},{mac:"Mod-Backspace",run:e=>wd(e,(t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}))},{mac:"Mod-Delete",run:e=>wd(e,(t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))}].concat([{key:"Ctrl-b",run:Uh,shift:ad,preventDefault:!0},{key:"Ctrl-f",run:$h,shift:sd},{key:"Ctrl-p",run:Xh,shift:ud},{key:"Ctrl-n",run:Jh,shift:hd},{key:"Ctrl-a",run:e=>Wh(e,(t=>Zt.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>od(e,(t=>Zt.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>Wh(e,(t=>Zt.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>od(e,(t=>Zt.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:xd},{key:"Ctrl-h",run:Cd},{key:"Ctrl-k",run:e=>wd(e,(t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))},{key:"Ctrl-Alt-h",run:Pd},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:It.of(["",""])},range:Zt.cursor(e.from)})));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,r=e.doc.lineAt(n),o=n==r.from?n-1:Ft(r.text,n-r.from,!1)+r.from,i=n==r.to?n+1:Ft(r.text,n-r.from,!0)+r.from;return{changes:{from:o,to:i,insert:e.doc.slice(n,i).append(e.doc.slice(o,n))},range:Zt.cursor(i)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:nd}].map((e=>({mac:e.key,run:e.run,shift:e.shift}))))),Rd={key:"Tab",run:Bd,shift:Dd};var Ld=function(e,t,n){if(e){var r=e.state.changeByRange((function(r){var o,i,a=e.state.sliceDoc(r.from,r.to);if(r.empty){var s=t+n+t;o={from:r.from,insert:s},i=Zt.range(r.from+t.length,r.from+t.length+n.length)}else o={from:r.from,to:r.to,insert:t+a+t},i=Zt.range(r.from+t.length,r.to+t.length);return{changes:[o],range:i}}));e.dispatch(e.state.update(r,{scrollIntoView:!0,userEvent:"input.format.wrap"})),e.focus()}},zd=function(e,t){if(e){var n=e.state.changeByRange((function(n){var r=n.from,o=n.to,i=e.state.doc.lineAt(r),a=e.state.doc.lineAt(o),s=[],l=1;if("ordered"===t){var c=i.number>1?e.state.doc.line(i.number-1):null;if(c){var u=c.text.match(/^\s*(\d+)\.\s+/);u&&(l=parseInt(u[1],10)+1)}}for(var h=i.number;h<=a.number;h++){var d=e.state.doc.line(h),f=d.text,p=f.match(/^(\s*[-*+]\s+)/),m=f.match(/^(\s*\d+\.\s+)/),A="",g=0;if(m&&parseInt(m[1].trim().replace(".",""),10),"unordered"===t)if(p){var v=h>1?e.state.doc.line(h-1):null,w=null==v?void 0:v.text.match(/^\s*(\d+)\.\s+/);l=w?parseInt(w[1],10)+1:1,A="".concat(l,". "),g=p[1].length}else m?g=m[1].length:A="- ";else m?(A="- ",g=m[1].length):p?g=p[1].length:A="".concat(l,". ");if("ordered"===t&&A.match(/^\d+\.\s+/)?(A="".concat(l,". "),l++):"unordered"===t&&A.match(/^\d+\.\s+/)?l++:m&&"ordered"===t&&"- "===A||p&&"unordered"===t&&A.match(/^\d+\.\s+/)&&l++,0===d.length){if(A){var b=A+"List Item";s.push({from:d.from,insert:b}),A.match(/^\d+\.\s+/)&&l++}}else g>0?s.push({from:d.from,to:d.from+g,insert:A}):A&&s.push({from:d.from,insert:A})}if("ordered"===t)for(var y=a.number+1,C=!0;C&&y<=e.state.doc.lines;){var x=e.state.doc.line(y),k=x.text.match(/^(\s*)(\d+)(\.\s+)/);if(k){var P=l++;if(parseInt(k[2],10)!==P){var E="".concat(k[1]).concat(P).concat(k[3]);s.push({from:x.from,to:x.from+k[0].length,insert:E})}y++}else C=!1}var S=e.state.doc.line(a.number).to;return{changes:s,range:Zt.cursor(S)}}));e.dispatch(e.state.update(n,{scrollIntoView:!0,userEvent:"input.format.list"})),e.focus()}};function Fd(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];"string"==typeof o?e.setAttribute(r,o):null!=o&&(e[r]=o)}t++}for(;t<arguments.length;t++)_d(e,arguments[t]);return e}function _d(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)_d(e,t[n])}}const jd="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class Wd{constructor(e,t,n=0,r=e.length,o,i){this.test=i,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=o?e=>o(jd(e)):jd,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return _t(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=jt(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Wt(e);let r=this.normalize(t);if(r.length)for(let e=0,o=n;;e++){let i=r.charCodeAt(e),a=this.match(i,o,this.bufferPos+this.bufferStart);if(e==r.length-1){if(a)return this.value=a,this;break}o==n&&e<t.length&&t.charCodeAt(e)==i&&o++}}}match(e,t,n){let r=null;for(let t=0;t<this.matches.length;t+=2){let o=this.matches[t],i=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[t+1],to:n}:(this.matches[t]++,i=!0)),i||(this.matches.splice(t,2),t-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:n}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}"undefined"!=typeof Symbol&&(Wd.prototype[Symbol.iterator]=function(){return this});const Hd={from:-1,to:-1,match:/.*/.exec("")},Vd="gm"+(null==/x/.unicode?"":"u");class qd{constructor(e,t,n,r=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=Hd,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Kd(e,t,n,r,o);this.re=new RegExp(t,Vd+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=e.iter();let i=e.lineAt(r);this.curLineStart=i.from,this.matchPos=Gd(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=Gd(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const Ud=new WeakMap;class $d{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=Ud.get(e);if(!r||r.from>=n||r.to<=t){let r=new $d(t,e.sliceString(t,n));return Ud.set(e,r),r}if(r.from==t&&r.to==n)return r;let{text:o,from:i}=r;return i>t&&(o=e.sliceString(t,i)+o,i=t),r.to<n&&(o+=e.sliceString(r.to,n)),Ud.set(e,new $d(i,o)),new $d(t,o.slice(t-i,n-i))}}class Kd{constructor(e,t,n,r,o){this.text=e,this.to=o,this.done=!1,this.value=Hd,this.matchPos=Gd(e,r),this.re=new RegExp(t,Vd+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=$d.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=Gd(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=$d.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Gd(e,t){if(t>=e.length)return t;let n,r=e.lineAt(t);for(;t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function Qd(e){let t=Fd("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:r}=e,o=r.doc.lineAt(r.selection.main.head),[,i,a,s,l]=n,c=s?+s.slice(1):0,u=a?+a:o.number;if(a&&l){let e=u/100;i&&(e=e*("-"==i?-1:1)+o.number/r.doc.lines),u=Math.round(r.doc.lines*e)}else a&&i&&(u=u*("-"==i?-1:1)+o.number);let h=r.doc.line(Math.max(1,Math.min(r.doc.lines,u))),d=Zt.cursor(h.from+Math.max(0,Math.min(c,h.length)));e.dispatch({effects:[Yd.of(!1),As.scrollIntoView(d.from,{y:"center"})],selection:d}),e.focus()}return{dom:Fd("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:Yd.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:e=>{e.preventDefault(),n()}},Fd("label",e.state.phrase("Go to line"),": ",t)," ",Fd("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),Fd("button",{name:"close",onclick:()=>{e.dispatch({effects:Yd.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},["×"]))}}"undefined"!=typeof Symbol&&(qd.prototype[Symbol.iterator]=Kd.prototype[Symbol.iterator]=function(){return this});const Yd=Mn.define(),Xd=un.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(Yd)&&(e=n.value);return e},provide:e=>Al.from(e,(e=>e?Qd:null))}),Jd=As.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Zd=nn.define({combine:e=>Wn(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Mf(e),scrollToMatch:e=>As.scrollIntoView(e)})});class ef{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,Vd),!0}catch(e){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new lf(this):new rf(this)}getCursor(e,t=0,n){let r=e.doc?e:jn.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?of(this,r,t,n):nf(this,r,t,n)}}class tf{constructor(e){this.spec=e}}function nf(e,t,n,r){return new Wd(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?function(e,t){return(n,r,o,i)=>((i>n||i+o.length<r)&&(i=Math.max(0,n-2),o=e.sliceString(i,Math.min(e.length,r+2))),!(t(af(o,n-i))==zn.Word&&t(sf(o,n-i))==zn.Word||t(sf(o,r-i))==zn.Word&&t(af(o,r-i))==zn.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class rf extends tf{constructor(e){super(e)}nextMatch(e,t,n){let r=nf(this.spec,e,n,e.doc.length).nextOverlapping();if(r.done){let n=Math.min(e.doc.length,t+this.spec.unquoted.length);r=nf(this.spec,e,0,n).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==n?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let n=Math.max(t,r-1e4-this.spec.unquoted.length),o=nf(this.spec,e,n,r),i=null;for(;!o.nextOverlapping().done;)i=o.value;if(i)return i;if(n==t)return null;r-=1e4}}prevMatch(e,t,n){let r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),!r||r.from==t&&r.to==n?null:r}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=nf(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=nf(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function of(e,t,n,r){return new qd(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(o=t.charCategorizer(t.selection.main.head),(e,t,n)=>!n[0].length||(o(af(n.input,n.index))!=zn.Word||o(sf(n.input,n.index))!=zn.Word)&&(o(sf(n.input,n.index+n[0].length))!=zn.Word||o(af(n.input,n.index+n[0].length))!=zn.Word)):void 0},n,r);var o}function af(e,t){return e.slice(Ft(e,t,!1),t)}function sf(e,t){return e.slice(t,Ft(e,t))}class lf extends tf{nextMatch(e,t,n){let r=of(this.spec,e,n,e.doc.length).next();return r.done&&(r=of(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let o=Math.max(t,n-1e4*r),i=of(this.spec,e,o,n),a=null;for(;!i.next().done;)a=i.value;if(a&&(o==t||a.from>o+10))return a;if(o==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,((t,n)=>{if("&"==n)return e.match[0];if("$"==n)return"$";for(let t=n.length;t>0;t--){let r=+n.slice(0,t);if(r>0&&r<e.match.length)return e.match[r]+n.slice(t)}return t}))}matchAll(e,t){let n=of(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=of(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const cf=Mn.define(),uf=Mn.define(),hf=un.define({create:e=>new df(xf(e).create(),null),update(e,t){for(let n of t.effects)n.is(cf)?e=new df(n.value.create(),e.panel):n.is(uf)&&(e=new df(e.query,n.value?Cf:null));return e},provide:e=>Al.from(e,(e=>e.panel))});class df{constructor(e,t){this.query=e,this.panel=t}}const ff=yo.mark({class:"cm-searchMatch"}),pf=yo.mark({class:"cm-searchMatch cm-searchMatch-selected"}),mf=gi.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(hf))}update(e){let t=e.state.field(hf);(t!=e.startState.field(hf)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return yo.none;let{view:n}=this,r=new Kn;for(let t=0,o=n.visibleRanges,i=o.length;t<i;t++){let{from:a,to:s}=o[t];for(;t<i-1&&s>o[t+1].from-500;)s=o[++t].to;e.highlight(n.state,a,s,((e,t)=>{let o=n.state.selection.ranges.some((n=>n.from==e&&n.to==t));r.add(e,t,o?pf:ff)}))}return r.finish()}},{decorations:e=>e.decorations});function Af(e){return t=>{let n=t.state.field(hf,!1);return n&&n.query.spec.valid?e(t,n):Ef(t)}}const gf=Af(((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let o=Zt.single(r.from,r.to),i=e.state.facet(Zd);return e.dispatch({selection:o,effects:[Df(e,r),i.scrollToMatch(o.main,e)],userEvent:"select.search"}),Pf(e),!0})),vf=Af(((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,o=t.prevMatch(n,r,r);if(!o)return!1;let i=Zt.single(o.from,o.to),a=e.state.facet(Zd);return e.dispatch({selection:i,effects:[Df(e,o),a.scrollToMatch(i.main,e)],userEvent:"select.search"}),Pf(e),!0})),wf=Af(((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!(!n||!n.length||(e.dispatch({selection:Zt.create(n.map((e=>Zt.range(e.from,e.to)))),userEvent:"select.search.matches"}),0))})),bf=Af(((e,{query:t})=>{let{state:n}=e,{from:r,to:o}=n.selection.main;if(n.readOnly)return!1;let i=t.nextMatch(n,r,r);if(!i)return!1;let a,s,l=i,c=[],u=[];if(l.from==r&&l.to==o&&(s=n.toText(t.getReplacement(l)),c.push({from:l.from,to:l.to,insert:s}),l=t.nextMatch(n,l.from,l.to),u.push(As.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),l){let t=0==c.length||c[0].from>=i.to?0:i.to-i.from-s.length;a=Zt.single(l.from-t,l.to-t),u.push(Df(e,l)),u.push(n.facet(Zd).scrollToMatch(a.main,e))}return e.dispatch({changes:c,selection:a,effects:u,userEvent:"input.replace"}),!0})),yf=Af(((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map((e=>{let{from:n,to:r}=e;return{from:n,to:r,insert:t.getReplacement(e)}}));if(!n.length)return!1;let r=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:As.announce.of(r),userEvent:"input.replace.all"}),!0}));function Cf(e){return e.state.facet(Zd).createPanel(e)}function xf(e,t){var n,r,o,i,a;let s=e.selection.main,l=s.empty||s.to>s.from+100?"":e.sliceDoc(s.from,s.to);if(t&&!l)return t;let c=e.facet(Zd);return new ef({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(o=null==t?void 0:t.literal)&&void 0!==o?o:c.literal,regexp:null!==(i=null==t?void 0:t.regexp)&&void 0!==i?i:c.regexp,wholeWord:null!==(a=null==t?void 0:t.wholeWord)&&void 0!==a?a:c.wholeWord})}function kf(e){let t=dl(e,Cf);return t&&t.dom.querySelector("[main-field]")}function Pf(e){let t=kf(e);t&&t==e.root.activeElement&&t.select()}const Ef=e=>{let t=e.state.field(hf,!1);if(t&&t.panel){let n=kf(e);if(n&&n!=e.root.activeElement){let r=xf(e.state,t.query.spec);r.valid&&e.dispatch({effects:cf.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[uf.of(!0),t?cf.of(xf(e.state,t.query.spec)):Mn.appendConfig.of(Rf)]});return!0},Sf=e=>{let t=e.state.field(hf,!1);if(!t||!t.panel)return!1;let n=dl(e,Cf);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:uf.of(!1)}),!0},If=[{key:"Mod-f",run:Ef,scope:"editor search-panel"},{key:"F3",run:gf,shift:vf,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:gf,shift:vf,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Sf,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:o}=n.main,i=[],a=0;for(let t=new Wd(e.doc,e.sliceDoc(r,o));!t.next().done;){if(i.length>1e3)return!1;t.value.from==r&&(a=i.length),i.push(Zt.range(t.value.from,t.value.to))}return t(e.update({selection:Zt.create(i,a),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:e=>{let t=dl(e,Qd);if(!t){let n=[Yd.of(!0)];null==e.state.field(Xd,!1)&&n.push(Mn.appendConfig.of([Xd,Jd])),e.dispatch({effects:n}),t=dl(e,Qd)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:n}=e,r=Zt.create(n.ranges.map((t=>e.wordAt(t.head)||Zt.cursor(t.head))),n.mainIndex);return!r.eq(n)&&(t(e.update({selection:r})),!0)})({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=r)))return!1;let o=function(e,t){let{main:n,ranges:r}=e.selection,o=e.wordAt(n.head),i=o&&o.from==n.from&&o.to==n.to;for(let n=!1,o=new Wd(e.doc,t,r[r.length-1].to);;){if(o.next(),!o.done){if(n&&r.some((e=>e.from==o.value.from)))continue;if(i){let t=e.wordAt(o.value.from);if(!t||t.from!=o.value.from||t.to!=o.value.to)continue}return o.value}if(n)return null;o=new Wd(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(e,r);return!!o&&(t(e.update({selection:e.selection.addRange(Zt.range(o.from,o.to),!1),effects:As.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class Mf{constructor(e){this.view=e;let t=this.query=e.state.field(hf).query.spec;function n(e,t,n){return Fd("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=Fd("input",{value:t.search,placeholder:Of(e,"Find"),"aria-label":Of(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Fd("input",{value:t.replace,placeholder:Of(e,"Replace"),"aria-label":Of(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Fd("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Fd("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Fd("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=Fd("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",(()=>gf(e)),[Of(e,"next")]),n("prev",(()=>vf(e)),[Of(e,"previous")]),n("select",(()=>wf(e)),[Of(e,"all")]),Fd("label",null,[this.caseField,Of(e,"match case")]),Fd("label",null,[this.reField,Of(e,"regexp")]),Fd("label",null,[this.wordField,Of(e,"by word")]),...e.state.readOnly?[]:[Fd("br"),this.replaceField,n("replace",(()=>bf(e)),[Of(e,"replace")]),n("replaceAll",(()=>yf(e)),[Of(e,"replace all")])],Fd("button",{name:"close",onclick:()=>Sf(e),"aria-label":Of(e,"close"),type:"button"},["×"])])}commit(){let e=new ef({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:cf.of(e)}))}keydown(e){var t,n;n=e,Ms(Ps((t=this.view).state),n,t,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?vf:gf)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),bf(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(cf)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Zd).top}}function Of(e,t){return e.state.phrase(t)}const Nf=30,Bf=/[\s\.,:;?!]/;function Df(e,{from:t,to:n}){let r=e.state.doc.lineAt(t),o=e.state.doc.lineAt(n).to,i=Math.max(r.from,t-Nf),a=Math.min(o,n+Nf),s=e.state.sliceDoc(i,a);if(i!=r.from)for(let e=0;e<Nf;e++)if(!Bf.test(s[e+1])&&Bf.test(s[e])){s=s.slice(e);break}if(a!=o)for(let e=s.length-1;e>s.length-Nf;e--)if(!Bf.test(s[e-1])&&Bf.test(s[e])){s=s.slice(0,e);break}return As.announce.of(`${e.state.phrase("current match")}. ${s} ${e.state.phrase("on line")} ${r.number}.`)}const Tf=As.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Rf=[hf,dn.low(mf),Tf];var Lf=o("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]),zf=o("outline","arrow-up","IconArrowUp",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]]),Ff=o("outline","arrow-down","IconArrowDown",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]]),_f=o("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),jf=o("outline","replace","IconReplace",[["path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M15 15m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M21 11v-3a2 2 0 0 0 -2 -2h-6l3 3m0 -6l-3 3",key:"svg-2"}],["path",{d:"M3 13v3a2 2 0 0 0 2 2h6l-3 -3m0 6l3 -3",key:"svg-3"}]]);function Wf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Vf=function(t){var n=t.isOpen,r=t.onClose,o=t.onSearch,i=t.onReplace,a=t.onReplaceAll,s=Wf((0,e.useState)(""),2),l=s[0],c=s[1],u=Wf((0,e.useState)(""),2),h=u[0],d=u[1],f=Wf((0,e.useState)(!1),2),p=f[0],m=f[1],A=Wf((0,e.useState)(!1),2),g=A[0],v=A[1],w=(0,e.useRef)(null);(0,e.useEffect)((function(){n&&w.current&&w.current.focus()}),[n]),(0,e.useEffect)((function(){var e=function(e){n&&("Escape"===e.key?r():"Enter"!==e.key||e.shiftKey?"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),b("prev")):(e.preventDefault(),b("next")))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n,l,p,g,r]);var b=function(e){""!==l.trim()&&o(l,{direction:e,matchCase:p,useRegex:g})};return n?e.createElement("div",{className:"search-replace-dialog fixed top-4 right-4 bg-white dark:bg-surface-800 shadow-lg rounded-lg border border-surface-300 dark:border-surface-600 w-80 z-50"},e.createElement("div",{className:"flex justify-between items-center p-2 border-b border-surface-300 dark:border-surface-700"},e.createElement("h3",{className:"text-sm font-medium"},"Search & Replace"),e.createElement("button",{onClick:r,className:"p-1 rounded-full hover:bg-surface-200 dark:hover:bg-surface-700"},e.createElement(ge,{size:16}))),e.createElement("div",{className:"p-2 space-y-2"},e.createElement("div",{className:"flex items-center space-x-1"},e.createElement("div",{className:"relative flex-grow"},e.createElement("div",{className:"absolute inset-y-0 left-0 pl-2 flex items-center"},e.createElement(Lf,{size:16,className:"text-surface-500"})),e.createElement("input",{ref:w,type:"text",value:l,onChange:function(e){return c(e.target.value)},placeholder:"Search...",className:"w-full pl-8 py-1 pr-2 text-sm border border-surface-300 dark:border-surface-600 rounded dark:bg-surface-700 focus:outline-none focus:ring-1 focus:ring-primary-500"})),e.createElement("button",{onClick:function(){return b("prev")},className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700",title:"Previous match (Shift+Enter)"},e.createElement(zf,{size:16})),e.createElement("button",{onClick:function(){return b("next")},className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700",title:"Next match (Enter)"},e.createElement(Ff,{size:16}))),e.createElement("div",{className:"flex items-center space-x-1"},e.createElement("div",{className:"relative flex-grow"},e.createElement("div",{className:"absolute inset-y-0 left-0 pl-2 flex items-center"},e.createElement(_f,{size:16,className:"text-surface-500"})),e.createElement("input",{type:"text",value:h,onChange:function(e){return d(e.target.value)},placeholder:"Replace...",className:"w-full pl-8 py-1 pr-2 text-sm border border-surface-300 dark:border-surface-600 rounded dark:bg-surface-700 focus:outline-none focus:ring-1 focus:ring-primary-500"})),e.createElement("button",{onClick:function(){""!==l.trim()&&i(l,h,{matchCase:p,useRegex:g})},className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700",title:"Replace current match"},e.createElement(jf,{size:16}))),e.createElement("div",{className:"flex items-center space-x-4 text-sm"},e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",checked:p,onChange:function(e){return m(e.target.checked)},className:"mr-1"}),"Match case"),e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",checked:g,onChange:function(e){return v(e.target.checked)},className:"mr-1"}),"Use regex")),e.createElement("div",{className:"flex justify-end space-x-2 pt-1"},e.createElement("button",{onClick:function(){""!==l.trim()&&a(l,h,{matchCase:p,useRegex:g})},className:"px-2 py-1 text-xs bg-primary-600 hover:bg-primary-700 text-white rounded"},"Replace All")))):null};var qf=["content","onChange","onScroll","onCursorChange","extensions","inScrollSync","scrollSource","scrollTo","className"];function Uf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Kf=new pn,Gf=(0,e.forwardRef)((function(t,n){var r=t.content,o=t.onChange,i=t.onScroll,a=t.onCursorChange,s=(t.extensions,t.inScrollSync),l=void 0!==s&&s,c=(t.scrollSource,t.scrollTo),u=t.className,h=void 0===u?"":u,d=(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}(t,qf),(0,e.useRef)(null)),f=(0,e.useRef)(null),p=(0,e.useRef)(!1),m=Uf((0,e.useState)({line:1,column:1}),2),A=m[0],g=m[1],v=mt(),w=v.state,b=v.setCursorPosition,y=v.setEditorFontSize,C=Uf((0,e.useState)(!1),2),x=(C[0],C[1],Uf((0,e.useState)(!1),2)),k=x[0],P=x[1],E=(0,e.useRef)(null),S=(w.editor.fontSize,function(e){return As.theme({"&":{height:"100%"},".cm-scroller":{overflow:"auto"},".cm-content":{whiteSpace:"pre",caretColor:"white",fontSize:"".concat(e,"px"),lineHeight:1.5},".cm-gutters":{fontSize:"".concat(e,"px"),lineHeight:1.5},".cm-lineNumbers":{width:"3.5em !important",paddingRight:"1em",textAlign:"right",color:"#888"},".cm-gutterElement":{lineHeight:"".concat(1.5,"em")},".cm-cursor":{borderLeftWidth:"2px",borderLeftStyle:"solid",borderLeftColor:"white"},"&.cm-editor.cm-focused":{outline:"none"}})}),I=(0,e.useCallback)((function(e){if(e)try{for(var t=e.state.doc,n=e.state.selection.main.head,r=1,o=0,i=1;i<=t.lines;i++)if(n<=t.line(i).to){r=i,o=t.line(i).from;break}var s=t.sliceString(o,n).length+1;g({line:r,column:s}),a&&a({line:r,column:s}),b&&b({line:r,column:s})}catch(e){console.error("Error tracking cursor:",e)}}),[a,b]);return(0,e.useImperativeHandle)(n,(function(){return{getCurrentCursorPosition:function(){return A},scrollToPosition:function(e){if(f.current&&f.current.scrollDOM)try{var t=f.current.scrollDOM,n=t.scrollHeight-t.clientHeight,r=Math.max(0,Math.min(n,n*e));P(!0),t.scrollTop=r,setTimeout((function(){P(!1)}),100)}catch(e){console.error("Error scrolling editor:",e),P(!1)}},getScrollInfo:function(){if(f.current){var e=f.current.scrollDOM,t=e.scrollTop/(e.scrollHeight-e.clientHeight);return{scrollPercentage:isNaN(t)?0:t,scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,clientHeight:e.clientHeight}}return{scrollPercentage:0,scrollTop:0,scrollHeight:0,clientHeight:0}},isInScrollSync:function(){return l},refreshLayout:function(){if(f.current)try{f.current.requestMeasure(),setTimeout((function(){f.current&&f.current.dispatch({type:"layout"})}),10)}catch(e){console.error("Error refreshing editor layout:",e)}},getElement:function(){return f.current?f.current.scrollDOM:null},getView:function(){return f.current},getText:function(){return r},setText:function(e){o&&o(e)},foldCurrent:function(){f.current&&Su(f.current)},unfoldCurrent:function(){f.current&&Iu(f.current)},zoomIn:function(){return y((function(e){return Math.min(e+1,36)}))},zoomOut:function(){return y((function(e){return Math.max(e-1,8)}))},setFontSize:function(e){return y(Math.max(8,Math.min(e,36)))},getFontSize:function(){return w.editor.fontSize},undo:function(){return!!(e=f.current)&&xh(e);var e},redo:function(){return!!(e=f.current)&&kh(e);var e},applyBold:function(){return e=f.current,void Ld(e,"**","Bold Text");var e},applyItalic:function(){return e=f.current,void Ld(e,"*","Italic Text");var e},applyHeading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e){var n="#".repeat(t)+" ",r=e.state.changeByRange((function(r){for(var o=r.from,i=r.to,a=e.state.doc.lineAt(o),s=e.state.doc.lineAt(i),l=[],c=-1,u=-1,h=a.number;h<=s.number;h++){var d,f,p,m,A=e.state.doc.line(h),g=A.text.match(/^(#+\s*)/);m=0===A.length?{from:A.from,insert:n+"Heading"}:g?g[1].trim()==="#".repeat(t)?{from:A.from,to:A.from+g[1].length}:{from:A.from,to:A.from+g[1].length,insert:n}:{from:A.from,insert:n},l.push(m),-1===c&&(c=m.from),u=(null!==(d=m.to)&&void 0!==d?d:m.from)+(null!==(f=null===(p=m.insert)||void 0===p?void 0:p.length)&&void 0!==f?f:0)}return{changes:l,range:Zt.range(c,u)}}));e.dispatch(e.state.update(r,{scrollIntoView:!0,userEvent:"input.format.heading"})),e.focus()}}(f.current,e)},applyUnorderedList:function(){return e=f.current,void zd(e,"unordered");var e},applyOrderedList:function(){return e=f.current,void zd(e,"ordered");var e},applyLink:function(){return function(e){if(e){var t=e.state.changeByRange((function(t){var n,r,o=t.from,i=t.to,a="";if(t.empty)a="[Link Text](URL)",r=(n=o+1)+9;else{var s=e.state.sliceDoc(o,i);a="[".concat(s,"](URL)"),n=o+1,r=o+1+s.length}return{changes:{from:o,to:t.empty?o:i,insert:a},range:Zt.range(n,r)}}));e.dispatch(e.state.update(t,{scrollIntoView:!0,userEvent:"input.format.link"})),e.focus()}}(f.current)},applyImage:function(){return function(e){if(e){var t=e.state.changeByRange((function(e){return{changes:{from:e.to,insert:"\n![Alt Text](image_url)\n"},range:Zt.cursor(e.to+24-2)}}));e.dispatch(e.state.update(t,{scrollIntoView:!0,userEvent:"input.format.image"})),e.focus()}}(f.current)},applyCodeBlock:function(){return function(e){if(e){var t=e.state.changeByRange((function(t){var n=t.from,r=e.state.doc.lineAt(n);return{changes:{from:r.to,insert:"\n```\ncode block\n```\n"},range:Zt.range(r.to+5,r.to+5+10)}}));e.dispatch(e.state.update(t,{scrollIntoView:!0,userEvent:"input.format.codeblock"})),e.focus()}}(f.current)},applyBlockquote:function(){return function(e){if(e){var t=e.state.changeByRange((function(t){for(var n=t.from,r=t.to,o=e.state.doc.lineAt(n),i=e.state.doc.lineAt(r),a=[],s=o.number;s<=i.number;s++){var l=e.state.doc.line(s),c=l.text.match(/^(\s*>\s*)/);c?a.push({from:l.from,to:l.from+c[1].length}):a.push({from:l.from,insert:"> "})}var u=e.state.doc.line(i.number).to;return{changes:a,range:Zt.cursor(u)}}));e.dispatch(e.state.update(t,{scrollIntoView:!0,userEvent:"input.format.blockquote"})),e.focus()}}(f.current)},applyTable:function(){return function(e){if(e){var t=e.state.changeByRange((function(t){var n=t.from,r=e.state.doc.lineAt(n);return{changes:{from:r.to,insert:"\n| Header 1 | Header 2 |\n| -------- | -------- |\n| Cell 1   | Cell 2   |\n"},range:Zt.cursor(r.to+73-1)}}));e.dispatch(e.state.update(t,{scrollIntoView:!0,userEvent:"input.format.table"})),e.focus()}}(f.current)},applyCode:function(){return e=f.current,void Ld(e,"`","code");var e},handleSearch:function(e,t){if(f.current)try{var n=f.current,r=t.direction,o=t.matchCase,i=t.useRegex,a=new ef({search:e,caseSensitive:o,regexp:i});n.dispatch({effects:cf.of(a)}),"next"===r?gf(n):vf(n)}catch(e){console.error("Error during search:",e)}},handleReplace:function(e,t,n){if(f.current)try{var r=f.current,o=n.matchCase,i=n.useRegex,a=new ef({search:e,replace:t,caseSensitive:o,regexp:i});r.dispatch({effects:cf.of(a)}),bf(r)}catch(e){console.error("Error during replace:",e)}},handleReplaceAll:function(e,t,n){if(f.current)try{var r=f.current,o=n.matchCase,i=n.useRegex,a=new ef({search:e,replace:t,caseSensitive:o,regexp:i});r.dispatch({effects:cf.of(a)}),yf(r)}catch(e){console.error("Error during replace all:",e)}}}})),(0,e.useEffect)((function(){if(!p.current&&d.current){p.current=!0;try{for(console.log("Creating editor with content:",r);d.current.firstChild;)d.current.removeChild(d.current.firstChild);var e=S(w.editor.fontSize),t=new As({state:jn.create({doc:r||"",extensions:[xs.of(Td),xs.of(Fh),xs.of([Rd]),xs.of(Ou),xs.of(If),xs.of([{key:"Ctrl-=+",run:function(){return y((function(e){return Math.min(e+1,36)})),!0}},{key:"Ctrl--",run:function(){return y((function(e){return Math.max(e-1,8)})),!0}},{key:"Ctrl-0",run:function(){return y(14),!0}}]),yh(),zs(),[qs,Us],jn.allowMultipleSelections.of(!0),zl(),ol,jl,Zs(),Qu(),sl(),ul(),Du(),_u(),(n={top:!0},n?[Zd.of(n),Rf]:Rf),Kf.of(e),As.updateListener.of((function(e){e.docChanged&&o&&o(e.state.doc.toString()),e.selectionSet&&I(e.view)})),As.domEventHandlers({scroll:function(e,t){if(t&&t.scrollDOM&&!k&&i){var n=t.scrollDOM,r=n.scrollTop,o=n.scrollHeight-n.clientHeight;i(o>0?r/o:0)}},mousedown:function(e,t){console.log("[Line Number Click] mousedown event triggered");var n=e.target;if(console.log("[Line Number Click] Target element:",n),n.classList.contains("cm-gutterElement")&&n.closest(".cm-lineNumbers")){console.log("[Line Number Click] Click detected on a gutter element inside line numbers.");var r=t.posAtCoords({x:e.clientX,y:e.clientY});if(console.log("[Line Number Click] Calculated position via posAtCoords:",r),null==r)try{var o=t.lineBlockAtHeight(e.clientY);console.log("[Line Number Click] Trying lineBlockAtHeight:",o),o&&(r=o.from,console.log("[Line Number Click] Position set from lineBlock.from:",r))}catch(e){console.error("[Line Number Click] Error using lineBlockAtHeight:",e)}if(null!=r){var i=t.state.doc.lineAt(r);console.log("[Line Number Click] Line object:",i),t.dispatch({selection:Zt.range(i.from,i.to),scrollIntoView:{y:"nearest",x:"never"}}),console.log("[Line Number Click] Selection dispatched for line:",i.number),e.preventDefault()}else console.log("[Line Number Click] Could not determine position for the click.")}else console.log("[Line Number Click] Click was not on a cm-gutterElement inside cm-lineNumbers.")}})]}),parent:d.current});return f.current=t,setTimeout((function(){t&&t.focus()}),50),function(){t.destroy(),E.current&&clearTimeout(E.current)}}catch(e){console.error("Error creating editor:",e),p.current=!1}var n}}),[]),(0,e.useEffect)((function(){if(f.current){var e=S(w.editor.fontSize);console.log("[ThemeEffect] Font size changed to ".concat(w.editor.fontSize,". Dispatching theme reconfigure.")),f.current.dispatch({effects:Kf.reconfigure(e)})}}),[w.editor.fontSize]),(0,e.useEffect)((function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.dom;if(t){console.log("[WheelEffect] Setting up wheel listener.");var n=function(e){if(e.ctrlKey){e.preventDefault();var t,n=w.editor.fontSize;(t=e.deltaY<0?Math.min(n+1,36):Math.max(n-1,8))!==n&&(console.log("[WheelEvent] Ctrl+Wheel detected. Setting font size from ".concat(n," to ").concat(t)),y(t))}};return t.addEventListener("wheel",n,{passive:!1}),function(){console.log("[WheelEffect] Cleaning up wheel listener."),t.removeEventListener("wheel",n)}}}),[f.current,y,w.editor.fontSize]),(0,e.useEffect)((function(){if(f.current)try{var e=f.current.state.doc.toString();if(r!==e){if(!f.current.state||!f.current.state.doc)return void console.warn("Editor state or document is undefined, skipping update");var t={changes:{from:0,to:f.current.state.doc.length||0,insert:r||""}};t.selection=Zt.single(0);try{f.current.dispatch(f.current.state.update(t)),setTimeout((function(){f.current&&f.current.focus()}),10)}catch(e){console.error("Error applying transaction:",e);try{var n=jn.create({doc:r||"",selection:Zt.single(0)});f.current.setState(n)}catch(e){console.error("Failed to recreate editor state:",e)}}}}catch(e){console.error("Error updating editor content:",e)}}),[r]),(0,e.useEffect)((function(){if(f.current&&c&&!k){if(P(!0),"percent"===c.type){var e=f.current.scrollDOM,t=e.scrollHeight-e.clientHeight,n=Math.max(0,Math.min(t,t*c.value));e.scrollTop=n}return E.current=setTimeout((function(){P(!1)}),100),function(){E.current&&clearTimeout(E.current)}}}),[c,k]),(0,e.useEffect)((function(){if(f.current){var e=null,t=!1,n=0,r=null,o=0,i=null,a=null,s=function(){if(t&&f.current&&f.current.scrollDOM){var e=f.current.dom.getBoundingClientRect(),r=0;if(o<e.top){var l=e.top-o;r=-Math.min(50,Math.max(5,l/2))}else if(o>e.bottom){var c=o-e.bottom;r=Math.min(50,Math.max(5,c/2))}if(0!==r){f.current.scrollDOM.scrollTop+=r,f.current.scrollDOM.scrollLeft=n;try{var u=Math.max(e.top,Math.min(e.bottom,o)),h=f.current.posAtCoords({x:o,y:u});if(null!==h){var d=f.current.state.doc.lineAt(h),p=Math.min(i,d.from),m=Math.max(i,d.to);f.current.dispatch({selection:Zt.range(p,m),scrollIntoView:!1})}}catch(e){console.error("Error updating selection during continuous scroll:",e)}}a=requestAnimationFrame(s)}else a&&(cancelAnimationFrame(a),a=null)},l=function(r){if(t&&null!==e&&null!==i){var l=r.clientY,c=r.clientX;o=l;var u=f.current.dom.getBoundingClientRect();if(l<u.top||l>u.bottom)a||(a=requestAnimationFrame(s));else{a&&(cancelAnimationFrame(a),a=null);try{var h=f.current,d=h.posAtCoords({x:c,y:l});if(null===d)return;var p=h.state.doc.lineAt(d),m=h.state.doc.line(e),A=Math.min(m.from,p.from),g=Math.max(m.to,p.to);h.dispatch({selection:Zt.range(A,g),scrollIntoView:!1}),setTimeout((function(){f.current&&f.current.scrollDOM&&(f.current.scrollDOM.scrollLeft=n)}),0)}catch(e){console.error("Error during in-editor selection:",e)}}}},c=function(r){if(r.target.classList.contains("cm-gutterElement")){n=f.current.scrollDOM.scrollLeft;var o=parseInt(r.target.textContent,10);if(isNaN(o))return;console.log("Gutter mousedown: Line ".concat(o)),e=o,t=!0;try{var a=f.current.state.doc.line(o);i=a.from,f.current.focus(),f.current.dispatch({selection:Zt.range(a.from,a.to),scrollIntoView:{y:"nearest",x:"never"}}),setTimeout((function(){f.current&&f.current.scrollDOM&&(f.current.scrollDOM.scrollLeft=n)}),0),r.preventDefault()}catch(e){console.error("Error selecting line:",e)}}},u=function(){t=!1,i=null,f.current&&f.current.scrollDOM&&(f.current.scrollDOM.scrollLeft=n),a&&(cancelAnimationFrame(a),a=null),r&&(clearInterval(r),r=null)},h=function(){t=!1,i=null,f.current&&f.current.scrollDOM&&(f.current.scrollDOM.scrollLeft=n),a&&(cancelAnimationFrame(a),a=null),r&&(clearInterval(r),r=null)},d=f.current.dom.querySelector(".cm-gutters");return d?(d.addEventListener("mousedown",c),document.addEventListener("mousemove",l),d.addEventListener("mouseup",u),document.addEventListener("mouseup",h),function(){d.removeEventListener("mousedown",c),document.removeEventListener("mousemove",l),d.removeEventListener("mouseup",u),document.removeEventListener("mouseup",h),a&&(cancelAnimationFrame(a),a=null),r&&(clearInterval(r),r=null)}):void 0}}),[f.current]),e.createElement("div",{className:"h-full flex flex-col relative ".concat(h," dark")},e.createElement("style",null,"\n        .cm-editor { height: 100%; }\n        .cm-content { caret-color: white !important; }\n        .cm-cursor { border-left: 2px solid white !important; }\n        \n        /* Make gutters and line numbers clickable */\n        .cm-gutters { pointer-events: auto !important; }\n        .cm-gutter { pointer-events: auto !important; }\n        .cm-lineNumbers { pointer-events: auto !important; }\n        .cm-gutterElement { \n          pointer-events: auto !important; \n          cursor: pointer; \n          user-select: none; \n          -webkit-user-select: none;\n        }\n        \n        /* Custom scrollbar styling for CodeMirror */\n        .cm-scroller::-webkit-scrollbar {\n          width: 6px;\n          height: 6px;\n        }\n        \n        .cm-scroller::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        \n        .cm-scroller::-webkit-scrollbar-thumb {\n          background-color: rgba(156, 163, 175, 0.3);\n          border-radius: 3px;\n        }\n        \n        .cm-scroller::-webkit-scrollbar-thumb:hover {\n          background-color: rgba(156, 163, 175, 0.5);\n        }\n        \n        /* Dark mode scrollbars */\n        .dark .cm-scroller::-webkit-scrollbar-thumb {\n          background-color: rgba(75, 85, 99, 0.3);\n        }\n        \n        .dark .cm-scroller::-webkit-scrollbar-thumb:hover {\n          background-color: rgba(75, 85, 99, 0.5);\n        }\n      "),e.createElement("div",{className:"flex-grow overflow-auto",style:{position:"relative"},ref:d}))}));Gf.displayName="MarkdownEditor";const Qf=Gf;let Yf={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Xf(e){Yf=e}const Jf={exec:()=>null};function Zf(e,t=""){let n="string"==typeof e?e:e.source;const r={replace:(e,t)=>{let o="string"==typeof t?t:t.source;return o=o.replace(ep.caret,"$1"),n=n.replace(e,o),r},getRegex:()=>new RegExp(n,t)};return r}const ep={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},tp=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,np=/(?:[*+-]|\d{1,9}[.)])/,rp=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,op=Zf(rp).replace(/bull/g,np).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ip=Zf(rp).replace(/bull/g,np).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ap=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,sp=/(?!\s*\])(?:\\.|[^\[\]\\])+/,lp=Zf(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",sp).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),cp=Zf(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,np).getRegex(),up="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",hp=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,dp=Zf("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",hp).replace("tag",up).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fp=Zf(ap).replace("hr",tp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",up).getRegex(),pp={blockquote:Zf(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",fp).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:lp,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:tp,html:dp,lheading:op,list:cp,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:fp,table:Jf,text:/^[^\n]+/},mp=Zf("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",tp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",up).getRegex(),Ap={...pp,lheading:ip,table:mp,paragraph:Zf(ap).replace("hr",tp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",mp).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",up).getRegex()},gp={...pp,html:Zf("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",hp).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Jf,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Zf(ap).replace("hr",tp).replace("heading"," *#{1,6} *[^\n]").replace("lheading",op).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},vp=/^( {2,}|\\)\n(?!\s*$)/,wp=/[\p{P}\p{S}]/u,bp=/[\s\p{P}\p{S}]/u,yp=/[^\s\p{P}\p{S}]/u,Cp=Zf(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,bp).getRegex(),xp=/(?!~)[\p{P}\p{S}]/u,kp=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Pp=Zf(kp,"u").replace(/punct/g,wp).getRegex(),Ep=Zf(kp,"u").replace(/punct/g,xp).getRegex(),Sp="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ip=Zf(Sp,"gu").replace(/notPunctSpace/g,yp).replace(/punctSpace/g,bp).replace(/punct/g,wp).getRegex(),Mp=Zf(Sp,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,xp).getRegex(),Op=Zf("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,yp).replace(/punctSpace/g,bp).replace(/punct/g,wp).getRegex(),Np=Zf(/\\(punct)/,"gu").replace(/punct/g,wp).getRegex(),Bp=Zf(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Dp=Zf(hp).replace("(?:--\x3e|$)","--\x3e").getRegex(),Tp=Zf("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Dp).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Rp=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Lp=Zf(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Rp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),zp=Zf(/^!?\[(label)\]\[(ref)\]/).replace("label",Rp).replace("ref",sp).getRegex(),Fp=Zf(/^!?\[(ref)\](?:\[\])?/).replace("ref",sp).getRegex(),_p={_backpedal:Jf,anyPunctuation:Np,autolink:Bp,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:vp,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Jf,emStrongLDelim:Pp,emStrongRDelimAst:Ip,emStrongRDelimUnd:Op,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Lp,nolink:Fp,punctuation:Cp,reflink:zp,reflinkSearch:Zf("reflink|nolink(?!\\()","g").replace("reflink",zp).replace("nolink",Fp).getRegex(),tag:Tp,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Jf},jp={..._p,link:Zf(/^!?\[(label)\]\((.*?)\)/).replace("label",Rp).getRegex(),reflink:Zf(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Rp).getRegex()},Wp={..._p,emStrongRDelimAst:Mp,emStrongLDelim:Ep,url:Zf(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Hp={...Wp,br:Zf(vp).replace("{2,}","*").getRegex(),text:Zf(Wp.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Vp={normal:pp,gfm:Ap,pedantic:gp},qp={normal:_p,gfm:Wp,breaks:Hp,pedantic:jp},Up={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$p=e=>Up[e];function Kp(e,t){if(t){if(ep.escapeTest.test(e))return e.replace(ep.escapeReplace,$p)}else if(ep.escapeTestNoEncode.test(e))return e.replace(ep.escapeReplaceNoEncode,$p);return e}function Gp(e){try{e=encodeURI(e).replace(ep.percentDecode,"%")}catch{return null}return e}function Qp(e,t){const n=e.replace(ep.findPipe,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(ep.splitPipe);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(ep.slashPipe,"|");return n}function Yp(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r&&e.charAt(r-o-1)===t;)o++;return e.slice(0,r-o)}function Xp(e,t,n,r,o){const i=t.href,a=t.title||null,s=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;const l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:i,title:a,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,l}class Jp{options;rules;lexer;constructor(e){this.options=e||Yf}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Yp(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t,n){const r=e.match(n.other.indentCodeCompensation);if(null===r)return t;const o=r[1];return t.split("\n").map((e=>{const t=e.match(n.other.beginningSpace);if(null===t)return e;const[r]=t;return r.length>=o.length?e.slice(o.length):e})).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){const t=Yp(e,"#");this.options.pedantic?e=t.trim():t&&!this.rules.other.endingSpaceChar.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Yp(t[0],"\n")}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=Yp(t[0],"\n").split("\n"),n="",r="";const o=[];for(;e.length>0;){let t=!1;const i=[];let a;for(a=0;a<e.length;a++)if(this.rules.other.blockquoteStart.test(e[a]))i.push(e[a]),t=!0;else{if(t)break;i.push(e[a])}e=e.slice(a);const s=i.join("\n"),l=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,r=r?`${r}\n${l}`:l;const c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,o,!0),this.lexer.state.top=c,0===e.length)break;const u=o.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){const t=u,i=t.raw+"\n"+e.join("\n"),a=this.blockquote(i);o[o.length-1]=a,n=n.substring(0,n.length-t.raw.length)+a.raw,r=r.substring(0,r.length-t.text.length)+a.text;break}if("list"!==u?.type);else{const t=u,i=t.raw+"\n"+e.join("\n"),a=this.list(i);o[o.length-1]=a,n=n.substring(0,n.length-u.raw.length)+a.raw,r=r.substring(0,r.length-t.raw.length)+a.raw,e=i.substring(o.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:o,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=this.rules.other.listItemRegex(n);let a=!1;for(;e;){let n=!1,r="",s="";if(!(t=i.exec(e)))break;if(this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=!l.trim(),h=0;if(this.options.pedantic?(h=2,s=l.trimStart()):u?h=t[1].length+1:(h=t[2].search(this.rules.other.nonSpaceChar),h=h>4?1:h,s=l.slice(h),h+=t[1].length),u&&this.rules.other.blankLine.test(c)&&(r+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=this.rules.other.nextBulletRegex(h),n=this.rules.other.hrRegex(h),o=this.rules.other.fencesBeginRegex(h),i=this.rules.other.headingBeginRegex(h),a=this.rules.other.htmlBeginRegex(h);for(;e;){const d=e.split("\n",1)[0];let f;if(c=d,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),f=c):f=c.replace(this.rules.other.tabCharGlobal,"    "),o.test(c))break;if(i.test(c))break;if(a.test(c))break;if(t.test(c))break;if(n.test(c))break;if(f.search(this.rules.other.nonSpaceChar)>=h||!c.trim())s+="\n"+f.slice(h);else{if(u)break;if(l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(o.test(l))break;if(i.test(l))break;if(n.test(l))break;s+="\n"+c}u||c.trim()||(u=!0),r+=d+"\n",e=e.substring(d.length+1),l=f.slice(h)}}o.loose||(a?o.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(a=!0));let d,f=null;this.options.gfm&&(f=this.rules.other.listIsTask.exec(s),f&&(d="[ ] "!==f[0],s=s.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:r,task:!!f,checked:d,loose:!1,text:s,tokens:[]}),o.raw+=r}const s=o.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),o.raw=o.raw.trimEnd();for(let e=0;e<o.items.length;e++)if(this.lexer.state.top=!1,o.items[e].tokens=this.lexer.blockTokens(o.items[e].text,[]),!o.loose){const t=o.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>this.rules.other.anyLine.test(e.raw)));o.loose=n}if(o.loose)for(let e=0;e<o.items.length;e++)o.items[e].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!this.rules.other.tableDelimiter.test(t[2]))return;const n=Qp(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const e of r)this.rules.other.tableAlignRight.test(e)?i.align.push("right"):this.rules.other.tableAlignCenter.test(e)?i.align.push("center"):this.rules.other.tableAlignLeft.test(e)?i.align.push("left"):i.align.push(null);for(let e=0;e<n.length;e++)i.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:i.align[e]});for(const e of o)i.rows.push(Qp(e,i.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:i.align[t]}))));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;const t=Yp(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),Xp(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Xp(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(r&&(!r[3]||!n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let o,i,a=n,s=0;const l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(i=[...o].length,r[3]||r[4]){a+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+s);const t=[...r[0]][0].length,l=e.slice(0,n+r.index+t+i);if(Math.min(n,i)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}}class Zp{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Yf,this.options.tokenizer=this.options.tokenizer||new Jp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:ep,block:Vp.normal,inline:qp.normal};this.options.pedantic?(t.block=Vp.pedantic,t.inline=qp.pedantic):this.options.gfm&&(t.block=Vp.gfm,this.options.breaks?t.inline=qp.breaks:t.inline=qp.gfm),this.tokenizer.rules=t}static get rules(){return{block:Vp,inline:qp}}static lex(e,t){return new Zp(t).lex(e)}static lexInline(e,t){return new Zp(t).inlineTokens(e)}lex(e){e=e.replace(ep.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(ep.tabCharGlobal,"    ").replace(ep.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);const n=t.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);const n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);const n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let o=e;if(this.options.extensions?.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){const i=t.at(-1);n&&"paragraph"===i?.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(r),n=o.length!==e.length,e=e.substring(r.raw.length)}else if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);const n=t.at(-1);"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(r)}else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(n));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,i="";for(;e;){let r;if(o||(i=""),o=!1,this.options.extensions?.inline?.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))continue;if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length);const n=t.at(-1);"text"===r.type&&"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,n,i)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}let a=e;if(this.options.extensions?.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}if(r=this.tokenizer.inlineText(a)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(i=r.raw.slice(-1)),o=!0;const n=t.at(-1);"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r)}else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}}class em{options;parser;constructor(e){this.options=e||Yf}space(e){return""}code({text:e,lang:t,escaped:n}){const r=(t||"").match(ep.notSpaceStart)?.[0],o=e.replace(ep.endingNewline,"")+"\n";return r?'<pre><code class="language-'+Kp(r)+'">'+(n?o:Kp(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:Kp(o,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){const t=e.ordered,n=e.start;let r="";for(let t=0;t<e.items.length;t++){const n=e.items[t];r+=this.listitem(n)}const o=t?"ol":"ul";return"<"+o+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+Kp(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let r="";for(let t=0;t<e.rows.length;t++){const o=e.rows[t];n="";for(let e=0;e<o.length;e++)n+=this.tablecell(o[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Kp(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),o=Gp(e);if(null===o)return r;let i='<a href="'+(e=o)+'"';return t&&(i+=' title="'+Kp(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const o=Gp(e);if(null===o)return Kp(n);let i=`<img src="${e=o}" alt="${n}"`;return t&&(i+=` title="${Kp(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Kp(e.text)}}class tm{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class nm{options;renderer;textRenderer;constructor(e){this.options=e||Yf,this.options.renderer=this.options.renderer||new em,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new tm}static parse(e,t){return new nm(t).parse(e)}static parseInline(e,t){return new nm(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions?.renderers?.[o.type]){const e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}const i=o;switch(i.type){case"space":n+=this.renderer.space(i);continue;case"hr":n+=this.renderer.hr(i);continue;case"heading":n+=this.renderer.heading(i);continue;case"code":n+=this.renderer.code(i);continue;case"table":n+=this.renderer.table(i);continue;case"blockquote":n+=this.renderer.blockquote(i);continue;case"list":n+=this.renderer.list(i);continue;case"html":n+=this.renderer.html(i);continue;case"paragraph":n+=this.renderer.paragraph(i);continue;case"text":{let o=i,a=this.renderer.text(o);for(;r+1<e.length&&"text"===e[r+1].type;)o=e[++r],a+="\n"+this.renderer.text(o);n+=t?this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):a;continue}default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions?.renderers?.[o.type]){const e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=e||"";continue}}const i=o;switch(i.type){case"escape":case"text":n+=t.text(i);break;case"html":n+=t.html(i);break;case"link":n+=t.link(i);break;case"image":n+=t.image(i);break;case"strong":n+=t.strong(i);break;case"em":n+=t.em(i);break;case"codespan":n+=t.codespan(i);break;case"br":n+=t.br(i);break;case"del":n+=t.del(i);break;default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class rm{options;block;constructor(e){this.options=e||Yf}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Zp.lex:Zp.lexInline}provideParser(){return this.block?nm.parse:nm.parseInline}}const om=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=nm;Renderer=em;TextRenderer=tm;Lexer=Zp;Tokenizer=Jp;Hooks=rm;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{const o=e[r].flat(1/0);n=n.concat(this.walkTokens(o,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new em(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const r=n,o=e.renderer[r],i=t[r];t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=i.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new Jp(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,o=e.tokenizer[r],i=t[r];t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new rm;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const r=n,o=e.hooks[r],i=t[r];rm.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(o.call(t,e)).then((e=>i.call(t,e)));const n=o.call(t,e);return i.call(t,n)}:t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Zp.lex(e,t??this.defaults)}parser(e,t){return nm.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{const r={...n},o={...this.defaults,...r},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==t)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const a=o.hooks?o.hooks.provideLexer():e?Zp.lex:Zp.lexInline,s=o.hooks?o.hooks.provideParser():e?nm.parse:nm.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then((e=>a(e,o))).then((e=>o.hooks?o.hooks.processAllTokens(e):e)).then((e=>o.walkTokens?Promise.all(this.walkTokens(e,o.walkTokens)).then((()=>e)):e)).then((e=>s(e,o))).then((e=>o.hooks?o.hooks.postprocess(e):e)).catch(i);try{o.hooks&&(t=o.hooks.preprocess(t));let e=a(t,o);o.hooks&&(e=o.hooks.processAllTokens(e)),o.walkTokens&&this.walkTokens(e,o.walkTokens);let n=s(e,o);return o.hooks&&(n=o.hooks.postprocess(n)),n}catch(e){return i(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+Kp(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function im(e,t){return om.parse(e,t)}function am(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}im.options=im.setOptions=function(e){return om.setOptions(e),im.defaults=om.defaults,Xf(im.defaults),im},im.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},im.defaults=Yf,im.use=function(...e){return om.use(...e),im.defaults=om.defaults,Xf(im.defaults),im},im.walkTokens=function(e,t){return om.walkTokens(e,t)},im.parseInline=om.parseInline,im.Parser=nm,im.parser=nm.parse,im.Renderer=em,im.TextRenderer=tm,im.Lexer=Zp,im.lexer=Zp.lex,im.Tokenizer=Jp,im.Hooks=rm,im.parse=im,im.options,im.setOptions,im.use,im.walkTokens,im.parseInline,nm.parse,Zp.lex;var lm=new im.Renderer;lm.image=function(e,t,n){return'\n    <div class="image-container">\n      <img \n        src="'.concat(e,'" \n        alt="').concat(n||"",'" \n        title="').concat(t||n||"",'" \n        class="markdown-image" \n        loading="lazy" \n        data-lightbox="').concat(e,"\"\n        onclick=\"if(this.parentNode.classList.contains('image-container')) { this.parentNode.classList.toggle('expanded'); }\"\n      />\n      ").concat(n?"<figcaption>".concat(n,"</figcaption>"):"","\n    </div>\n  ")},lm.link=function(e,t,n){if("string"!=typeof e)return console.warn("[MarkdownPreview Renderer] Encountered non-string href:",e,"for text:",n),n||"";var r=[".mp4",".webm",".ogg",".mov"].some((function(t){return e.toLowerCase().endsWith(t)})),o=[".mp3",".wav",".ogg",".aac"].some((function(t){return e.toLowerCase().endsWith(t)})),i=e.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/),a=e.match(/(?:vimeo\.com\/)([0-9]+)/);if(r)return'\n      <div class="video-container">\n        <video controls preload="metadata" class="markdown-video">\n          <source src="'.concat(e,'" type="video/').concat(e.split(".").pop(),'">\n          ').concat(n||"Your browser does not support the video tag.","\n        </video>\n      </div>\n    ");if(o)return'\n      <div class="audio-container">\n        <audio controls class="markdown-audio">\n          <source src="'.concat(e,'" type="audio/').concat(e.split(".").pop(),'">\n          ').concat(n||"Your browser does not support the audio tag.","\n        </audio>\n      </div>\n    ");if(i&&i[1]){var s=i[1];return'\n      <div class="youtube-container">\n        <iframe \n          width="560" \n          height="315" \n          src="https://www.youtube.com/embed/'.concat(s,'" \n          title="').concat(t||n||"YouTube video",'" \n          frameborder="0" \n          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" \n          allowfullscreen\n          class="markdown-embed"\n        ></iframe>\n      </div>\n    ')}if(a&&a[1]){var l=a[1];return'\n      <div class="vimeo-container">\n        <iframe \n          src="https://player.vimeo.com/video/'.concat(l,'" \n          width="560" \n          height="315" \n          frameborder="0" \n          allow="autoplay; fullscreen; picture-in-picture" \n          allowfullscreen\n          class="markdown-embed"\n        ></iframe>\n      </div>\n    ')}return'<a \n              href="'.concat(e,'" \n              title="').concat(t||"",'" \n            >\n              ').concat(n,"\n            </a>")},im.setOptions({breaks:!0,gfm:!0,headerIds:!0,mangle:!1,sanitize:!1,renderer:lm});var cm=[50,67,80,90,100,110,125,150,175,200,250,300],um=cm.length-1,hm=(0,e.forwardRef)((function(t,n){var r=t.content,o=t.onScroll,i=t.customCSS,a=void 0===i?"":i,s=(t.inScrollSync,t.scrollSource,t.currentFilePath),l=(0,e.useRef)(null),c=am((0,e.useState)(4),2),u=c[0],h=c[1],d=cm[u],f=am((0,e.useState)(null),2);f[0],f[1],(0,e.useEffect)((function(){var e=l.current;if(e){var t=e.querySelectorAll("img.markdown-image"),n=function(e){var t=e.target.closest(".image-container");t&&t.classList.toggle("expanded")};t.forEach((function(e){e.addEventListener("click",n)}));var r=function(e){var t=e.target.closest("a[href]");if(t){var n=t.getAttribute("href");if(n){var r=!(!window.api&&!window.electronAPI);if(r||!(n.startsWith("http")||n.startsWith("https")||n.startsWith("www"))){e.preventDefault();try{var o=n,i=!1;if(n.startsWith("http://")||n.startsWith("https://")?i=!0:n.startsWith("www.")&&(i=!0,o="https://"+n),i)if(console.log("External link detected: ".concat(o)),window.api&&"function"==typeof window.api.openExternalLink)console.log("Using window.api.openExternalLink to open URL"),window.api.openExternalLink(o).then((function(e){return console.log("openExternalLink result:",e)})).catch((function(e){return console.error("openExternalLink error:",e)}));else if(window.electronAPI&&"function"==typeof window.electronAPI.openExternalLink)console.log("Using window.electronAPI.openExternalLink to open URL"),window.electronAPI.openExternalLink(o).then((function(e){return console.log("electronAPI.openExternalLink result:",e)})).catch((function(e){return console.error("electronAPI.openExternalLink error:",e)}));else{console.log("Using fallback method to open URL:",o);var a=window.open(o,"_blank","noopener,noreferrer");a&&(a.opener=null)}else if(s&&!n.startsWith("#")){var l,c,u=n;if(null!==(l=window.api)&&void 0!==l&&l.pathDirname&&null!==(c=window.api)&&void 0!==c&&c.pathResolve){var h=window.api.pathDirname(s);u=window.api.pathResolve(h,n)}window.api&&"function"==typeof window.api.openFile?window.api.openFile(u):window.electronAPI&&"function"==typeof window.electronAPI.openFile?window.electronAPI.openFile(u):r?console.warn("Unable to open file: ".concat(u," - API not available")):(console.log("Web mode - navigating to file path: ".concat(n)),window.location.href=n)}else if(n.startsWith("#")){var d=n.substring(1),f=document.getElementById(d);f&&f.scrollIntoView({behavior:"smooth"})}else console.warn("Unhandled link type or missing currentFilePath: ".concat(n))}catch(e){console.error("Error handling link click for ".concat(n,":"),e);try{if(n.startsWith("http")||n.startsWith("www")){var p=n.startsWith("www")?"https://"+n:n;window.open(p,"_blank","noopener,noreferrer")}}catch(e){console.error("Fallback navigation also failed:",e)}}}}}};return e.addEventListener("click",r),function(){t.forEach((function(e){e.removeEventListener("click",n)})),e.removeEventListener("click",r)}}}),[r,s]),(0,e.useImperativeHandle)(n,(function(){return{scrollToPosition:function(e){if(l.current)try{var t=l.current,n=t.scrollHeight-t.clientHeight,r=Math.max(0,Math.min(n,n*e));isScrollingRef.current=!0,t.scrollTop=r,setTimeout((function(){isScrollingRef.current=!1}),100)}catch(e){console.error("Error scrolling preview:",e),isScrollingRef.current=!1}},getScrollInfo:function(){if(l.current){var e=l.current,t=e.scrollTop/(e.scrollHeight-e.clientHeight);return{scrollPercentage:isNaN(t)?0:t,scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,clientHeight:e.clientHeight}}return{scrollPercentage:0,scrollTop:0,scrollHeight:0,clientHeight:0}},getContainer:function(){return l.current},getZoom:function(){return d},setZoomByIndex:function(e){var t=Math.max(0,Math.min(um,e));return h(t),cm[t]},zoomIn:function(){return u<um?(h(u+1),cm[u+1]):d},zoomOut:function(){return u>0?(h(u-1),cm[u-1]):d},resetZoom:function(){return h(4),cm[4]},refreshLayout:function(){if(l.current)try{l.current.offsetHeight;var e=l.current.style.transform;l.current.style.transform="none",l.current.offsetHeight,setTimeout((function(){l.current&&(l.current.style.transform=e)}),10)}catch(e){console.error("Error refreshing preview layout:",e)}}}})),(0,e.useEffect)((function(){if(l.current&&l.current._lastScrollPosition){var e=l.current._lastScrollPosition;e>10&&setTimeout((function(){l.current&&(l.current.scrollTop=e)}),50)}}),[r]),(0,e.useEffect)((function(){var e=function(e){if(l.current){var t=l.current.getBoundingClientRect();(t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth||document.activeElement===l.current)&&((e.ctrlKey||e.metaKey)&&"="===e.key&&(e.preventDefault(),h((function(e){return e<um?e+1:e}))),(e.ctrlKey||e.metaKey)&&"-"===e.key&&(e.preventDefault(),h((function(e){return e>0?e-1:e}))),(e.ctrlKey||e.metaKey)&&"0"===e.key&&(e.preventDefault(),h(4)))}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);var p=(0,e.useMemo)((function(){return r?im.parse(r):""}),[r]);return e.createElement(e.Fragment,null,e.createElement("div",{ref:l,className:"markdown-preview prose max-w-none w-full flex-grow",style:{zoom:d/100,paddingBottom:"2rem",paddingLeft:"0.65rem"},onScroll:function(e){if(o&&l.current){var t=l.current,n=t.scrollTop,r=t.scrollHeight,i=r-t.clientHeight,a=i>0?n/i:0;(n>5||a>.01&&r>100)&&(l.current._lastScrollPosition=n,o(a))}}},e.createElement("div",{className:"w-full overflow-x-auto",dangerouslySetInnerHTML:{__html:p}})),e.createElement("style",{dangerouslySetInnerHTML:{__html:"\n        /* Image container styling */\n        .image-container {\n          display: inline-block;\n          margin: 0.5rem 0;\n          position: relative;\n          max-width: 100%;\n          transition: all 0.3s ease;\n        }\n        \n        .image-container.expanded {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.8);\n          z-index: 1000;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin: 0;\n          padding: 2rem;\n        }\n        \n        .image-container.expanded img {\n          max-width: 90%;\n          max-height: 90%;\n          margin: auto;\n          object-fit: contain;\n          cursor: zoom-out;\n          box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);\n        }\n        \n        .image-container img {\n          max-width: 100%;\n          height: auto;\n          cursor: zoom-in;\n        }\n        \n        .image-container figcaption {\n          text-align: center;\n          font-style: italic;\n        }\n        \n        .image-container.expanded figcaption {\n          position: absolute;\n          bottom: 1rem;\n          left: 0;\n          width: 100%;\n          text-align: center;\n          color: white;\n          background: rgba(0, 0, 0, 0.5);\n          padding: 0.5rem;\n        }\n        \n        /* Video container styling */\n        .video-container {\n          position: relative;\n          padding-bottom: 56.25%; /* 16:9 aspect ratio */\n          height: 0;\n          overflow: hidden;\n          max-width: 100%;\n          margin: 1rem 0;\n        }\n        \n        .video-container video,\n        .video-container iframe {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n        \n        /* Audio container styling */\n        .audio-container {\n          width: 100%;\n          margin: 1rem 0;\n        }\n        \n        .audio-container audio {\n          width: 100%;\n        }\n        \n        /* YouTube and Vimeo container styling */\n        .youtube-container,\n        .vimeo-container {\n          position: relative;\n          padding-bottom: 56.25%; /* 16:9 aspect ratio */\n          height: 0;\n          overflow: hidden;\n          max-width: 100%;\n          margin: 1rem 0;\n        }\n        \n        .youtube-container iframe,\n        .vimeo-container iframe {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n        \n        /* Dark mode heading styles */\n        .dark .markdown-preview h1,\n        .dark .markdown-preview h2,\n        .dark .markdown-preview h3,\n        .dark .markdown-preview h4,\n        .dark .markdown-preview h5,\n        .dark .markdown-preview h6 {\n          color: white !important;\n        }\n        \n        .dark .markdown-preview h1,\n        .dark .markdown-preview h2 {\n          border-bottom-color: #2d3748 !important;\n        }\n        \n        /* Custom scrollbar styling for preview */\n        .markdown-preview::-webkit-scrollbar {\n          width: 6px;\n          height: 6px;\n        }\n        \n        .markdown-preview::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        \n        .markdown-preview::-webkit-scrollbar-thumb {\n          background-color: rgba(156, 163, 175, 0.3);\n          border-radius: 3px;\n        }\n        \n        .markdown-preview::-webkit-scrollbar-thumb:hover {\n          background-color: rgba(156, 163, 175, 0.5);\n        }\n        \n        /* Dark mode scrollbars */\n        .dark .markdown-preview::-webkit-scrollbar-thumb {\n          background-color: rgba(75, 85, 99, 0.3);\n        }\n        \n        .dark .markdown-preview::-webkit-scrollbar-thumb:hover {\n          background-color: rgba(75, 85, 99, 0.5);\n        }\n        \n        /* Custom CSS applied by user */\n        ".concat(a,"\n      ")}}))}));hm.displayName="MarkdownPreview";const dm=hm;var fm=["children","activeTab","onTabChange"];function pm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var mm=function(t){var n,r,o=t.children,i=t.activeTab,a=t.onTabChange,s=(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}(t,fm),n=(0,e.useState)("files"),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return pm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pm(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],c=s[1];(0,e.useEffect)((function(){i&&c(i)}),[i]);var u=[{id:"files",label:"Files",icon:Y},{id:"search",label:"Search",icon:Lf}],h=i||l,d=e.Children.toArray(o).find((function(e){return e.props.id===h}));return e.createElement("div",{className:"h-full flex flex-col"},e.createElement("div",{className:"tabs flex overflow-x-auto border-b border-surface-300 dark:border-surface-700"},u.map((function(t){var n=t.icon;return e.createElement("button",{key:t.id,className:"\n                flex-shrink-0 flex items-center px-3 py-2 text-sm font-medium \n                ".concat(h===t.id?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-500":"text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-surface-100","\n              "),onClick:function(){return e=t.id,c(e),void(a&&a(e));var e},"aria-selected":h===t.id,role:"tab"},e.createElement(n,{size:18,className:"mr-1"}),e.createElement("span",{className:"truncate"},t.label))}))),e.createElement("div",{className:"tab-content flex-grow overflow-auto"},d))};mm.Pane=function(t){var n=t.children,r=t.id;return e.createElement("div",{id:r,role:"tabpanel",className:"h-full overflow-auto flex flex-col"},n)};const Am=mm;var gm=o("outline","moon","IconMoon",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}]]),vm=o("outline","sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]);function wm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const bm=function(){var t,n,r=(t=(0,e.useState)((function(){return localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")})),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return wm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wm(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return(0,e.useEffect)((function(){"dark"===o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",o)}),[o]),e.createElement("button",{onClick:function(){i((function(e){return"light"===e?"dark":"light"}))},className:"p-2 rounded-full bg-surface-200 dark:bg-surface-700 text-surface-700 dark:text-surface-200 hover:bg-surface-300 dark:hover:bg-surface-600 focus:outline-none focus:ring-2 focus:ring-primary-500","aria-label":"Toggle theme"},"light"===o?e.createElement(gm,{size:20}):e.createElement(vm,{size:20}))};var ym=o("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),Cm=o("outline","letter-case","IconLetterCase",[["path",{d:"M17.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0",key:"svg-0"}],["path",{d:"M3 19v-10.5a3.5 3.5 0 0 1 7 0v10.5",key:"svg-1"}],["path",{d:"M3 13h7",key:"svg-2"}],["path",{d:"M21 12v7",key:"svg-3"}]]),xm=o("outline","align-justified","IconAlignJustified",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l12 0",key:"svg-2"}]]),km=o("outline","corner-down-right","IconCornerDownRight",[["path",{d:"M6 6v6a3 3 0 0 0 3 3h10l-4 -4m0 8l4 -4",key:"svg-0"}]]);const Pm=function(t){var n=t.currentFile,r=t.content,o=t.isMobile,i=void 0!==o&&o,a=t.unsavedChanges,s=void 0!==a&&a,l=mt().state.editor.cursorPosition,c=(0,e.useMemo)((function(){return r?{wordCount:(r.match(/\S+/g)||[]).length,charCount:r.length,lineCount:(r.match(/\n/g)||[]).length+1}:{wordCount:0,charCount:0,lineCount:0}}),[r]),u=(0,e.useMemo)((function(){return n?(new Date).toLocaleString():""}),[n]);return i?e.createElement("div",{className:"status-bar flex items-center justify-between px-2 py-1 text-xs border-t border-surface-300 dark:border-surface-700 bg-surface-100 dark:bg-surface-800 text-surface-600 dark:text-surface-400"},e.createElement("div",{className:"file-info flex items-center overflow-hidden"},n?e.createElement(e.Fragment,null,e.createElement(X,{size:12,className:"flex-shrink-0 mr-1"}),e.createElement("span",{className:"truncate max-w-[120px]"},n.name),s&&e.createElement(ym,{size:12,className:"ml-1 text-warning-500","aria-label":"Unsaved changes"})):e.createElement("span",null,"No file")),e.createElement("div",{className:"document-stats flex space-x-2"},e.createElement("div",{className:"flex items-center"},e.createElement(Cm,{size:12,className:"mr-1"}),e.createElement("span",null,c.wordCount)),e.createElement("div",{className:"flex items-center"},e.createElement(xm,{size:12,className:"mr-1"}),e.createElement("span",null,c.lineCount)),l&&e.createElement("div",{className:"flex items-center"},e.createElement(km,{size:12,className:"mr-1"}),e.createElement("span",null,l.line,":",l.column||l.ch)))):e.createElement("div",{className:"status-bar flex items-center justify-between px-4 py-1 text-xs border-t border-surface-300 dark:border-surface-700 bg-surface-100 dark:bg-surface-800 text-surface-600 dark:text-surface-400"},e.createElement("div",{className:"file-info flex items-center"},n?e.createElement(e.Fragment,null,e.createElement(X,{size:14,className:"mr-1"}),e.createElement("span",{className:"mr-4"},n.path),e.createElement(me,{size:14,className:"mr-1"}),e.createElement("span",null,"Last modified: ",u),s&&e.createElement("span",{className:"ml-2 flex items-center text-warning-500"},e.createElement(ym,{size:14,className:"mr-1"}),"Unsaved changes")):e.createElement("span",null,"No file selected")),e.createElement("div",{className:"document-stats flex space-x-4"},e.createElement("span",null,c.wordCount," words"),e.createElement("span",null,c.charCount," characters"),e.createElement("span",null,c.lineCount," lines"),l&&e.createElement("span",{className:"flex items-center"},e.createElement(km,{size:14,className:"mr-1"}),"Ln ",l.line,", Col ",l.column||l.ch)))};var Em=o("outline","heading","IconHeading",[["path",{d:"M7 12h10",key:"svg-0"}],["path",{d:"M7 5v14",key:"svg-1"}],["path",{d:"M17 5v14",key:"svg-2"}],["path",{d:"M15 19h4",key:"svg-3"}],["path",{d:"M15 5h4",key:"svg-4"}],["path",{d:"M5 19h4",key:"svg-5"}],["path",{d:"M5 5h4",key:"svg-6"}]]),Sm=o("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]),Im=o("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]),Mm=o("outline","list","IconList",[["path",{d:"M9 6l11 0",key:"svg-0"}],["path",{d:"M9 12l11 0",key:"svg-1"}],["path",{d:"M9 18l11 0",key:"svg-2"}],["path",{d:"M5 6l0 .01",key:"svg-3"}],["path",{d:"M5 12l0 .01",key:"svg-4"}],["path",{d:"M5 18l0 .01",key:"svg-5"}]]),Om=o("outline","list-numbers","IconListNumbers",[["path",{d:"M11 6h9",key:"svg-0"}],["path",{d:"M11 12h9",key:"svg-1"}],["path",{d:"M12 18h8",key:"svg-2"}],["path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4",key:"svg-3"}],["path",{d:"M6 10v-6l-2 2",key:"svg-4"}]]),Nm=o("outline","photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]),Bm=o("outline","code","IconCode",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]),Dm=o("outline","blockquote","IconBlockquote",[["path",{d:"M6 15h15",key:"svg-0"}],["path",{d:"M21 19h-15",key:"svg-1"}],["path",{d:"M15 11h6",key:"svg-2"}],["path",{d:"M21 7h-6",key:"svg-3"}],["path",{d:"M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2",key:"svg-4"}],["path",{d:"M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2",key:"svg-5"}]]),Tm=o("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]),Rm=o("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]),Lm=o("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);function zm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Fm={NEW_FILE:"Ctrl+N",OPEN_FILE:"Ctrl+O",SAVE_FILE:"Ctrl+S",SAVE_AS:"Ctrl+Shift+S",FIND:"Ctrl+F",REPLACE:"Ctrl+H",UNDO:"Ctrl+Z",REDO:"Ctrl+Shift+Z",CUT:"Ctrl+X",COPY:"Ctrl+C",PASTE:"Ctrl+V",SELECT_ALL:"Ctrl+A",BOLD:"Ctrl+B",ITALIC:"Ctrl+I",HEADING:"Ctrl+Alt+H",LINK:"Ctrl+K",CODE:"Ctrl+`",LIST:"Ctrl+L",ORDERED_LIST:"Ctrl+Shift+L",TOGGLE_PREVIEW:"Ctrl+P",TOGGLE_SIDEBAR:"Ctrl+\\",ZOOM_IN:"Ctrl+=",ZOOM_OUT:"Ctrl+-",RESET_ZOOM:"Ctrl+0",TOGGLE_SORT_DIRECTION:"Ctrl+Alt+S"},_m=function(e){var t=Fm[e];return t?"(".concat(function(e){return 0===navigator.platform.indexOf("Mac")?e.replace("Ctrl+","⌘").replace("Alt+","⌥").replace("Shift+","⇧"):e}(t),")"):""};function jm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Wm=function(t){var n,r,o=t.onAction,i=t.onUndo,a=t.onRedo,s=t.onSearch,l=t.onReplace,c=t.onReplaceAll,u=(n=(0,e.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return jm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jm(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=u[0],d=u[1],f=[{id:"heading",icon:Em,title:"Add Heading",shortcutKey:"HEADING",action:function(){return o("heading")}},{id:"bold",icon:Sm,title:"Bold",shortcutKey:"BOLD",action:function(){return o("bold")}},{id:"italic",icon:Im,title:"Italic",shortcutKey:"ITALIC",action:function(){return o("italic")}},{id:"list",icon:Mm,title:"Bulleted List",shortcutKey:"LIST",action:function(){return o("unordered-list")}},{id:"ordered-list",icon:Om,title:"Ordered List",shortcutKey:"ORDERED_LIST",action:function(){return o("ordered-list")}},{id:"link",icon:p,title:"Add Link",shortcutKey:"LINK",action:function(){return o("link")}},{id:"image",icon:Nm,title:"Add Image",action:function(){return o("image")}},{id:"code",icon:Bm,title:"Code Block",shortcutKey:"CODE",action:function(){return o("code")}},{id:"blockquote",icon:Dm,title:"Blockquote",action:function(){return o("blockquote")}},{id:"table",icon:Tm,title:"Add Table",action:function(){return o("table")}}];return e.createElement("div",{className:"markdown-toolbar flex items-center space-x-1 p-1 border-b border-surface-300 dark:border-surface-700 bg-surface-100 dark:bg-surface-800 relative z-5"},e.createElement("button",{title:"Undo ".concat(_m("UNDO")),onClick:i,className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300"},e.createElement(Rm,{size:18})),e.createElement("button",{title:"Redo ".concat(_m("REDO")),onClick:a,className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300"},e.createElement(Lm,{size:18})),e.createElement("div",{className:"h-4 w-px bg-surface-300 dark:bg-surface-700 mx-1"}),f.map((function(t){return e.createElement("button",{key:t.id,title:"".concat(t.title," ").concat(t.shortcutKey?_m(t.shortcutKey):""),onClick:t.action,className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300"},e.createElement(t.icon,{size:18}))})),e.createElement("div",{className:"h-4 w-px bg-surface-300 dark:bg-surface-700 mx-1"}),e.createElement("button",{title:"Search in Text (Ctrl+F)",onClick:function(){return d(!0)},className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300"},e.createElement(Lf,{size:18})),h&&e.createElement(Vf,{isOpen:h,onClose:function(){return d(!1)},onSearch:s,onReplace:l,onReplaceAll:c}))},Hm=function(t){var n=t.size,r=void 0===n?"md":n,o=t.color,i=void 0===o?"primary":o,a=t.className,s=void 0===a?"":a;return e.createElement("div",{className:"".concat(s," flex items-center justify-center")},e.createElement("div",{className:"\n          ".concat({sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"}[r]," \n          ").concat({primary:"border-primary-500",surface:"border-surface-500",white:"border-white"}[i]," \n          border-t-transparent \n          rounded-full \n          animate-spin\n        "),role:"status","aria-label":"Loading"}))};function Vm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Um=function(t){var n=t.isLoading,r=t.message,o=t.transparent,i=void 0!==o&&o,a=t.children,s=t.preserveChildren,l=void 0===s||s,c=Vm((0,e.useState)(n),2),u=c[0],h=c[1],d=Vm((0,e.useState)(!1),2),f=d[0],p=d[1];(0,e.useEffect)((function(){var e,t;return h(n),p(!1),n&&(t=setTimeout((function(){p(!0)}),5e3),e=setTimeout((function(){h(!1)}),1e4)),function(){e&&clearTimeout(e),t&&clearTimeout(t)}}),[n]);var m=i?"bg-white/80 dark:bg-surface-900/80":"bg-white dark:bg-surface-900";return e.createElement("div",{className:"relative w-full h-full flex flex-col"},(l||!u)&&a,u&&e.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 ".concat(m," transition-opacity duration-200")},e.createElement(Hm,{size:"lg"}),r&&e.createElement("p",{className:"mt-4 text-surface-700 dark:text-surface-300 font-medium"},r),f&&e.createElement("button",{onClick:function(){h(!1)},className:"mt-4 px-3 py-1 bg-error-100 text-error-700 dark:bg-error-900 dark:text-error-300 rounded hover:bg-error-200 dark:hover:bg-error-800 transition-colors"},"Cancel Loading")))};var $m=o("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),Km=o("outline","layout-dashboard","IconLayoutDashboard",[["path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1",key:"svg-0"}],["path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1",key:"svg-1"}],["path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1",key:"svg-2"}],["path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1",key:"svg-3"}]]),Gm=o("outline","markdown","IconMarkdown",[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 15v-6l2 2l2 -2v6",key:"svg-1"}],["path",{d:"M14 13l2 2l2 -2m-2 2v-6",key:"svg-2"}]]),Qm=o("outline","rotate-clockwise-2","IconRotateClockwise2",[["path",{d:"M9 4.55a8 8 0 0 1 6 14.9m0 -4.45v5h5",key:"svg-0"}],["path",{d:"M5.63 7.16l0 .01",key:"svg-1"}],["path",{d:"M4.06 11l0 .01",key:"svg-2"}],["path",{d:"M4.63 15.1l0 .01",key:"svg-3"}],["path",{d:"M7.16 18.37l0 .01",key:"svg-4"}],["path",{d:"M11 19.94l0 .01",key:"svg-5"}]]);function Ym(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Xm=function(t){var n,r,o,i=t.children,a=t.defaultValue,s=t.value,l=t.onValueChange,c=t.className,u=void 0===c?"":c,h=t.orientation,d=void 0===h?"horizontal":h,f=(r=(0,e.useState)(a),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(r,o)||function(e,t){if(e){if("string"==typeof e)return Ym(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ym(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],m=f[1],A=void 0!==s?s:p,g=function(e){void 0===s&&m(e),l&&l(e)},v=null===(n=e.Children.toArray(i).find((function(e){return e.props.value===A})))||void 0===n?void 0:n.props.children,w=e.Children.toArray(i).map((function(t){if(t.type!==Jm)return null;var n=t.props,r=n.value,o=n.label,i=n.icon,a=r===A;return e.createElement("button",{key:r,role:"tab","aria-selected":a,className:"\n          flex items-center px-3 py-1.5 text-sm font-medium transition-colors\n          ".concat(a?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 border-b-2 border-primary-500":"text-surface-700 dark:text-surface-300 hover:bg-surface-200 dark:hover:bg-surface-700","\n          ").concat("vertical"===d?"w-full justify-start border-l-2 border-b-0 rounded-none":"border-b-2 rounded-t-md","\n        "),onClick:function(){return g(r)}},i&&e.createElement(i,{size:16,className:"mr-2"}),o)}));return e.createElement("div",{className:"flex flex-col ".concat(u)},e.createElement("div",{role:"tablist",className:"\n          flex border-b border-surface-300 dark:border-surface-700\n          ".concat("vertical"===d?"flex-col border-r border-b-0 w-48 flex-shrink-0":"flex-row","\n        ")},w),e.createElement("div",{className:"tab-content p-4 flex-grow overflow-hidden"},v))},Jm=function(e){return e.value,e.label,e.icon,e.children};Xm.Tab=Jm;var Zm=["checked","onChange","className","disabled"];function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eA.apply(null,arguments)}var tA=e.forwardRef((function(t,n){var r=t.checked,o=t.onChange,i=t.className,a=void 0===i?"":i,s=t.disabled,l=void 0!==s&&s,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,Zm);return e.createElement("button",eA({type:"button",role:"switch","aria-checked":r,"data-state":r?"checked":"unchecked",disabled:l,className:"\n          relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent \n          transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500\n          focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\n          ".concat(r?"bg-primary-500":"bg-surface-200 dark:bg-surface-700","\n          ").concat(a,"\n        "),onClick:function(){return o(!r)},ref:n},c),e.createElement("span",{"data-state":r?"checked":"unchecked",className:"\n            pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 \n            transition-transform\n            ".concat(r?"translate-x-5":"translate-x-0","\n          ")}))}));tA.displayName="Switch";var nA=["className","options","value","onChange","placeholder","disabled"];function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rA.apply(null,arguments)}var oA=e.forwardRef((function(t,n){var r=t.className,o=void 0===r?"":r,i=t.options,a=void 0===i?[]:i,s=t.value,l=t.onChange,c=t.placeholder,u=void 0===c?"Select an option":c,h=t.disabled,d=void 0!==h&&h,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,nA);return e.createElement("div",{className:"relative"},e.createElement("select",rA({className:"\n            flex h-10 w-full appearance-none rounded-md border border-surface-200 dark:border-surface-700 \n            bg-white dark:bg-surface-800 px-3 py-2 text-sm text-surface-900 dark:text-surface-100\n            focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\n            disabled:cursor-not-allowed disabled:opacity-50\n            ".concat(o,"\n          "),value:s,onChange:function(e){return l&&l(e.target.value)},disabled:d,ref:n},f),u&&e.createElement("option",{value:"",disabled:!0},u),a.map((function(t){return e.createElement("option",{key:t.value,value:t.value},t.label)}))),e.createElement(K,{className:"absolute right-3 top-2.5 h-5 w-5 pointer-events-none text-surface-500"}))}));oA.displayName="Select";var iA=["className","type"];function aA(){return aA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aA.apply(null,arguments)}var sA=e.forwardRef((function(t,n){var r=t.className,o=void 0===r?"":r,i=t.type,a=void 0===i?"text":i,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,iA);return e.createElement("input",aA({type:a,className:"flex h-10 w-full rounded-md border border-surface-200 dark:border-surface-700 bg-white dark:bg-surface-800 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-surface-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(o),ref:n},s))}));sA.displayName="Input";var lA=["className","variant","size","asChild","disabled","isLoading","loadingText","children"];function cA(){return cA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cA.apply(null,arguments)}var uA={default:"bg-primary-500 hover:bg-primary-600 text-white",destructive:"bg-red-500 hover:bg-red-600 text-white",outline:"border border-surface-300 dark:border-surface-600 hover:bg-surface-100 dark:hover:bg-surface-800",secondary:"bg-surface-200 dark:bg-surface-700 hover:bg-surface-300 dark:hover:bg-surface-600",ghost:"hover:bg-surface-100 dark:hover:bg-surface-800",link:"text-primary-500 hover:underline"},hA={default:"h-10 px-4 py-2",sm:"h-8 px-3 text-sm",lg:"h-12 px-6 text-lg",icon:"h-10 w-10 p-2"},dA=e.forwardRef((function(t,n){var r=t.className,o=void 0===r?"":r,i=t.variant,a=void 0===i?"default":i,s=t.size,l=void 0===s?"default":s,c=(t.asChild,t.disabled),u=void 0!==c&&c,h=t.isLoading,d=void 0!==h&&h,f=t.loadingText,p=t.children,m=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,lA),A="default"===a||"destructive"===a?"white":"primary";return e.createElement("button",cA({className:"\n          inline-flex items-center justify-center rounded-md text-sm font-medium\n          transition-colors focus-visible:outline-none focus-visible:ring-2\n          focus-visible:ring-primary-500 focus-visible:ring-offset-2\n          disabled:opacity-50 disabled:pointer-events-none\n          ".concat(uA[a]," ").concat(hA[l]," ").concat(o,"\n        "),ref:n,disabled:u||d},m),d?e.createElement(e.Fragment,null,e.createElement(Hm,{size:"sm",color:A,className:"mr-2"}),f||p):p)}));dA.displayName="Button";var fA=["className","value","min","max","step","onValueChange"];function pA(){return pA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pA.apply(null,arguments)}var mA=e.forwardRef((function(t,n){var r=t.className,o=void 0===r?"":r,i=t.value,a=t.min,s=void 0===a?0:a,l=t.max,c=void 0===l?100:l,u=t.step,h=void 0===u?1:u,d=t.onValueChange,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,fA);return e.createElement("div",{className:"relative w-full touch-none select-none ".concat(o)},e.createElement("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-surface-200 dark:bg-surface-700"},e.createElement("div",{className:"absolute h-full bg-primary-500",style:{width:"".concat((i[0]-s)/(c-s)*100,"%")}})),e.createElement("input",pA({type:"range",min:s,max:c,step:h,value:i[0],onChange:function(e){var t=parseInt(e.target.value,10);d&&d([t])},className:"absolute inset-0 h-full w-full cursor-pointer opacity-0",ref:n},f)),e.createElement("div",{className:"absolute top-0 -translate-y-1/2 h-4 w-4 rounded-full border-2 border-primary-500 bg-white dark:bg-surface-800",style:{left:"calc(".concat((i[0]-s)/(c-s)*100,"% - 0.5rem)"),top:"50%"}}))}));function AA(e){return AA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AA(e)}mA.displayName="Slider";var gA=["fontSize"],vA=["editor"];function wA(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bA(Object(n),!0).forEach((function(t){CA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CA(e,t,n){return(t=function(e){var t=function(e){if("object"!=AA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=AA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==AA(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kA={editor:{fontFamily:"monospace",lineNumbers:!0,wordWrap:!0,tabSize:2,autoSave:!0,autoSaveInterval:1e3},ui:{theme:"system",sidebarVisible:!0,previewVisible:!0,sidebarWidth:20,previewWidth:50},markdown:{defaultSyntaxHighlighting:!0,renderImages:!0,renderTables:!0,renderMath:!1,renderDiagrams:!1}},PA=(0,e.createContext)(null),EA=function(){var t=(0,e.useContext)(PA);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},SA=function(t){var n,r,o=t.children,i=(n=(0,e.useState)((function(){try{var e=localStorage.getItem("markdown-viewer-settings");return e?JSON.parse(e):kA}catch(e){return console.error("Failed to load settings from localStorage:",e),kA}})),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return xA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xA(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],s=i[1];return(0,e.useEffect)((function(){try{localStorage.setItem("markdown-viewer-settings",JSON.stringify(a))}catch(e){console.error("Failed to save settings to localStorage:",e)}}),[a]),e.createElement(PA.Provider,{value:{settings:a,updateSetting:function(e,t,n){"editor"!==e||"fontSize"!==t?s((function(r){return yA(yA({},r),{},CA({},e,yA(yA({},r[e]),{},CA({},t,n))))})):console.warn("Editor font size should be updated via AppStateContext")},resetSettings:function(){var e=kA.editor,t=(e.fontSize,wA(e,gA)),n=wA(kA,vA);s((function(e){return yA(yA({},n),{},{editor:yA({},t)})}))}}},o)},IA=function(e){var t=document.getElementById("sr-announcer");t&&(t.textContent=e)};const MA=function(t){var n=t.isOpen,r=t.onClose,o=EA(),a=o.settings,s=o.updateSetting,l=o.resetSettings,c=mt(),u=c.state,h=c.setEditorFontSize,d=(0,e.useRef)(null);return(0,e.useEffect)((function(){if(n&&d.current){IA("Settings panel opened");var e=function(e){if(!e)return function(){};var t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(0===t.length)return function(){};var n=t[0],r=t[t.length-1];n.focus();var o=function(e){"Tab"===e.key&&(e.shiftKey&&document.activeElement===n?(e.preventDefault(),r.focus()):e.shiftKey||document.activeElement!==r||(e.preventDefault(),n.focus()))};return e.addEventListener("keydown",o),function(){e.removeEventListener("keydown",o)}}(d.current);document.body.classList.add("modal-open");var t=function(e){"Escape"===e.key&&r()};return document.addEventListener("keydown",t),function(){e(),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",t),IA("Settings panel closed")}}}),[n,r]),n?e.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title"},e.createElement("div",{ref:d,className:"bg-white dark:bg-surface-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col"},e.createElement("div",{className:"flex items-center justify-between p-4 border-b border-surface-200 dark:border-surface-700"},e.createElement("h2",{id:"settings-title",className:"text-lg font-semibold flex items-center"},e.createElement(i,{className:"mr-2","aria-hidden":"true"}),"Settings"),e.createElement("button",{onClick:r,className:"p-1 rounded-full hover:bg-surface-200 dark:hover:bg-surface-700","aria-label":"Close settings panel"},e.createElement(ge,{size:20,"aria-hidden":"true"}))),e.createElement("div",{className:"flex-grow overflow-y-auto"},e.createElement(Xm,{defaultValue:"editor",className:"h-full"},e.createElement(Xm.Tab,{value:"editor",label:"Editor",icon:$m},e.createElement("div",{className:"space-y-4"},e.createElement("h3",{className:"text-lg font-medium mb-2",id:"editor-settings-heading"},"Editor Settings"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","aria-labelledby":"editor-settings-heading"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{id:"font-size-label",className:"text-sm font-medium"},"Font Size"),e.createElement("div",{className:"flex items-center","aria-labelledby":"font-size-label"},e.createElement(mA,{min:10,max:24,step:1,value:[u.editor.fontSize],onValueChange:function(e){return h(e[0])},"aria-valuemin":10,"aria-valuemax":24,"aria-valuenow":u.editor.fontSize}),e.createElement("span",{className:"ml-2 text-sm"},u.editor.fontSize,"px"))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Font Family"),e.createElement(oA,{options:[{value:"monospace",label:"Monospace"},{value:"sans-serif",label:"Sans Serif"},{value:"serif",label:"Serif"}],value:a.editor.fontFamily,onChange:function(e){return s("editor","fontFamily",e)}})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Tab Size"),e.createElement(oA,{options:[{value:2,label:"2 spaces"},{value:4,label:"4 spaces"},{value:8,label:"8 spaces"}],value:a.editor.tabSize,onChange:function(e){return s("editor","tabSize",Number(e))}})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Auto-Save Interval"),e.createElement("div",{className:"flex items-center"},e.createElement(mA,{min:500,max:5e3,step:500,value:[a.editor.autoSaveInterval],onValueChange:function(e){return s("editor","autoSaveInterval",e[0])}}),e.createElement("span",{className:"ml-2 text-sm"},a.editor.autoSaveInterval/1e3,"s")))),e.createElement("div",{className:"space-y-3 pt-2"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{id:"line-numbers-label",className:"text-sm font-medium"},"Show Line Numbers"),e.createElement(tA,{checked:a.editor.lineNumbers,onChange:function(e){return s("editor","lineNumbers",e)},"aria-labelledby":"line-numbers-label"})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{id:"word-wrap-label",className:"text-sm font-medium"},"Word Wrap"),e.createElement(tA,{checked:a.editor.wordWrap,onChange:function(e){return s("editor","wordWrap",e)},"aria-labelledby":"word-wrap-label"})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{id:"auto-save-label",className:"text-sm font-medium"},"Auto-Save"),e.createElement(tA,{checked:a.editor.autoSave,onChange:function(e){return s("editor","autoSave",e)},"aria-labelledby":"auto-save-label"}))))),e.createElement(Xm.Tab,{value:"ui",label:"Interface",icon:Km},e.createElement("div",{className:"space-y-4"},e.createElement("h3",{className:"text-lg font-medium mb-2"},"Interface Settings"),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Theme"),e.createElement(oA,{options:[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"system",label:"System Default"}],value:a.ui.theme,onChange:function(e){return s("ui","theme",e)}})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Sidebar Width"),e.createElement("div",{className:"flex items-center"},e.createElement(mA,{min:10,max:40,step:5,value:[a.ui.sidebarWidth],onValueChange:function(e){return s("ui","sidebarWidth",e[0])}}),e.createElement("span",{className:"ml-2 text-sm"},a.ui.sidebarWidth,"%"))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Preview Width"),e.createElement("div",{className:"flex items-center"},e.createElement(mA,{min:30,max:70,step:5,value:[a.ui.previewWidth],onValueChange:function(e){return s("ui","previewWidth",e[0])}}),e.createElement("span",{className:"ml-2 text-sm"},a.ui.previewWidth,"%")))),e.createElement("div",{className:"space-y-3 pt-2"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Show Sidebar"),e.createElement(tA,{checked:a.ui.sidebarVisible,onChange:function(e){return s("ui","sidebarVisible",e)}})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Show Preview"),e.createElement(tA,{checked:a.ui.previewVisible,onChange:function(e){return s("ui","previewVisible",e)}}))))),e.createElement(Xm.Tab,{value:"markdown",label:"Markdown",icon:Gm},e.createElement("div",{className:"space-y-4"},e.createElement("h3",{className:"text-lg font-medium mb-2"},"Markdown Settings"),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Syntax Highlighting in Code Blocks"),e.createElement(tA,{checked:a.markdown.defaultSyntaxHighlighting,onChange:function(e){return s("markdown","defaultSyntaxHighlighting",e)}})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Render Images"),e.createElement(tA,{checked:a.markdown.renderImages,onChange:function(e){return s("markdown","renderImages",e)}})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Render Tables"),e.createElement(tA,{checked:a.markdown.renderTables,onChange:function(e){return s("markdown","renderTables",e)}})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Render Math Expressions"),e.createElement(tA,{checked:a.markdown.renderMath,onChange:function(e){return s("markdown","renderMath",e)}})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Render Diagrams"),e.createElement(tA,{checked:a.markdown.renderDiagrams,onChange:function(e){return s("markdown","renderDiagrams",e)}}))))))),e.createElement("div",{className:"p-4 border-t border-surface-200 dark:border-surface-700 flex justify-end space-x-2"},e.createElement(dA,{variant:"outline",onClick:r},"Cancel"),e.createElement(dA,{variant:"secondary",onClick:function(){l(),IA("Settings have been reset to defaults")},className:"flex items-center"},e.createElement(Qm,{size:16,className:"mr-1","aria-hidden":"true"}),"Reset to Defaults"),e.createElement(dA,{onClick:r},"Apply & Close")))):null};var OA=(0,e.createContext)(null),NA=function(t){var n=t.children,r=(0,e.useCallback)((function(){return"0"}),[]),o=(0,e.useCallback)((function(){}),[]),i=(0,e.useCallback)((function(){return"0"}),[]),a=(0,e.useCallback)((function(){return"0"}),[]),s=(0,e.useCallback)((function(){return"0"}),[]);return e.createElement(OA.Provider,{value:{notifications:[],addNotification:r,removeNotification:o,showSuccess:i,showError:a,showInfo:s}},n)},BA=n(249);function DA(e){return DA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DA(e)}function TA(){TA=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:E(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",m="completed",A={};function g(){}function v(){}function w(){}var b={};c(b,a,(function(){return this}));var y=Object.getPrototypeOf,C=y&&y(y(N([])));C&&C!==n&&r.call(C,a)&&(b=C);var x=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(o,i,a,s){var l=h(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==DA(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function E(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=S(s,r);if(l){if(l===A)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=h(t,n,r);if("normal"===c.type){if(o=r.done?m:f,c.arg===A)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),A;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,A;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,A):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(DA(t)+" is not iterable")}return v.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:v,configurable:!0}),v.displayName=c(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(P.prototype),c(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),A}},t}function RA(e){return function(e){if(Array.isArray(e))return WA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LA(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=jA(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function zA(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function FA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zA(i,r,o,a,s,"next",e)}function s(e){zA(i,r,o,a,s,"throw",e)}a(void 0)}))}}function _A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||jA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jA(e,t){if(e){if("string"==typeof e)return WA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WA(e,t):void 0}}function WA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const HA=function(){var t=(0,e.useContext)(OA);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t};var VA=n(961);const qA="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function UA(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function $A(e){return"nodeType"in e}function KA(e){var t,n;return e?UA(e)?e:$A(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function GA(e){const{Document:t}=KA(e);return e instanceof t}function QA(e){return!UA(e)&&e instanceof KA(e).HTMLElement}function YA(e){return e instanceof KA(e).SVGElement}function XA(e){return e?UA(e)?e.document:$A(e)?GA(e)?e:QA(e)||YA(e)?e.ownerDocument:document:document:document}const JA=qA?e.useLayoutEffect:e.useEffect;function ZA(t){const n=(0,e.useRef)(t);return JA((()=>{n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}function eg(t,n){void 0===n&&(n=[t]);const r=(0,e.useRef)(t);return JA((()=>{r.current!==t&&(r.current=t)}),n),r}function tg(t,n){const r=(0,e.useRef)();return(0,e.useMemo)((()=>{const e=t(r.current);return r.current=e,e}),[...n])}function ng(t){const n=ZA(t),r=(0,e.useRef)(null),o=(0,e.useCallback)((e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e}),[]);return[r,o]}function rg(t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t}),[t]),n.current}let og={};function ig(t,n){return(0,e.useMemo)((()=>{if(n)return n;const e=null==og[t]?0:og[t]+1;return og[t]=e,t+"-"+e}),[t,n])}function ag(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t}),{...t})}}const sg=ag(1),lg=ag(-1);function cg(e){if(!e)return!1;const{KeyboardEvent:t}=KA(e.target);return t&&e instanceof t}function ug(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=KA(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const hg=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[hg.Translate.toString(e),hg.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),dg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fg(e){return e.matches(dg)?e:e.querySelector(dg)}const pg={display:"none"};function mg(t){let{id:n,value:r}=t;return e.createElement("div",{id:n,style:pg},r)}function Ag(t){let{id:n,announcement:r,ariaLiveType:o="assertive"}=t;return e.createElement("div",{id:n,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":o,"aria-atomic":!0},r)}const gg=(0,e.createContext)(null),vg={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},wg={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function bg(t){let{announcements:n=wg,container:r,hiddenTextDescribedById:o,screenReaderInstructions:i=vg}=t;const{announce:a,announcement:s}=function(){const[t,n]=(0,e.useState)("");return{announce:(0,e.useCallback)((e=>{null!=e&&n(e)}),[]),announcement:t}}(),l=ig("DndLiveRegion"),[c,u]=(0,e.useState)(!1);if((0,e.useEffect)((()=>{u(!0)}),[]),function(t){const n=(0,e.useContext)(gg);(0,e.useEffect)((()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(t)}),[t,n])}((0,e.useMemo)((()=>({onDragStart(e){let{active:t}=e;a(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&a(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;a(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;a(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;a(n.onDragCancel({active:t,over:r}))}})),[a,n])),!c)return null;const h=e.createElement(e.Fragment,null,e.createElement(mg,{id:o,value:i.draggable}),e.createElement(Ag,{id:l,announcement:s}));return r?(0,VA.createPortal)(h,r):h}var yg;function Cg(){}function xg(t,n){return(0,e.useMemo)((()=>({sensor:t,options:null!=n?n:{}})),[t,n])}function kg(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)((()=>[...n].filter((e=>null!=e))),[...n])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(yg||(yg={}));const Pg=Object.freeze({x:0,y:0});function Eg(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Sg(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Ig(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Mg(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function Og(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function Ng(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Bg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Ng(t,t.left,t.top),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=Eg(Ng(r),o);i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(Sg)};function Dg(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,s=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=a*s;return Number((o/(n+r-o)).toFixed(4))}return 0}const Tg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const e of r){const{id:r}=e,i=n.get(r);if(i){const n=Dg(i,t);n>0&&o.push({id:r,data:{droppableContainer:e,value:n}})}}return o.sort(Ig)};function Rg(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Pg}function Lg(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const zg=Lg(1);const Fg={ignoreTransform:!1};function _g(e,t){void 0===t&&(t=Fg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=KA(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:s}=r,l=e.left-a-(1-o)*parseFloat(n),c=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,h=i?e.height/i:e.height;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l}}(n,t,r))}const{top:r,left:o,width:i,height:a,bottom:s,right:l}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:l}}function jg(e){return _g(e,{ignoreTransform:!0})}function Wg(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(GA(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!QA(o)||YA(o))return n;if(n.includes(o))return n;const i=KA(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=KA(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=KA(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function Hg(e){const[t]=Wg(e,1);return null!=t?t:null}function Vg(e){return qA&&e?UA(e)?e:$A(e)?GA(e)||e===XA(e).scrollingElement?window:QA(e)?e:null:null:null}function qg(e){return UA(e)?e.scrollX:e.scrollLeft}function Ug(e){return UA(e)?e.scrollY:e.scrollTop}function $g(e){return{x:qg(e),y:Ug(e)}}var Kg;function Gg(e){return!(!qA||!e)&&e===document.scrollingElement}function Qg(e){const t={x:0,y:0},n=Gg(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Kg||(Kg={}));const Yg={x:.2,y:.2};function Xg(e,t,n,r,o){let{top:i,left:a,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===o&&(o=Yg);const{isTop:c,isBottom:u,isLeft:h,isRight:d}=Qg(e),f={x:0,y:0},p={x:0,y:0},m=t.height*o.y,A=t.width*o.x;return!c&&i<=t.top+m?(f.y=Kg.Backward,p.y=r*Math.abs((t.top+m-i)/m)):!u&&l>=t.bottom-m&&(f.y=Kg.Forward,p.y=r*Math.abs((t.bottom-m-l)/m)),!d&&s>=t.right-A?(f.x=Kg.Forward,p.x=r*Math.abs((t.right-A-s)/A)):!h&&a<=t.left+A&&(f.x=Kg.Backward,p.x=r*Math.abs((t.left+A-a)/A)),{direction:f,speed:p}}function Jg(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Zg(e){return e.reduce(((e,t)=>sg(e,$g(t))),Pg)}const ev=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+qg(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+Ug(t)),0)}]];class tv{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Wg(t),r=Zg(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of ev)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n),a=r[e]-t;return this.rect[i]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class nv{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function rv(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var ov,iv;function av(e){e.preventDefault()}function sv(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(ov||(ov={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(iv||(iv={}));const lv={start:[iv.Space,iv.Enter],cancel:[iv.Esc],end:[iv.Space,iv.Enter,iv.Tab]},cv=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case iv.Right:return{...n,x:n.x+25};case iv.Left:return{...n,x:n.x-25};case iv.Down:return{...n,y:n.y+25};case iv.Up:return{...n,y:n.y-25}}};class uv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new nv(XA(t)),this.windowListeners=new nv(KA(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ov.Resize,this.handleCancel),this.windowListeners.add(ov.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(ov.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=_g),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);Hg(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(Pg)}handleKeyDown(e){if(cg(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:o=lv,coordinateGetter:i=cv,scrollBehavior:a="smooth"}=r,{code:s}=e;if(o.end.includes(s))return void this.handleEnd(e);if(o.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:Pg;this.referenceCoordinates||(this.referenceCoordinates=c);const u=i(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=lg(u,c),r={x:0,y:0},{scrollableAncestors:o}=n.current;for(const n of o){const o=e.code,{isTop:i,isRight:s,isLeft:l,isBottom:c,maxScroll:h,minScroll:d}=Qg(n),f=Jg(n),p={x:Math.min(o===iv.Right?f.right-f.width/2:f.right,Math.max(o===iv.Right?f.left:f.left+f.width/2,u.x)),y:Math.min(o===iv.Down?f.bottom-f.height/2:f.bottom,Math.max(o===iv.Down?f.top:f.top+f.height/2,u.y))},m=o===iv.Right&&!s||o===iv.Left&&!l,A=o===iv.Down&&!c||o===iv.Up&&!i;if(m&&p.x!==u.x){const e=n.scrollLeft+t.x,i=o===iv.Right&&e<=h.x||o===iv.Left&&e>=d.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=i?n.scrollLeft-e:o===iv.Right?n.scrollLeft-h.x:n.scrollLeft-d.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(A&&p.y!==u.y){const e=n.scrollTop+t.y,i=o===iv.Down&&e<=h.y||o===iv.Up&&e>=d.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=i?n.scrollTop-e:o===iv.Down?n.scrollTop-h.y:n.scrollTop-d.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,sg(lg(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function hv(e){return Boolean(e&&"distance"in e)}function dv(e){return Boolean(e&&"delay"in e)}uv.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=lv,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=i.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class fv{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=KA(e);return e instanceof t?e:XA(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=XA(i),this.documentListeners=new nv(this.document),this.listeners=new nv(n),this.windowListeners=new nv(KA(i)),this.initialCoordinates=null!=(r=ug(o))?r:Pg,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ov.Resize,this.handleCancel),this.windowListeners.add(ov.DragStart,av),this.windowListeners.add(ov.VisibilityChange,this.handleCancel),this.windowListeners.add(ov.ContextMenu,av),this.documentListeners.add(ov.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(dv(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(hv(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ov.Click,sv,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ov.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!r)return;const s=null!=(t=ug(e))?t:Pg,l=lg(r,s);if(!n&&a){if(hv(a)){if(null!=a.tolerance&&rv(l,a.tolerance))return this.handleCancel();if(rv(l,a.distance))return this.handleStart()}return dv(a)&&rv(l,a.tolerance)?this.handleCancel():void this.handlePending(a,l)}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===iv.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const pv={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class mv extends fv{constructor(e){const{event:t}=e,n=XA(t.target);super(e,pv,n)}}mv.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const Av={move:{name:"mousemove"},end:{name:"mouseup"}};var gv;!function(e){e[e.RightClick=2]="RightClick"}(gv||(gv={})),class extends fv{constructor(e){super(e,Av,XA(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==gv.RightClick&&(null==r||r({event:n}),!0)}}];const vv={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var wv,bv;(class extends fv{constructor(e){super(e,vv)}static setup(){return window.addEventListener(vv.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(vv.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1||(null==r||r({event:n}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(wv||(wv={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(bv||(bv={}));const yv={x:{[Kg.Backward]:!1,[Kg.Forward]:!1},y:{[Kg.Backward]:!1,[Kg.Forward]:!1}};var Cv,xv;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Cv||(Cv={})),function(e){e.Optimized="optimized"}(xv||(xv={}));const kv=new Map;function Pv(e,t){return tg((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function Ev(t){let{callback:n,disabled:r}=t;const o=ZA(n),i=(0,e.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(o)}),[r]);return(0,e.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}function Sv(e){return new tv(_g(e),e)}function Iv(t,n,r){void 0===n&&(n=Sv);const[o,i]=(0,e.useState)(null);function a(){i((e=>{if(!t)return null;var o;if(!1===t.isConnected)return null!=(o=null!=e?e:r)?o:null;const i=n(t);return JSON.stringify(e)===JSON.stringify(i)?e:i}))}const s=function(t){let{callback:n,disabled:r}=t;const o=ZA(n),i=(0,e.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(o)}),[o,r]);return(0,e.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}({callback(e){if(t)for(const n of e){const{type:e,target:r}=n;if("childList"===e&&r instanceof HTMLElement&&r.contains(t)){a();break}}}}),l=Ev({callback:a});return JA((()=>{a(),t?(null==l||l.observe(t),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())}),[t]),o}const Mv=[];function Ov(t,n){void 0===n&&(n=[]);const r=(0,e.useRef)(null);return(0,e.useEffect)((()=>{r.current=null}),n),(0,e.useEffect)((()=>{const e=t!==Pg;e&&!r.current&&(r.current=t),!e&&r.current&&(r.current=null)}),[t]),r.current?lg(t,r.current):Pg}function Nv(t){return(0,e.useMemo)((()=>t?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(t):null),[t])}const Bv=[];const Dv=[{sensor:mv,options:{}},{sensor:uv,options:{}}],Tv={current:{}},Rv={draggable:{measure:jg},droppable:{measure:jg,strategy:Cv.WhileDragging,frequency:xv.Optimized},dragOverlay:{measure:_g}};class Lv extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const zv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Lv,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Cg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Rv,measureDroppableContainers:Cg,windowRect:null,measuringScheduled:!1},Fv={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Cg,draggableNodes:new Map,over:null,measureDroppableContainers:Cg},_v=(0,e.createContext)(Fv),jv=(0,e.createContext)(zv);function Wv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Lv}}}function Hv(e,t){switch(t.type){case yg.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case yg.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case yg.DragEnd:case yg.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case yg.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Lv(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case yg.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Lv(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case yg.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Lv(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Vv(t){let{disabled:n}=t;const{active:r,activatorEvent:o,draggableNodes:i}=(0,e.useContext)(_v),a=rg(o),s=rg(null==r?void 0:r.id);return(0,e.useEffect)((()=>{if(!n&&!o&&a&&null!=s){if(!cg(a))return;if(document.activeElement===a.target)return;const e=i.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=fg(e);if(t){t.focus();break}}}))}}),[o,n,i,s,a]),null}const qv=(0,e.createContext)({...Pg,scaleX:1,scaleY:1});var Uv;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Uv||(Uv={}));const $v=(0,e.memo)((function(t){var n,r,o,i;let{id:a,accessibility:s,autoScroll:l=!0,children:c,sensors:u=Dv,collisionDetection:h=Tg,measuring:d,modifiers:f,...p}=t;const m=(0,e.useReducer)(Hv,void 0,Wv),[A,g]=m,[v,w]=function(){const[t]=(0,e.useState)((()=>new Set)),n=(0,e.useCallback)((e=>(t.add(e),()=>t.delete(e))),[t]);return[(0,e.useCallback)((e=>{let{type:n,event:r}=e;t.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[t]),n]}(),[b,y]=(0,e.useState)(Uv.Uninitialized),C=b===Uv.Initialized,{draggable:{active:x,nodes:k,translate:P},droppable:{containers:E}}=A,S=null!=x?k.get(x):null,I=(0,e.useRef)({initial:null,translated:null}),M=(0,e.useMemo)((()=>{var e;return null!=x?{id:x,data:null!=(e=null==S?void 0:S.data)?e:Tv,rect:I}:null}),[x,S]),O=(0,e.useRef)(null),[N,B]=(0,e.useState)(null),[D,T]=(0,e.useState)(null),R=eg(p,Object.values(p)),L=ig("DndDescribedBy",a),z=(0,e.useMemo)((()=>E.getEnabled()),[E]),F=(_=d,(0,e.useMemo)((()=>({draggable:{...Rv.draggable,...null==_?void 0:_.draggable},droppable:{...Rv.droppable,...null==_?void 0:_.droppable},dragOverlay:{...Rv.dragOverlay,...null==_?void 0:_.dragOverlay}})),[null==_?void 0:_.draggable,null==_?void 0:_.droppable,null==_?void 0:_.dragOverlay]));var _;const{droppableRects:j,measureDroppableContainers:W,measuringScheduled:H}=function(t,n){let{dragging:r,dependencies:o,config:i}=n;const[a,s]=(0,e.useState)(null),{frequency:l,measure:c,strategy:u}=i,h=(0,e.useRef)(t),d=function(){switch(u){case Cv.Always:return!1;case Cv.BeforeDragging:return r;default:return!r}}(),f=eg(d),p=(0,e.useCallback)((function(e){void 0===e&&(e=[]),f.current||s((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[f]),m=(0,e.useRef)(null),A=tg((e=>{if(d&&!r)return kv;if(!e||e===kv||h.current!==t||null!=a){const e=new Map;for(let n of t){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){e.set(n.id,n.rect.current);continue}const t=n.node.current,r=t?new tv(c(t),t):null;n.rect.current=r,r&&e.set(n.id,r)}return e}return e}),[t,a,r,d,c]);return(0,e.useEffect)((()=>{h.current=t}),[t]),(0,e.useEffect)((()=>{d||p()}),[r,d]),(0,e.useEffect)((()=>{a&&a.length>0&&s(null)}),[JSON.stringify(a)]),(0,e.useEffect)((()=>{d||"number"!=typeof l||null!==m.current||(m.current=setTimeout((()=>{p(),m.current=null}),l))}),[l,d,p,...o]),{droppableRects:A,measureDroppableContainers:p,measuringScheduled:null!=a}}(z,{dragging:C,dependencies:[P.x,P.y],config:F.droppable}),V=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return tg((e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(k,x),q=(0,e.useMemo)((()=>D?ug(D):null),[D]),U=function(){const e=!1===(null==N?void 0:N.autoScrollEnabled),t="object"==typeof l?!1===l.enabled:!1===l,n=C&&!e&&!t;return"object"==typeof l?{...l,enabled:n}:{enabled:n}}(),$=function(e,t){return Pv(e,t)}(V,F.draggable.measure);!function(t){let{activeNode:n,measure:r,initialRect:o,config:i=!0}=t;const a=(0,e.useRef)(!1),{x:s,y:l}="boolean"==typeof i?{x:i,y:i}:i;JA((()=>{if(!s&&!l||!n)return void(a.current=!1);if(a.current||!o)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=Rg(r(e),o);if(s||(t.x=0),l||(t.y=0),a.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=Hg(e);n&&n.scrollBy({top:t.y,left:t.x})}}),[n,s,l,o,r])}({activeNode:null!=x?k.get(x):null,config:U.layoutShiftCompensation,initialRect:$,measure:F.draggable.measure});const K=Iv(V,F.draggable.measure,$),G=Iv(V?V.parentElement:null),Q=(0,e.useRef)({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:j,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Y=E.getNodeFor(null==(n=Q.current.over)?void 0:n.id),X=function(t){let{measure:n}=t;const[r,o]=(0,e.useState)(null),i=Ev({callback:(0,e.useCallback)((e=>{for(const{target:t}of e)if(QA(t)){o((e=>{const r=n(t);return e?{...e,width:r.width,height:r.height}:r}));break}}),[n])}),a=(0,e.useCallback)((e=>{const t=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return QA(t)?t:e}(e);null==i||i.disconnect(),t&&(null==i||i.observe(t)),o(t?n(t):null)}),[n,i]),[s,l]=ng(a);return(0,e.useMemo)((()=>({nodeRef:s,rect:r,setRef:l})),[r,s,l])}({measure:F.dragOverlay.measure}),J=null!=(r=X.nodeRef.current)?r:V,Z=C?null!=(o=X.rect)?o:K:null,ee=Boolean(X.nodeRef.current&&X.rect),te=Rg(ne=ee?null:K,Pv(ne));var ne;const re=Nv(J?KA(J):null),oe=function(t){const n=(0,e.useRef)(t),r=tg((e=>t?e&&e!==Mv&&t&&n.current&&t.parentNode===n.current.parentNode?e:Wg(t):Mv),[t]);return(0,e.useEffect)((()=>{n.current=t}),[t]),r}(C?null!=Y?Y:V:null),ie=function(t,n){void 0===n&&(n=_g);const[r]=t,o=Nv(r?KA(r):null),[i,a]=(0,e.useState)(Bv);function s(){a((()=>t.length?t.map((e=>Gg(e)?o:new tv(n(e),e))):Bv))}const l=Ev({callback:s});return JA((()=>{null==l||l.disconnect(),s(),t.forEach((e=>null==l?void 0:l.observe(e)))}),[t]),i}(oe),ae=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(f,{transform:{x:P.x-te.x,y:P.y-te.y,scaleX:1,scaleY:1},activatorEvent:D,active:M,activeNodeRect:K,containerNodeRect:G,draggingNodeRect:Z,over:Q.current.over,overlayNodeRect:X.rect,scrollableAncestors:oe,scrollableAncestorRects:ie,windowRect:re}),se=q?sg(q,P):null,le=function(t){const[n,r]=(0,e.useState)(null),o=(0,e.useRef)(t),i=(0,e.useCallback)((e=>{const t=Vg(e.target);t&&r((e=>e?(e.set(t,$g(t)),new Map(e)):null))}),[]);return(0,e.useEffect)((()=>{const e=o.current;if(t!==e){n(e);const a=t.map((e=>{const t=Vg(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,$g(t)]):null})).filter((e=>null!=e));r(a.length?new Map(a):null),o.current=t}return()=>{n(t),n(e)};function n(e){e.forEach((e=>{const t=Vg(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,t]),(0,e.useMemo)((()=>t.length?n?Array.from(n.values()).reduce(((e,t)=>sg(e,t)),Pg):Zg(t):Pg),[t,n])}(oe),ce=Ov(le),ue=Ov(le,[K]),he=sg(ae,ce),de=Z?zg(Z,ae):null,fe=M&&de?h({active:M,collisionRect:de,droppableRects:j,droppableContainers:z,pointerCoordinates:se}):null,pe=Og(fe,"id"),[me,Ae]=(0,e.useState)(null),ge=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(ee?ae:sg(ae,ue),null!=(i=null==me?void 0:me.rect)?i:null,K),ve=(0,e.useRef)(null),we=(0,e.useCallback)(((e,t)=>{let{sensor:n,options:r}=t;if(null==O.current)return;const o=k.get(O.current);if(!o)return;const i=e.nativeEvent,a=new n({active:O.current,activeNode:o,event:i,options:r,context:Q,onAbort(e){if(!k.get(e))return;const{onDragAbort:t}=R.current,n={id:e};null==t||t(n),v({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!k.get(e))return;const{onDragPending:o}=R.current,i={id:e,constraint:t,initialCoordinates:n,offset:r};null==o||o(i),v({type:"onDragPending",event:i})},onStart(e){const t=O.current;if(null==t)return;const n=k.get(t);if(!n)return;const{onDragStart:r}=R.current,o={activatorEvent:i,active:{id:t,data:n.data,rect:I}};(0,VA.unstable_batchedUpdates)((()=>{null==r||r(o),y(Uv.Initializing),g({type:yg.DragStart,initialCoordinates:e,active:t}),v({type:"onDragStart",event:o}),B(ve.current),T(i)}))},onMove(e){g({type:yg.DragMove,coordinates:e})},onEnd:s(yg.DragEnd),onCancel:s(yg.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=Q.current;let a=null;if(t&&o){const{cancelDrop:s}=R.current;a={activatorEvent:i,active:t,collisions:n,delta:o,over:r},e===yg.DragEnd&&"function"==typeof s&&await Promise.resolve(s(a))&&(e=yg.DragCancel)}O.current=null,(0,VA.unstable_batchedUpdates)((()=>{g({type:e}),y(Uv.Uninitialized),Ae(null),B(null),T(null),ve.current=null;const t=e===yg.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=R.current[t];null==e||e(a),v({type:t,event:a})}}))}}ve.current=a}),[k]),be=(0,e.useCallback)(((e,t)=>(n,r)=>{const o=n.nativeEvent,i=k.get(r);if(null!==O.current||!i||o.dndKit||o.defaultPrevented)return;const a={active:i};!0===e(n,t.options,a)&&(o.dndKit={capturedBy:t.sensor},O.current=r,we(n,t))}),[k,we]),ye=function(t,n){return(0,e.useMemo)((()=>t.reduce(((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:n(e.handler,t)})))]}),[])),[t,n])}(u,be);!function(t){(0,e.useEffect)((()=>{if(!qA)return;const e=t.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const t of e)null==t||t()}}),t.map((e=>{let{sensor:t}=e;return t})))}(u),JA((()=>{K&&b===Uv.Initializing&&y(Uv.Initialized)}),[K,b]),(0,e.useEffect)((()=>{const{onDragMove:e}=R.current,{active:t,activatorEvent:n,collisions:r,over:o}=Q.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:he.x,y:he.y},over:o};(0,VA.unstable_batchedUpdates)((()=>{null==e||e(i),v({type:"onDragMove",event:i})}))}),[he.x,he.y]),(0,e.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:o}=Q.current;if(!e||null==O.current||!t||!o)return;const{onDragOver:i}=R.current,a=r.get(pe),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:o.x,y:o.y},over:s};(0,VA.unstable_batchedUpdates)((()=>{Ae(s),null==i||i(l),v({type:"onDragOver",event:l})}))}),[pe]),JA((()=>{Q.current={activatorEvent:D,active:M,activeNode:V,collisionRect:de,collisions:fe,droppableRects:j,draggableNodes:k,draggingNode:J,draggingNodeRect:Z,droppableContainers:E,over:me,scrollableAncestors:oe,scrollAdjustedTranslate:he},I.current={initial:Z,translated:de}}),[M,V,fe,de,k,J,Z,j,E,me,oe,he]),function(t){let{acceleration:n,activator:r=wv.Pointer,canScroll:o,draggingRect:i,enabled:a,interval:s=5,order:l=bv.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:h,delta:d,threshold:f}=t;const p=function(e){let{delta:t,disabled:n}=e;const r=rg(t);return tg((e=>{if(n||!r||!e)return yv;const o=Math.sign(t.x-r.x),i=Math.sign(t.y-r.y);return{x:{[Kg.Backward]:e.x[Kg.Backward]||-1===o,[Kg.Forward]:e.x[Kg.Forward]||1===o},y:{[Kg.Backward]:e.y[Kg.Backward]||-1===i,[Kg.Forward]:e.y[Kg.Forward]||1===i}}}),[n,t,r])}({delta:d,disabled:!a}),[m,A]=function(){const t=(0,e.useRef)(null);return[(0,e.useCallback)(((e,n)=>{t.current=setInterval(e,n)}),[]),(0,e.useCallback)((()=>{null!==t.current&&(clearInterval(t.current),t.current=null)}),[])]}(),g=(0,e.useRef)({x:0,y:0}),v=(0,e.useRef)({x:0,y:0}),w=(0,e.useMemo)((()=>{switch(r){case wv.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case wv.DraggableRect:return i}}),[r,i,c]),b=(0,e.useRef)(null),y=(0,e.useCallback)((()=>{const e=b.current;if(!e)return;const t=g.current.x*v.current.x,n=g.current.y*v.current.y;e.scrollBy(t,n)}),[]),C=(0,e.useMemo)((()=>l===bv.TreeOrder?[...u].reverse():u),[l,u]);(0,e.useEffect)((()=>{if(a&&u.length&&w){for(const e of C){if(!1===(null==o?void 0:o(e)))continue;const t=u.indexOf(e),r=h[t];if(!r)continue;const{direction:i,speed:a}=Xg(e,r,w,n,f);for(const e of["x","y"])p[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0)return A(),b.current=e,m(y,s),g.current=a,void(v.current=i)}g.current={x:0,y:0},v.current={x:0,y:0},A()}else A()}),[n,y,o,A,a,s,JSON.stringify(w),JSON.stringify(p),m,u,C,h,JSON.stringify(f)])}({...U,delta:P,draggingRect:de,pointerCoordinates:se,scrollableAncestors:oe,scrollableAncestorRects:ie});const Ce=(0,e.useMemo)((()=>({active:M,activeNode:V,activeNodeRect:K,activatorEvent:D,collisions:fe,containerNodeRect:G,dragOverlay:X,draggableNodes:k,droppableContainers:E,droppableRects:j,over:me,measureDroppableContainers:W,scrollableAncestors:oe,scrollableAncestorRects:ie,measuringConfiguration:F,measuringScheduled:H,windowRect:re})),[M,V,K,D,fe,G,X,k,E,j,me,W,oe,ie,F,H,re]),xe=(0,e.useMemo)((()=>({activatorEvent:D,activators:ye,active:M,activeNodeRect:K,ariaDescribedById:{draggable:L},dispatch:g,draggableNodes:k,over:me,measureDroppableContainers:W})),[D,ye,M,K,g,L,k,me,W]);return e.createElement(gg.Provider,{value:w},e.createElement(_v.Provider,{value:xe},e.createElement(jv.Provider,{value:Ce},e.createElement(qv.Provider,{value:ge},c)),e.createElement(Vv,{disabled:!1===(null==s?void 0:s.restoreFocus)})),e.createElement(bg,{...s,hiddenTextDescribedById:L}))})),Kv=(0,e.createContext)(null),Gv="button";const Qv={timeout:25};function Yv(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Xv(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}function Jv(e){return null!==e&&e>=0}const Zv=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Yv(t,r,n),a=t[o],s=i[o];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},ew="Sortable",tw=e.createContext({activeIndex:-1,containerId:ew,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Zv,disabled:{draggable:!1,droppable:!1}});function nw(t){let{children:n,id:r,items:o,strategy:i=Zv,disabled:a=!1}=t;const{active:s,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:h}=(0,e.useContext)(jv),d=ig(ew,r),f=Boolean(null!==l.rect),p=(0,e.useMemo)((()=>o.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[o]),m=null!=s,A=s?p.indexOf(s.id):-1,g=u?p.indexOf(u.id):-1,v=(0,e.useRef)(p),w=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(p,v.current),b=-1!==g&&-1===A||w,y=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(a);JA((()=>{w&&m&&h(p)}),[w,p,m,h]),(0,e.useEffect)((()=>{v.current=p}),[p]);const C=(0,e.useMemo)((()=>({activeIndex:A,containerId:d,disabled:y,disableTransforms:b,items:p,overIndex:g,useDragOverlay:f,sortedRects:Xv(p,c),strategy:i})),[A,d,y.draggable,y.droppable,b,p,g,c,f,i]);return e.createElement(tw.Provider,{value:C},n)}const rw=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Yv(n,r,o).indexOf(t)},ow=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:l,transition:c}=e;return!(!c||!r||s!==i&&o===a||!n&&(a===o||t!==l))},iw={duration:200,easing:"ease"},aw="transform",sw=hg.Transition.toString({property:aw,duration:0,easing:"linear"}),lw={roleDescription:"sortable"};function cw(t){let{animateLayoutChanges:n=ow,attributes:r,disabled:o,data:i,getNewIndex:a=rw,id:s,strategy:l,resizeObserverConfig:c,transition:u=iw}=t;const{items:h,containerId:d,activeIndex:f,disabled:p,disableTransforms:m,sortedRects:A,overIndex:g,useDragOverlay:v,strategy:w}=(0,e.useContext)(tw),b=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(o,p),y=h.indexOf(s),C=(0,e.useMemo)((()=>({sortable:{containerId:d,index:y,items:h},...i})),[d,i,y,h]),x=(0,e.useMemo)((()=>h.slice(h.indexOf(s))),[h,s]),{rect:k,node:P,isOver:E,setNodeRef:S}=function(t){let{data:n,disabled:r=!1,id:o,resizeObserverConfig:i}=t;const a=ig("Droppable"),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=(0,e.useContext)(_v),h=(0,e.useRef)({disabled:r}),d=(0,e.useRef)(!1),f=(0,e.useRef)(null),p=(0,e.useRef)(null),{disabled:m,updateMeasurementsFor:A,timeout:g}={...Qv,...i},v=eg(null!=A?A:o),w=Ev({callback:(0,e.useCallback)((()=>{d.current?(null!=p.current&&clearTimeout(p.current),p.current=setTimeout((()=>{u(Array.isArray(v.current)?v.current:[v.current]),p.current=null}),g)):d.current=!0}),[g]),disabled:m||!s}),b=(0,e.useCallback)(((e,t)=>{w&&(t&&(w.unobserve(t),d.current=!1),e&&w.observe(e))}),[w]),[y,C]=ng(b),x=eg(n);return(0,e.useEffect)((()=>{w&&y.current&&(w.disconnect(),d.current=!1,w.observe(y.current))}),[y,w]),(0,e.useEffect)((()=>(l({type:yg.RegisterDroppable,element:{id:o,key:a,disabled:r,node:y,rect:f,data:x}}),()=>l({type:yg.UnregisterDroppable,key:a,id:o}))),[o]),(0,e.useEffect)((()=>{r!==h.current.disabled&&(l({type:yg.SetDroppableDisabled,id:o,key:a,disabled:r}),h.current.disabled=r)}),[o,a,r,l]),{active:s,rect:f,isOver:(null==c?void 0:c.id)===o,node:y,over:c,setNodeRef:C}}({id:s,data:C,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:x,...c}}),{active:I,activatorEvent:M,activeNodeRect:O,attributes:N,setNodeRef:B,listeners:D,isDragging:T,over:R,setActivatorNodeRef:L,transform:z}=function(t){let{id:n,data:r,disabled:o=!1,attributes:i}=t;const a=ig("Draggable"),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:h,draggableNodes:d,over:f}=(0,e.useContext)(_v),{role:p=Gv,roleDescription:m="draggable",tabIndex:A=0}=null!=i?i:{},g=(null==c?void 0:c.id)===n,v=(0,e.useContext)(g?qv:Kv),[w,b]=ng(),[y,C]=ng(),x=function(t,n){return(0,e.useMemo)((()=>t.reduce(((e,t)=>{let{eventName:r,handler:o}=t;return e[r]=e=>{o(e,n)},e}),{})),[t,n])}(s,n),k=eg(r);return JA((()=>(d.set(n,{id:n,key:a,node:w,activatorNode:y,data:k}),()=>{const e=d.get(n);e&&e.key===a&&d.delete(n)})),[d,n]),{active:c,activatorEvent:l,activeNodeRect:u,attributes:(0,e.useMemo)((()=>({role:p,tabIndex:A,"aria-disabled":o,"aria-pressed":!(!g||p!==Gv)||void 0,"aria-roledescription":m,"aria-describedby":h.draggable})),[o,p,A,g,m,h.draggable]),isDragging:g,listeners:o?void 0:x,node:w,over:f,setNodeRef:b,setActivatorNodeRef:C,transform:v}}({id:s,data:C,attributes:{...lw,...r},disabled:b.draggable}),F=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)((()=>e=>{n.forEach((t=>t(e)))}),n)}(S,B),_=Boolean(I),j=_&&!m&&Jv(f)&&Jv(g),W=!v&&T,H=W&&j?z:null,V=j?null!=H?H:(null!=l?l:w)({rects:A,activeNodeRect:O,activeIndex:f,overIndex:g,index:y}):null,q=Jv(f)&&Jv(g)?a({id:s,items:h,activeIndex:f,overIndex:g}):y,U=null==I?void 0:I.id,$=(0,e.useRef)({activeId:U,items:h,newIndex:q,containerId:d}),K=h!==$.current.items,G=n({active:I,containerId:d,isDragging:T,isSorting:_,id:s,index:y,items:h,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:u,wasDragging:null!=$.current.activeId}),Q=function(t){let{disabled:n,index:r,node:o,rect:i}=t;const[a,s]=(0,e.useState)(null),l=(0,e.useRef)(r);return JA((()=>{if(!n&&r!==l.current&&o.current){const e=i.current;if(e){const t=_g(o.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&s(n)}}r!==l.current&&(l.current=r)}),[n,r,o,i]),(0,e.useEffect)((()=>{a&&s(null)}),[a]),a}({disabled:!G,index:y,node:P,rect:k});return(0,e.useEffect)((()=>{_&&$.current.newIndex!==q&&($.current.newIndex=q),d!==$.current.containerId&&($.current.containerId=d),h!==$.current.items&&($.current.items=h)}),[_,q,d,h]),(0,e.useEffect)((()=>{if(U===$.current.activeId)return;if(null!=U&&null==$.current.activeId)return void($.current.activeId=U);const e=setTimeout((()=>{$.current.activeId=U}),50);return()=>clearTimeout(e)}),[U]),{active:I,activeIndex:f,attributes:N,data:C,rect:k,index:y,newIndex:q,items:h,isOver:E,isSorting:_,isDragging:T,listeners:D,node:P,overIndex:g,over:R,setNodeRef:F,setActivatorNodeRef:L,setDroppableNodeRef:S,setDraggableNodeRef:B,transform:null!=Q?Q:V,transition:Q||K&&$.current.newIndex===y?sw:W&&!cg(M)||!u?void 0:_||G?hg.Transition.toString({...u,property:aw}):void 0}}function uw(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const hw=[iv.Down,iv.Right,iv.Up,iv.Left],dw=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:a,scrollableAncestors:s}}=t;if(hw.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];i.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const i=o.get(n.id);if(i)switch(e.code){case iv.Down:r.top<i.top&&t.push(n);break;case iv.Up:r.top>i.top&&t.push(n);break;case iv.Left:r.left>i.left&&t.push(n);break;case iv.Right:r.left<i.left&&t.push(n)}}));const u=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Mg(t),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=Mg(r),a=o.reduce(((e,t,r)=>e+Eg(n[r],t)),0),s=Number((a/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:s}})}}return i.sort(Sg)})({active:n,collisionRect:r,droppableRects:o,droppableContainers:t,pointerCoordinates:null});let h=Og(u,"id");if(h===(null==a?void 0:a.id)&&u.length>1&&(h=u[1].id),null!=h){const e=i.get(n.id),t=i.get(h),a=t?o.get(t.id):null,u=null==t?void 0:t.node.current;if(u&&a&&e&&t){const n=Wg(u).some(((e,t)=>s[t]!==e)),o=fw(e,t),i=(c=t,!(!uw(l=e)||!uw(c))&&!!fw(l,c)&&l.data.current.sortable.index<c.data.current.sortable.index),h=n||!o?{x:0,y:0}:{x:i?r.width-a.width:0,y:i?r.height-a.height:0},d={x:a.left,y:a.top};return h.x&&h.y?d:lg(d,h)}}}var l,c};function fw(e,t){return!(!uw(e)||!uw(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}function pw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mw.apply(null,arguments)}var Aw=function(t){var n=t.id,r=t.file,o=t.isActive,i=t.isDirty,a=t.onTabChange,s=t.onContextMenu,l=t.handleCloseClick,c=cw({id:n,transition:{duration:150,easing:"cubic-bezier(0.25, 1, 0.5, 1)"}}),u=c.attributes,h=c.listeners,d=c.setNodeRef,f=c.transform,p=c.transition,m=c.isDragging;e.useEffect((function(){m&&console.log("[SortableTab] Drag started for:",r.path)}),[m,r.path]);var A={transform:hg.Transform.toString(f),transition:p,flexShrink:0,touchAction:"none",opacity:m?.5:1},g={paddingRight:i?"1.1rem":"1.6rem"};return e.createElement("div",mw({ref:d,style:A,tabIndex:0},u,h,{onClick:function(){console.log("[SortableTab] onClick triggered for file: ".concat(r.path)),a(r)},role:"tab","aria-selected":o,className:"sortable-tab"}),e.createElement("button",{key:r.path,style:g,className:"\n          flex-shrink-0 px-2 py-1 border-b-2 text-xs whitespace-nowrap transition-colors duration-150 ease-in-out group relative flex items-center focus:outline-none w-full h-full\n          ".concat(o?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent hover:border-surface-400 dark:hover:border-surface-500 text-surface-600 dark:text-surface-300 hover:text-surface-800 dark:hover:text-surface-100","\n        "),onContextMenu:function(e){return s(e,r)},title:r.path},e.createElement("span",{className:"truncate flex-grow text-left"},r.name),i&&e.createElement("span",{className:"ml-1 mr-0.5 w-1.5 h-1.5 rounded-full bg-warning-500 flex-shrink-0"}),e.createElement("button",{onClick:function(e){e.stopPropagation(),l(e,r)},onPointerDown:function(e){return e.stopPropagation()},className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-0.5 rounded-full text-surface-400 dark:text-surface-500 hover:bg-surface-200 dark:hover:bg-surface-700 hover:text-surface-700 dark:hover:text-surface-200 opacity-0 group-hover:opacity-100 transition-opacity duration-150 ease-in-out flex-shrink-0 focus:outline-none",title:"Close tab: ".concat(r.name)},e.createElement(ge,{size:12}))))};const gw=function(t){var n,r,o=t.currentFile,i=t.openFiles,a=t.onTabChange,s=t.onTabClose,u=t.onTabReorder,h=t.onToggleEditorVisibility,d=t.isPreviewVisible,f=(n=(0,e.useState)({visible:!1,x:0,y:0,file:null}),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return pw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pw(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],m=f[1],A=HA().showInfo,g=i,v=g.map((function(e){return e.path})),w=kg(xg(mv,{activationConstraint:{distance:3,tolerance:5,delay:0}}),xg(uv,{coordinateGetter:dw}));(0,e.useEffect)((function(){var e=function(){m({visible:!1,x:0,y:0,file:null})};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]);var b=function(e,t){e.preventDefault(),e.stopPropagation(),m({visible:!0,x:e.clientX,y:e.clientY,file:t})},y=function(e,t){e.stopPropagation(),s&&s(t)};return e.createElement($v,{sensors:w,collisionDetection:Bg,onDragEnd:function(e){var t=e.active,n=e.over;if(console.log("[EditorTabs] handleDragEnd",e),t.id!==n.id){var r=v.indexOf(t.id),o=v.indexOf(n.id);u&&u(r,o)}},modifiers:[]},e.createElement("div",{className:"editor-tabs min-w-0 flex-1 flex items-center gap-1 overflow-x-auto scrollbar-thin scrollbar-thumb-surface-400 dark:scrollbar-thumb-surface-600 pr-2 min-h-[38px] bg-surface-100 dark:bg-surface-800 border-b border-surface-300 dark:border-surface-700 relative z-5 shadow-sm pointer-events-auto dnd-tabs-container"},e.createElement(nw,{items:v,strategy:Zv},g.map((function(t){var n=o&&t.path===o.path,r=t.isDirty;return e.createElement(Aw,{key:t.path,id:t.path,file:t,isActive:n,isDirty:r,onTabChange:a,onContextMenu:b,handleCloseClick:y})}))),"function"==typeof h&&e.createElement("button",{title:d?"Hide Preview":"Show Preview",onClick:h,className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300 flex-shrink-0 ml-auto","aria-label":d?"Hide Preview":"Show Preview"},d?e.createElement(l,{size:16}):e.createElement(c,{size:16})),p.visible&&p.file&&e.createElement("div",{className:"fixed z-50 rounded-md shadow-lg bg-white dark:bg-surface-800 ring-1 ring-black ring-opacity-5 focus:outline-none",style:{left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),transform:"translate(-20px, -100%)"},onClick:function(e){return e.stopPropagation()}},e.createElement("div",{className:"py-1 px-1 flex flex-row gap-1"},e.createElement("button",{className:"px-3 py-1 text-xs text-left text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700 rounded focus:outline-none",onClick:function(){return e=p.file,s&&(g.filter((function(t){return t.path!==e.path})).forEach((function(e){return s(e)})),A("Closed other tabs")),void m({visible:!1,x:0,y:0,file:null});var e}},"Close Others"),e.createElement("button",{className:"px-3 py-1 text-xs text-left text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700 rounded focus:outline-none",onClick:function(){return function(e){if(s){var t=g.findIndex((function(t){return t.path===e.path}));t>=0&&(g.slice(t+1).forEach((function(e){return s(e)})),A("Closed tabs to the right"))}m({visible:!1,x:0,y:0,file:null})}(p.file)}},"Close to the Right"),e.createElement("button",{className:"px-3 py-1 text-xs text-left text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700 rounded focus:outline-none",onClick:function(){s&&(g.forEach((function(e){return s(e)})),A("Closed all tabs")),m({visible:!1,x:0,y:0,file:null})}},"Close All")))))};var vw=o("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]),ww=o("outline","loader-2","IconLoader2",[["path",{d:"M12 3a9 9 0 1 0 9 9",key:"svg-0"}]]);function bw(e){return bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bw(e)}function yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yw(Object(n),!0).forEach((function(t){xw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xw(e,t,n){return(t=function(e){var t=function(e){if("object"!=bw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=bw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kw(e){return function(e){if(Array.isArray(e))return Sw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ew(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ew(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ew(e,t){if(e){if("string"==typeof e)return Sw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sw(e,t):void 0}}function Sw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Iw=function(t){var n=t.files,r=t.folders,o=t.onFileSelect,i=Pw((0,e.useState)(""),2),a=i[0],s=i[1],l=Pw((0,e.useState)([]),2),c=l[0],u=l[1],h=Pw((0,e.useState)(!1),2),d=h[0],f=h[1],p=Pw((0,e.useState)(!1),2),m=p[0],A=p[1],g=Pw((0,e.useState)({includeFiles:!0,includeFolders:!0,searchContent:!1}),2),v=g[0],w=g[1],b=(0,e.useRef)(null),y=(0,e.useRef)(null),C=HA().showError;(0,e.useEffect)((function(){return b.current&&b.current.focus(),function(){y.current&&clearTimeout(y.current)}}),[]),(0,e.useEffect)((function(){y.current&&clearTimeout(y.current),a.trim()?(f(!0),y.current=setTimeout((function(){x(a,v)}),300)):u([])}),[a,v]);var x=function(t,o){try{var i=[],a=t.toLowerCase();if(o.includeFiles&&n&&n.length>0){var s=n.filter((function(e){return!!e.name.toLowerCase().includes(a)||!(!o.searchContent||!e.content)&&e.content.toLowerCase().includes(a)}));i.push.apply(i,kw(s.map((function(t){return Cw(Cw({},t),{},{type:"file",icon:e.createElement(pe,{size:16,className:"mr-2 text-secondary-500 dark:text-secondary-400"})})}))))}if(o.includeFolders&&r&&r.length>0){var l=r.filter((function(e){return e.name.toLowerCase().includes(a)}));i.push.apply(i,kw(l.map((function(t){return Cw(Cw({},t),{},{type:"folder",icon:e.createElement(Y,{size:16,className:"mr-2 text-primary-500 dark:text-primary-400"})})}))))}var c=i.sort((function(e,t){return e.type!==t.type?"folder"===e.type?-1:1:e.name.localeCompare(t.name)}));u(c)}catch(e){console.error("Error performing search:",e),C("An error occurred while searching")}finally{f(!1)}},k=function(e){w((function(t){return Cw(Cw({},t),{},xw({},e,!t[e]))}))};return e.createElement("div",{className:"file-search h-full flex flex-col"},e.createElement("div",{className:"search-header p-2 border-b border-surface-300 dark:border-surface-700"},e.createElement("div",{className:"flex items-center relative"},e.createElement("input",{ref:b,type:"text",value:a,onChange:function(e){return s(e.target.value)},placeholder:"Search files and folders...",className:"w-full p-2 pl-8 pr-8 text-sm border border-surface-300 dark:border-surface-600 rounded bg-white dark:bg-surface-700"}),e.createElement(Lf,{size:16,className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-surface-500 dark:text-surface-400"}),a&&e.createElement("button",{onClick:function(){s(""),u([]),b.current&&b.current.focus()},className:"absolute right-10 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-surface-200 dark:hover:bg-surface-600",title:"Clear search"},e.createElement(ge,{size:14,className:"text-surface-500 dark:text-surface-400"})),e.createElement("button",{onClick:function(){return A(!m)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-surface-200 dark:hover:bg-surface-600 ".concat(m?"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400":"text-surface-500 dark:text-surface-400"),title:"Search filters"},e.createElement(vw,{size:14}))),m&&e.createElement("div",{className:"filter-options mt-2 p-2 bg-surface-100 dark:bg-surface-800 rounded text-sm"},e.createElement("div",{className:"flex flex-wrap gap-3"},e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",checked:v.includeFiles,onChange:function(){return k("includeFiles")},className:"mr-1"}),"Files"),e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",checked:v.includeFolders,onChange:function(){return k("includeFolders")},className:"mr-1"}),"Folders"),e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",checked:v.searchContent,onChange:function(){return k("searchContent")},className:"mr-1"}),"Search in file content")))),e.createElement("div",{className:"search-results flex-grow overflow-auto p-2"},d?e.createElement("div",{className:"flex justify-center items-center py-4"},e.createElement(ww,{size:24,className:"animate-spin text-primary-500 dark:text-primary-400"})):a&&0===c.length?e.createElement("div",{className:"text-sm text-surface-600 dark:text-surface-400 italic text-center py-4"},"No results found"):e.createElement("ul",{className:"space-y-1"},c.map((function(t){return e.createElement("li",{key:"".concat(t.type,"-").concat(t.path),className:"py-1 px-2 hover:bg-surface-200 dark:hover:bg-surface-700 cursor-pointer rounded flex items-center",onClick:function(){return function(e){"file"===e.type&&o?o(e):"folder"===e.type&&console.log("Folder selected: ".concat(e.name))}(t)}},t.icon,e.createElement("span",{className:"text-sm truncate"},t.name),e.createElement("span",{className:"text-xs text-surface-500 dark:text-surface-400 ml-2 truncate"},$(t.path)))})))))};var Mw=function(t){var n=t.isOpen,r=t.onClose,o=t.title,i=t.children,a=t.footer,s=t.size,l=void 0===s?"md":s,c=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=function(e){"Escape"===e.key&&n&&r()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n,r]),(0,e.useEffect)((function(){return document.body.style.overflow=n?"hidden":"",function(){document.body.style.overflow=""}}),[n]),(0,e.useEffect)((function(){if(n&&c.current){var e=c.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(e.length>0){var t=e[0],r=e[e.length-1],o=function(e){"Tab"===e.key&&(e.shiftKey&&document.activeElement===t?(e.preventDefault(),r.focus()):e.shiftKey||document.activeElement!==r||(e.preventDefault(),t.focus()))};return t.focus(),c.current.addEventListener("keydown",o),function(){c.current&&c.current.removeEventListener("keydown",o)}}}}),[n]),n?e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},e.createElement("div",{ref:c,className:"bg-white dark:bg-surface-800 rounded-lg shadow-xl w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}[l]," mx-4"),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},e.createElement("div",{className:"flex items-center justify-between px-4 py-3 border-b border-surface-200 dark:border-surface-700"},e.createElement("h3",{id:"modal-title",className:"text-lg font-semibold text-surface-800 dark:text-surface-100"},o),e.createElement("button",{type:"button",className:"p-1 rounded-full text-surface-400 hover:text-surface-600 dark:text-surface-500 dark:hover:text-surface-300",onClick:r,"aria-label":"Close"},e.createElement("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),e.createElement("div",{className:"px-4 py-3"},i),a&&e.createElement("div",{className:"px-4 py-3 border-t border-surface-200 dark:border-surface-700 flex justify-end space-x-2"},a))):null};function Ow(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Bw=function(t){var n=t.isOpen,r=t.onClose,o=t.onSubmit,i=t.defaultName,a=void 0===i?"":i,l=Ow((0,e.useState)(""),2),c=l[0],u=l[1],h=Ow((0,e.useState)(""),2),d=h[0],f=h[1],p=(0,e.useRef)(null);return(0,e.useEffect)((function(){n&&(u(a),f(""),setTimeout((function(){p.current&&(p.current.focus(),p.current.select())}),100))}),[n,a]),e.createElement(Mw,{isOpen:n,onClose:r,title:"Save Project State",size:"sm",footer:e.createElement(e.Fragment,null,e.createElement("button",{type:"button",className:"px-4 py-2 border border-surface-300 dark:border-surface-600 rounded-md text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700",onClick:r},"Cancel"),e.createElement("button",{type:"submit",form:"save-state-form",className:"px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"},"Save State"))},e.createElement("form",{id:"save-state-form",onSubmit:function(e){e.preventDefault();var t=c.trim();t?(o(t),r()):f("State name cannot be empty.")},noValidate:!0},e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"state-name",className:"block text-sm font-medium text-surface-700 dark:text-surface-300 mb-1"},"State Name"),e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},e.createElement(s,{size:18,className:"text-surface-500 dark:text-surface-400"})),e.createElement("input",{ref:p,type:"text",id:"state-name",className:"w-full pl-10 pr-3 py-2 border ".concat(d?"border-error-500":"border-surface-300 dark:border-surface-600"," rounded-md bg-white dark:bg-surface-700 text-surface-900 dark:text-surface-100 focus:outline-none focus:ring-2 focus:ring-primary-500"),placeholder:"Enter a name for this state",value:c,onChange:function(e){return u(e.target.value)},required:!0})),d&&e.createElement("p",{className:"mt-1 text-xs text-error-500"},d))))};var Dw=o("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);function Tw(e){return Tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tw(e)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rw.apply(null,arguments)}function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lw(Object(n),!0).forEach((function(t){Fw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fw(e,t,n){return(t=function(e){var t=function(e){if("object"!=Tw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Tw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ww=function(t){var n=t.id,r=t.stateData,o=t.onLoadState,i=t.onContextMenu,a=t.handleRemoveClick,s=t.isSelected,l=t.isRenaming,c=(t.onRenameClick,t.onRenameSubmit),u=t.onRenameCancel,h=cw({id:n}),d=h.attributes,f=h.listeners,p=h.setNodeRef,m=h.transform,A=h.transition,g=_w((0,e.useState)(r.name),2),v=g[0],w=g[1],b=(0,e.useRef)(null),y={transform:hg.Transform.toString(m),transition:A,flexShrink:0};(0,e.useEffect)((function(){l&&w(r.name)}),[r.name,l]),(0,e.useEffect)((function(){l&&b.current&&setTimeout((function(){b.current.focus(),b.current.select()}),50)}),[l]);var C=function(e){e.preventDefault(),e.stopPropagation(),l&&b.current&&b.current.focus()},x=l?{}:zw(zw({},d),f);return e.createElement("div",Rw({ref:p,style:y},x,{className:l?"rename-active":""}),e.createElement("div",{key:r.name,onClick:l?C:function(e){return function(e){e.stopPropagation(),o(r.name)}(e)},onContextMenu:function(e){return i(e,r)},className:"flex-shrink-0 px-3 py-1.5 border-b-2 ".concat(s?"border-primary-500 dark:border-primary-400 text-primary-700 dark:text-primary-300":"border-transparent hover:border-surface-400 dark:hover:border-surface-500 text-surface-600 dark:text-surface-300 hover:text-surface-800 dark:hover:text-surface-100"," text-sm whitespace-nowrap transition-colors duration-150 ease-in-out group relative pr-7 focus:outline-none w-full h-full flex items-center ").concat(l?"pointer-events-auto":""),title:l?"Editing workspace name":"Load state: ".concat(r.name)},l?e.createElement("div",{className:"flex items-center w-full",onClick:C},e.createElement("input",{ref:b,type:"text",value:v,onChange:function(e){e.stopPropagation();var t=e.target.value;w(t),console.log("Input value changed to:",t)},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),c(r.name,v)):"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),u()):"Tab"===e.key&&(v&&""!==v.trim()&&v!==r.name?c(r.name,v):u())},className:"w-full bg-transparent border-b border-primary-400 outline-none focus:outline-none text-primary-700 dark:text-primary-300 mr-2 z-10",placeholder:"Workspace name",onClick:function(e){e.preventDefault(),e.stopPropagation()},onFocus:function(e){return e.target.select()},autoFocus:!0,spellCheck:!1,autoComplete:"off"}),e.createElement("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),v&&""!==v.trim()?c(r.name,v):u()},className:"p-1 text-primary-600 dark:text-primary-400 hover:bg-surface-200 dark:hover:bg-surface-700 rounded-full z-10",title:"Save new name",type:"button"},e.createElement(Dw,{size:14}))):e.createElement("span",{className:"truncate flex-grow text-left"},r.name),!l&&e.createElement("button",{onClick:function(e){e.stopPropagation(),a(e,r.name)},onPointerDown:function(e){return e.stopPropagation()},className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-0.5 rounded-full text-surface-400 dark:text-surface-500 hover:bg-surface-200 dark:hover:bg-surface-700 hover:text-surface-700 dark:hover:text-surface-200 opacity-0 group-hover:opacity-100 transition-opacity duration-150 ease-in-out focus:outline-none",title:"Remove state: ".concat(r.name)},e.createElement(ge,{size:12}))))};const Hw=function(t){var n=t.savedWorkspaceStates,r=t.onLoadState,o=t.onRemoveState,i=t.onStateReorder,a=t.activeNamedWorkspaceName,s=t.onRenameWorkspaceState,l=_w((0,e.useState)({visible:!1,x:0,y:0,stateData:null}),2),c=l[0],u=l[1],h=_w((0,e.useState)(null),2),d=h[0],f=h[1],p=(0,e.useMemo)((function(){return Object.values(n||{})}),[n]),m=(0,e.useMemo)((function(){return p.map((function(e){return e.name}))}),[p]),A=(0,e.useCallback)((function(){if(!d)return!1;var e=document.querySelector('.workspace-state-tabs input[type="text"]');if(e&&e.value&&""!==e.value.trim()){var t=e.value.trim();if(t!==d)return s(d,t),!0}return!1}),[d,s]);(0,e.useEffect)((function(){d&&!n[d]&&f(null)}),[n,d]),(0,e.useEffect)((function(){var e=function(){u({visible:!1,x:0,y:0,stateData:null}),d&&(A(),f(null))};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[d,A]);var g=function(e,t){e.preventDefault(),e.stopPropagation(),u({visible:!0,x:e.clientX,y:e.clientY,stateData:t})},v=function(e,t){o&&o(t)},w=function(e){f(e)},b=function(e,t){t&&""!==t.trim()&&e!==t?s?(f(null),s(e,t)):(console.error("[WorkspaceStateTabs] onRenameWorkspaceState prop is missing!"),f(null)):f(null)},y=function(){f(null)},C=function(e){d&&d!==e&&(A(),f(null)),d!==e&&(a!==e?r(e):f(e))},x=kg(xg(mv,{activationConstraint:{delay:150,tolerance:5}}),xg(uv,{coordinateGetter:dw}));return 0===p.length?e.createElement("div",{className:"workspace-state-tabs min-w-0 flex-1 flex items-center overflow-x-auto scrollbar-thin scrollbar-thumb-surface-400 dark:scrollbar-thumb-surface-600 pr-2 min-h-[38px]"},e.createElement("span",{className:"text-xs text-surface-500 dark:text-surface-400 italic px-2"},"No saved states")):e.createElement($v,{sensors:x,collisionDetection:Bg,onDragEnd:function(e){var t=e.active,n=e.over;if(t.id!==n.id){var r=m.indexOf(t.id),o=m.indexOf(n.id);i&&i(r,o),f(null)}}},e.createElement("div",{className:"workspace-state-tabs min-w-0 flex-1 flex items-center gap-1 overflow-x-auto scrollbar-thin scrollbar-thumb-surface-400 dark:scrollbar-thumb-surface-600 pr-2 min-h-[38px]"},e.createElement(nw,{items:m,strategy:Zv},p.map((function(t){return e.createElement(Ww,{key:"workspace-tab-".concat(t.name),id:t.name,stateData:t,onLoadState:C,onContextMenu:g,handleRemoveClick:v,isSelected:a===t.name,isRenaming:d===t.name,onRenameClick:w,onRenameSubmit:b,onRenameCancel:y})}))),c.visible&&c.stateData&&e.createElement("div",{className:"fixed z-50 rounded-md shadow-lg bg-white dark:bg-surface-800 ring-1 ring-black ring-opacity-5 focus:outline-none",style:{left:"".concat(c.x,"px"),top:"".concat(c.y,"px"),transform:"translate(-20px, -100%)"},onClick:function(e){return e.stopPropagation()}},e.createElement("div",{className:"py-1 px-1 flex flex-row gap-1"},e.createElement("button",{className:"px-3 py-1 text-xs text-left text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700 rounded focus:outline-none",onClick:function(){f(c.stateData.name),u({visible:!1,x:0,y:0,stateData:null})}},"Rename"),e.createElement("button",{className:"px-3 py-1 text-xs text-left text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700 rounded focus:outline-none",onClick:function(){return e=c.stateData,o&&p.filter((function(t){return t.name!==e.name})).forEach((function(e){return o(e.name)})),void u({visible:!1,x:0,y:0,stateData:null});var e}},"Close Others"),e.createElement("button",{className:"px-3 py-1 text-xs text-left text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700 rounded focus:outline-none",onClick:function(){o&&p.forEach((function(e){return o(e.name)})),u({visible:!1,x:0,y:0,stateData:null})}},"Close All")))))};function Vw(e){return Vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vw(e)}function qw(e){return function(e){if(Array.isArray(e))return eb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Zw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uw(Object(n),!0).forEach((function(t){Kw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kw(e,t,n){return(t=function(e){var t=function(e){if("object"!=Vw(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gw(){Gw=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new O(r||[]);return o(a,"_invoke",{value:E(e,n,s)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",m="completed",A={};function g(){}function v(){}function w(){}var b={};c(b,a,(function(){return this}));var y=Object.getPrototypeOf,C=y&&y(y(N([])));C&&C!==n&&r.call(C,a)&&(b=C);var x=w.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(o,i,a,s){var l=h(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Vw(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function E(t,n,r){var o=d;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=S(s,r);if(l){if(l===A)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=h(t,n,r);if("normal"===c.type){if(o=r.done?m:f,c.arg===A)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),A;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,A;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,A):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Vw(t)+" is not iterable")}return v.prototype=w,o(x,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:v,configurable:!0}),v.displayName=c(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(P.prototype),c(P.prototype,s,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),c(x,l,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),A}},t}function Qw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Zw(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Yw(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Xw(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Yw(i,r,o,a,s,"next",e)}function s(e){Yw(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Jw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Zw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zw(e,t){if(e){if("string"==typeof e)return eb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eb(e,t):void 0}}function eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tb(){console.log("[App] Component rendering");var t=(0,e.useRef)(null),r=((0,e.useRef)(null),(0,e.useRef)(null)),o=(0,e.useRef)(""),A=(0,e.useRef)(!1),g=(0,e.useRef)(null),v=(0,e.useRef)(!1),w=Jw((0,e.useState)(!0),2),b=w[0],y=w[1],C=Jw((0,e.useState)(!0),2),x=C[0],k=C[1],P=Jw((0,e.useState)(!1),2),E=P[0],S=P[1],I=Jw((0,e.useState)(window.innerWidth<768),2),M=I[0],O=I[1],N=Jw((0,e.useState)(!0),2),B=N[0],D=N[1],T=Jw((0,e.useState)(!1),2),R=T[0],L=T[1],z=Jw((0,e.useState)(!1),2),F=z[0],_=z[1],W=Jw((0,e.useState)(0),2),H=W[0],V=W[1],K=function(){var t=_A((0,e.useState)([]),2),n=t[0],r=t[1],o=_A((0,e.useState)([]),2),i=o[0],a=o[1],s=_A((0,e.useState)([]),2),l=s[0],c=s[1],u=_A((0,e.useState)(null),2),h=u[0],d=u[1],f=_A((0,e.useState)(""),2),p=f[0],m=f[1],A=_A((0,e.useState)(!1),2),g=A[0],v=A[1],w=_A((0,e.useState)(null),2),b=w[0],y=w[1],C=(0,e.useCallback)(FA(TA().mark((function e(){var t,o,i,s,l,u,h,d,f,p;return TA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),y(null),e.next=5,(0,BA.openFolder)();case 5:if((t=e.sent)&&0!==t.length){e.next=10;break}return console.log("Folder selection was cancelled or returned empty"),v(!1),e.abrupt("return",null);case 10:o=[],i=[],s=[],l=LA(t),e.prev=14,l.s();case 16:if((u=l.n()).done){e.next=32;break}if(h=u.value,!n.includes(h)){e.next=21;break}return console.log("Folder already added: ".concat(h)),e.abrupt("continue",30);case 21:return window.api&&window.api.registerImportedFolder&&window.api.registerImportedFolder(h),s.push(h),e.next=25,(0,BA.scanDirectory)(h);case 25:d=e.sent,f=(null==d?void 0:d.folders)||[],p=(null==d?void 0:d.files)||[],o=[].concat(RA(o),RA(f)),i=[].concat(RA(i),RA(p));case 30:e.next=16;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(14),l.e(e.t0);case 37:return e.prev=37,l.f(),e.finish(37);case 40:return s.length>0&&(r((function(e){return[].concat(RA(e),s)})),c((function(e){return[].concat(RA(e),RA(o))})),a((function(e){return[].concat(RA(e),RA(i))}))),e.abrupt("return",{folderPaths:s,folders:o,files:i});case 44:throw e.prev=44,e.t1=e.catch(0),y(e.t1.message||"Failed to open folder"),console.error("Error opening folder:",e.t1),e.t1;case 49:return e.prev=49,v(!1),e.finish(49);case 52:case"end":return e.stop()}}),e,null,[[0,44,49,52],[14,34,37,40]])}))),[n]),x=(0,e.useCallback)((function(){r([]),c([]),a([]),d(null),m("")}),[]),k=(0,e.useCallback)(function(){var e=FA(TA().mark((function e(t){var n;return TA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[useFiles] openFile called for: ".concat(null==t?void 0:t.path)),e.prev=1,v(!0),y(null),t&&t.path){e.next=9;break}return console.error("Invalid file object provided to openFile"),y("Invalid file object"),v(!1),e.abrupt("return");case 9:return e.next=11,(0,BA.readMarkdownFile)(t.path);case 11:n=e.sent,m(n||""),d(t),console.log("[useFiles] Successfully set content and currentFile for: ".concat(null==t?void 0:t.path)),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),y(e.t0.message||"Failed to open file"),console.error("Error opening file:",e.t0),m("");case 22:return e.prev=22,v(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,17,22,25]])})));return function(t){return e.apply(this,arguments)}}(),[]),P=(0,e.useCallback)(function(){var e=FA(TA().mark((function e(t){var n;return TA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,v(!0),y(null),n=t||"",e.next=8,(0,BA.saveMarkdownFile)(h.path,n);case 8:m(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),y(e.t0.message||"Failed to save file"),console.error("Error saving file:",e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[h]),E=(0,e.useCallback)((function(e){m(e||"")}),[]);return{directories:n,files:i,folders:l,currentFile:h,content:p,loading:g,error:b,openAndScanFolder:C,clearFolders:x,openFile:k,saveFile:P,updateContent:E,setFiles:a,setFolders:c,setCurrentFile:d}}(),G=K.files,Q=K.folders,Y=(K.directories,K.currentFile),X=K.content,J=K.loading,Z=K.error,ee=K.openAndScanFolder,te=K.openFile,ne=K.saveFile,re=K.clearFolders,oe=K.updateContent,ie=K.setFiles,ae=K.setFolders,se=K.setCurrentFile,le=HA(),ce=le.showSuccess,ue=le.showError,he=le.showInfo,de=(le.showWarning,EA()),pe=de.settings,me=(de.updateSetting,mt()),Ae=me.state,ge=me.dispatch,ve=me.setLoading,we=me.setUnsavedChanges,be=me.setSidebarTab,ye=me.addToHistory,Ce=me.addOpenFile,xe=me.removeOpenFile,ke=me.updateOpenFile,Pe=me.setFileDirty,Ee=me.clearOpenFiles,Se=me.reorderOpenFiles,Ie=(me.updatePreferences,me.setActiveRootFolders),Me=me.setActiveExpandedNodes,Oe=me.setItemOrder,Ne=me.updateItemOrderForParent,Be=me.removeFromItemOrder,De=me.addRootFolder,Te=me.removeRootFolder,Re=me.toggleExpandedNode,Le=me.setExplorerSort,ze=me.setActiveNamedWorkspace,Fe=me.clearActiveNamedWorkspace,_e=me.saveNamedWorkspace,je=me.removeNamedWorkspace,We=me.loadNamedWorkspace,He=me.clearPendingWorkspaceLoad,Ve=me.renameWorkspace,qe=me.reorderSavedWorkspaceStates,Ue=Ae.openFiles,$e=Ae.ui,Ke=$e.activeRootFolders,Ge=$e.activeExpandedNodes,Qe=$e.itemOrder,Ye=$e.preferences,Xe=Ye.explorerSortBy,Je=Ye.explorerSortDirection,Ze=(0,e.useRef)(!0),et=Jw((0,e.useState)(!1),2),tt=et[0],nt=et[1];(0,e.useEffect)((function(){y(pe.ui.sidebarVisible),k(pe.ui.previewVisible)}),[pe.ui.sidebarVisible,pe.ui.previewVisible]),(0,e.useEffect)((function(){Z&&ue("Error: ".concat(Z))}),[Z,ue]);var rt=function(e){try{ne(e),Y&&Pe(Y,!1)}catch(e){console.error("Failed to save file: ".concat(e.message))}},ot=function(e){console.log("[App] openFile called with:",e);try{var n=Ue.some((function(t){return t.path===e.path}));console.log("[App] openFile - isAlreadyOpen: ".concat(n)),n||(console.log("[App] openFile - adding file to openFiles state"),Ce(e)),console.log("[App] openFile - calling originalOpenFile"),te(e),console.log("[App] openFile - adding file to history"),ye(e),setTimeout((function(){t.current&&t.current.focus&&(console.log("[App] openFile - focusing editor"),t.current.focus())}),300)}catch(e){console.error("[App] Error in openFile: ".concat(e.message))}},it=function(){var e=Xw(Gw().mark((function e(){var t,n,r,o;return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[App] openAndScanFolder called"),e.prev=1,e.next=4,ee();case 4:if(t=e.sent,console.log("[App] originalOpenAndScanFolder result:",t),!(t&&t.folderPaths&&t.folderPaths.length>0)){e.next=31;break}console.log("[App] Folders selected:",t.folderPaths),t.folderPaths.forEach((function(e){var t=e.replace(/\\/g,"/");De(t),Ge[t]||Re(t)})),console.log("[App] Calling scanFolder for each added path..."),n=Qw(t.folderPaths),e.prev=11,n.s();case 13:if((r=n.n()).done){e.next=19;break}return o=r.value,e.next=17,at(o,!0);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:return console.log("[App] Finished calling scanFolder for all added paths."),e.abrupt("return",t);case 31:console.log("[App] No folders selected or dialog cancelled.");case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(1),console.error("[App] Error in openAndScanFolder: ".concat(e.t1.message));case 37:case"end":return e.stop()}}),e,null,[[1,34],[11,21,24,27]])})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=Xw(Gw().mark((function e(t){var r,o,i,a,s,l,c,u,h=arguments;return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.length>1&&void 0!==h[1]&&h[1],console.log("[scanFolder] Called with path: ".concat(t,", addMode: ").concat(r)),e.prev=2,t){e.next=5;break}return e.abrupt("return");case 5:return ve({files:!0}),e.next=8,Promise.resolve().then(n.bind(n,249));case 8:return o=e.sent,i=o.scanDirectory,e.next=12,i(t);case 12:if(a=e.sent,console.log("[scanFolder] Scan result:",a),!a){e.next=27;break}return s=t.replace(/\\/g,"/"),console.log("[scanFolder] Normalized root path: ".concat(s)),l={path:s,name:q().basename(s),type:"folder"},console.log("[scanFolder] Created root folder object:",l),c=[],a.folders&&a.folders.length>0?(c.push(l),a.folders.forEach((function(e){if(e.path.startsWith(s))c.push(e);else{var t=q().basename(e.path),n="".concat(s,"/").concat(t);c.push($w($w({},e),{},{path:n,name:t}))}}))):c.push(l),u=[],a.files&&a.files.length>0&&a.files.forEach((function(e){if(e.path.startsWith(s))u.push(e);else{var t=q().basename(e.path),n="".concat(s,"/").concat(t);u.push($w($w({},e),{},{path:n,name:t}))}})),console.log("[scanFolder] Processed files:",u),console.log("[scanFolder] Processed folders (incl. root):",c),r?(console.log("[scanFolder] Entering addMode"),ie((function(e){console.log("[scanFolder] setFiles: Previous files count:",e.length);var t=u.filter((function(t){return!e.some((function(e){return e.path===t.path}))}));console.log("[scanFolder] setFiles: Adding unique files:",t);var n=[].concat(qw(e),qw(t));return console.log("[scanFolder] setFiles: New state count:",n.length),n})),ae((function(e){console.log("[scanFolder] setFolders: Previous folders count:",e.length);var t=c.filter((function(t){return t.path!==s&&!e.some((function(e){return e.path===t.path}))}));console.log("[scanFolder] setFolders: Adding root folder:",l),console.log("[scanFolder] setFolders: Adding unique subfolders:",t);var n=[].concat(qw(e),[l],qw(t));return console.log("[scanFolder] setFolders: New state count:",n.length),n}))):(console.log("[scanFolder] Entering replace/refresh mode"),ie((function(e){var t=e.filter((function(e){return!e.path.startsWith(s+"/")&&e.path!==s}));return[].concat(qw(t),u)})),ae((function(e){var t=e.filter((function(e){return!e.path.startsWith(s+"/")&&e.path!==s}));return[].concat(qw(t),c)}))),e.abrupt("return",$w($w({},a),{},{folders:c,files:u}));case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(2),console.error("[scanFolder] Error: ".concat(e.t0.message)),ue("Failed to scan folder: ".concat(e.t0.message));case 33:return e.prev=33,ve({files:!1}),console.log("[scanFolder] Finished."),e.finish(33);case 37:case"end":return e.stop()}}),e,null,[[2,29,33,37]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){if(pe.editor.autoSave){var e=setTimeout((function(){Y&&X&&rt(X)}),pe.editor.autoSaveInterval);return function(){return clearTimeout(e)}}}),[X,Y,pe.editor.autoSave,pe.editor.autoSaveInterval]);var st=function(e){var n,r,o,i,a,s,l,c,u,h,d,f,p,m,A,g,v,w,b,y,C,x;if(t.current)switch(e){case"heading":null===(n=(r=t.current).applyHeading)||void 0===n||n.call(r,2);break;case"bold":null===(o=(i=t.current).applyBold)||void 0===o||o.call(i);break;case"italic":null===(a=(s=t.current).applyItalic)||void 0===a||a.call(s);break;case"unordered-list":null===(l=(c=t.current).applyUnorderedList)||void 0===l||l.call(c);break;case"ordered-list":null===(u=(h=t.current).applyOrderedList)||void 0===u||u.call(h);break;case"link":null===(d=(f=t.current).applyLink)||void 0===d||d.call(f);break;case"image":null===(p=(m=t.current).applyImage)||void 0===p||p.call(m);break;case"code":null===(A=(g=t.current).applyCode)||void 0===A||A.call(g);break;case"code-block":null===(v=(w=t.current).applyCodeBlock)||void 0===v||v.call(w);break;case"blockquote":null===(b=(y=t.current).applyBlockquote)||void 0===b||b.call(y);break;case"table":null===(C=(x=t.current).applyTable)||void 0===C||C.call(x);break;default:console.warn("Unknown toolbar action: ".concat(e))}},lt=(0,e.useCallback)((function(){t.current&&t.current.undo()}),[]),ct=(0,e.useCallback)((function(){t.current&&t.current.redo()}),[]);(0,e.useEffect)((function(){var e=function(e){var t=function(t){var n,r,o="";(t.ctrlKey||t.metaKey)&&(o+="Ctrl+"),t.shiftKey&&(o+="Shift+"),t.altKey&&(o+="Alt+"),o=(o+=t.key.toUpperCase()).replace("Ctrl+ARROWUP","Ctrl+UP").replace("Ctrl+ARROWDOWN","Ctrl+DOWN").replace("Ctrl+ARROWLEFT","Ctrl+LEFT").replace("Ctrl+ARROWRIGHT","Ctrl+RIGHT").replace("Ctrl+=","Ctrl++").replace("Ctrl+ESCAPE","Ctrl+ESC");for(var i=0,a=Object.entries(Fm);i<a.length;i++){var s=(n=a[i],r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return zm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zm(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0];if(s[1]===o&&e[l]){t.preventDefault(),e[l](t);break}}};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}({OPEN_FILE:function(){return it()},SAVE_FILE:function(){Y&&rt(X)},BOLD:function(){return st("bold")},ITALIC:function(){return st("italic")},HEADING:function(){return st("heading")},LINK:function(){return st("link")},CODE:function(){return st("code")},LIST:function(){return st("unordered-list")},ORDERED_LIST:function(){return st("ordered-list")},TOGGLE_SIDEBAR:function(){return y((function(e){return!e}))},TOGGLE_PREVIEW:function(){return k((function(e){return!e}))},TOGGLE_SORT_DIRECTION:function(){Le(Xe,"asc"===Je?"desc":"asc")},UNDO:lt,REDO:ct});return e}),[X,Y,rt,it,Xe,Je,Le,lt,ct]),(0,e.useEffect)((function(){var e=function(){O(window.innerWidth<768),t.current&&r.current&&setTimeout((function(){t.current&&"function"==typeof t.current.refreshLayout&&t.current.refreshLayout(),r.current&&"function"==typeof r.current.refreshLayout&&r.current.refreshLayout()}),50)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,e.useEffect)((function(){y(!M&&pe.ui.sidebarVisible)}),[M,pe.ui.sidebarVisible]),(0,e.useEffect)((function(){A.current===J&&g.current===Y||(J&&Y&&(!J||A.current)||(ve("files",J),ve("content",J&&!!Y)),g.current=Y,A.current=J)}),[J,Y,ve]),(0,e.useEffect)((function(){if(!J)if(Y&&X){if(X!==o.current&&(we(!0),o.current=X,pe.editor.autoSave)){var e=setTimeout((function(){we(!1)}),pe.editor.autoSaveInterval+100);return function(){return clearTimeout(e)}}}else""!==o.current&&(we(!1),o.current="")}),[X,Y,J,pe.editor.autoSave,pe.editor.autoSaveInterval,we]);var ut=Ae.ui.preferences.selectedSidebarTab,ht=Jw((0,e.useState)(!1),2),dt=ht[0],ft=ht[1],pt=Jw((0,e.useState)(null),2),gt=pt[0],vt=pt[1],wt=(0,e.useRef)(null),bt=(0,e.useRef)(0),yt=(0,e.useRef)(0),Ct=(0,e.useRef)(!1);(0,e.useEffect)((function(){if(dt&&t.current&&r.current){var e="editor"===gt||bt.current>.02&&(!gt||bt.current>yt.current),n="preview"===gt||yt.current>.02&&(!gt||yt.current>bt.current);e&&bt.current>.02?setTimeout((function(){r.current&&r.current.scrollToPosition(bt.current)}),50):n&&yt.current>.02&&setTimeout((function(){t.current&&t.current.scrollToPosition(yt.current)}),50)}}),[dt]);var xt=function(e){e<.01&&yt.current>0||(yt.current=e,dt&&t.current&&"editor"!==gt&&(Ct.current=!0,vt("preview"),t.current.scrollToPosition(e),wt.current&&clearTimeout(wt.current),wt.current=setTimeout((function(){vt(null),Ct.current=!1}),250)))};(0,e.useEffect)((function(){return function(){wt.current&&clearTimeout(wt.current)}}),[]);var kt=Jw((0,e.useState)(100),2),Pt=kt[0],Et=kt[1],St=(0,e.useCallback)((function(){if(r.current){var e=r.current.zoomIn();Et(e)}}),[r]),It=(0,e.useCallback)((function(){if(r.current){var e=r.current.zoomOut();Et(e)}}),[r]),Mt=(0,e.useCallback)((function(){if(r.current){var e=r.current.resetZoom();Et(e)}}),[r]);(0,e.useEffect)((function(){var e=function(e){x&&((e.ctrlKey||e.metaKey)&&"="===e.key&&(e.preventDefault(),St()),(e.ctrlKey||e.metaKey)&&"-"===e.key&&(e.preventDefault(),It()),(e.ctrlKey||e.metaKey)&&"0"===e.key&&(e.preventDefault(),Mt()))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[x,St,It,Mt]);var Ot=Jw((0,e.useState)(null),2),Nt=(Ot[0],Ot[1],function(){var e=Xw(Gw().mark((function e(t,n,r){var o,i,a,s,l,c,u,h,d,f,p,m,A,g,v,w,b,y,C,x;return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[App] handleMoveItem",{sourceItems:t,targetNode:n,dropPosition:r}),t&&0!==t.length){e.next=4;break}return console.warn("[App] No source items provided for move operation"),e.abrupt("return");case 4:if(o=qw(G),i=qw(Q),a=$w({},Qe),s=Y,l=!0,c=[],u=$(t[0].path)||".",!("middle"!==r&&t.length>0&&t.every((function(e){return $(e.path)===u}))&&$(n.path)===u)){e.next=23;break}return console.log("[App] Multi-Reordering ".concat(t.length," items within ").concat(u)),ve({files:!0}),d=qw(a[h=u]||[]),-1===(f=d.indexOf(n.path))?(console.warn("[App] Multi-Reorder target node not found in order map. Appending."),p=t.map((function(e){return e.path})),(m=d.filter((function(e){return!p.includes(e)}))).push.apply(m,qw(p)),a[h]=m):(A=t.map((function(e){return e.path})),g=d.filter((function(e){return!A.includes(e)})),v=f,"bottom"===r&&-1!==(w=g.indexOf(n.path))&&(v=w+1),g.splice.apply(g,[v,0].concat(qw(A))),a[h]=g),Oe(a),ve({files:!1}),V((function(e){return e+1})),e.abrupt("return");case 23:ve({files:!0}),b="folder"===n.type&&"middle"===r?n:{path:$(n.path)||".",type:"folder"},console.log("[App] Move target folder: ".concat(b.path)),y=Qw(t),e.prev=27,x=Gw().mark((function e(){var t,n,r,u,h,d,f,p,m,A,g,v,w,y,x,k,P;return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.value,e.prev=1,n=t.path,r="folder"===t.type,u=U(n),h=q().join(b.path,u).replace(/\\\\/g,"/"),console.log("[App] Moving ".concat(r?"folder":"file",": ").concat(n," -> ").concat(h)),!(h===n||r&&h.startsWith(n+"/"))){e.next=12;break}return console.warn("[App] Attempted to move item ".concat(n," into itself or descendant. Skipping.")),c.push("Cannot move ".concat(u," into itself.")),l=!1,e.abrupt("return",1);case 12:for(d=!1,f=1,p=function(e){var t=e.toLowerCase();return o.some((function(e){return e.path.toLowerCase()===t}))||i.some((function(e){return e.path.toLowerCase()===t}))};p(h);)d=!0,m=getExtension(u),A=m?u.slice(0,-(m.length+1)):u,g="".concat(A," (").concat(f,")").concat(m?"."+m:""),h=q().join(b.path,g).replace(/\\\\/g,"/"),f++;return d&&console.log("[App] Target path exists, using: ".concat(h)),e.prev=18,e.next=21,window.api.moveItem(n,h,r);case 21:console.log("[App] Move successful: ".concat(n," -> ").concat(h)),r?((i=i.filter((function(e){return e.path!==n}))).push($w($w({},t),{},{path:h})),v=n+"/",i=i.map((function(e){return e.path.startsWith(v)?$w($w({},e),{},{path:h+"/"+e.path.substring(v.length)}):e})),o=o.map((function(e){if(e.path.startsWith(v)){var t=h+"/"+e.path.substring(v.length);return s&&e.path===s.path&&(s=$w($w({},s),{},{path:t})),$w($w({},e),{},{path:t})}return e})),(w=a[n])&&(a[h]=w,delete a[n]),y=$(n)||".",x=$(h)||".",y in a&&(a[y]=a[y].filter((function(e){return e!==n}))),x in a?a[x].includes(h)||a[x].push(h):a[x]=[h]):((o=o.filter((function(e){return e.path!==n}))).push($w($w({},t),{},{path:h})),s&&s.path===n&&(s=$w($w({},s),{},{path:h})),k=$(n)||".",P=$(h)||".",k in a&&(a[k]=a[k].filter((function(e){return e!==n}))),P in a?a[P].includes(h)||a[P].push(h):a[P]=[h]),e.next=30;break;case 25:e.prev=25,e.t0=e.catch(18),console.error("[App] Error moving ".concat(n," to ").concat(h,":"),e.t0),c.push("Failed to move ".concat(u,": ").concat(e.t0.message)),l=!1;case 30:e.next=37;break;case 32:e.prev=32,e.t1=e.catch(1),console.error("[App] Unexpected error in handleMoveItem:",e.t1),c.push("Error: ".concat(e.t1.message)),l=!1;case 37:case"end":return e.stop()}}),e,null,[[1,32],[18,25]])})),y.s();case 30:if((C=y.n()).done){e.next=36;break}return e.delegateYield(x(),"t0",32);case 32:if(!e.t0){e.next=34;break}return e.abrupt("continue",34);case 34:e.next=30;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(27),y.e(e.t1);case 41:return e.prev=41,y.f(),e.finish(41);case 44:ie(o),ae(i),Oe(a),V((function(e){return e+1})),Y&&s&&Y.path!==s.path&&se(s),ve({files:!1}),t.length>1?l?ce("Successfully moved ".concat(t.length," items.")):(ue("Some items could not be moved. Check console for details."),console.error("[App] Move errors:",c)):l||ue(c[0]||"Failed to move item.");case 51:case"end":return e.stop()}}),e,null,[[27,38,41,44]])})));return function(t,n,r){return e.apply(this,arguments)}}()),Bt=function(){var e=Xw(Gw().mark((function e(t){var n,r,o,i,a,s,l,c,u,h;return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("[App] Creating new folder in: ".concat(t)),n=null,e.prev=2,r=0,o="New Folder",i=t||".",n=q().join(i,o),a=Q.filter((function(e){return($(e.path)||".")===i}));a.some((function(e){return e.name===o}));)r++,o="".concat("New Folder"," (").concat(r,")"),n=q().join(i,o);return console.log("[App] Attempting to create folder at: ".concat(n)),e.next=13,window.api.createFolder(n);case 13:if((s=e.sent)&&s.path){e.next=16;break}throw new Error("Folder creation API did not return a valid folder object.");case 16:return l=s.path.replace(/\\/g,"/"),c=$w($w({},s),{},{path:l,name:U(l),type:"folder"}),ae((function(e){return[].concat(qw(e),[c])})),ce("Created folder: ".concat(U(l))),u=$(l)||".",h=Qe[u]||[],Ne(u,[].concat(qw(h),[l])),Ne(l,[]),e.abrupt("return",l);case 27:return e.prev=27,e.t0=e.catch(2),console.error("[App] Error creating folder: ".concat(e.t0.message)),ue("Failed to create folder: ".concat(e.t0.message)),e.abrupt("return",null);case 32:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Xw(Gw().mark((function e(t){var n,r,o,i,a,s,l,c,u,h;return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("[App] Creating new file in: ".concat(t)),n=null,e.prev=2,r=0,o="".concat("Untitled").concat(".md"),i=t||".",n=q().join(i,o),a=G.filter((function(e){return($(e.path)||".")===i}));a.some((function(e){return e.name===o}));)r++,o="".concat("Untitled"," (").concat(r,")").concat(".md"),n=q().join(i,o);return e.next=13,window.api.createFile(n);case 13:if((s=e.sent)&&s.path){e.next=16;break}throw new Error("File creation API did not return a valid file object.");case 16:return l=s.path.replace(/\\/g,"/"),c=$w($w({},s),{},{path:l,name:U(l),type:"file"}),ie((function(e){return[].concat(qw(e),[c])})),ce("Created file: ".concat(U(l))),u=$(l)||".",h=Qe[u]||[],Ne(u,[].concat(qw(h),[l])),e.abrupt("return",l);case 26:return e.prev=26,e.t0=e.catch(2),console.error("[App] Error creating file: ".concat(e.t0.message)),ue("Failed to create file: ".concat(e.t0.message)),e.abrupt("return",null);case 31:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t){return e.apply(this,arguments)}}(),Tt=((0,e.useCallback)((function(e,t){Le(e,t)}),[Le]),Jw((0,e.useState)(!0),2)),Rt=Tt[0];Tt[1],(0,e.useEffect)((function(){var e=setTimeout((function(){window.dispatchEvent(new Event("resize"))}),10);return function(){return clearTimeout(e)}}),[B,x]);var Lt=function(){var e=Xw(Gw().mark((function e(t,n,r){var o,i,a,s,l,c,u,h,d,f,p;return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[App] Renaming item: ".concat(t," -> ").concat(n,", isDirectory: ").concat(r)),ve({files:!0}),e.prev=2,e.next=5,window.api.moveItem(t,n,r);case 5:if((o=e.sent)&&o.success){e.next=8;break}throw new Error((null==o?void 0:o.message)||"Unknown error during rename/move");case 8:if(i=U(n),a=$(t)||".",s=$(n)||".",r?ae((function(e){return e.map((function(e){return e.path===t?$w($w({},e),{},{path:n,name:i}):e}))})):ie((function(e){return e.map((function(e){return e.path===t?$w($w({},e),{},{path:n,name:i}):e}))})),r||(l=Ue.findIndex((function(e){return e.path===t})))>-1&&(ke(t,{path:n,name:i}),(null==Y?void 0:Y.path)===t&&se($w($w({},Ue[l]),{},{path:n,name:i}))),c=$w({},Qe||{}),a!==s?(c[a]&&(c[a]=c[a].filter((function(e){return e!==t})),0===c[a].length&&delete c[a]),c[s]=[].concat(qw(c[s]||[]),[n])):c[a]&&(c[a]=c[a].map((function(e){return e===t?n:e}))),r)for(d in u=Object.keys(c).filter((function(e){return e===t||e.startsWith(t+"/")})),h={},u.forEach((function(e){var r=e.substring(t.length),o=n+r;h[o]=(c[e]||[]).map((function(t){var n=t.substring(e.length);return o+n})),e!==o&&delete c[e]})),h)c[d]=h[d];Oe(c),Ke.includes(t)&&(Te(t),De(n)),f=$w({},Ge),p=!1,Object.keys(Ge).forEach((function(e){if(e===t)delete f[e],f[n]=!0,p=!0;else if(e.startsWith(t+"/")){delete f[e];var r=e.substring(t.length);f[n+r]=!0,p=!0}})),p&&Me(f),ce("Renamed to ".concat(i)),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(2),console.error("[App] Error renaming item: ".concat(e.t0.message)),ue("Failed to rename: ".concat(e.t0.message));case 29:return e.prev=29,ve({files:!1}),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[2,25,29,32]])})));return function(t,n,r){return e.apply(this,arguments)}}(),zt=function(){var e=Xw(Gw().mark((function e(t,n){var r,o,i,a,s,l,c,u,h,d,f,p;return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=U(t),o=n?"folder":"file",i=n?'Are you sure you want to remove the folder "'.concat(r,'" and its contents from the view? This will NOT delete files from your disk.'):'Are you sure you want to delete the file "'.concat(r,'"? This cannot be undone.'),window.confirm(i)){e.next=6;break}return e.abrupt("return");case 6:if(ve({files:!0}),e.prev=7,n){e.next=17;break}return e.next=11,window.api.deleteFile(t);case 11:if((a=e.sent)&&a.success){e.next=14;break}throw new Error((null==a?void 0:a.error)||"Unknown error deleting ".concat(o));case 14:ie((function(e){return e.filter((function(e){return e.path!==t}))})),e.next=21;break;case 17:s=t.endsWith("/")?t:t+"/",ae((function(e){return e.filter((function(e){return e.path!==t&&!e.path.startsWith(s)}))})),ie((function(e){return e.filter((function(e){return!e.path.startsWith(s)}))})),Ke.includes(t)&&Te(t);case 21:l=$(t)||".",Be(t,l,n),c=t+(n?"/":""),(u=Ue.filter((function(e){return n?e.path.startsWith(c):e.path===t}))).forEach((function(e){return xe(e)})),Y&&(n?Y.path.startsWith(c):Y.path===t)&&((h=Ue.filter((function(e){return!u.some((function(t){return t.path===e.path}))}))).length>0?(d=Ue.findIndex((function(e){return e.path===Y.path})),f=null,d>0&&h.find((function(e){var t;return e.path===(null===(t=Ue[d-1])||void 0===t?void 0:t.path)}))?f=Ue[d-1]:h.length>0&&(f=h[0]),f?te(f):(se(null),oe(""))):(se(null),oe(""))),p=n?"Removed folder from view: ".concat(r):"Deleted file: ".concat(r),ce(p),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(7),console.error("[App] Error ".concat(n?"removing":"deleting"," ").concat(o,": ").concat(e.t0.message)),ue("Failed to ".concat(n?"remove":"delete"," ").concat(o,": ").concat(e.t0.message));case 35:return e.prev=35,ve({files:!1}),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[7,31,35,38]])})));return function(t,n){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){if(!Ae.loading.files&&!tt&&(G.length>0||Q.length>0)){var e=Ae.ui.itemOrder||{};if(0===Object.keys(e).length||Object.values(e).every((function(e){return 0===e.length}))){console.log("[App itemOrder Effect] Context itemOrder is empty. Initializing based on current files/folders.");var t={},n=[].concat(qw(G),qw(Q)).reduce((function(e,t){var n=$(t.path)||".";return e[n]||(e[n]=[]),e[n].push(t),e}),{});for(var r in n){var o=n[r];o.sort((function(e,t){return"folder"===e.type&&"folder"!==t.type?-1:"folder"!==e.type&&"folder"===t.type?1:e.name.localeCompare(t.name)})),t[r]=o.map((function(e){return e.path}))}Oe(t)}nt(!0)}Ze.current=Ae.loading.files}),[Ae.loading.files,Ae.ui.itemOrder,tt,G,Q,Oe]);var Ft=(0,e.useMemo)((function(){return G}),[G]),_t=(0,e.useMemo)((function(){return Q}),[Q]),jt=(0,e.useCallback)((function(e){if(e.ctrlKey&&r.current){e.preventDefault();var t,n,o,i,a=null;null!==(a=e.deltaY<0?null===(t=(n=r.current).zoomIn)||void 0===t?void 0:t.call(n):null===(o=(i=r.current).zoomOut)||void 0===o?void 0:o.call(i))&&Et(a)}}),[r,Et]),Wt=Ae.savedWorkspaceStates,Ht=Ae.pendingWorkspaceLoad,Vt=Ae.activeNamedWorkspaceName;(0,e.useEffect)((function(){if(!v.current){v.current=!0;var e=function(){var e=Xw(Gw().mark((function e(t){var n,r,o;return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=31;break}console.log("[App Startup] Performing initial scan for restored folders:",t),ve({files:!0}),e.prev=3,n=Qw(t),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=13;break}return o=r.value,e.next=11,at(o,!0);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:console.log("[App Startup] Initial scan complete for AppState-restored folders."),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(3),console.error("[App Startup] Error during initial scan of AppState-restored folders:",e.t1),ue("Error during initial scan: ".concat(e.t1.message));case 28:return e.prev=28,ve({files:!1}),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[3,24,28,31],[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),t=function(){var t=Xw(Gw().mark((function t(){var n,r,o;return Gw().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Ae.ui.activeRootFolders&&Ae.ui.activeRootFolders.length>0)){t.next=7;break}return console.log("[App Startup] AppStateProvider restored session with root folders. Prioritizing this session:",Ae.ui.activeRootFolders),t.next=4,e(Ae.ui.activeRootFolders);case 4:Ae.currentFile&&Ae.currentFile.path?(console.log("[App Startup] AppStateProvider restored currentFile. Attempting to load its content directly:",Ae.currentFile),te(Ae.currentFile)):Ae.openFiles&&Ae.openFiles.length>0&&null!==(n=Ae.openFiles[0])&&void 0!==n&&n.path?(r=Ae.openFiles[0],console.log("[App Startup] No currentFile restored by AppState. Attempting to open first of restored openFiles:",r),te(r)):console.log("[App Startup] No currentFile or openFiles with paths restored by AppStateProvider to auto-open after folder scan."),t.next=9;break;case 7:(o=localStorage.getItem("lastActiveMdViewerWorkspaceName"))&&Wt&&Wt[o]?(console.log("[App Startup] No session folders from AppState. Found last active NAMED workspace: '".concat(o,"'. Attempting to load.")),We(Wt[o])):o?(console.log("[App Startup] Last active NAMED workspace '".concat(o,"' not found or invalid. Clearing from localStorage.")),localStorage.removeItem("lastActiveMdViewerWorkspaceName")):console.log("[App Startup] No active session from AppState or last named workspace found. Starting fresh or with empty state.");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[Ae.ui.activeRootFolders,Ae.currentFile,Ae.openFiles,Wt,We,at,ve,ue,te]),(0,e.useEffect)((function(){_(Ke.length>0)}),[Ke]);var qt=function(){var e=Xw(Gw().mark((function e(){return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[App] handleSaveProject called - opening dialog"),0!==Ke.length){e.next=4;break}return ue("Cannot save project state: No folder is open."),e.abrupt("return");case 4:L(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ut=function(e){if(console.log("[App] autoSaveWorkspace called for name: ".concat(e)),e)if(0!==Ae.ui.activeRootFolders.length){var t={name:e,timestamp:Date.now(),rootFolders:Ae.ui.activeRootFolders,expandedNodes:Ae.ui.activeExpandedNodes,openFiles:Ae.openFiles.map((function(e){return e.path})),itemOrder:Ae.ui.itemOrder,explorerSortBy:Ae.ui.preferences.explorerSortBy,explorerSortDirection:Ae.ui.preferences.explorerSortDirection,activeFilePath:null==Y?void 0:Y.path};console.log("[App] Auto-saving workspace state via context:",t);try{_e(e,t),he("Workspace '".concat(e,"' auto-saved."))}catch(t){console.error("[App] Failed to dispatch auto-save for workspace state '".concat(e,"':"),t),ue("Failed to auto-save workspace state '".concat(e,"'."))}}else console.warn("[App] autoSaveWorkspace: No active root folders to save. Aborting.");else console.warn("[App] autoSaveWorkspace called without a workspace name. Aborting.")};(0,e.useEffect)((function(){if(Ht){var e=function(){var e=Xw(Gw().mark((function e(){var t,n,r,o,i,a,s,l,c,u,h,d,f,p,m,A,g,v,w,b,y,C,x,k;return Gw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[App Load Effect] Starting load for pending workspace:",Ht.name),he("Loading workspace state '".concat(Ht.name,"'...")),ve(!0),e.prev=3,console.log("[App Load Effect] Clearing current workspace state..."),Ee(),re?re():(se(null),oe(""),ie([]),ae([]),console.warn("[App Load Effect] originalClearFolders was not available. Used individual setters.")),Ie([]),Me({}),Oe({}),Fe(),t=Ht.name,n=Ht.rootFolders,r=void 0===n?[]:n,o=Ht.expandedNodes,i=void 0===o?{}:o,a=Ht.openFiles,s=void 0===a?[]:a,l=Ht.itemOrder,c=void 0===l?{}:l,u=Ht.explorerSortBy,h=void 0===u?"name":u,d=Ht.explorerSortDirection,f=void 0===d?"asc":d,p=Ht.activeFilePath,m=void 0===p?null:p,console.log("[App Load Effect] Setting state for workspace: '".concat(t,"'. Folders: ").concat(r.length,", Files: ").concat(s.length,", ActiveFile: ").concat(m)),Ie(r),Me(i),Oe(c),Le(h,f),!(r.length>0)){e.next=53;break}console.log("[App Load Effect] Scanning folders for loaded state..."),A=[],g=Qw(r),e.prev=21,g.s();case 23:if((v=g.n()).done){e.next=38;break}return w=v.value,e.prev=25,e.next=28,at(w,!0);case 28:(b=e.sent)&&b.files&&(A=A.concat(b.files)),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(25),console.error("[App Load Effect] Error scanning folder ".concat(w,":"),e.t0),ue("Error scanning folder ".concat(w," while loading workspace."));case 36:e.next=23;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(21),g.e(e.t1);case 43:return e.prev=43,g.f(),e.finish(43);case 46:y=new Map,A.forEach((function(e){return y.set(e.path,e)})),C=Array.from(y.values()),console.log("[App Load Effect] Finished scanning all folders. Total unique files found:",C.length),s.length>0&&(console.log("[App Load Effect] Attempting to re-open files:",s),x=s.map((function(e){return C.find((function(t){return t.path===e}))})).filter(Boolean),console.log("[App Load Effect] Found file objects to re-open:",x),x.length>0?(x.forEach((function(e){return Ce(e)})),k=null,m&&(k=x.find((function(e){return e.path===m}))),!k&&x.length>0&&(k=x[0],console.log("[App Load Effect] Saved active file not found or not specified, falling back to first tab:",k)),k?(console.log("[App Load Effect] Setting current file to load content:",k),te(k)):(console.warn("[App Load Effect] No file found to make current after attempting to restore active/fallback."),se(null),oe(""))):console.warn("[App Load Effect] No valid file objects found to re-open from saved state.")),e.next=56;break;case 53:console.log("[App Load Effect] Loaded workspace has no root folders."),se(null),oe("");case 56:ce("Workspace state '".concat(t,"' loaded.")),ze(t);try{localStorage.setItem("lastActiveMdViewerWorkspaceName",t)}catch(e){console.error("[App Load Effect] Failed to save last active workspace name:",e)}e.next=72;break;case 61:e.prev=61,e.t2=e.catch(3),console.error("[App Load Effect] Error loading workspace state '".concat(null==Ht?void 0:Ht.name,"':"),e.t2),ue("Error loading workspace state '".concat(null==Ht?void 0:Ht.name,"': ").concat(e.t2.message)),re&&re(),Ee(),Ie([]),Me({}),Oe({}),Le("name","asc"),Fe();case 72:return e.prev=72,console.log("[App Load Effect] Clearing pending workspace load state."),He(),ve(!1),e.finish(72);case 77:case"end":return e.stop()}}),e,null,[[3,61,72,77],[21,40,43,46],[25,32]])})));return function(){return e.apply(this,arguments)}}();e()}}),[Ht,Ee,re,Ie,Me,Oe,Le,at,Ce,te,G,se,oe,ie,ae,He,ve,he,ce,ue,ze,Fe,We]);var $t,Kt,Gt=(0,e.useCallback)((function(e){Re(e)}),[Re]),Qt=(0,e.useCallback)((function(e,t){console.log("[App] handleStateReorder called: ".concat(e," -> ").concat(t));var n=Object.values(Ae.savedWorkspaceStates||{});if(e<0||e>=n.length||t<0||t>=n.length)console.warn("[App] handleStateReorder: Invalid indices. oldIndex: ".concat(e,", newIndex: ").concat(t,", states: ").concat(n.length));else{var r=Yv(n,e,t).reduce((function(e,t){return e[t.name]=t,e}),{});qe(r);try{localStorage.setItem("savedMdViewerWorkspaceStates",JSON.stringify(r))}catch(e){console.error("Failed to save reordered workspace states to localStorage:",e),ue("Failed to save the new state order.")}}}),[Ae.savedWorkspaceStates,qe,ue]),Yt=(0,e.useCallback)((function(e,t){console.log("[App] handleTabReorder called: ".concat(e," -> ").concat(t)),Se(e,t)}),[Se]),Xt=(0,e.useCallback)((function(e,t){if(console.log("[App] handleRenameWorkspaceState called: ".concat(e," -> ").concat(t)),Wt[e]&&t&&""!==t.trim()&&e!==t)if(Wt[t])ue('Cannot rename: A workspace named "'.concat(t,'" already exists.'));else{var n=$w({},Wt[e]),r=$w($w({},n),{},{name:t,timestamp:Date.now()});try{var o=Vt===e;Ve(e,t,r),o&&ze(t),ce('Workspace "'.concat(e,'" renamed to "').concat(t,'".'))}catch(e){console.error("[App] Error renaming workspace: ".concat(e.message)),ue("Failed to rename workspace: ".concat(e.message))}}else console.warn("[App] Rename aborted: Invalid names or old state not found.")}),[Wt,Vt,Ve,ze,ue,ce]);return e.createElement("div",{className:"app-container h-full flex flex-col bg-white dark:bg-surface-900 text-surface-900 dark:text-surface-100"},e.createElement("header",{className:"bg-surface-100 dark:bg-surface-800 text-surface-900 dark:text-surface-100 p-2 border-b border-surface-200 dark:border-surface-700",role:"banner"},e.createElement("div",{className:"w-full flex items-center justify-between gap-2 md:gap-4"}," ",e.createElement(Hw,{savedWorkspaceStates:Wt,activeNamedWorkspaceName:Vt,onLoadState:function(e){console.log("[App] triggerLoadWorkspaceState called for: '".concat(e,"'")),Vt&&Vt!==e&&(console.log("[App] Auto-saving current workspace '".concat(Vt,"' before switching to '").concat(e,"'.")),Ut(Vt));var t=Wt[e];if(!t)return ue('Workspace state "'.concat(e,'" not found.')),void console.error("[App] Could not find state data for name: ".concat(e));We(t)},onRemoveState:function(e){if(console.log("[App] handleRemoveWorkspaceState called for name: ".concat(e)),Wt[e]){if(window.confirm("Are you sure you want to remove the saved state '".concat(e,"'?")))try{je(e,!1),ce("Workspace state '".concat(e,"' removed."))}catch(t){console.error("Failed to dispatch remove workspace state '".concat(e,"':"),t),ue("Failed to remove workspace state '".concat(e,"'."))}}else console.warn("[App] Cannot remove state '".concat(e,"', it does not exist."))},onRenameWorkspaceState:Xt,onStateReorder:Qt}),e.createElement("div",{className:"flex-shrink-0 flex items-center justify-end space-x-2"},e.createElement(bm,null),e.createElement("button",{className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-600 dark:text-surface-300",onClick:function(){return S(!0)},title:"Settings"},e.createElement(i,{size:M?16:18}))))),e.createElement("main",{id:"main-content",className:"flex-grow flex flex-col overflow-hidden",role:"main"},e.createElement(j,{className:"flex-grow flex overflow-hidden",sizes:($t=pe.ui.sidebarWidth,Kt=100-$t,b||B||x?b||B?b||x?B||x?b?B?x?[$t,Kt/2,Kt/2]:[$t,100-$t,0]:[$t,0,100-$t]:[0,x?50:100,x?50:0]:[100,0,0]:[0,100,0]:[0,0,100]:[0,0,0]),minSize:[b?150:0,B?200:0,x?200:0],expandToMin:!0,gutterSize:5,gutterAlign:"center",snapOffset:30,dragInterval:1,direction:"horizontal",cursor:"col-resize",elementStyle:function(e,t,n){return{"flex-basis":"calc(".concat(t,"% - ").concat(2*n/3,"px)")}},gutterStyle:function(e,t){return{"flex-basis":"".concat(t,"px")}},onDragEnd:function(){window.dispatchEvent(new Event("resize"))}},e.createElement("aside",{className:"bg-surface-100 dark:bg-surface-800 border-r border-surface-300 dark:border-surface-700 overflow-hidden flex-shrink-0 flex flex-col ".concat(b?"":"hidden"),role:"complementary","aria-label":"Sidebar"},F&&e.createElement("div",{className:"flex-shrink-0 p-2 border-b border-surface-200 dark:border-surface-700"}," ",e.createElement("button",{onClick:Vt?function(){console.log("[App] handleClearWorkspace called."),Vt&&(console.log("[App] Auto-saving current workspace '".concat(Vt,"' before clearing.")),Ut(Vt)),Ee(),se(null),oe(""),re?re():(ie([]),ae([])),Ie([]),Me({}),Oe({}),Fe(),ge&&ge({type:"CLEAR_HISTORY"}),ce("Workspace cleared. Ready for a fresh start!"),_(!1)}:qt,className:"btn btn-primary flex items-center justify-center gap-2 w-full",title:Vt?"Clear Current Workspace (New Workspace)":"Save Current Project Workspace",disabled:J||!Vt&&(!F||0===Ke.length)},J&&!Vt?e.createElement(e.Fragment,null,e.createElement(Hm,{size:"sm",color:"white",className:"mr-1"}),!M&&"Saving..."):Vt?e.createElement(e.Fragment,null,e.createElement(a,{size:20,className:"mr-1"}),M?"New":"New Workspace"):e.createElement(e.Fragment,null,e.createElement(s,{size:20,className:"mr-1"}),M?"Save":"Save Workspace"))),e.createElement("div",{className:"flex-grow min-h-0 overflow-y-auto"}," ",e.createElement(Am,{activeTab:ut,onTabChange:function(e){be(e)}},e.createElement(Am.Pane,{id:"files"},e.createElement("div",{className:"flex flex-col h-full"}," ",e.createElement(Um,{isLoading:Ae.loading.files,message:"Loading files...",transparent:!0,preserveChildren:!0},Z&&e.createElement("div",{className:"p-4 text-sm text-error-500 bg-error-100 dark:bg-error-900/20 border-l-4 border-error-500 mb-2"},"Error: ",Z),Ae.fileHistory.length>0&&e.createElement("div",{className:"flex-shrink-0"},e.createElement(At,{onFileSelect:ot})),e.createElement("div",{className:"flex-grow min-h-0"}," ",e.createElement(fe,{files:Ft,folders:_t,currentFolders:Ke,currentFilePath:null==Y?void 0:Y.path,onFileSelect:ot,onDeleteItem:zt,onCreateFile:Dt,onCreateFolder:Bt,onMoveItemProp:Nt,onScanFolder:at,onRenameItem:Lt,itemOrder:Qe,expandedNodes:Ge,onFolderToggle:Gt,onAddFolderProp:it,itemOrderVersion:H}))))),e.createElement(Am.Pane,{id:"search"},e.createElement(Iw,{files:G,folders:Q,onFileSelect:ot}))))),e.createElement("div",{className:"editor-pane flex flex-col h-full overflow-auto ".concat(B?"":"hidden"),role:"region","aria-label":"Editor"},e.createElement("div",{className:"editor-tabs-container flex-shrink-0"}," ",e.createElement(gw,{currentFile:Y,openFiles:Ue,onTabChange:function(e){e.path!==(null==Y?void 0:Y.path)&&(console.log("[App] handleTabChange: Bypassing unsaved check, preparing to call originalOpenFile for ".concat(e.path)),te(e))},onTabClose:function(e){if((!e.isDirty||window.confirm("You have unsaved changes in ".concat(e.name,". Close anyway?")))&&(xe(e),Y&&e.path===Y.path)){var t=Ue.filter((function(t){return t.path!==e.path}));if(t.length>0){var n=Ue.findIndex((function(t){return t.path===e.path}));te(t[n>0?n-1:0])}else oe("")}},onNewTab:function(){console.log("Select a file from the explorer to open it")},onTabReorder:Yt,onToggleEditorVisibility:function(){k(!x)},isPreviewVisible:x})),e.createElement("div",{className:"toolbar-container flex-shrink-0"}," ",e.createElement(Wm,{onAction:st,onUndo:lt,onRedo:ct,onSearch:function(e,n){var r,o;t.current&&(null===(r=(o=t.current).handleSearch)||void 0===r||r.call(o,e,n))},onReplace:function(e,n,r){var o,i;t.current&&(null===(o=(i=t.current).handleReplace)||void 0===o||o.call(i,e,n,r))},onReplaceAll:function(e,n,r){var o,i;t.current&&(null===(o=(i=t.current).handleReplaceAll)||void 0===o||o.call(i,e,n,r))}})),e.createElement("div",{className:"editor-component-container flex-grow relative min-h-0 ".concat(Rt?"":"hidden")},Ae.loading.content&&!Ct.current&&e.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-white/70 dark:bg-surface-900/70 backdrop-blur-sm z-50 pointer-events-none"},e.createElement("div",{className:"pointer-events-none"},e.createElement(Hm,null),e.createElement("p",{className:"mt-4 text-surface-700 dark:text-surface-300 font-medium"},"Loading content..."))),e.createElement(Qf,{ref:t,content:X,onChange:function(e){oe(e),Y&&Pe(Y,!0)},onCursorChange:function(e){console.log("Cursor position:",e)},onScroll:function(e){e<.01&&bt.current>0||(bt.current=e,dt&&r.current&&"preview"!==gt&&(Ct.current=!0,vt("editor"),r.current.scrollToPosition(e),wt.current&&clearTimeout(wt.current),wt.current=setTimeout((function(){vt(null),Ct.current=!1}),250)))},inScrollSync:dt,scrollSource:gt,className:"w-full h-full absolute inset-0"}))),e.createElement("div",{className:"preview-pane flex flex-col h-full overflow-auto ".concat(x?"":"hidden"),role:"region","aria-label":"Preview"},e.createElement("div",{className:"preview-header flex justify-between items-center p-2 border-b border-surface-300 dark:border-surface-700 bg-surface-100 dark:bg-surface-800 flex-shrink-0 overflow-hidden"}," ",e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("button",{className:"p-1 text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600 rounded",onClick:function(){D(!B)},title:B?"Hide Editor":"Show Editor"},B?e.createElement(l,{size:16}):e.createElement(c,{size:16})),e.createElement("h3",{className:"text-sm font-medium flex-shrink-0"},"Preview")),e.createElement("div",{className:"flex items-center space-x-2 flex-shrink min-w-0"},e.createElement("div",{className:"flex items-center space-x-1 mr-2 flex-shrink-0"},e.createElement("button",{className:"p-1 text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600 rounded",onClick:It,title:"Zoom Out (Ctrl+-)"},e.createElement(u,{size:16})),e.createElement("span",{className:"text-xs text-surface-600 dark:text-surface-400 w-12 text-center"},Pt,"%"),e.createElement("button",{className:"p-1 text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600 rounded",onClick:St,title:"Zoom In (Ctrl++)"},e.createElement(h,{size:16})),e.createElement("button",{className:"p-1 text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600 rounded",onClick:Mt,title:"Reset Zoom (Ctrl+0)"},e.createElement(d,{size:16}))),e.createElement("button",{className:"p-1 text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600 rounded flex-shrink-0",onClick:function(){x?window.print():(k(!0),setTimeout((function(){window.print()}),500))},title:"Print Preview"},e.createElement(f,{size:16})),e.createElement("button",{className:"p-1 rounded flex-shrink-0 ".concat(dt?"text-primary-600 dark:text-primary-400 bg-primary-100 dark:bg-primary-900":"text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600"),onClick:function(){try{if(!dt&&t.current&&r.current){var e,n,o=null===(e=(n=t.current).getScrollInfo)||void 0===e?void 0:e.call(n);o&&o.scrollPercentage>0&&(bt.current=o.scrollPercentage)}}catch(e){console.error("Error capturing scroll position:",e)}ft(!dt)},title:"".concat(dt?"Disable":"Enable"," Scroll Sync")},dt?e.createElement(p,{size:16}):e.createElement(m,{size:16})))),e.createElement("div",{className:"preview-component-container flex-grow relative min-h-0",onScroll:xt,onWheel:jt},e.createElement(Um,{isLoading:Ae.loading.content,message:"Generating preview...",transparent:!0,preserveChildren:!0},e.createElement(dm,{ref:r,content:X,onScroll:xt,inScrollSync:dt,scrollSource:gt,currentFilePath:null==Y?void 0:Y.path})))))),e.createElement("footer",{role:"contentinfo"},e.createElement(Pm,{currentFile:Y,content:X,isMobile:M,unsavedChanges:Ae.editor.unsavedChanges})),e.createElement(MA,{isOpen:E,onClose:function(){return S(!1)}}),e.createElement(Bw,{isOpen:R,onClose:function(){return L(!1)},onSubmit:function(e){if(console.log("[App] confirmSaveState called with name: ".concat(e)),e)if(0!==Ke.length){var t={name:e,timestamp:Date.now(),rootFolders:Ke,expandedNodes:Ge,openFiles:Ue.map((function(e){return e.path})),itemOrder:Qe,explorerSortBy:Xe,explorerSortDirection:Je,activeFilePath:null==Y?void 0:Y.path};console.log("[App] Saving workspace state via context:",t);try{_e(e,t),ce("Workspace state '".concat(e,"' saved!"))}catch(e){console.error("Failed to dispatch save workspace state:",e),ue("Failed to save project state.")}}else ue("Cannot save project state: Folder context lost.");else console.error("[App] confirmSaveState called without a name.")},defaultName:"Saved State - ".concat((new Date).toLocaleString())}))}const nb=function(){return e.createElement(pt,null,e.createElement(SA,null,e.createElement(NA,null,e.createElement(tb,null))))};var rb=n(72),ob=n.n(rb),ib=n(825),ab=n.n(ib),sb=n(659),lb=n.n(sb),cb=n(56),ub=n.n(cb),hb=n(159),db=n.n(hb),fb=n(113),pb=n.n(fb),mb=n(972),Ab={};Ab.styleTagTransform=pb(),Ab.setAttributes=ub(),Ab.insert=lb().bind(null,"head"),Ab.domAPI=ab(),Ab.insertStyleElement=db(),ob()(mb.A,Ab),mb.A&&mb.A.locals&&mb.A.locals;var gb=n(286),vb={};vb.styleTagTransform=pb(),vb.setAttributes=ub(),vb.insert=lb().bind(null,"head"),vb.domAPI=ab(),vb.insertStyleElement=db(),ob()(gb.A,vb),gb.A&&gb.A.locals&&gb.A.locals,"undefined"!=typeof window&&window.addEventListener("error",(function(e){console.error("Global error:",e.error)})),t.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(nb,null)))})()})();
//# sourceMappingURL=bundle.js.map