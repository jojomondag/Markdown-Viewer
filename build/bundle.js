/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,d="".concat(c," ").concat(u);i[c]=u+1;var h=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),c=0;c<i.length;c++){var u=n(i[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=l}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},159:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},221:(e,t,n)=>{"use strict";var r=n(540);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal"),l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"==typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,i="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},247:(e,t,n)=>{"use strict";var r=n(982),o=n(540),i=n(961);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),S=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var F=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case A:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case k:return"Suspense";case x:return"SuspenseList";case C:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case U:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return N(e(t))}catch(e){}}return null}var D=Array.isArray,B=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T={pending:!1,data:null,method:null,action:null},R=[],L=-1;function z(e){return{current:e}}function _(e){0>L||(e.current=R[L],R[L]=null,L--)}function j(e,t){L++,R[L]=e.current,e.current=t}var W=z(null),H=z(null),V=z(null),q=z(null);function $(e,t){switch(j(V,t),j(H,e),j(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_(W),j(W,e)}function K(){_(W),_(H),_(V)}function Y(e){null!==e.memoizedState&&j(q,e);var t=W.current,n=id(t,e.type);t!==n&&(j(H,e),j(W,n))}function G(e){H.current===e&&(_(W),_(H)),q.current===e&&(_(q),Yd._currentValue=T)}var Q=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,ae=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"==typeof le&&ce(e),de&&"function"==typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(e){}}var fe=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2,Ae=256,ge=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!=(r=s&~i)?o=ve(r):0!=(a&=s)?o=ve(a):n||0!=(n=s&~e)&&(o=ve(n)):0!=(s=r&~i)?o=ve(s):0!==a?o=ve(a):n||0!=(n=r&~e)&&(o=ve(n)),0===o?0:0===t||t===o||t&i||!((i=o&-o)>=(n=t&-t)||32===i&&4194048&n)?o:t}function ye(e,t){return!(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=Ae;return!(4194048&(Ae<<=1))&&(Ae=256),e}function ke(){var e=ge;return!(62914560&(ge<<=1))&&(ge=4194304),e}function xe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ue(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Fe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Me(){var e=P.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Oe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Oe,De="__reactProps$"+Oe,Be="__reactContainer$"+Oe,Pe="__reactEvents$"+Oe,Te="__reactListeners$"+Oe,Re="__reactHandles$"+Oe,Le="__reactResources$"+Oe,ze="__reactMarker$"+Oe;function _e(e){delete e[Ne],delete e[De],delete e[Pe],delete e[Te],delete e[Re]}function je(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Ne])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function We(e){if(e=e[Ne]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ve(e){var t=e[Le];return t||(t=e[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[ze]=!0}var $e=new Set,Ke={};function Ye(e,t){Ge(e,t),Ge(e+"Capture",t)}function Ge(e,t){for(Ke[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var Qe,Xe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(o=t,Q.call(et,o)||!Q.call(Ze,o)&&(Je.test(o)?et[o]=!0:(Ze[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Qe)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Xe=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Xe}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&"function"==typeof n.catch&&n.catch((function(){}))}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function At(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+ct(s):e.removeAttribute("name")}function gt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:o)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function yt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(D(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ut(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&xt(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&xt(e,i,t[i])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ft=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return Ft.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Dt=null;function Bt(e){var t=We(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(At(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[De]||null;if(!o)throw Error(a(90));At(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":yt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Pt=!1;function Tt(e,t,n){if(Pt)return e(t,n);Pt=!0;try{return e(t)}finally{if(Pt=!1,(null!==Nt||null!==Dt)&&(jc(),Nt&&(t=Nt,e=Dt,Dt=Nt=null,Bt(t),e)))for(t=0;t<e.length;t++)Bt(e[t])}}function Rt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[De]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Lt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),zt=!1;if(Lt)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){zt=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch(e){zt=!1}var jt=null,Wt=null,Ht=null;function Vt(){if(Ht)return Ht;var e,t,n=Wt,r=n.length,o="value"in jt?jt.value:jt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Ht=o.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Kt(){return!1}function Yt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?$t:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Gt,Qt,Xt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Yt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Yt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Gt=e.screenX-Xt.screenX,Qt=e.screenY-Xt.screenY):Qt=Gt=0,Xt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),rn=Yt(nn),on=Yt(h({},nn,{dataTransfer:0})),an=Yt(h({},en,{relatedTarget:0})),sn=Yt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Yt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Yt(h({},Jt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function pn(){return fn}var mn=Yt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=Yt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Yt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Yt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Yt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=Yt(h({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],En=Lt&&"CompositionEvent"in window,kn=null;Lt&&"documentMode"in document&&(kn=document.documentMode);var xn=Lt&&"TextEvent"in window&&!kn,Un=Lt&&(!En||kn&&8<kn&&11>=kn),Sn=String.fromCharCode(32),Cn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1,On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Dn(e,t,n,r){Nt?Dt?Dt.push(r):Dt=[r]:Nt=r,0<(t=Vu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bn=null,Pn=null;function Tn(e){Tu(e,0)}function Rn(e){if(ht(He(e)))return e}function Ln(e,t){if("change"===e)return t}var zn=!1;if(Lt){var _n;if(Lt){var jn="oninput"in document;if(!jn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),jn="function"==typeof Wn.oninput}_n=jn}else _n=!1;zn=_n&&(!document.documentMode||9<document.documentMode)}function Hn(){Bn&&(Bn.detachEvent("onpropertychange",Vn),Pn=Bn=null)}function Vn(e){if("value"===e.propertyName&&Rn(Pn)){var t=[];Dn(t,Pn,e,Ot(e)),Tt(Tn,t)}}function qn(e,t,n){"focusin"===e?(Hn(),Pn=n,(Bn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Hn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rn(Pn)}function Kn(e,t){if("click"===e)return Rn(t)}function Yn(e,t){if("input"===e||"change"===e)return Rn(t)}var Gn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Qn(e,t){if(Gn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Q.call(t,o)||!Gn(e[o],t[o]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Lt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||(r="selectionStart"in(r=rr)&&tr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Qn(ir,r)||(ir=r,0<(r=Vu(or,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Lt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=hr("animationend"),pr=hr("animationiteration"),mr=hr("animationstart"),Ar=hr("transitionrun"),gr=hr("transitionstart"),vr=hr("transitioncancel"),br=hr("transitionend"),yr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){yr.set(e,t),Ye(t,[e])}wr.push("scrollEnd");var kr=new WeakMap;function xr(e,t){if("object"==typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ur=[],Sr=0,Cr=0;function Fr(){for(var e=Sr,t=Cr=Sr=0;t<e;){var n=Ur[t];Ur[t++]=null;var r=Ur[t];Ur[t++]=null;var o=Ur[t];Ur[t++]=null;var i=Ur[t];if(Ur[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Nr(n,o,i)}}function Ir(e,t,n,r){Ur[Sr++]=e,Ur[Sr++]=t,Ur[Sr++]=n,Ur[Sr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Mr(e,t,n,r){return Ir(e,t,n,r),Dr(e)}function Or(e,t){return Ir(e,null,null,t),Dr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-fe(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Dr(e){if(50<Nc)throw Nc=0,Dc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Br={};function Pr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(e,t,n,r){return new Pr(e,t,n,r)}function Rr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lr(e,t){var n=e.alternate;return null===n?((n=Tr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _r(e,t,n,r,o,i){var s=0;if(r=e,"function"==typeof e)Rr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Tr(31,n,t,o)).elementType=C,e.lanes=i,e;case A:return jr(n.children,o,i,t);case g:s=8,o|=24;break;case v:return(e=Tr(12,n,t,2|o)).elementType=v,e.lanes=i,e;case k:return(e=Tr(13,n,t,o)).elementType=k,e.lanes=i,e;case x:return(e=Tr(19,n,t,o)).elementType=x,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case y:s=9;break e;case E:s=11;break e;case U:s=14;break e;case S:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Tr(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function jr(e,t,n,r){return(e=Tr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Tr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Tr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=[],qr=0,$r=null,Kr=0,Yr=[],Gr=0,Qr=null,Xr=1,Jr="";function Zr(e,t){Vr[qr++]=Kr,Vr[qr++]=$r,$r=e,Kr=t}function eo(e,t,n){Yr[Gr++]=Xr,Yr[Gr++]=Jr,Yr[Gr++]=Qr,Qr=e;var r=Xr;e=Jr;var o=32-fe(r)-1;r&=~(1<<o),n+=1;var i=32-fe(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Xr=1<<32-fe(t)+o|n<<o|r,Jr=i+e}else Xr=1<<i|n<<o|r,Jr=e}function to(e){null!==e.return&&(Zr(e,1),eo(e,1,0))}function no(e){for(;e===$r;)$r=Vr[--qr],Vr[qr]=null,Kr=Vr[--qr],Vr[qr]=null;for(;e===Qr;)Qr=Yr[--Gr],Yr[Gr]=null,Jr=Yr[--Gr],Yr[Gr]=null,Xr=Yr[--Gr],Yr[Gr]=null}var ro=null,oo=null,io=!1,ao=null,so=!1,lo=Error(a(519));function co(e){throw Ao(xr(Error(a(418,"")),e)),lo}function uo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[De]=r,n){case"dialog":Ru("cancel",t),Ru("close",t);break;case"iframe":case"object":case"embed":Ru("load",t);break;case"video":case"audio":for(n=0;n<Bu.length;n++)Ru(Bu[n],t);break;case"source":Ru("error",t);break;case"img":case"image":case"link":Ru("error",t),Ru("load",t);break;case"details":Ru("toggle",t);break;case"input":Ru("invalid",t),gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Ru("invalid",t);break;case"textarea":Ru("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Qu(t.textContent,n)?(null!=r.popover&&(Ru("beforetoggle",t),Ru("toggle",t)),null!=r.onScroll&&Ru("scroll",t),null!=r.onScrollEnd&&Ru("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||co(e)}function ho(e){for(ro=e.return;ro;)switch(ro.tag){case 5:case 13:return void(so=!1);case 27:case 3:return void(so=!0);default:ro=ro.return}}function fo(e){if(e!==ro)return!1;if(!io)return ho(e),io=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ad(e.type,e.memoizedProps)),t=!t),t&&oo&&co(e),ho(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=gd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,fd(e.type)?(e=vd,vd=null,oo=e):oo=n):oo=ro?gd(e.stateNode.nextSibling):null;return!0}function po(){oo=ro=null,io=!1}function mo(){var e=ao;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ao=null),e}function Ao(e){null===ao?ao=[e]:ao.push(e)}var go=z(null),vo=null,bo=null;function yo(e,t,n){j(go,t._currentValue),t._currentValue=n}function wo(e){e._currentValue=go.current,_(go)}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Eo(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),Eo(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function xo(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(524288&o.flags)i=!0;else if(262144&o.flags)break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=o.type;Gn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===q.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}o=o.return}null!==e&&ko(t,e,n,r),t.flags|=262144}function Uo(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function So(e){vo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Co(e){return Io(vo,e)}function Fo(e,t){return null===vo&&So(e),Io(e,t)}function Io(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bo){if(null===e)throw Error(a(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return n}var Mo="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Oo=r.unstable_scheduleCallback,No=r.unstable_NormalPriority,Do={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bo(){return{controller:new Mo,data:new Map,refCount:0}}function Po(e){e.refCount--,0===e.refCount&&Oo(No,(function(){e.controller.abort()}))}var To=null,Ro=0,Lo=0,zo=null;function _o(){if(0==--Ro&&null!==To){null!==zo&&(zo.status="fulfilled");var e=To;To=null,Lo=0,zo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var jo=B.S;B.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===To){var n=To=[];Ro=0,Lo=Iu(),zo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ro++,t.then(_o,_o)}(0,t),null!==jo&&jo(e,t)};var Wo=z(null);function Ho(){var e=Wo.current;return null!==e?e:rc.pooledCache}function Vo(e,t){j(Wo,null===t?Wo.current:t.pool)}function qo(){var e=Ho();return null===e?null:{parent:Do._currentValue,pool:e}}var $o=Error(a(460)),Ko=Error(a(474)),Yo=Error(a(542)),Go={then:function(){}};function Qo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xo(){}function Jo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xo,Xo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"==typeof t.status)t.then(Xo,Xo);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Zo=t,$o}}var Zo=null;function ei(){if(null===Zo)throw Error(a(459));var e=Zo;return Zo=null,e}function ti(e){if(e===$o||e===Yo)throw Error(a(483))}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ai(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&nc){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Dr(e),Nr(e,null,n),t}return Ir(e,r,t,n),Dr(e)}function si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ci=!1;function ui(){if(ci&&null!==zo)throw zo}function di(e,t,n,r){ci=!1;var o=e.updateQueue;ni=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(ic&f)===f:(r&f)===f){0!==f&&f===Lo&&(ci=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,A=s;f=t;var g=n;switch(A.tag){case 1:if("function"==typeof(m=A.payload)){d=m.call(g,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=A.payload)?m.call(g,d,f):m))break e;d=h({},d,f);break e;case 2:ni=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=o.callbacks)?o.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=d}}function hi(e,t){if("function"!=typeof e)throw Error(a(191,e));e.call(t)}function fi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hi(n[e],t)}var pi=z(null),mi=z(0);function Ai(e,t){j(mi,e=dc),j(pi,t),dc=e|t.baseLanes}function gi(){j(mi,dc),j(pi,pi.current)}function vi(){dc=mi.current,_(pi),_(mi)}var bi=0,yi=null,wi=null,Ei=null,ki=!1,xi=!1,Ui=!1,Si=0,Ci=0,Fi=null,Ii=0;function Mi(){throw Error(a(321))}function Oi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function Ni(e,t,n,r,o,i){return bi=i,yi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=null===e||null===e.memoizedState?$a:Ka,Ui=!1,i=n(r,o),Ui=!1,xi&&(i=Bi(t,n,r,o)),Di(e),i}function Di(e){B.H=qa;var t=null!==wi&&null!==wi.next;if(bi=0,Ei=wi=yi=null,ki=!1,Ci=0,Fi=null,t)throw Error(a(300));null===e||Cs||null!==(e=e.dependencies)&&Uo(e)&&(Cs=!0)}function Bi(e,t,n,r){yi=e;var o=0;do{if(xi&&(Fi=null),Ci=0,xi=!1,25<=o)throw Error(a(301));if(o+=1,Ei=wi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}B.H=Ya,i=t(n,r)}while(xi);return i}function Pi(){var e=B.H,t=e.useState()[0];return t="function"==typeof t.then?ji(t):t,e=e.useState()[0],(null!==wi?wi.memoizedState:null)!==e&&(yi.flags|=1024),t}function Ti(){var e=0!==Si;return Si=0,e}function Ri(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Li(e){if(ki){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ki=!1}bi=0,Ei=wi=yi=null,xi=!1,Ci=Si=0,Fi=null}function zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ei?yi.memoizedState=Ei=e:Ei=Ei.next=e,Ei}function _i(){if(null===wi){var e=yi.alternate;e=null!==e?e.memoizedState:null}else e=wi.next;var t=null===Ei?yi.memoizedState:Ei.next;if(null!==t)Ei=t,wi=e;else{if(null===e){if(null===yi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(wi=e).memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},null===Ei?yi.memoizedState=Ei=e:Ei=Ei.next=e}return Ei}function ji(e){var t=Ci;return Ci+=1,null===Fi&&(Fi=[]),e=Jo(Fi,e,t),t=yi,null===(null===Ei?t.memoizedState:Ei.next)&&(t=t.alternate,B.H=null===t||null===t.memoizedState?$a:Ka),e}function Wi(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ji(e);if(e.$$typeof===w)return Co(e)}throw Error(a(438,String(e)))}function Hi(e){var t=null,n=yi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=yi.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},yi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=F;return t.index++,n}function Vi(e,t){return"function"==typeof t?t(e):t}function qi(e){return $i(_i(),wi,e)}function $i(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=s=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(bi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Lo&&(d=!0);else{if((bi&f)===f){u=u.next,f===Lo&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,yi.lanes|=f,fc|=f}h=u.action,Ui&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=i):c=c.next=f,yi.lanes|=h,fc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Gn(i,e.memoizedState)&&(Cs=!0,d&&null!==(n=zo)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ki(e){var t=_i(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Gn(i,t.memoizedState)||(Cs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Yi(e,t,n){var r=yi,o=_i(),i=io;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Gn((wi||o).memoizedState,n);if(s&&(o.memoizedState=n,Cs=!0),o=o.queue,ga(2048,8,Xi.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==Ei&&1&Ei.memoizedState.tag){if(r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Qi.bind(null,r,o,n,t),null),null===rc)throw Error(a(349));i||124&bi||Gi(r,t,n)}return n}function Gi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=yi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},yi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qi(e,t,n,r){t.value=n,t.getSnapshot=r,Ji(t)&&Zi(e)}function Xi(e,t,n){return n((function(){Ji(t)&&Zi(e)}))}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(e){return!0}}function Zi(e){var t=Or(e,2);null!==t&&Tc(t,0,2)}function ea(e){var t=zi();if("function"==typeof e){var n=e;if(e=n(),Ui){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,$i(e,wi,"function"==typeof r?r:Vi)}function na(e,t,n,r,o){if(Wa(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==B.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ra(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ra(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=B.T,a={};B.T=a;try{var s=n(o,r),l=B.S;null!==l&&l(a,s),oa(e,t,s)}catch(n){aa(e,t,n)}finally{B.T=i}}else try{oa(e,t,i=n(o,r))}catch(n){aa(e,t,n)}}function oa(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then((function(n){ia(e,t,n)}),(function(n){return aa(e,t,n)})):ia(e,t,n)}function ia(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==r)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(io){var n=rc.formState;if(null!==n){e:{var r=yi;if(io){if(oo){t:{for(var o=oo,i=so;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=gd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){oo=gd(o.nextSibling),r="F!"===o.data;break e}}co(r)}r=!1}r&&(t=n[0])}}return(n=zi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=r,n=za.bind(null,yi,r),r.dispatch=n,r=ea(!1),i=ja.bind(null,yi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=zi()).queue=o,n=na.bind(null,yi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function ua(e){return da(_i(),wi,e)}function da(e,t,n){if(t=$i(e,t,la)[0],e=qi(Vi)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=ji(t)}catch(e){if(e===$o)throw Yo;throw e}else r=t;var o=(t=_i()).queue,i=o.dispatch;return n!==t.memoizedState&&(yi.flags|=2048,pa(9,{destroy:void 0,resource:void 0},ha.bind(null,o,n),null)),[r,i,e]}function ha(e,t){e.action=t}function fa(e){var t=_i(),n=wi;if(null!==n)return da(t,n,e);_i(),t=t.memoizedState;var r=(n=_i()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=yi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},yi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return _i().memoizedState}function Aa(e,t,n,r){var o=zi();r=void 0===r?null:r,yi.flags|=e,o.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var o=_i();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==wi&&null!==r&&Oi(r,wi.memoizedState.deps)?o.memoizedState=pa(t,i,n,r):(yi.flags|=e,o.memoizedState=pa(1|t,i,n,r))}function va(e,t){Aa(8390656,8,e,t)}function ba(e,t){ga(2048,8,e,t)}function ya(e,t){return ga(4,2,e,t)}function wa(e,t){return ga(4,4,e,t)}function Ea(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ka(e,t,n){n=null!=n?n.concat([e]):null,ga(4,4,Ea.bind(null,t,e),n)}function xa(){}function Ua(e,t){var n=_i();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Oi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sa(e,t){var n=_i();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Oi(t,r[1]))return r[0];if(r=e(),Ui){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ca(e,t,n){return void 0===n||1073741824&bi?e.memoizedState=t:(e.memoizedState=n,e=Pc(),yi.lanes|=e,fc|=e,n)}function Fa(e,t,n,r){return Gn(n,t)?n:null!==pi.current?(e=Ca(e,n,r),Gn(e,t)||(Cs=!0),e):42&bi?(e=Pc(),yi.lanes|=e,fc|=e,t):(Cs=!0,e.memoizedState=n)}function Ia(e,t,n,r,o){var i=P.p;P.p=0!==i&&8>i?i:8;var a,s,l,c=B.T,u={};B.T=u,ja(e,!1,t,n);try{var d=o(),h=B.S;null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?_a(e,t,(a=r,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},d.then((function(){l.status="fulfilled",l.value=a;for(var e=0;e<s.length;e++)(0,s[e])(a)}),(function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)})),l),Bc()):_a(e,t,r,Bc())}catch(n){_a(e,t,{then:function(){},status:"rejected",reason:n},Bc())}finally{P.p=i,B.T=c}}function Ma(){}function Oa(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=Na(e).queue;Ia(e,o,t,T,null===n?Ma:function(){return Da(e),n(r)})}function Na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:T},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Da(e){_a(e,Na(e).next.queue,{},Bc())}function Ba(){return Co(Yd)}function Pa(){return _i().memoizedState}function Ta(){return _i().memoizedState}function Ra(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Bc(),r=ai(t,e=ii(n),n);return null!==r&&(Tc(r,0,n),si(r,t,n)),t={cache:Bo()},void(e.payload=t)}t=t.return}}function La(e,t,n){var r=Bc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Wa(e)?Ha(t,n):null!==(n=Mr(e,t,n,r))&&(Tc(n,0,r),Va(n,t,r))}function za(e,t,n){_a(e,t,n,Bc())}function _a(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wa(e))Ha(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Gn(s,a))return Ir(e,t,o,0),null===rc&&Fr(),!1}catch(e){}if(null!==(n=Mr(e,t,o,r)))return Tc(n,0,r),Va(n,t,r),!0}return!1}function ja(e,t,n,r){if(r={lane:2,revertLane:Iu(),action:r,hasEagerState:!1,eagerState:null,next:null},Wa(e)){if(t)throw Error(a(479))}else null!==(t=Mr(e,n,r,2))&&Tc(t,0,2)}function Wa(e){var t=e.alternate;return e===yi||null!==t&&t===yi}function Ha(e,t){xi=ki=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Va(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var qa={readContext:Co,use:Wi,useCallback:Mi,useContext:Mi,useEffect:Mi,useImperativeHandle:Mi,useLayoutEffect:Mi,useInsertionEffect:Mi,useMemo:Mi,useReducer:Mi,useRef:Mi,useState:Mi,useDebugValue:Mi,useDeferredValue:Mi,useTransition:Mi,useSyncExternalStore:Mi,useId:Mi,useHostTransitionStatus:Mi,useFormState:Mi,useActionState:Mi,useOptimistic:Mi,useMemoCache:Mi,useCacheRefresh:Mi},$a={readContext:Co,use:Wi,useCallback:function(e,t){return zi().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:va,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Aa(4194308,4,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){Aa(4,2,e,t)},useMemo:function(e,t){var n=zi();t=void 0===t?null:t;var r=e();if(Ui){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zi();if(void 0!==n){var o=n(t);if(Ui){he(!0);try{n(t)}finally{he(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=La.bind(null,yi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zi().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=za.bind(null,yi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:xa,useDeferredValue:function(e,t){return Ca(zi(),e,t)},useTransition:function(){var e=ea(!1);return e=Ia.bind(null,yi,e.queue,!0,!1),zi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=yi,o=zi();if(io){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));124&ic||Gi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,va(Xi.bind(null,r,i,e),[e]),r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Qi.bind(null,r,i,n,t),null),n},useId:function(){var e=zi(),t=rc.identifierPrefix;if(io){var n=Jr;t="«"+t+"R"+(n=(Xr&~(1<<32-fe(Xr)-1)).toString(32)+n),0<(n=Si++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=Ii++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Ba,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=zi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ja.bind(null,yi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hi,useCacheRefresh:function(){return zi().memoizedState=Ra.bind(null,yi)}},Ka={readContext:Co,use:Wi,useCallback:Ua,useContext:Co,useEffect:ba,useImperativeHandle:ka,useInsertionEffect:ya,useLayoutEffect:wa,useMemo:Sa,useReducer:qi,useRef:ma,useState:function(){return qi(Vi)},useDebugValue:xa,useDeferredValue:function(e,t){return Fa(_i(),wi.memoizedState,e,t)},useTransition:function(){var e=qi(Vi)[0],t=_i().memoizedState;return["boolean"==typeof e?e:ji(e),t]},useSyncExternalStore:Yi,useId:Pa,useHostTransitionStatus:Ba,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(_i(),0,e,t)},useMemoCache:Hi,useCacheRefresh:Ta},Ya={readContext:Co,use:Wi,useCallback:Ua,useContext:Co,useEffect:ba,useImperativeHandle:ka,useInsertionEffect:ya,useLayoutEffect:wa,useMemo:Sa,useReducer:Ki,useRef:ma,useState:function(){return Ki(Vi)},useDebugValue:xa,useDeferredValue:function(e,t){var n=_i();return null===wi?Ca(n,e,t):Fa(n,wi.memoizedState,e,t)},useTransition:function(){var e=Ki(Vi)[0],t=_i().memoizedState;return["boolean"==typeof e?e:ji(e),t]},useSyncExternalStore:Yi,useId:Pa,useHostTransitionStatus:Ba,useFormState:fa,useActionState:fa,useOptimistic:function(e,t){var n=_i();return null!==wi?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hi,useCacheRefresh:Ta},Ga=null,Qa=0;function Xa(e){var t=Qa;return Qa+=1,null===Ga&&(Ga=[]),Jo(Ga,e,t)}function Ja(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Za(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Lr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===A?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===S&&es(i)===t.type)?(Ja(t=o(t,n.props),n),t.return=e,t):(Ja(t=_r(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=jr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return Ja(n=_r(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Hr(t,e.mode,n)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),n)}if(D(t)||M(t))return(t=jr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,Xa(t),n);if(t.$$typeof===w)return h(e,Fo(e,t),n);Za(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===o?c(e,t,n,r):null;case m:return n.key===o?u(e,t,n,r):null;case S:return f(e,t,n=(o=n._init)(n._payload),r)}if(D(n)||M(n))return null!==o?null:d(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,Xa(n),r);if(n.$$typeof===w)return f(e,t,Fo(e,n),r);Za(e,n)}return null}function g(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return g(e,t,n,r=(0,r._init)(r._payload),o)}if(D(r)||M(r))return d(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return g(e,t,n,Xa(r),o);if(r.$$typeof===w)return g(e,t,n,Fo(t,r),o);Za(t,r)}return null}function v(l,c,u,d){if("object"==typeof u&&null!==u&&u.type===A&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===A){if(7===c.tag){n(l,c.sibling),(d=o(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===S&&es(b)===c.type){n(l,c.sibling),Ja(d=o(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===A?((d=jr(u.props.children,l.mode,d,u.key)).return=l,l=d):(Ja(d=_r(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=o(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Hr(u,l.mode,d)).return=l,l=d}return s(l);case S:return v(l,c,u=(b=u._init)(u._payload),d)}if(D(u))return function(o,a,s,l){for(var c=null,u=null,d=a,p=a=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var A=f(o,d,s[p],l);if(null===A){null===d&&(d=m);break}e&&d&&null===A.alternate&&t(o,d),a=i(A,a,p),null===u?c=A:u.sibling=A,u=A,d=m}if(p===s.length)return n(o,d),io&&Zr(o,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(o,s[p],l))&&(a=i(d,a,p),null===u?c=d:u.sibling=d,u=d);return io&&Zr(o,p),c}for(d=r(d);p<s.length;p++)null!==(m=g(d,o,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),a=i(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(o,e)})),io&&Zr(o,p),c}(l,c,u,d);if(M(u)){if("function"!=typeof(b=M(u)))throw Error(a(150));return function(o,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=s,m=s=0,A=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(A=p,p=null):A=p.sibling;var b=f(o,p,v.value,c);if(null===b){null===p&&(p=A);break}e&&p&&null===b.alternate&&t(o,p),s=i(b,s,m),null===d?u=b:d.sibling=b,d=b,p=A}if(v.done)return n(o,p),io&&Zr(o,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=h(o,v.value,c))&&(s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return io&&Zr(o,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=g(p,o,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(o,e)})),io&&Zr(o,m),u}(l,c,u=b.call(u),d)}if("function"==typeof u.then)return v(l,c,Xa(u),d);if(u.$$typeof===w)return v(l,c,Fo(l,u),d);Za(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=o(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{Qa=0;var o=v(e,t,n,r);return Ga=null,o}catch(t){if(t===$o||t===Yo)throw t;var i=Tr(29,t,null,e.mode);return i.lanes=r,i.return=e,i}}}var ns=ts(!0),rs=ts(!1),os=z(null),is=null;function as(e){var t=e.alternate;j(us,1&us.current),j(os,e),null===is&&(null===t||null!==pi.current||null!==t.memoizedState)&&(is=e)}function ss(e){if(22===e.tag){if(j(us,us.current),j(os,e),null===is){var t=e.alternate;null!==t&&null!==t.memoizedState&&(is=e)}}else ls()}function ls(){j(us,us.current),j(os,os.current)}function cs(e){_(os),is===e&&(is=null),_(us)}var us=z(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||Ad(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bc(),o=ii(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=ai(e,o,r))&&(Tc(t,0,r),si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bc(),o=ii(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=ai(e,o,r))&&(Tc(t,0,r),si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bc(),r=ii(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ai(e,r,n))&&(Tc(t,0,n),si(t,e,n))}};function ps(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&Qn(n,r)&&Qn(o,i))}function ms(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function As(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=h({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var gs="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){gs(e)}function bs(e){console.error(e)}function ys(e){gs(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(e){setTimeout((function(){throw e}))}}function Es(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(e){setTimeout((function(){throw e}))}}function ks(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function xs(e){return(e=ii(e)).tag=3,e}function Us(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Es(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Es(t,n,r),"function"!=typeof o&&(null===xc?xc=new Set([this]):xc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ss=Error(a(461)),Cs=!1;function Fs(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Is(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return So(t),r=Ni(e,t,n,a,i,o),s=Ti(),null===e||Cs?(io&&s&&to(t),t.flags|=1,Fs(e,t,r,o),t.child):(Ri(e,t,o),Gs(e,t,o))}function Ms(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Rr(i)||void 0!==i.defaultProps||null!==n.compare?((e=_r(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Os(e,t,i,r,o))}if(i=e.child,!Qs(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(a,r)&&e.ref===t.ref)return Gs(e,t,o)}return t.flags|=1,(e=Lr(i,r)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Qn(i,r)&&e.ref===t.ref){if(Cs=!1,t.pendingProps=r=i,!Qs(e,o))return t.lanes=e.lanes,Gs(e,t,o);131072&e.flags&&(Cs=!0)}}return Ps(e,t,n,r,o)}function Ns(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==i?i.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ds(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ds(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vo(0,null!==i?i.cachePool:null),null!==i?Ai(t,i):gi(),ss(t)}else null!==i?(Vo(0,i.cachePool),Ai(t,i),ls(),t.memoizedState=null):(null!==e&&Vo(0,null),gi(),ls());return Fs(e,t,o,n),t.child}function Ds(e,t,n,r){var o=Ho();return o=null===o?null:{parent:Do._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Vo(0,null),gi(),ss(t),null!==e&&xo(e,t,r,!0),null}function Bs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ps(e,t,n,r,o){return So(t),n=Ni(e,t,n,r,void 0,o),r=Ti(),null===e||Cs?(io&&r&&to(t),t.flags|=1,Fs(e,t,n,o),t.child):(Ri(e,t,o),Gs(e,t,o))}function Ts(e,t,n,r,o,i){return So(t),t.updateQueue=null,n=Bi(t,r,n,o),Di(e),r=Ti(),null===e||Cs?(io&&r&&to(t),t.flags|=1,Fs(e,t,n,i),t.child):(Ri(e,t,i),Gs(e,t,i))}function Rs(e,t,n,r,o){if(So(t),null===t.stateNode){var i=Br,a=n.contextType;"object"==typeof a&&null!==a&&(i=Co(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ri(t),a=n.contextType,i.context="object"==typeof a&&null!==a?Co(a):Br,i.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(hs(t,n,a,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(a=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&fs.enqueueReplaceState(i,i.state,null),di(t,r,i,o),ui(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=As(n,s);i.props=l;var c=i.context,u=n.contextType;a=Br,"object"==typeof u&&null!==u&&(a=Co(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s||c!==a)&&ms(t,i,r,a),ni=!1;var h=t.memoizedState;i.state=h,di(t,r,i,o),ui(),c=t.memoizedState,s||h!==c||ni?("function"==typeof d&&(hs(t,n,d,r),c=t.memoizedState),(l=ni||ps(t,n,l,r,h,c,a))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,oi(e,t),u=As(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Br,"object"==typeof c&&null!==c&&(l=Co(c)),(c="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a!==d||h!==l)&&ms(t,i,r,l),ni=!1,h=t.memoizedState,i.state=h,di(t,r,i,o),ui();var f=t.memoizedState;a!==d||h!==f||ni||null!==e&&null!==e.dependencies&&Uo(e.dependencies)?("function"==typeof s&&(hs(t,n,s,r),f=t.memoizedState),(u=ni||ps(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Uo(e.dependencies))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Bs(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,o),t.child=ns(t,null,n,o)):Fs(e,t,n,o),t.memoizedState=i.state,e=t.child):e=Gs(e,t,o),e}function Ls(e,t,n,r){return po(),t.flags|=256,Fs(e,t,n,r),t.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _s(e){return{baseLanes:e,cachePool:qo()}}function js(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ac),e}function Ws(e,t,n){var r,o=t.pendingProps,i=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&us.current)),r&&(i=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(io){if(i?as(t):ls(),io){var l,c=oo;if(l=c){e:{for(l=c,c=so;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=gd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qr?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=Tr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ro=t,oo=null,l=!0):l=!1}l||co(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return Ad(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=o.children,o=o.fallback,i?(ls(),c=Vs({mode:"hidden",children:c},i=t.mode),o=jr(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=_s(n),i.childLanes=js(e,r,n),t.memoizedState=zs,o):(as(t),Hs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(as(t),t.flags&=-257,t=qs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),i=o.fallback,c=t.mode,o=Vs({mode:"visible",children:o.children},c),(i=jr(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,ns(t,e.child,null,n),(o=t.child).memoizedState=_s(n),o.childLanes=js(e,r,n),t.memoizedState=zs,t=i);else if(as(t),Ad(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(a(419))).stack="",o.digest=r,Ao({value:o,source:null,stack:null}),t=qs(e,t,n)}else if(Cs||xo(e,t,n,!1),r=!!(n&e.childLanes),Cs||r){if(null!==(r=rc)&&0!==(o=(o=42&(o=n&-n)?1:Fe(o))&(r.suspendedLanes|n)?0:o)&&o!==l.retryLane)throw l.retryLane=o,Or(e,o),Tc(r,0,o),Ss;"$?"===c.data||Kc(),t=qs(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oo=gd(c.nextSibling),ro=t,io=!0,ao=null,so=!1,null!==e&&(Yr[Gr++]=Xr,Yr[Gr++]=Jr,Yr[Gr++]=Qr,Xr=e.id,Jr=e.overflow,Qr=t),(t=Hs(t,o.children)).flags|=4096);return t}return i?(ls(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Lr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=Lr(u,i):(i=jr(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=_s(n):(null!==(l=c.cachePool)?(u=Do._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qo(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=js(e,r,n),t.memoizedState=zs,o):(as(t),e=(n=e.child).sibling,(n=Lr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Hs(e,t){return(t=Vs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vs(e,t){return(e=Tr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qs(e,t,n){return ns(t,e.child,null,n),(e=Hs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $s(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Ks(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ys(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Fs(e,t,r.children,n),2&(r=us.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n,t);else if(19===e.tag)$s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(j(us,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ks(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ds(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ks(t,!0,n,null,i);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,!(n&t.childLanes)){if(null===e)return null;if(xo(e,t,n,!1),!(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qs(e,t){return!!(e.lanes&t)||!(null===(e=e.dependencies)||!Uo(e))}function Xs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Cs=!0;else{if(!(Qs(e,n)||128&t.flags))return Cs=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),yo(0,Do,e.memoizedState.cache),po();break;case 27:case 5:Y(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:yo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(as(t),t.flags|=128,null):n&t.child.childLanes?Ws(e,t,n):(as(t),null!==(e=Gs(e,t,n))?e.sibling:null);as(t);break;case 19:var o=!!(128&e.flags);if((r=!!(n&t.childLanes))||(xo(e,t,n,!1),r=!!(n&t.childLanes)),o){if(r)return Ys(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),j(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n);case 24:yo(0,Do,e.memoizedState.cache)}return Gs(e,t,n)}(e,t,n);Cs=!!(131072&e.flags)}else Cs=!1,io&&1048576&t.flags&&eo(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((o=r.$$typeof)===E){t.tag=11,t=Is(null,t,r,e,n);break e}if(o===U){t.tag=14,t=Ms(null,t,r,e,n);break e}}throw t=N(r)||r,Error(a(306,t,""))}Rr(r)?(e=As(r,e),t.tag=1,t=Rs(null,t,r,e,n)):(t.tag=0,t=Ps(null,t,r,e,n))}return t;case 0:return Ps(e,t,t.type,t.pendingProps,n);case 1:return Rs(e,t,r=t.type,o=As(r,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,oi(e,t),di(t,r,null,n);var s=t.memoizedState;if(r=s.cache,yo(0,Do,r),r!==i.cache&&ko(t,[Do],n,!0),ui(),r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ls(e,t,r,n);break e}if(r!==o){Ao(o=xr(Error(a(424)),t)),t=Ls(e,t,r,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,oo=gd(e.firstChild),ro=t,io=!0,ao=null,so=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===o){t=Gs(e,t,n);break e}Fs(e,t,r,n)}t=t.child}return t;case 26:return Bs(e,t),null===e?(n=Fd(t.type,null,t.pendingProps,null))?t.memoizedState=n:io||(n=t.type,e=t.pendingProps,(r=rd(V.current).createElement(n))[Ne]=t,r[De]=e,ed(r,n,e),qe(r),t.stateNode=r):t.memoizedState=Fd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&io&&(r=t.stateNode=yd(t.type,t.pendingProps,V.current),ro=t,so=!0,o=oo,fd(t.type)?(vd=o,oo=gd(r.firstChild)):oo=o),Fs(e,t,t.pendingProps.children,n),Bs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&io&&((o=r=oo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=gd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,so))?(t.stateNode=r,ro=t,oo=gd(r.firstChild),so=!1,o=!0):o=!1),o||co(t)),Y(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,ad(o,i)?r=null:null!==s&&ad(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=Ni(e,t,Pi,null,null,n),Yd._currentValue=o),Bs(e,t),Fs(e,t,r,n),t.child;case 6:return null===e&&io&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gd(e.nextSibling)))return null}return e}(n,t.pendingProps,so))?(t.stateNode=n,ro=t,oo=null,e=!0):e=!1),e||co(t)),null;case 13:return Ws(e,t,n);case 4:return $(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Fs(e,t,r,n),t.child;case 11:return Is(e,t,t.type,t.pendingProps,n);case 7:return Fs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,yo(0,t.type,r.value),Fs(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,So(t),r=r(o=Co(o)),t.flags|=1,Fs(e,t,r,n),t.child;case 14:return Ms(e,t,t.type,t.pendingProps,n);case 15:return Os(e,t,t.type,t.pendingProps,n);case 19:return Ys(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Vs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Lr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ns(e,t,n);case 24:return So(t),r=Co(Do),null===e?(null===(o=Ho())&&(o=rc,i=Bo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},ri(t),yo(0,Do,o)):(!!(e.lanes&n)&&(oi(e,t),di(t,null,null,n),ui()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),yo(0,Do,r)):(r=i.cache,yo(0,Do,r),r!==o.cache&&ko(t,[Do],n,!0))),Fs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Js(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!jd(t)){if(null!==(t=os.current)&&((4194048&ic)===ic?null!==is:(62914560&ic)!==ic&&!(536870912&ic)||t!==is))throw Zo=Go,Ko;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,gc|=t)}function tl(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wo(Do),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fo(t)?Js(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,mo())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Js(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Js(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Js(t),nl(t),t.flags&=-16777217),null;case 27:G(t),n=V.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=W.current,fo(t)?uo(t):(e=yd(o,r,n),t.stateNode=e,Js(t))}return nl(t),null;case 5:if(G(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=W.current,fo(t))uo(t);else{switch(o=rd(V.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Ne]=t,e[De]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=V.current,fo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ro))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Qu(e.nodeValue,n)))||co(t)}else(e=rd(e).createTextNode(r))[Ne]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[Ne]=t}else po(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else o=mo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&_u(t.stateNode.containerInfo),nl(t),null;case 10:return wo(t.type),nl(t),null;case 19:if(_(us),null===(o=t.memoizedState))return nl(t),null;if(r=!!(128&t.flags),null===(i=o.rendering))if(r)tl(o,!1);else{if(0!==hc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=ds(e))){for(t.flags|=128,tl(o,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return j(us,1&us.current|2),t.child}e=e.sibling}null!==o.tail&&te()>Ec&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!io)return nl(t),null}else 2*te()-o.renderingStartTime>Ec&&536870912!==n&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=us.current,j(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),vi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&_(Wo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wo(Do),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ol(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wo(Do),K(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _(us),null;case 4:return K(),null;case 10:return wo(t.type),null;case 22:case 23:return cs(t),vi(),null!==e&&_(Wo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wo(Do),null;default:return null}}function il(e,t){switch(no(t),t.tag){case 3:wo(Do),K();break;case 26:case 27:case 5:G(t);break;case 4:K();break;case 13:cs(t);break;case 19:_(us);break;case 10:wo(t.type);break;case 22:case 23:cs(t),vi(),null!==e&&_(Wo);break;case 24:wo(Do)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(e){uu(t,t.return,e)}}function sl(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var l=n,c=s;try{c()}catch(e){uu(o,l,e)}}}r=r.next}while(r!==i)}}catch(e){uu(t,t.return,e)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fi(t,n)}catch(t){uu(e,e.return,t)}}}function cl(e,t,n){n.props=As(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){uu(e,t,n)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){uu(e,t,n)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(n){uu(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){uu(e,t,n)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){uu(e,e.return,t)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Ju(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":o=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==h&&Ju(e,t,f,p,r,h)}}return void At(e,s,l,c,u,d,i,o);case"select":for(i in p=s=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||Ju(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&Ju(e,t,o,i,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!=!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Ju(e,t,l,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&Ju(e,t,s,o,r,i)}return void yt(e,f,p);case"option":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&("selected"===m?e.selected=!1:Ju(e,t,m,null,r,f));for(c in r)f=r[c],p=n[c],!r.hasOwnProperty(c)||f===p||null==f&&null==p||("selected"===c?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:Ju(e,t,c,f,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)f=n[A],n.hasOwnProperty(A)&&null!=f&&!r.hasOwnProperty(A)&&Ju(e,t,A,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Ju(e,t,u,f,r,p)}return;default:if(St(t)){for(var g in n)f=n[g],n.hasOwnProperty(g)&&void 0!==f&&!r.hasOwnProperty(g)&&Zu(e,t,g,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Ju(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Ju(e,t,h,f,r,p)}(r,e.type,n,t),r[De]=t}catch(t){uu(e,e.return,t)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,r,n),t[Ne]=e,t[De]=n}catch(t){uu(e,e.return,t)}}var bl=!1,yl=!1,wl=!1,El="function"==typeof WeakSet?WeakSet:Set,kl=null;function xl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Rl(e,n),4&r&&al(5,n);break;case 1:if(Rl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){uu(n,n.return,e)}else{var o=As(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){uu(n,n.return,e)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Rl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fi(e,t)}catch(e){uu(n,n.return,e)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Rl(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Rl(e,n);break;case 13:Rl(e,n),4&r&&Ml(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||yl,o=bl;var i=yl;bl=r,(yl=t)&&!i?zl(e,n,!!(8772&n.subtreeFlags)):Rl(e,n),bl=o,yl=i}break;case 30:break;default:Rl(e,n)}}function Ul(e){var t=e.alternate;null!==t&&(e.alternate=null,Ul(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&_e(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Sl=null,Cl=!1;function Fl(e,t,n){for(n=n.child;null!==n;)Il(e,t,n),n=n.sibling}function Il(e,t,n){if(de&&"function"==typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(e){}switch(n.tag){case 26:yl||dl(n,t),Fl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:yl||dl(n,t);var r=Sl,o=Cl;fd(n.type)&&(Sl=n.stateNode,Cl=!1),Fl(e,t,n),wd(n.stateNode),Sl=r,Cl=o;break;case 5:yl||dl(n,t);case 6:if(r=Sl,o=Cl,Sl=null,Fl(e,t,n),Cl=o,null!==(Sl=r))if(Cl)try{(9===Sl.nodeType?Sl.body:"HTML"===Sl.nodeName?Sl.ownerDocument.body:Sl).removeChild(n.stateNode)}catch(e){uu(n,t,e)}else try{Sl.removeChild(n.stateNode)}catch(e){uu(n,t,e)}break;case 18:null!==Sl&&(Cl?(pd(9===(e=Sl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):pd(Sl,n.stateNode));break;case 4:r=Sl,o=Cl,Sl=n.stateNode.containerInfo,Cl=!0,Fl(e,t,n),Sl=r,Cl=o;break;case 0:case 11:case 14:case 15:yl||sl(2,n,t),yl||sl(4,n,t),Fl(e,t,n);break;case 1:yl||(dl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Fl(e,t,n);break;case 21:Fl(e,t,n);break;case 22:yl=(r=yl)||null!==n.memoizedState,Fl(e,t,n),yl=r;break;default:Fl(e,t,n)}}function Ml(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Ch(e)}catch(e){uu(t,t.return,e)}}function Ol(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new El),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new El),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Sl=l.stateNode,Cl=!1;break e}break;case 5:Sl=l.stateNode,Cl=!1;break e;case 3:case 4:Sl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Sl)throw Error(a(160));Il(i,s,o),Sl=null,Cl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Bl(t,e),t=t.sibling}var Dl=null;function Bl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Pl(e),4&r&&(sl(3,e,e.return),al(3,e),sl(5,e,e.return));break;case 1:Nl(t,e),Pl(e),512&r&&(yl||null===n||dl(n,n.return)),64&r&&bl&&null!==(e=e.updateQueue)&&null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r));break;case 26:var o=Dl;if(Nl(t,e),Pl(e),512&r&&(yl||null===n||dl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[ze]||i[Ne]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),ed(i,r,n),i[Ne]=e,qe(i),r=i;break e;case"link":var s=zd("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=zd("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[Ne]=e,qe(i),r=i}e.stateNode=r}else _d(o,e.type,e.stateNode);else e.stateNode=Bd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?_d(o,e.type,e.stateNode):Bd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Pl(e),512&r&&(yl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Pl(e),512&r&&(yl||null===n||dl(n,n.return)),32&e.flags){o=e.stateNode;try{Et(o,"")}catch(t){uu(e,e.return,t)}}4&r&&null!=e.stateNode&&fl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(wl=!0);break;case 6:if(Nl(t,e),Pl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){uu(e,e.return,t)}}break;case 3:if(Ld=null,o=Dl,Dl=xd(t.containerInfo),Nl(t,e),Dl=o,Pl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(t){uu(e,e.return,t)}wl&&(wl=!1,Tl(e));break;case 4:r=Dl,Dl=xd(e.stateNode.containerInfo),Nl(t,e),Pl(e),Dl=r;break;case 12:default:Nl(t,e),Pl(e);break;case 13:Nl(t,e),Pl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Ol(e,r));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=yl;if(bl=u||o,yl=d||c,Nl(t,e),yl=d,bl=u,Pl(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||bl||yl||Ll(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,o)"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(e){uu(c,c.return,e)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(e){uu(c,c.return,e)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&null!==(r=e.updateQueue)&&null!==(n=r.retryQueue)&&(r.retryQueue=null,Ol(e,n));break;case 19:Nl(t,e),Pl(e),4&r&&null!==(r=e.updateQueue)&&(e.updateQueue=null,Ol(e,r));case 30:case 21:}}function Pl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var o=n.stateNode;gl(e,ml(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(Et(i,""),n.flags&=-33),gl(e,ml(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;Al(e,ml(e),s);break;default:throw Error(a(161))}}catch(t){uu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Tl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Tl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Rl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)xl(e,t.alternate,t),t=t.sibling}function Ll(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Ll(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&cl(t,t.return,n),Ll(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Ll(t);break;case 22:null===t.memoizedState&&Ll(t);break;default:Ll(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:zl(o,i,n),al(4,i);break;case 1:if(zl(o,i,n),"function"==typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(e){uu(r,r.return,e)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)hi(l[o],s)}catch(e){uu(r,r.return,e)}}n&&64&a&&ll(i),ul(i,i.return);break;case 27:vl(i);case 26:case 5:zl(o,i,n),n&&null===r&&4&a&&hl(i),ul(i,i.return);break;case 12:zl(o,i,n);break;case 13:zl(o,i,n),n&&4&a&&Ml(o,i);break;case 22:null===i.memoizedState&&zl(o,i,n),ul(i,i.return);break;case 30:break;default:zl(o,i,n)}t=t.sibling}}function _l(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Po(n))}function jl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Po(e))}function Wl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Wl(e,t,n,r),2048&o&&al(9,t);break;case 1:case 13:default:Wl(e,t,n,r);break;case 3:Wl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Po(e)));break;case 12:if(2048&o){Wl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"==typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){uu(t,t.return,e)}}else Wl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Wl(e,t,n,r):ql(e,t):2&i._visibility?Wl(e,t,n,r):(i._visibility|=2,Vl(e,t,n,r,!!(10256&t.subtreeFlags))),2048&o&&_l(a,t);break;case 24:Wl(e,t,n,r),2048&o&&jl(t.alternate,t)}}function Vl(e,t,n,r,o){for(o=o&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Vl(i,a,s,l,o),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Vl(i,a,s,l,o):ql(i,a):(u._visibility|=2,Vl(i,a,s,l,o)),o&&2048&c&&_l(a.alternate,a);break;case 24:Vl(i,a,s,l,o),o&&2048&c&&jl(a.alternate,a);break;default:Vl(i,a,s,l,o)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:ql(n,r),2048&o&&_l(r.alternate,r);break;case 24:ql(n,r),2048&o&&jl(r.alternate,r);break;default:ql(n,r)}t=t.sibling}}var $l=8192;function Kl(e){if(e.subtreeFlags&$l)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Kl(e),e.flags&$l&&null!==e.memoizedState&&function(e,t,n){if(null===Wd)throw Error(a(475));var r=Wd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var o=Id(n.href),i=e.querySelector(Md(o));if(i)return null!==(e=i._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Vd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void qe(i);i=e.ownerDocument||e,n=Od(n),(o=Ed.get(o))&&Td(n,o),qe(i=i.createElement("link"));var s=i;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=Vd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Dl;Dl=xd(e.stateNode.containerInfo),Kl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=$l,$l=16777216,Kl(e),$l=t):Kl(e))}}function Gl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Gl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Ql(e)}}function Jl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,Zl(r,e)}Gl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Po(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var o=(r=kl).sibling,i=r.return;if(Ul(r),r===n){kl=null;break e}if(null!==o){o.return=i,kl=o;break e}kl=i}}}var ec={getCacheForType:function(e){var t=Co(Do),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"==typeof WeakMap?WeakMap:Map,nc=0,rc=null,oc=null,ic=0,ac=0,sc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,fc=0,pc=0,mc=0,Ac=0,gc=0,vc=null,bc=null,yc=!1,wc=0,Ec=1/0,kc=null,xc=null,Uc=0,Sc=null,Cc=null,Fc=0,Ic=0,Mc=null,Oc=null,Nc=0,Dc=null;function Bc(){return 2&nc&&0!==ic?ic&-ic:null!==B.T?0!==Lo?Lo:Iu():Me()}function Pc(){0===Ac&&(Ac=536870912&ic&&!io?536870912:Ee());var e=os.current;return null!==e&&(e.flags|=32),Ac}function Tc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Hc(e,0),_c(e,ic,Ac,!1)),Ue(e,n),2&nc&&e===rc||(e===rc&&(!(2&nc)&&(pc|=n),4===hc&&_c(e,ic,Ac,!1)),Eu(e))}function Rc(e,t,n){if(6&nc)throw Error(a(327));for(var r=!n&&!(124&t)&&!(t&e.expiredLanes)||ye(e,t),o=r?function(e,t){var n=nc;nc|=2;var r=qc(),o=$c();rc!==e||ic!==t?(kc=null,Ec=te()+500,Hc(e,t)):cc=ye(e,t);e:for(;;)try{if(0!==ac&&null!==oc){t=oc;var i=sc;t:switch(ac){case 1:ac=0,sc=null,Zc(e,t,i,1);break;case 2:case 9:if(Qo(i)){ac=0,sc=null,Jc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),Eu(e)},i.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Qo(i)?(ac=0,sc=null,Jc(t)):(ac=0,sc=null,Zc(e,t,i,7));break;case 5:var s=null;switch(oc.tag){case 26:s=oc.memoizedState;case 5:case 27:var l=oc;if(!s||jd(s)){ac=0,sc=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,eu(u)):oc=null}break t}}ac=0,sc=null,Zc(e,t,i,5);break;case 6:ac=0,sc=null,Zc(e,t,i,6);break;case 8:Wc(),hc=6;break e;default:throw Error(a(462))}}Qc();break}catch(t){Vc(e,t)}return bo=vo=null,B.H=r,B.A=o,nc=n,null!==oc?0:(rc=null,ic=0,Fr(),hc)}(e,t):Yc(e,t,!0),i=r;;){if(0===o){cc&&!r&&_c(e,t,0,!1);break}if(n=e.current.alternate,!i||zc(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!=(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,s).flags|=256),2!==(s=Yc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,o=4;break e}i=bc,bc=o,null!==i&&(null===bc?bc=i:bc.push.apply(bc,i))}o=s}if(i=!1,2!==o)continue}}if(1===o){Hc(e,0),_c(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:_c(r,t,Ac,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(o=wc+300-te())){if(_c(r,t,Ac,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Lc.bind(null,r,n,bc,kc,yc,t,Ac,pc,gc,lc,i,2,-0,0),o)}else Lc(r,n,bc,kc,yc,t,Ac,pc,gc,lc,i,0,-0,0)}break}o=Yc(e,t,!1),i=!1}Eu(e)}function Lc(e,t,n,r,o,i,s,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Wd={stylesheets:null,count:0,unsuspend:Hd},Yl(t),null!==(h=function(){if(null===Wd)throw Error(a(475));var e=Wd;return e.stylesheets&&0===e.count&&$d(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&$d(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,i,n,r,o,s,l,c,d,1,f,p)),void _c(e,i,s,!u);nu(e,t,i,n,r,o,s,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Gn(i(),o))return!1}catch(e){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _c(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-fe(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&Se(e,n,t)}function jc(){return!!(6&nc)||(ku(0,!1),!1)}function Wc(){if(null!==oc){if(0===ac)var e=oc.return;else bo=vo=null,Li(e=oc),Ga=null,Qa=0,e=oc;for(;null!==e;)il(e.alternate,e),e=e.return;oc=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc(),rc=e,oc=n=Lr(e.current,null),ic=t,ac=0,sc=null,lc=!1,cc=ye(e,t),uc=!1,gc=Ac=mc=pc=fc=hc=0,bc=vc=null,yc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-fe(r),i=1<<o;t|=e[o],r&=~i}return dc=t,Fr(),n}function Vc(e,t){yi=null,B.H=qa,t===$o||t===Yo?(t=ei(),ac=3):t===Ko?(t=ei(),ac=4):ac=t===Ss?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,sc=t,null===oc&&(hc=1,ws(e,xr(t,e.current)))}function qc(){var e=B.H;return B.H=qa,null===e?qa:e}function $c(){var e=B.A;return B.A=ec,e}function Kc(){hc=4,lc||(4194048&ic)!==ic&&null!==os.current||(cc=!0),!(134217727&fc)&&!(134217727&pc)||null===rc||_c(rc,ic,Ac,!1)}function Yc(e,t,n){var r=nc;nc|=2;var o=qc(),i=$c();rc===e&&ic===t||(kc=null,Hc(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==oc){var s=oc,l=sc;switch(ac){case 8:Wc(),a=6;break e;case 3:case 2:case 9:case 6:null===os.current&&(t=!0);var c=ac;if(ac=0,sc=null,Zc(e,s,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,sc=null,Zc(e,s,l,c)}}Gc(),a=hc;break}catch(t){Vc(e,t)}return t&&e.shellSuspendCounter++,bo=vo=null,nc=r,B.H=o,B.A=i,null===oc&&(rc=null,ic=0,Fr()),a}function Gc(){for(;null!==oc;)Xc(oc)}function Qc(){for(;null!==oc&&!Z();)Xc(oc)}function Xc(e){var t=Xs(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Jc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ts(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=Ts(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Li(t);default:il(n,t),t=Xs(n,t=oc=zr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):oc=t}function Zc(e,t,n,r){bo=vo=null,Li(t),Ga=null,Qa=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&xo(t,n,o,!0),null!==(n=os.current)){switch(n.tag){case 13:return null===is?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Go?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,o)),!1;case 22:return n.flags|=65536,r===Go?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,o)),!1}throw Error(a(435,n.tag))}return du(e,r,o),Kc(),!1}if(io)return null!==(t=os.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==lo&&Ao(xr(e=Error(a(422),{cause:r}),n))):(r!==lo&&Ao(xr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=xr(r,n),li(e,o=ks(e.stateNode,r,o)),4!==hc&&(hc=2)),!1;var i=Error(a(520),{cause:r});if(i=xr(i,n),null===vc?vc=[i]:vc.push(i),4!==hc&&(hc=2),null===t)return!0;r=xr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,li(n,e=ks(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==xc&&xc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Us(o=xs(o),e,n,r),li(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,ic))return hc=1,ws(e,xr(n,e.current)),void(oc=null)}catch(t){if(null!==o)throw oc=o,t;return hc=1,ws(e,xr(n,e.current)),void(oc=null)}32768&t.flags?(io||1===r?e=!0:cc||536870912&ic?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&null!==(r=os.current)&&13===r.tag&&(r.flags|=16384)),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(32768&t.flags)return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);hc=6,oc=null}function nu(e,t,n,r,o,i,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Uc);if(6&nc)throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Se(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Cr,s,l,c),e===rc&&(oc=rc=null,ic=0),Cc=t,Sc=e,Fc=n,Ic=i,Mc=o,Oc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,X(ie,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=B.T,B.T=null,o=P.p,P.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==i||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(l=s),f===i&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,1024&t.subtreeFlags&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(i=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=As(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){uu(n,n.return,e)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=s,P.p=o,B.T=r}}Uc=1,ru(),ou(),iu()}}function ru(){if(1===Uc){Uc=0;var e=Sc,t=Cc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=B.T,B.T=null;var r=P.p;P.p=2;var o=nc;nc|=4;try{Bl(t,e);var i=nd,a=er(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(a!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),A=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>A&&(a=A,A=m,m=a);var g=Jn(s,m),v=Jn(s,A);if(g&&v&&(1!==f.rangeCount||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(g.node,g.offset),f.removeAllRanges(),m>A?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<d.length;s++){var y=d[s];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}nh=!!td,nd=td=null}finally{nc=o,P.p=r,B.T=n}}e.current=t,Uc=2}}function ou(){if(2===Uc){Uc=0;var e=Sc,t=Cc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=B.T,B.T=null;var r=P.p;P.p=2;var o=nc;nc|=4;try{xl(e,t.alternate,t)}finally{nc=o,P.p=r,B.T=n}}Uc=3}}function iu(){if(4===Uc||3===Uc){Uc=0,ee();var e=Sc,t=Cc,n=Fc,r=Oc;10256&t.subtreeFlags||10256&t.flags?Uc=5:(Uc=0,Cc=Sc=null,au(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(xc=null),Ie(n),t=t.stateNode,de&&"function"==typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,!(128&~t.current.flags))}catch(e){}if(null!==r){t=B.T,o=P.p,P.p=2,B.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];i(s.value,{componentStack:s.stack})}}finally{B.T=t,P.p=o}}3&Fc&&su(),Eu(e),o=e.pendingLanes,4194090&n&&42&o?e===Dc?Nc++:(Nc=0,Dc=e):Nc=0,ku(0,!1)}}function au(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Po(t))}function su(e){return ru(),ou(),iu(),lu()}function lu(){if(5!==Uc)return!1;var e=Sc,t=Ic;Ic=0;var n=Ie(Fc),r=B.T,o=P.p;try{P.p=32>n?32:n,B.T=null,n=Mc,Mc=null;var i=Sc,s=Fc;if(Uc=0,Cc=Sc=null,Fc=0,6&nc)throw Error(a(331));var l=nc;if(nc|=4,Xl(i.current),Hl(i,i.current,s,n),nc=l,ku(0,!1),de&&"function"==typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,i)}catch(e){}return!0}finally{P.p=o,B.T=r,au(e,t)}}function cu(e,t,n){t=xr(n,t),null!==(e=ai(e,t=ks(e.stateNode,t,2),2))&&(Ue(e,2),Eu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===xc||!xc.has(r))){e=xr(n,e),null!==(r=ai(t,n=xs(2),2))&&(Us(n,r,t,e),Ue(r,2),Eu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(uc=!0,o.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?!(2&nc)&&Hc(e,0):mc|=n,gc===ic&&(gc=0)),Eu(e)}function fu(e,t){0===t&&(t=ke()),null!==(e=Or(e,t))&&(Ue(e,t),Eu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var Au=null,gu=null,vu=!1,bu=!1,yu=!1,wu=0;function Eu(e){e!==gu&&null===e.next&&(null===gu?Au=gu=e:gu=gu.next=e),bu=!0,vu||(vu=!0,dd((function(){6&nc?X(re,xu):Uu()})))}function ku(e,t){if(!yu&&bu){yu=!0;do{for(var n=!1,r=Au;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=o&~(a&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Fu(r,i))}else i=ic,!(3&(i=be(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ye(r,i)||(n=!0,Fu(r,i));r=r.next}}while(n);yu=!1}}function xu(){Uu()}function Uu(){bu=vu=!1;var e,t=0;0!==wu&&(((e=window.event)&&"popstate"===e.type?e!==sd&&(sd=e,!0):(sd=null,!1))&&(t=wu),wu=0);for(var n=te(),r=null,o=Au;null!==o;){var i=o.next,a=Su(o,n);0===a?(o.next=null,null===r?Au=i:r.next=i,null===i&&(gu=r)):(r=o,(0!==t||3&a)&&(bu=!0)),o=i}ku(t,!1)}function Su(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-fe(i),s=1<<a,l=o[a];-1===l?s&n&&!(s&r)||(o[a]=we(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=ic,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||ye(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ie(n)){case 2:case 8:n=oe;break;case 32:default:n=ie;break;case 268435456:n=se}return r=Cu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Uc&&5!==Uc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Rc(e,r,t),Su(e,te()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Fu(e,t){if(su())return null;Rc(e,t,!0)}function Iu(){return 0===wu&&(wu=Ee()),wu}function Mu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:It(""+e)}function Ou(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nu=0;Nu<wr.length;Nu++){var Du=wr[Nu];Er(Du.toLowerCase(),"on"+(Du[0].toUpperCase()+Du.slice(1)))}Er(fr,"onAnimationEnd"),Er(pr,"onAnimationIteration"),Er(mr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(Ar,"onTransitionRun"),Er(gr,"onTransitionStart"),Er(vr,"onTransitionCancel"),Er(br,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function Tu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(e){gs(e)}o.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(e){gs(e)}o.currentTarget=null,i=l}}}}function Ru(e,t){var n=t[Pe];void 0===n&&(n=t[Pe]=new Set);var r=e+"__bubble";n.has(r)||(ju(t,e,2,!1),n.add(r))}function Lu(e,t,n){var r=0;t&&(r|=4),ju(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function _u(e){if(!e[zu]){e[zu]=!0,$e.forEach((function(t){"selectionchange"!==t&&(Pu.has(t)||Lu(t,!1,e),Lu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Lu("selectionchange",!1,t))}}function ju(e,t,n,r){switch(ch(t)){case 2:var o=rh;break;case 8:o=oh;break;default:o=ih}n=o.bind(null,t,n,e),o=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wu(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==s;){if(null===(a=je(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}s=s.parentNode}}r=r.return}Tt((function(){var r=i,o=Ot(n),a=[];e:{var s=yr.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gn;break;case fr:case pr:case mr:c=sn;break;case br:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=An;break;case"toggle":case"beforetoggle":c=yn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var A=m;if(p=A.stateNode,5!==(A=A.tag)&&26!==A&&27!==A||null===p||null===f||null!=(A=Rt(m,f))&&d.push(Hu(m,A,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,o),a.push({event:s,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Mt||!(u=n.relatedTarget||n.fromElement)||!je(u)&&!u[Be])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?je(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,A="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=An,A="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:He(c),p=null==u?s:He(u),(s=new d(A,m+"leave",c,n,o)).target=h,s.relatedTarget=p,A=null,je(o)===r&&((d=new d(f,m+"enter",u,n,o)).target=p,d.relatedTarget=h,A=d),h=A,c&&u)e:{for(f=u,m=0,p=d=c;p;p=qu(p))m++;for(p=0,A=f;A;A=qu(A))p++;for(;0<m-p;)d=qu(d),m--;for(;0<p-m;)f=qu(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=qu(d),f=qu(f)}d=null}else d=null;null!==c&&$u(a,s,c,d,!1),null!==u&&null!==h&&$u(a,h,u,d,!0)}if("select"===(c=(s=r?He(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Ln;else if(Nn(s))if(zn)g=Yn;else{g=$n;var v=qn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&St(r.elementType)&&(g=Ln):g=Kn;switch(g&&(g=g(e,r))?Dn(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?He(r):window,e){case"focusin":(Nn(v)||"true"===v.contentEditable)&&(rr=v,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,o)}var b;if(En)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Mn?Fn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Un&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Mn&&(b=Vt()):(Wt="value"in(jt=o)?jt.value:jt.textContent,Mn=!0)),0<(v=Vu(r,y)).length&&(y=new cn(y,e,null,n,o),a.push({event:y,listeners:v}),(b||null!==(b=In(n)))&&(y.data=b))),(b=xn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Cn=!0,Sn);case"textInput":return(e=t.data)===Sn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!En&&Fn(e,t)?(e=Vt(),Ht=Wt=jt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(y=Vu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,o),a.push({event:v,listeners:y}),v.data=b),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Mu((o[De]||null).action),a=r.submitter;a&&null!==(t=(t=a[De]||null)?Mu(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new Zt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=a?Ou(o,a):new FormData(o);Oa(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"==typeof i&&(s.preventDefault(),e=a?Ou(o,a):new FormData(o),Oa(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Tu(a,t)}))}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vu(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Rt(e,n))&&r.unshift(Hu(e,o,i)),null!=(o=Rt(e,t))&&r.push(Hu(e,o,i))),3===e.tag)return r;e=e.return}return[]}function qu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function $u(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=Rt(n,i))&&a.unshift(Hu(n,c,l)):o||null!=(c=Rt(n,i))&&a.push(Hu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ku=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Gu(e){return("string"==typeof e?e:""+e).replace(Ku,"\n").replace(Yu,"")}function Qu(e,t){return t=Gu(t),Gu(e)===t}function Xu(){}function Ju(e,t,n,r,o,i){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ut(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&Ju(e,t,"name",o.name,o,null),Ju(e,t,"formEncType",o.formEncType,o,null),Ju(e,t,"formMethod",o.formMethod,o,null),Ju(e,t,"formTarget",o.formTarget,o,null)):(Ju(e,t,"encType",o.encType,o,null),Ju(e,t,"method",o.method,o,null),Ju(e,t,"target",o.target,o,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=It(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=It(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ru("beforetoggle",e),Ru("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function Zu(e,t,n,r,o,i){switch(n){case"style":Ut(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Et(e,r):("number"==typeof r||"bigint"==typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Ru("scroll",e);break;case"onScrollEnd":null!=r&&Ru("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(i=null!=(i=e[De]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ru("error",e),Ru("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,r,s,n,null)}}return i&&Ju(e,t,"srcSet",n.srcSet,n,null),void(o&&Ju(e,t,"src",n.src,n,null));case"input":Ru("invalid",e);var l=r=s=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Ju(e,t,o,d,n,null)}}return gt(e,r,l,c,u,s,i,!1),void dt(e);case"select":for(i in Ru("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:Ju(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(s in Ru("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Ju(e,t,s,l,n,null)}return wt(e,o,i,r),void dt(e);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(o=n[c])&&("selected"===c?e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o:Ju(e,t,c,o,n,null));return;case"dialog":Ru("beforetoggle",e),Ru("toggle",e),Ru("cancel",e),Ru("close",e);break;case"iframe":case"object":Ru("load",e);break;case"video":case"audio":for(o=0;o<Bu.length;o++)Ru(Bu[o],e);break;case"image":Ru("error",e),Ru("load",e);break;case"details":Ru("toggle",e);break;case"embed":case"source":case"link":Ru("error",e),Ru("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Ju(e,t,u,o,n,null)}return;default:if(St(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(o=n[d])&&Zu(e,t,d,o,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(o=n[l])&&Ju(e,t,l,o,n,null)}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ad(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null,ld="function"==typeof setTimeout?setTimeout:void 0,cd="function"==typeof clearTimeout?clearTimeout:void 0,ud="function"==typeof Promise?Promise:void 0,dd="function"==typeof queueMicrotask?queueMicrotask:void 0!==ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout((function(){throw e}))}function fd(e){return"head"===e}function pd(e,t){var n=t,r=0,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&wd(a.documentElement),2&n&&wd(a.body),4&n)for(wd(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===o)return e.removeChild(i),void Ch(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ch(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),_e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ad(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function yd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_e(e)}var Ed=new Map,kd=new Set;function xd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ud=P.d;P.d={f:function(){var e=Ud.f(),t=jc();return e||t},r:function(e){var t=We(e);null!==t&&5===t.tag&&"form"===t.type?Da(t):Ud.r(e)},D:function(e){Ud.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Ud.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Ud.L(e,t,n);var r=Sd;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var i=o;switch(t){case"style":i=Id(e);break;case"script":i=Nd(e)}Ed.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ed.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Md(i))||"script"===t&&r.querySelector(Dd(i))||(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Ud.m(e,t);var n=Sd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Nd(e)}if(!Ed.has(i)&&(e=h({rel:"modulepreload",href:e},t),Ed.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dd(i)))return}ed(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Ud.X(e,t);var n=Sd;if(n&&e){var r=Ve(n).hoistableScripts,o=Nd(e),i=r.get(o);i||((i=n.querySelector(Dd(o)))||(e=h({src:e,async:!0},t),(t=Ed.get(o))&&Rd(e,t),qe(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Ud.S(e,t,n);var r=Sd;if(r&&e){var o=Ve(r).hoistableStyles,i=Id(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Md(i)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ed.get(i))&&Td(e,n);var l=a=r.createElement("link");qe(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Pd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){Ud.M(e,t);var n=Sd;if(n&&e){var r=Ve(n).hoistableScripts,o=Nd(e),i=r.get(o);i||((i=n.querySelector(Dd(o)))||(e=h({src:e,async:!0,type:"module"},t),(t=Ed.get(o))&&Rd(e,t),qe(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Sd="undefined"==typeof document?null:document;function Cd(e,t,n){var r=Sd;if(r&&"string"==typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),kd.has(o)||(kd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function Fd(e,t,n,r){var o,i,s,l,c=(c=V.current)?xd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Id(n.href),(r=(n=Ve(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Id(n.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Md(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ed.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ed.set(e,n),u||(o=c,i=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),ed(i,"link",s),qe(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Nd(n),(r=(n=Ve(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Id(e){return'href="'+mt(e)+'"'}function Md(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Nd(e){return'[src="'+mt(e)+'"]'}function Dd(e){return"script[async]"+e}function Bd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var o=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",o),Pd(r,n.precedence,e),t.instance=r;case"stylesheet":o=Id(n.href);var i=e.querySelector(Md(o));if(i)return t.state.loading|=4,t.instance=i,qe(i),i;r=Od(n),(o=Ed.get(o))&&Td(r,o),qe(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(i,"link",r),t.state.loading|=4,Pd(i,n.precedence,e),t.instance=i;case"script":return i=Nd(n.src),(o=e.querySelector(Dd(i)))?(t.instance=o,qe(o),o):(r=n,(o=Ed.get(i))&&Rd(r=h({},n),o),qe(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Pd(r,n.precedence,e));return t.instance}function Pd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Rd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ld=null;function zd(e,t,n){if(null===Ld){var r=new Map,o=Ld=new Map;o.set(n,r)}else(r=(o=Ld).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[ze]||i[Ne]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function _d(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function jd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Wd=null;function Hd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qd=null;function $d(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qd=new Map,t.forEach(Kd,e),qd=null,Vd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=qd.get(e);if(n)var r=n.get(null);else{n=new Map,qd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=Vd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:w,Provider:null,Consumer:null,_currentValue:T,_currentValue2:T,_threadCount:0};function Gd(e,t,n,r,o,i,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Qd(e,t,n,r,o,i,a,s,l,c,u,d){return e=new Gd(e,t,n,a,s,l,c,d),t=1,!0===i&&(t|=24),i=Tr(3,null,null,t),e.current=i,i.stateNode=e,(t=Bo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ri(i),e}function Xd(e){return e?e=Br:Br}function Jd(e,t,n,r,o,i){o=Xd(o),null===r.context?r.context=o:r.pendingContext=o,(r=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ai(e,r,t))&&(Tc(n,0,t),si(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Or(e,67108864);null!==t&&Tc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var o=B.T;B.T=null;var i=P.p;try{P.p=2,ih(e,t,n,r)}finally{P.p=i,B.T=o}}function oh(e,t,n,r){var o=B.T;B.T=null;var i=P.p;try{P.p=8,ih(e,t,n,r)}finally{P.p=i,B.T=o}}function ih(e,t,n,r){if(nh){var o=ah(r);if(null===o)Wu(e,t,r,sh,n),vh(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,o),!0;case"dragenter":return hh=bh(hh,e,t,n,r,o),!0;case"mouseover":return fh=bh(fh,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return ph.set(i,bh(ph.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,mh.set(i,bh(mh.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<gh.indexOf(e)){for(;null!==o;){var i=We(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ve(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-fe(a);s.entanglements[1]|=l,a&=~l}Eu(i),!(6&nc)&&(Ec=te()+500,ku(0,!1))}}break;case 13:null!==(s=Or(i,2))&&Tc(s,0,2),jc(),eh(i,2)}if(null===(i=ah(r))&&Wu(e,t,r,sh,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Wu(e,t,r,null,n)}}function ah(e){return lh(e=Ot(e))}var sh=null;function lh(e){if(sh=null,null!==(e=je(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case oe:return 8;case ie:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,fh=null,ph=new Map,mh=new Map,Ah=[],gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function bh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=We(t))&&th(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function yh(e){var t=je(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e){var t=P.p;try{return P.p=e,function(){if(13===n.tag){var e=Bc();e=Fe(e);var t=Or(n,e);null!==t&&Tc(t,0,e),eh(n,e)}}()}finally{P.p=t}}(e.priority)}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=We(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function Eh(e,t,n){wh(e)&&n.delete(t)}function kh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==fh&&wh(fh)&&(fh=null),ph.forEach(Eh),mh.forEach(Eh)}function xh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var Uh=null;function Sh(e){Uh!==e&&(Uh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Uh===e&&(Uh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!=typeof r){if(null===lh(r||n))continue;break}var i=We(n);null!==i&&(e.splice(t,3),t-=3,Oa(i,{pending:!0,data:o,method:n.method,action:r},r,o))}})))}function Ch(e){function t(t){return xh(t,e)}null!==dh&&xh(dh,e),null!==hh&&xh(hh,e),null!==fh&&xh(fh,e),ph.forEach(t),mh.forEach(t);for(var n=0;n<Ah.length;n++){var r=Ah[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ah.length&&null===(n=Ah[0]).blockedOn;)yh(n),null===n.blockedOn&&Ah.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[De]||null;if("function"==typeof i)a||Sh(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[De]||null)s=a.formAction;else if(null!==lh(o))continue}else s=a.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Sh(n)}}}function Fh(e){this._internalRoot=e}function Ih(e){this._internalRoot=e}Ih.prototype.render=Fh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Jd(t.current,Bc(),e,t,null,null)},Ih.prototype.unmount=Fh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),jc(),t[Be]=null}},Ih.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ah.length&&0!==t&&t<Ah[n].priority;n++);Ah.splice(n,0,e),0===n&&yh(e)}};var Mh=o.version;if("19.1.0"!==Mh)throw Error(a(527,Mh,"19.1.0"));P.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return u(o),e;if(i===r)return u(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?d(e):null)?null:e.stateNode};var Oh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{ue=Nh.inject(Oh),de=Nh}catch(e){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=vs,i=bs,l=ys;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qd(e,1,!1,null,0,n,r,o,i,l,0,null),e[Be]=t.current,_u(e),new Fh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=vs,l=bs,c=ys,u=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Qd(e,1,!0,t,0,r,o,i,l,c,0,u)).context=Xd(null),n=t.current,(o=ii(r=Fe(r=Bc()))).callback=null,ai(n,o,r),n=r,t.current.lanes=n,Ue(t,n),Eu(t),e[Be]=t.current,_u(e),new Ih(t)},t.version="19.1.0"},249:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){s=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,a=Object.create(o.prototype),s=new N(r||[]);return i(a,"_invoke",{value:F(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p="suspendedStart",m="suspendedYield",A="executing",g="completed",v={};function b(){}function y(){}function w(){}var E={};d(E,l,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(D([])));x&&x!==n&&o.call(x,l)&&(E=x);var U=w.prototype=b.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(i,a,s,l){var c=f(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function F(t,n,r){var o=p;return function(i,a){if(o===A)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=I(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=A;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?g:m,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=g,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(r(t)+" is not iterable")}return y.prototype=w,i(U,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:y,configurable:!0}),y.displayName=d(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(U),e},t.awrap=function(e){return{__await:e}},S(C.prototype),d(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new C(h(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(U),d(U,u,"Generator"),d(U,l,(function(){return this})),d(U,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function l(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}n.r(t),n.d(t,{openFolder:()=>d,readMarkdownFile:()=>f,saveMarkdownFile:()=>p,scanDirectory:()=>h});var u=function(){return"undefined"!=typeof window&&void 0!==window.api},d=function(){var e=c(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u()){e.next=3;break}return e.abrupt("return",(null===(t=window.api)||void 0===t?void 0:t.openFileDialog())||Promise.resolve([]));case 3:return e.next=5,window.api.openFileDialog(!0);case 5:if(null!==(n=e.sent)){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",Array.isArray(n)?n:[n]);case 11:return e.prev=11,e.t0=e.catch(0),console.error("Error in openFolder function:",e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=c(s().mark((function e(t){var n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u()){e.next=4;break}return console.warn("Warning: window.api is not available for scanning directory. Using mock implementation."),e.abrupt("return",(null===(n=window.api)||void 0===n?void 0:n.scanDirectory(t))||{files:[],folders:[]});case 4:return r=t.replace(/\\/g,"/"),e.next=7,window.api.scanDirectory(t);case 7:return(o=e.sent)&&o.folders&&(o.folders=o.folders.map((function(e){var t=e.path.replace(/\\/g,"/");if(!t.startsWith(r+"/")&&t!==r){var n=e.name||e.path.split("/").pop().split("\\").pop();return i(i({},e),{},{path:"".concat(r,"/").concat(n),name:n})}return i(i({},e),{},{path:t,name:e.name||t.split("/").pop()})}))),o&&o.files&&(o.files=o.files.map((function(e){var t=e.path.replace(/\\/g,"/");if(!t.startsWith(r+"/")&&t!==r){var n=e.name||e.path.split("/").pop().split("\\").pop();return i(i({},e),{},{path:"".concat(r,"/").concat(n),name:n})}return i(i({},e),{},{path:t,name:e.name||t.split("/").pop()})}))),e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Error scanning directory:",e.t0),e.abrupt("return",{files:[],folders:[]});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=c(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u()){e.next=4;break}return console.warn("Warning: window.api is not available for reading file. Using mock implementation."),e.abrupt("return",(null===(n=window.api)||void 0===n?void 0:n.readMarkdownFile(t))||"# Unable to read file\n\nElectron API is not available.");case 4:return e.next=6,window.api.readMarkdownFile(t);case 6:if(null!=(r=e.sent)){e.next=10;break}return console.warn("Read null or undefined content from file: ".concat(t)),e.abrupt("return","");case 10:return e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Error reading markdown file:",e.t0),e.abrupt("return","# Error Reading File\n\n".concat(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=c(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u()){e.next=4;break}return console.warn("Warning: window.api is not available for saving file. Using mock implementation."),e.abrupt("return",null===(r=window.api)||void 0===r?void 0:r.writeMarkdownFile(t,n));case 4:return e.next=6,window.api.writeMarkdownFile(t,n);case 6:return e.abrupt("return",!0);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("Error saving markdown file:",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},286:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(354),o=n.n(r),i=n(314),a=n.n(i),s=n(417),l=n.n(s),c=new URL(n(489),n.b),u=new URL(n(681),n.b),d=a()(o()),h=l()(c),f=l()(u);d.push([e.id,`/* Split pane styling */\n.gutter {\n  background-color: #eee;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  flex-shrink: 0; /* Prevent gutter from shrinking */\n}\n\n.dark .gutter {\n  background-color: #2a2a2a;\n}\n\n.gutter:hover {\n  background-color: #ddd;\n}\n\n.dark .gutter:hover {\n  background-color: #3a3a3a;\n}\n\n.gutter.gutter-horizontal {\n  background-image: url(${h});\n  cursor: col-resize;\n  width: 5px !important; /* Enforce consistent width */\n}\n\n.gutter.gutter-vertical {\n  background-image: url(${f});\n  cursor: row-resize;\n  height: 5px !important; /* Enforce consistent height */\n}\n\n/* Make sure the split container takes full height */\n.split {\n  display: flex;\n  height: 100%;\n  min-height: 0; /* Changed from 100% to 0 to prevent overflow */\n  width: 100%;\n  overflow: hidden; /* Prevent overflow issues */\n}\n\n.split.vertical {\n  flex-direction: column;\n}\n\n/* Remove float which can cause layout issues */\n.split, .gutter.gutter-horizontal {\n  float: none; /* Changed from left to none */\n}\n\n/* Ensure child containers behave properly */\n.split > div {\n  height: 100%;\n  min-height: 0; /* Allow shrinking below content size */\n  min-width: 0; /* Allow shrinking below content size */\n  display: flex;\n  flex-direction: column;\n  overflow: hidden; /* Prevent content from overflowing */\n}\n\n/* Ensure the preview container fills its parent height */\n.preview-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0; /* Changed from 100% to 0 to prevent overflow */\n  overflow: hidden; /* Prevent content from overflowing */\n  position: relative; /* For proper child positioning */\n}\n\n/* Force editor and preview to use full available height */\n.editor, .markdown-preview {\n  flex: 1 1 auto;\n  min-height: 0; /* Allow shrinking */\n  min-width: 0; /* Allow shrinking */\n  height: auto; /* Auto height based on container */\n  width: 100%;\n  overflow: auto; /* Allow scrolling inside components */\n  position: relative;\n}\n\n/* Enhanced scrollbar styling specifically for editor and preview */\n.editor::-webkit-scrollbar,\n.markdown-preview::-webkit-scrollbar,\n.cm-scroller::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n\n.editor::-webkit-scrollbar-thumb,\n.markdown-preview::-webkit-scrollbar-thumb,\n.cm-scroller::-webkit-scrollbar-thumb {\n  background-color: rgba(156, 163, 175, 0.3);\n  border-radius: 3px;\n}\n\n.editor::-webkit-scrollbar-thumb:hover,\n.markdown-preview::-webkit-scrollbar-thumb:hover,\n.cm-scroller::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(156, 163, 175, 0.5);\n}\n\n.dark .editor::-webkit-scrollbar-thumb,\n.dark .markdown-preview::-webkit-scrollbar-thumb,\n.dark .cm-scroller::-webkit-scrollbar-thumb {\n  background-color: rgba(75, 85, 99, 0.3);\n}\n\n.dark .editor::-webkit-scrollbar-thumb:hover,\n.dark .markdown-preview::-webkit-scrollbar-thumb:hover,\n.dark .cm-scroller::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(75, 85, 99, 0.5);\n}\n\n/* Add specific styling for mobile view */\n@media (max-width: 768px) {\n  .split.vertical > div {\n    min-height: 150px; /* Minimum height for panels in mobile view */\n  }\n  \n  .editor, .markdown-preview {\n    min-height: 150px;\n  }\n} `,"",{version:3,sources:["webpack://./src/splitPane.css"],names:[],mappings:"AAAA,uBAAuB;AACvB;EACE,sBAAsB;EACtB,4BAA4B;EAC5B,wBAAwB;EACxB,cAAc,EAAE,kCAAkC;AACpD;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yDAA2K;EAC3K,kBAAkB;EAClB,qBAAqB,EAAE,6BAA6B;AACtD;;AAEA;EACE,yDAA2L;EAC3L,kBAAkB;EAClB,sBAAsB,EAAE,8BAA8B;AACxD;;AAEA,oDAAoD;AACpD;EACE,aAAa;EACb,YAAY;EACZ,aAAa,EAAE,+CAA+C;EAC9D,WAAW;EACX,gBAAgB,EAAE,4BAA4B;AAChD;;AAEA;EACE,sBAAsB;AACxB;;AAEA,+CAA+C;AAC/C;EACE,WAAW,EAAE,8BAA8B;AAC7C;;AAEA,4CAA4C;AAC5C;EACE,YAAY;EACZ,aAAa,EAAE,uCAAuC;EACtD,YAAY,EAAE,uCAAuC;EACrD,aAAa;EACb,sBAAsB;EACtB,gBAAgB,EAAE,qCAAqC;AACzD;;AAEA,yDAAyD;AACzD;EACE,OAAO;EACP,aAAa;EACb,sBAAsB;EACtB,aAAa,EAAE,+CAA+C;EAC9D,gBAAgB,EAAE,qCAAqC;EACvD,kBAAkB,EAAE,iCAAiC;AACvD;;AAEA,0DAA0D;AAC1D;EACE,cAAc;EACd,aAAa,EAAE,oBAAoB;EACnC,YAAY,EAAE,oBAAoB;EAClC,YAAY,EAAE,mCAAmC;EACjD,WAAW;EACX,cAAc,EAAE,sCAAsC;EACtD,kBAAkB;AACpB;;AAEA,mEAAmE;AACnE;;;EAGE,UAAU;EACV,WAAW;AACb;;AAEA;;;EAGE,0CAA0C;EAC1C,kBAAkB;AACpB;;AAEA;;;EAGE,0CAA0C;AAC5C;;AAEA;;;EAGE,uCAAuC;AACzC;;AAEA;;;EAGE,uCAAuC;AACzC;;AAEA,yCAAyC;AACzC;EACE;IACE,iBAAiB,EAAE,6CAA6C;EAClE;;EAEA;IACE,iBAAiB;EACnB;AACF",sourcesContent:["/* Split pane styling */\r\n.gutter {\r\n  background-color: #eee;\r\n  background-repeat: no-repeat;\r\n  background-position: 50%;\r\n  flex-shrink: 0; /* Prevent gutter from shrinking */\r\n}\r\n\r\n.dark .gutter {\r\n  background-color: #2a2a2a;\r\n}\r\n\r\n.gutter:hover {\r\n  background-color: #ddd;\r\n}\r\n\r\n.dark .gutter:hover {\r\n  background-color: #3a3a3a;\r\n}\r\n\r\n.gutter.gutter-horizontal {\r\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');\r\n  cursor: col-resize;\r\n  width: 5px !important; /* Enforce consistent width */\r\n}\r\n\r\n.gutter.gutter-vertical {\r\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII=');\r\n  cursor: row-resize;\r\n  height: 5px !important; /* Enforce consistent height */\r\n}\r\n\r\n/* Make sure the split container takes full height */\r\n.split {\r\n  display: flex;\r\n  height: 100%;\r\n  min-height: 0; /* Changed from 100% to 0 to prevent overflow */\r\n  width: 100%;\r\n  overflow: hidden; /* Prevent overflow issues */\r\n}\r\n\r\n.split.vertical {\r\n  flex-direction: column;\r\n}\r\n\r\n/* Remove float which can cause layout issues */\r\n.split, .gutter.gutter-horizontal {\r\n  float: none; /* Changed from left to none */\r\n}\r\n\r\n/* Ensure child containers behave properly */\r\n.split > div {\r\n  height: 100%;\r\n  min-height: 0; /* Allow shrinking below content size */\r\n  min-width: 0; /* Allow shrinking below content size */\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden; /* Prevent content from overflowing */\r\n}\r\n\r\n/* Ensure the preview container fills its parent height */\r\n.preview-container {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0; /* Changed from 100% to 0 to prevent overflow */\r\n  overflow: hidden; /* Prevent content from overflowing */\r\n  position: relative; /* For proper child positioning */\r\n}\r\n\r\n/* Force editor and preview to use full available height */\r\n.editor, .markdown-preview {\r\n  flex: 1 1 auto;\r\n  min-height: 0; /* Allow shrinking */\r\n  min-width: 0; /* Allow shrinking */\r\n  height: auto; /* Auto height based on container */\r\n  width: 100%;\r\n  overflow: auto; /* Allow scrolling inside components */\r\n  position: relative;\r\n}\r\n\r\n/* Enhanced scrollbar styling specifically for editor and preview */\r\n.editor::-webkit-scrollbar,\r\n.markdown-preview::-webkit-scrollbar,\r\n.cm-scroller::-webkit-scrollbar {\r\n  width: 6px;\r\n  height: 6px;\r\n}\r\n\r\n.editor::-webkit-scrollbar-thumb,\r\n.markdown-preview::-webkit-scrollbar-thumb,\r\n.cm-scroller::-webkit-scrollbar-thumb {\r\n  background-color: rgba(156, 163, 175, 0.3);\r\n  border-radius: 3px;\r\n}\r\n\r\n.editor::-webkit-scrollbar-thumb:hover,\r\n.markdown-preview::-webkit-scrollbar-thumb:hover,\r\n.cm-scroller::-webkit-scrollbar-thumb:hover {\r\n  background-color: rgba(156, 163, 175, 0.5);\r\n}\r\n\r\n.dark .editor::-webkit-scrollbar-thumb,\r\n.dark .markdown-preview::-webkit-scrollbar-thumb,\r\n.dark .cm-scroller::-webkit-scrollbar-thumb {\r\n  background-color: rgba(75, 85, 99, 0.3);\r\n}\r\n\r\n.dark .editor::-webkit-scrollbar-thumb:hover,\r\n.dark .markdown-preview::-webkit-scrollbar-thumb:hover,\r\n.dark .cm-scroller::-webkit-scrollbar-thumb:hover {\r\n  background-color: rgba(75, 85, 99, 0.5);\r\n}\r\n\r\n/* Add specific styling for mobile view */\r\n@media (max-width: 768px) {\r\n  .split.vertical > div {\r\n    min-height: 150px; /* Minimum height for panels in mobile view */\r\n  }\r\n  \r\n  .editor, .markdown-preview {\r\n    min-height: 150px;\r\n  }\r\n} "],sourceRoot:""}]);const p=d},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},338:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(247)},354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},477:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,A=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(A=!1,w(e),!m)if(null!==r(c))m=!0,x||(x=!0,k());else{var t=r(u);null!==t&&N(E,t.startTime-e)}}var k,x=!1,U=-1,S=5,C=-1;function F(){return!(!g&&t.unstable_now()-C<S)}function I(){if(g=!1,x){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,A&&(A=!1,b(U),U=-1),p=!0;var i=f;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&F());){var a=h.callback;if("function"==typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"==typeof s){h.callback=s,w(e),n=!0;break t}h===r(c)&&o(c),w(e)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&N(E,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?k():x=!1}}}if("function"==typeof y)k=function(){y(I)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,O=M.port2;M.port1.onmessage=I,k=function(){O.postMessage(null)}}else k=function(){v(I,0)};function N(e,n){U=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(A?(b(U),U=-1):A=!0,N(E,i-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,x||(x=!0,k()))),e},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},489:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg=="},540:(e,t,n)=>{"use strict";e.exports=n(869)},556:(e,t,n)=>{e.exports=n(694)()},567:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(354),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"/* Styles for the detached editor window */\n\n.detached-editor-container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.detached-editor-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem;\n  background-color: var(--surface-100);\n  border-bottom: 1px solid var(--surface-300);\n}\n\n.detached-editor-header h2 {\n  margin: 0;\n  font-size: 1rem;\n  font-weight: 500;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.detached-editor-content {\n  flex: 1;\n  overflow: auto;\n  position: relative;\n}\n\n.detached-editor-footer {\n  padding: 0.25rem 0.5rem;\n  font-size: 0.75rem;\n  color: var(--surface-600);\n  background-color: var(--surface-100);\n  border-top: 1px solid var(--surface-300);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n/* Dark mode support */\n@media (prefers-color-scheme: dark) {\n  .detached-editor-header {\n    background-color: var(--surface-800);\n    border-color: var(--surface-700);\n  }\n  \n  .detached-editor-footer {\n    color: var(--surface-400);\n    background-color: var(--surface-800);\n    border-color: var(--surface-700);\n  }\n}\n\n/* Add a subtle indicator that this is a detached window */\nbody.detached-window .app-container::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 2px;\n  background-color: var(--primary-500);\n  z-index: 1000;\n} ","",{version:3,sources:["webpack://./src/detachedEditor.css"],names:[],mappings:"AAAA,0CAA0C;;AAE1C;EACE,aAAa;EACb,aAAa;EACb,sBAAsB;EACtB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,eAAe;EACf,oCAAoC;EACpC,2CAA2C;AAC7C;;AAEA;EACE,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,OAAO;EACP,cAAc;EACd,kBAAkB;AACpB;;AAEA;EACE,uBAAuB;EACvB,kBAAkB;EAClB,yBAAyB;EACzB,oCAAoC;EACpC,wCAAwC;EACxC,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;AACrB;;AAEA,sBAAsB;AACtB;EACE;IACE,oCAAoC;IACpC,gCAAgC;EAClC;;EAEA;IACE,yBAAyB;IACzB,oCAAoC;IACpC,gCAAgC;EAClC;AACF;;AAEA,0DAA0D;AAC1D;EACE,WAAW;EACX,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,WAAW;EACX,oCAAoC;EACpC,aAAa;AACf",sourcesContent:["/* Styles for the detached editor window */\r\n\r\n.detached-editor-container {\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.detached-editor-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0.5rem;\r\n  background-color: var(--surface-100);\r\n  border-bottom: 1px solid var(--surface-300);\r\n}\r\n\r\n.detached-editor-header h2 {\r\n  margin: 0;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.detached-editor-content {\r\n  flex: 1;\r\n  overflow: auto;\r\n  position: relative;\r\n}\r\n\r\n.detached-editor-footer {\r\n  padding: 0.25rem 0.5rem;\r\n  font-size: 0.75rem;\r\n  color: var(--surface-600);\r\n  background-color: var(--surface-100);\r\n  border-top: 1px solid var(--surface-300);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n/* Dark mode support */\r\n@media (prefers-color-scheme: dark) {\r\n  .detached-editor-header {\r\n    background-color: var(--surface-800);\r\n    border-color: var(--surface-700);\r\n  }\r\n  \r\n  .detached-editor-footer {\r\n    color: var(--surface-400);\r\n    background-color: var(--surface-800);\r\n    border-color: var(--surface-700);\r\n  }\r\n}\r\n\r\n/* Add a subtle indicator that this is a detached window */\r\nbody.detached-window .app-container::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 2px;\r\n  background-color: var(--primary-500);\r\n  z-index: 1000;\r\n} "],sourceRoot:""}]);const s=a},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},681:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII="},694:(e,t,n)=>{"use strict";var r=n(925);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},869:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,A={};function g(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var y=b.prototype=new v;y.constructor=b,m(y,g.prototype),y.isPureReactComponent=!0;var w=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function x(e,t,r,o,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function U(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function F(){}function I(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return I((u=e._init)(e._payload),t,o,i,a)}}if(u)return a=a(e),u=""===i?"."+C(e,0):i,w(a)?(o="",null!=u&&(o=u.replace(S,"$&/")+"/"),I(a,t,o,"",(function(e){return e}))):null!=a&&(U(a)&&(l=a,c=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+u,a=x(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,p=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=I(i=e[m],t,o,s=p+C(i,m),a);else if("function"==typeof(m=null===(d=e)||"object"!=typeof d?null:"function"==typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=I(i=i.value,t,o,s=p+C(i,m++),a);else if("object"===s){if("function"==typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(F,F):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function M(e,t,n){if(null==e)return e;var r=[],o=0;return I(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!U(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(i in t.ref,void 0!==t.key&&(o=""+t.key),t)!k.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return x(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return x(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=U,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),o=E.S;null!==o&&o(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(D,N)}catch(e){N(e)}finally{E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=E.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.1.0"},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(221)},972:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(354),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,'/*! tailwindcss v4.1.4 | MIT License | https://tailwindcss.com */\n@layer properties;\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --color-red-50: oklch(97.1% 0.013 17.38);\n    --color-red-100: oklch(93.6% 0.032 17.717);\n    --color-red-200: oklch(88.5% 0.062 18.334);\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-800: oklch(44.4% 0.177 26.899);\n    --color-red-900: oklch(39.6% 0.141 25.723);\n    --color-amber-500: oklch(76.9% 0.188 70.08);\n    --color-yellow-50: oklch(98.7% 0.026 102.212);\n    --color-yellow-200: oklch(94.5% 0.129 101.54);\n    --color-yellow-500: oklch(79.5% 0.184 86.047);\n    --color-yellow-800: oklch(47.6% 0.114 61.907);\n    --color-yellow-900: oklch(42.1% 0.095 57.708);\n    --color-green-50: oklch(98.2% 0.018 155.826);\n    --color-green-200: oklch(92.5% 0.084 155.995);\n    --color-green-500: oklch(72.3% 0.219 149.579);\n    --color-green-800: oklch(44.8% 0.119 151.328);\n    --color-green-900: oklch(39.3% 0.095 152.535);\n    --color-blue-50: oklch(97% 0.014 254.604);\n    --color-blue-100: oklch(93.2% 0.032 255.585);\n    --color-blue-200: oklch(88.2% 0.059 254.128);\n    --color-blue-400: oklch(70.7% 0.165 254.624);\n    --color-blue-500: oklch(62.3% 0.214 259.815);\n    --color-blue-600: oklch(54.6% 0.245 262.881);\n    --color-blue-800: oklch(42.4% 0.199 265.638);\n    --color-blue-900: oklch(37.9% 0.146 265.522);\n    --color-purple-500: oklch(62.7% 0.265 303.9);\n    --color-gray-50: oklch(98.5% 0.002 247.839);\n    --color-gray-200: oklch(92.8% 0.006 264.531);\n    --color-gray-300: oklch(87.2% 0.01 258.338);\n    --color-gray-600: oklch(44.6% 0.03 256.802);\n    --color-gray-700: oklch(37.3% 0.034 259.733);\n    --color-black: #000;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --container-sm: 24rem;\n    --container-md: 28rem;\n    --container-lg: 32rem;\n    --container-2xl: 42rem;\n    --text-xs: calc(0.75rem * var(--text-scaling));\n    --text-xs--line-height: calc(calc(1 / 0.75) * var(--text-scaling));\n    --text-sm: calc(0.875rem * var(--text-scaling));\n    --text-sm--line-height: calc(calc(1.25 / 0.875) * var(--text-scaling));\n    --text-base: calc(1rem * var(--text-scaling));\n    --text-base--line-height: calc(calc(1.5 / 1) * var(--text-scaling));\n    --text-lg: calc(1.125rem * var(--text-scaling));\n    --text-lg--line-height: calc(calc(1.75 / 1.125) * var(--text-scaling));\n    --text-3xl: calc(1.875rem * var(--text-scaling));\n    --text-3xl--line-height: calc(calc(2.25 / 1.875) * var(--text-scaling));\n    --text-4xl: calc(2.25rem * var(--text-scaling));\n    --text-4xl--line-height: calc(calc(2.5 / 2.25) * var(--text-scaling));\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --font-weight-bold: 700;\n    --radius-sm: 0.25rem;\n    --radius-md: 0.375rem;\n    --radius-lg: 0.5rem;\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n    --blur-sm: 8px;\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: var(--font-sans);\n    --default-mono-font-family: var(--font-mono);\n    --text-scaling: 1;\n    --base-font-color: inherit;\n    --base-font-color-dark: inherit;\n    --base-font-family: inherit;\n    --base-font-size: inherit;\n    --base-line-height: inherit;\n    --base-font-weight: inherit;\n    --base-font-style: inherit;\n    --base-letter-spacing: inherit;\n    --heading-font-color: inherit;\n    --heading-font-color-dark: inherit;\n    --heading-font-family: inherit;\n    --heading-font-weight: inherit;\n    --heading-font-style: inherit;\n    --heading-letter-spacing: inherit;\n    --anchor-font-color: inherit;\n    --anchor-font-color-dark: inherit;\n    --anchor-font-family: inherit;\n    --anchor-font-size: inherit;\n    --anchor-line-height: inherit;\n    --anchor-font-weight: inherit;\n    --anchor-font-style: inherit;\n    --anchor-letter-spacing: inherit;\n    --anchor-text-decoration: inherit;\n    --anchor-text-decoration-hover: underline;\n    --anchor-text-decoration-active: inherit;\n    --anchor-text-decoration-focus: inherit;\n    --radius-base: 0.25rem;\n    --radius-container: 0.25rem;\n    --default-ring-width: 1px;\n    --color-primary-50: oklch(98.5% 0 0deg);\n    --color-primary-100: oklch(97% 0 0deg);\n    --color-primary-300: oklch(87% 0 0deg);\n    --color-primary-400: oklch(70.8% 0 0deg);\n    --color-primary-500: oklch(55.6% 0 0deg);\n    --color-primary-600: oklch(43.9% 0 0deg);\n    --color-primary-700: oklch(37.1% 0 0deg);\n    --color-primary-900: oklch(20.5% 0 0deg);\n    --color-primary-950: oklch(14.5% 0 0deg);\n    --color-primary-contrast-dark: var(--color-primary-950);\n    --color-primary-contrast-light: var(--color-primary-50);\n    --color-primary-contrast-50: var(--color-primary-contrast-dark);\n    --color-primary-contrast-950: var(--color-primary-contrast-light);\n    --color-secondary-50: oklch(98.5% 0 0deg);\n    --color-secondary-400: oklch(70.8% 0 0deg);\n    --color-secondary-500: oklch(55.6% 0 0deg);\n    --color-secondary-contrast-light: var(--color-secondary-50);\n    --color-tertiary-50: oklch(98.5% 0 0deg);\n    --color-tertiary-500: oklch(55.6% 0 0deg);\n    --color-tertiary-contrast-light: var(--color-tertiary-50);\n    --color-tertiary-contrast-500: var(--color-tertiary-contrast-light);\n    --color-success-50: oklch(98.5% 0 0deg);\n    --color-success-contrast-light: var(--color-success-50);\n    --color-warning-50: oklch(98.5% 0 0deg);\n    --color-warning-500: oklch(55.6% 0 0deg);\n    --color-warning-contrast-light: var(--color-warning-50);\n    --color-error-50: oklch(98.5% 0 0deg);\n    --color-error-100: oklch(97% 0 0deg);\n    --color-error-400: oklch(70.8% 0 0deg);\n    --color-error-500: oklch(55.6% 0 0deg);\n    --color-error-600: oklch(43.9% 0 0deg);\n    --color-error-700: oklch(37.1% 0 0deg);\n    --color-error-900: oklch(20.5% 0 0deg);\n    --color-error-contrast-light: var(--color-error-50);\n    --color-surface-50: oklch(98.5% 0 0deg);\n    --color-surface-100: oklch(97% 0 0deg);\n    --color-surface-200: oklch(92.2% 0 0deg);\n    --color-surface-300: oklch(87% 0 0deg);\n    --color-surface-400: oklch(70.8% 0 0deg);\n    --color-surface-500: oklch(55.6% 0 0deg);\n    --color-surface-600: oklch(43.9% 0 0deg);\n    --color-surface-700: oklch(37.1% 0 0deg);\n    --color-surface-800: oklch(26.9% 0 0deg);\n    --color-surface-900: oklch(20.5% 0 0deg);\n    --color-surface-950: oklch(14.5% 0 0deg);\n    --color-surface-contrast-light: var(--color-surface-50);\n    --body-background-color: var(--color-surface-50);\n    --body-background-color-dark: var(--color-surface-950);\n    --color-primary-contrast-50-950: light-dark(\n  \tvar(--color-primary-contrast-50),\n  \tvar(--color-primary-contrast-950)\n  );\n    --color-primary-100-900: light-dark(var(--color-primary-100), var(--color-primary-900));\n    --color-surface-50-950: light-dark(var(--color-surface-50), var(--color-surface-950));\n    --color-surface-100-900: light-dark(var(--color-surface-100), var(--color-surface-900));\n    --color-surface-200-800: light-dark(var(--color-surface-200), var(--color-surface-800));\n    --color-surface-300-700: light-dark(var(--color-surface-300), var(--color-surface-700));\n    --color-surface-600-400: light-dark(var(--color-surface-600), var(--color-surface-400));\n    --color-surface-700-300: light-dark(var(--color-surface-700), var(--color-surface-300));\n    --color-surface-950-50: light-dark(var(--color-surface-950), var(--color-surface-50));\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    tab-size: 4;\n    font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");\n    font-feature-settings: var(--default-font-feature-settings, normal);\n    font-variation-settings: var(--default-font-variation-settings, normal);\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);\n    font-feature-settings: var(--default-mono-font-feature-settings, normal);\n    font-variation-settings: var(--default-mono-font-variation-settings, normal);\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::placeholder {\n      color: currentcolor;\n      @supports (color: color-mix(in lab, red, red)) {\n        color: color-mix(in oklab, currentcolor 50%, transparent);\n      }\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type="button"], [type="reset"], [type="submit"]), ::file-selector-button {\n    appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden="until-found"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .pointer-events-auto {\n    pointer-events: auto;\n  }\n  .pointer-events-none {\n    pointer-events: none;\n  }\n  .visible {\n    visibility: visible;\n  }\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border-width: 0;\n  }\n  .table {\n    font-size: var(--text-sm);\n    line-height: var(--text-sm--line-height);\n    position: relative;\n    width: 100%;\n    & thead {\n      color: var(--color-surface-700-300);\n      border-bottom-width: 1px;\n      border-color: var(--color-surface-200-800);\n    }\n    & th {\n      text-align: left;\n      font-weight: 400;\n    }\n    & tbody {\n      & > :not(:last-child) {\n        border-color: var(--color-surface-200-800);\n      }\n      & > :not(:last-child) {\n        border-top-width: 0px;\n        border-bottom-width: 1px;\n      }\n    }\n    & tfoot {\n      border-top-width: 1px;\n      border-color: var(--color-surface-200-800);\n      background-color: var(--color-surface-100-900);\n    }\n    & th {\n      padding: calc(var(--spacing) * 2);\n    }\n    & td {\n      padding: calc(var(--spacing) * 2);\n    }\n    & caption {\n      color: var(--color-surface-600-400);\n      font-size: var(--text-xs);\n      line-height: var(--text-xs--line-height);\n    }\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .inset-0 {\n    inset: calc(var(--spacing) * 0);\n  }\n  .inset-y-0 {\n    inset-block: calc(var(--spacing) * 0);\n  }\n  .top-0 {\n    top: calc(var(--spacing) * 0);\n  }\n  .top-1\\/2 {\n    top: calc(1/2 * 100%);\n  }\n  .top-2\\.5 {\n    top: calc(var(--spacing) * 2.5);\n  }\n  .top-full {\n    top: 100%;\n  }\n  .right-0\\.5 {\n    right: calc(var(--spacing) * 0.5);\n  }\n  .right-1 {\n    right: calc(var(--spacing) * 1);\n  }\n  .right-2 {\n    right: calc(var(--spacing) * 2);\n  }\n  .right-3 {\n    right: calc(var(--spacing) * 3);\n  }\n  .right-4 {\n    right: calc(var(--spacing) * 4);\n  }\n  .right-10 {\n    right: calc(var(--spacing) * 10);\n  }\n  .left-0 {\n    left: calc(var(--spacing) * 0);\n  }\n  .left-2\\.5 {\n    left: calc(var(--spacing) * 2.5);\n  }\n  .z-5 {\n    z-index: 5;\n  }\n  .z-10 {\n    z-index: 10;\n  }\n  .z-50 {\n    z-index: 50;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .mx-1 {\n    margin-inline: calc(var(--spacing) * 1);\n  }\n  .mx-4 {\n    margin-inline: calc(var(--spacing) * 4);\n  }\n  .my-1 {\n    margin-block: calc(var(--spacing) * 1);\n  }\n  .select {\n    background-color: transparent;\n    border-radius: var(--radius-base);\n    display: block;\n    width: 100%;\n    font-size: var(--text-base);\n    line-height: var(--text-base--line-height);\n    padding-block: calc(var(--spacing) * 1);\n    outline-color: transparent;\n    border-width: 0;\n    --tw-ring-inset: inset;\n    --tw-ring-color: var(--color-surface-200-800);\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 var(--default-ring-width) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    &:active {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &:focus {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &:focus-within {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    & > * + * {\n      margin-top: calc(var(--spacing) * 2);\n    }\n    &[multiple] {\n      border-radius: var(--radius-container);\n      padding: calc(var(--spacing) * 1);\n      & optgroup,\t& option {\n        background-color: transparent;\n      }\n    }\n    &[size] {\n      border-radius: var(--radius-container);\n      padding: calc(var(--spacing) * 1);\n      & optgroup,\t& option {\n        background-color: transparent;\n      }\n    }\n    & optgroup {\n      background-color: var(--color-surface-50-950);\n      color: var(--color-surface-950-50);\n    }\n    & optgroup > * + * {\n      margin-top: calc(var(--spacing) * 2);\n    }\n    & optgroup option:first-of-type {\n      margin-top: calc(var(--spacing) * 2);\n    }\n    & optgroup option:last-child {\n      margin-bottom: calc(var(--spacing) * 2) !important;\n    }\n    & option {\n      background-color: var(--color-surface-50-950);\n      color: var(--color-surface-950-50);\n      border-radius: var(--radius-base);\n      font-size: var(--text-base);\n      line-height: calc(var(--spacing) * 9);\n      height: calc(var(--spacing) * 9);\n      padding: calc(var(--spacing) * 2);\n    }\n  }\n  .prose {\n    color: var(--tw-prose-body);\n    max-width: 65ch;\n    :where(p):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 1.25em;\n      margin-bottom: 1.25em;\n    }\n    :where([class~="lead"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-lead);\n      font-size: 1.25em;\n      line-height: 1.6;\n      margin-top: 1.2em;\n      margin-bottom: 1.2em;\n    }\n    :where(a):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-links);\n      text-decoration: underline;\n      font-weight: 500;\n    }\n    :where(strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-bold);\n      font-weight: 600;\n    }\n    :where(a strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(blockquote strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(thead th strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(ol):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: decimal;\n      margin-top: 1.25em;\n      margin-bottom: 1.25em;\n      padding-inline-start: 1.625em;\n    }\n    :where(ol[type="A"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: upper-alpha;\n    }\n    :where(ol[type="a"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: lower-alpha;\n    }\n    :where(ol[type="A" s]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: upper-alpha;\n    }\n    :where(ol[type="a" s]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: lower-alpha;\n    }\n    :where(ol[type="I"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: upper-roman;\n    }\n    :where(ol[type="i"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: lower-roman;\n    }\n    :where(ol[type="I" s]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: upper-roman;\n    }\n    :where(ol[type="i" s]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: lower-roman;\n    }\n    :where(ol[type="1"]):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: decimal;\n    }\n    :where(ul):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      list-style-type: disc;\n      margin-top: 1.25em;\n      margin-bottom: 1.25em;\n      padding-inline-start: 1.625em;\n    }\n    :where(ol > li):not(:where([class~="not-prose"],[class~="not-prose"] *))::marker {\n      font-weight: 400;\n      color: var(--tw-prose-counters);\n    }\n    :where(ul > li):not(:where([class~="not-prose"],[class~="not-prose"] *))::marker {\n      color: var(--tw-prose-bullets);\n    }\n    :where(dt):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 600;\n      margin-top: 1.25em;\n    }\n    :where(hr):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      border-color: var(--tw-prose-hr);\n      border-top-width: 1;\n      margin-top: 3em;\n      margin-bottom: 3em;\n    }\n    :where(blockquote):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 500;\n      font-style: italic;\n      color: var(--tw-prose-quotes);\n      border-inline-start-width: 0.25rem;\n      border-inline-start-color: var(--tw-prose-quote-borders);\n      quotes: "\\201C""\\201D""\\2018""\\2019";\n      margin-top: 1.6em;\n      margin-bottom: 1.6em;\n      padding-inline-start: 1em;\n    }\n    :where(blockquote p:first-of-type):not(:where([class~="not-prose"],[class~="not-prose"] *))::before {\n      content: open-quote;\n    }\n    :where(blockquote p:last-of-type):not(:where([class~="not-prose"],[class~="not-prose"] *))::after {\n      content: close-quote;\n    }\n    :where(h1):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 800;\n      font-size: 2.25em;\n      margin-top: 0;\n      margin-bottom: 0.8888889em;\n      line-height: 1.1111111;\n    }\n    :where(h1 strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 900;\n      color: inherit;\n    }\n    :where(h2):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 700;\n      font-size: 1.5em;\n      margin-top: 2em;\n      margin-bottom: 1em;\n      line-height: 1.3333333;\n    }\n    :where(h2 strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 800;\n      color: inherit;\n    }\n    :where(h3):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 600;\n      font-size: 1.25em;\n      margin-top: 1.6em;\n      margin-bottom: 0.6em;\n      line-height: 1.6;\n    }\n    :where(h3 strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 700;\n      color: inherit;\n    }\n    :where(h4):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 600;\n      margin-top: 1.5em;\n      margin-bottom: 0.5em;\n      line-height: 1.5;\n    }\n    :where(h4 strong):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 700;\n      color: inherit;\n    }\n    :where(img):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 2em;\n      margin-bottom: 2em;\n    }\n    :where(picture):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      display: block;\n      margin-top: 2em;\n      margin-bottom: 2em;\n    }\n    :where(video):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 2em;\n      margin-bottom: 2em;\n    }\n    :where(kbd):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      font-weight: 500;\n      font-family: inherit;\n      color: var(--tw-prose-kbd);\n      box-shadow: 0 0 0 1px rgb(var(--tw-prose-kbd-shadows) / 10%), 0 3px 0 rgb(var(--tw-prose-kbd-shadows) / 10%);\n      font-size: 0.875em;\n      border-radius: 0.3125rem;\n      padding-top: 0.1875em;\n      padding-inline-end: 0.375em;\n      padding-bottom: 0.1875em;\n      padding-inline-start: 0.375em;\n    }\n    :where(code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-code);\n      font-weight: 600;\n      font-size: 0.875em;\n    }\n    :where(code):not(:where([class~="not-prose"],[class~="not-prose"] *))::before {\n      content: "`";\n    }\n    :where(code):not(:where([class~="not-prose"],[class~="not-prose"] *))::after {\n      content: "`";\n    }\n    :where(a code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(h1 code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(h2 code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n      font-size: 0.875em;\n    }\n    :where(h3 code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n      font-size: 0.9em;\n    }\n    :where(h4 code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(blockquote code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(thead th code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: inherit;\n    }\n    :where(pre):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-pre-code);\n      background-color: var(--tw-prose-pre-bg);\n      overflow-x: auto;\n      font-weight: 400;\n      font-size: 0.875em;\n      line-height: 1.7142857;\n      margin-top: 1.7142857em;\n      margin-bottom: 1.7142857em;\n      border-radius: 0.375rem;\n      padding-top: 0.8571429em;\n      padding-inline-end: 1.1428571em;\n      padding-bottom: 0.8571429em;\n      padding-inline-start: 1.1428571em;\n    }\n    :where(pre code):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      background-color: transparent;\n      border-width: 0;\n      border-radius: 0;\n      padding: 0;\n      font-weight: inherit;\n      color: inherit;\n      font-size: inherit;\n      font-family: inherit;\n      line-height: inherit;\n    }\n    :where(pre code):not(:where([class~="not-prose"],[class~="not-prose"] *))::before {\n      content: none;\n    }\n    :where(pre code):not(:where([class~="not-prose"],[class~="not-prose"] *))::after {\n      content: none;\n    }\n    :where(table):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      width: 100%;\n      table-layout: auto;\n      margin-top: 2em;\n      margin-bottom: 2em;\n      font-size: 0.875em;\n      line-height: 1.7142857;\n    }\n    :where(thead):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      border-bottom-width: 1px;\n      border-bottom-color: var(--tw-prose-th-borders);\n    }\n    :where(thead th):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-headings);\n      font-weight: 600;\n      vertical-align: bottom;\n      padding-inline-end: 0.5714286em;\n      padding-bottom: 0.5714286em;\n      padding-inline-start: 0.5714286em;\n    }\n    :where(tbody tr):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      border-bottom-width: 1px;\n      border-bottom-color: var(--tw-prose-td-borders);\n    }\n    :where(tbody tr:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      border-bottom-width: 0;\n    }\n    :where(tbody td):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      vertical-align: baseline;\n    }\n    :where(tfoot):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      border-top-width: 1px;\n      border-top-color: var(--tw-prose-th-borders);\n    }\n    :where(tfoot td):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      vertical-align: top;\n    }\n    :where(th, td):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      text-align: start;\n    }\n    :where(figure > *):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n    :where(figcaption):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      color: var(--tw-prose-captions);\n      font-size: 0.875em;\n      line-height: 1.4285714;\n      margin-top: 0.8571429em;\n    }\n    --tw-prose-body: oklch(37.3% 0.034 259.733);\n    --tw-prose-headings: oklch(21% 0.034 264.665);\n    --tw-prose-lead: oklch(44.6% 0.03 256.802);\n    --tw-prose-links: oklch(21% 0.034 264.665);\n    --tw-prose-bold: oklch(21% 0.034 264.665);\n    --tw-prose-counters: oklch(55.1% 0.027 264.364);\n    --tw-prose-bullets: oklch(87.2% 0.01 258.338);\n    --tw-prose-hr: oklch(92.8% 0.006 264.531);\n    --tw-prose-quotes: oklch(21% 0.034 264.665);\n    --tw-prose-quote-borders: oklch(92.8% 0.006 264.531);\n    --tw-prose-captions: oklch(55.1% 0.027 264.364);\n    --tw-prose-kbd: oklch(21% 0.034 264.665);\n    --tw-prose-kbd-shadows: NaN NaN NaN;\n    --tw-prose-code: oklch(21% 0.034 264.665);\n    --tw-prose-pre-code: oklch(92.8% 0.006 264.531);\n    --tw-prose-pre-bg: oklch(27.8% 0.033 256.848);\n    --tw-prose-th-borders: oklch(87.2% 0.01 258.338);\n    --tw-prose-td-borders: oklch(92.8% 0.006 264.531);\n    --tw-prose-invert-body: oklch(87.2% 0.01 258.338);\n    --tw-prose-invert-headings: #fff;\n    --tw-prose-invert-lead: oklch(70.7% 0.022 261.325);\n    --tw-prose-invert-links: #fff;\n    --tw-prose-invert-bold: #fff;\n    --tw-prose-invert-counters: oklch(70.7% 0.022 261.325);\n    --tw-prose-invert-bullets: oklch(44.6% 0.03 256.802);\n    --tw-prose-invert-hr: oklch(37.3% 0.034 259.733);\n    --tw-prose-invert-quotes: oklch(96.7% 0.003 264.542);\n    --tw-prose-invert-quote-borders: oklch(37.3% 0.034 259.733);\n    --tw-prose-invert-captions: oklch(70.7% 0.022 261.325);\n    --tw-prose-invert-kbd: #fff;\n    --tw-prose-invert-kbd-shadows: 255 255 255;\n    --tw-prose-invert-code: #fff;\n    --tw-prose-invert-pre-code: oklch(87.2% 0.01 258.338);\n    --tw-prose-invert-pre-bg: rgb(0 0 0 / 50%);\n    --tw-prose-invert-th-borders: oklch(44.6% 0.03 256.802);\n    --tw-prose-invert-td-borders: oklch(37.3% 0.034 259.733);\n    font-size: 1rem;\n    line-height: 1.75;\n    :where(picture > img):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n    :where(li):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0.5em;\n      margin-bottom: 0.5em;\n    }\n    :where(ol > li):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-start: 0.375em;\n    }\n    :where(ul > li):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-start: 0.375em;\n    }\n    :where(.prose > ul > li p):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0.75em;\n      margin-bottom: 0.75em;\n    }\n    :where(.prose > ul > li > p:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 1.25em;\n    }\n    :where(.prose > ul > li > p:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-bottom: 1.25em;\n    }\n    :where(.prose > ol > li > p:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 1.25em;\n    }\n    :where(.prose > ol > li > p:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-bottom: 1.25em;\n    }\n    :where(ul ul, ul ol, ol ul, ol ol):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0.75em;\n      margin-bottom: 0.75em;\n    }\n    :where(dl):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 1.25em;\n      margin-bottom: 1.25em;\n    }\n    :where(dd):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0.5em;\n      padding-inline-start: 1.625em;\n    }\n    :where(hr + *):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n    }\n    :where(h2 + *):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n    }\n    :where(h3 + *):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n    }\n    :where(h4 + *):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n    }\n    :where(thead th:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-start: 0;\n    }\n    :where(thead th:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-end: 0;\n    }\n    :where(tbody td, tfoot td):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-top: 0.5714286em;\n      padding-inline-end: 0.5714286em;\n      padding-bottom: 0.5714286em;\n      padding-inline-start: 0.5714286em;\n    }\n    :where(tbody td:first-child, tfoot td:first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-start: 0;\n    }\n    :where(tbody td:last-child, tfoot td:last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      padding-inline-end: 0;\n    }\n    :where(figure):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 2em;\n      margin-bottom: 2em;\n    }\n    :where(.prose > :first-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-top: 0;\n    }\n    :where(.prose > :last-child):not(:where([class~="not-prose"],[class~="not-prose"] *)) {\n      margin-bottom: 0;\n    }\n  }\n  .label {\n    display: block;\n    width: 100%;\n    & > * + * {\n      margin-top: calc(var(--spacing) * 1);\n    }\n  }\n  .-mt-px {\n    margin-top: -1px;\n  }\n  .mt-1 {\n    margin-top: calc(var(--spacing) * 1);\n  }\n  .mt-2 {\n    margin-top: calc(var(--spacing) * 2);\n  }\n  .mt-4 {\n    margin-top: calc(var(--spacing) * 4);\n  }\n  .input {\n    background-color: transparent;\n    border-radius: var(--radius-base);\n    display: block;\n    width: 100%;\n    font-size: var(--text-base);\n    line-height: var(--text-base--line-height);\n    padding-block: calc(var(--spacing) * 1);\n    padding-inline: calc(var(--spacing) * 3);\n    outline-color: transparent;\n    border-width: 0;\n    --tw-ring-inset: inset;\n    --tw-ring-color: var(--color-surface-200-800);\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 var(--default-ring-width) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    &:active {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &:focus {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &:focus-within {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &::placeholder {\n      color: var(--color-surface-700-300);\n    }\n    &[type=\'file\']::file-selector-button {\n      cursor: pointer;\n      border-radius: var(--radius-base);\n      background-color: var(--color-surface-950-50);\n      color: var(--color-surface-50-950);\n      transform: translateY(calc(var(--spacing) * -0.5));\n      margin-right: calc(var(--spacing) * 2);\n      text-transform: capitalize;\n      font-size: var(--text-xs);\n      height: var(--text-xs--line-height);\n      padding-block: calc(var(--spacing) * 0);\n      padding-inline: calc(var(--spacing) * 3);\n    }\n    &[type=\'range\'] {\n      accent-color: var(--color-surface-950-50);\n      box-shadow: none;\n    }\n    &[type=\'color\'] {\n      border-radius: var(--radius-base);\n      width: calc(var(--spacing) * 8.5);\n      height: calc(var(--spacing) * 8.5);\n      padding: 0;\n      border: none;\n      outline: none;\n      -webkit-appearance: none;\n    }\n    &[type=\'color\']::-webkit-color-swatch-wrapper {\n      padding: 0;\n    }\n    &[type=\'color\']::-webkit-color-swatch {\n      border: none;\n      border-radius: var(--radius-base);\n    }\n  }\n  .mr-1 {\n    margin-right: calc(var(--spacing) * 1);\n  }\n  .mr-1\\.5 {\n    margin-right: calc(var(--spacing) * 1.5);\n  }\n  .mr-2 {\n    margin-right: calc(var(--spacing) * 2);\n  }\n  .mr-4 {\n    margin-right: calc(var(--spacing) * 4);\n  }\n  .-mb-px {\n    margin-bottom: -1px;\n  }\n  .mb-1 {\n    margin-bottom: calc(var(--spacing) * 1);\n  }\n  .mb-2 {\n    margin-bottom: calc(var(--spacing) * 2);\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .ml-1 {\n    margin-left: calc(var(--spacing) * 1);\n  }\n  .ml-2 {\n    margin-left: calc(var(--spacing) * 2);\n  }\n  .btn {\n    border-radius: var(--radius-base);\n    display: inline-flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    gap: calc(var(--spacing) * 2);\n    text-decoration-line: none;\n    white-space: nowrap;\n    font-size: var(--text-base);\n    line-height: var(--text-base--line-height);\n    padding-block: calc(var(--spacing) * 1);\n    padding-inline: calc(var(--spacing) * 4);\n    transition-property: all;\n    transition-timing-function: var(--default-transition-timing-function);\n    transition-duration: var(--default-transition-duration);\n    &:hover {\n      @media (hover: hover) {\n        filter: brightness(125%);\n        &:is(.dark *) {\n          filter: brightness(75%);\n        }\n      }\n    }\n  }\n  .block {\n    display: block;\n  }\n  .contents {\n    display: contents;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline {\n    display: inline;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .table {\n    display: table;\n  }\n  .checkbox {\n    --tw-ring-color: var(--color-surface-200-800);\n    cursor: pointer;\n    background-color: var(--color-surface-300-700);\n    border-radius: var(--radius-sm);\n    height: calc(var(--spacing) * 5);\n    width: calc(var(--spacing) * 5);\n    &:focus-within {\n      --tw-ring-color: var(--color-primary-500);\n    }\n    &:hover {\n      @media (hover: hover) {\n        filter: brightness(105%);\n      }\n    }\n    &:focus {\n      filter: brightness(105%);\n    }\n    &:checked {\n      background-color: var(--color-primary-500);\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-primary-500);\n        }\n      }\n      &:focus {\n        background-color: var(--color-primary-500);\n        border: 0;\n      }\n    }\n    &:indeterminate {\n      background-color: var(--color-primary-500);\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-primary-500);\n        }\n      }\n      &:focus {\n        background-color: var(--color-primary-500);\n        border: 0;\n      }\n    }\n  }\n  .progress {\n    webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    border-radius: var(--radius-base);\n    background-color: var(--color-surface-200-800);\n    width: 100%;\n    height: calc(var(--spacing) * 2);\n    overflow: hidden;\n    &::-webkit-progress-bar {\n      background-color: var(--color-surface-200-800);\n    }\n    &::-webkit-progress-value {\n      background-color: var(--color-surface-950-50);\n    }\n    &::-moz-progress-bar {\n      background-color: var(--color-surface-950-50);\n    }\n    &:indeterminate::-moz-progress-bar {\n      width: 0;\n    }\n  }\n  .h-1\\.5 {\n    height: calc(var(--spacing) * 1.5);\n  }\n  .h-2 {\n    height: calc(var(--spacing) * 2);\n  }\n  .h-4 {\n    height: calc(var(--spacing) * 4);\n  }\n  .h-5 {\n    height: calc(var(--spacing) * 5);\n  }\n  .h-6 {\n    height: calc(var(--spacing) * 6);\n  }\n  .h-8 {\n    height: calc(var(--spacing) * 8);\n  }\n  .h-10 {\n    height: calc(var(--spacing) * 10);\n  }\n  .h-12 {\n    height: calc(var(--spacing) * 12);\n  }\n  .h-full {\n    height: 100%;\n  }\n  .h-px {\n    height: 1px;\n  }\n  .max-h-60 {\n    max-height: calc(var(--spacing) * 60);\n  }\n  .max-h-\\[80vh\\] {\n    max-height: 80vh;\n  }\n  .placeholder {\n    background-color: var(--color-surface-200-800);\n    border-radius: var(--radius-base);\n    min-height: calc(var(--spacing) * 4);\n  }\n  .min-h-0 {\n    min-height: calc(var(--spacing) * 0);\n  }\n  .min-h-\\[38px\\] {\n    min-height: 38px;\n  }\n  .w-1\\.5 {\n    width: calc(var(--spacing) * 1.5);\n  }\n  .w-1\\/2 {\n    width: calc(1/2 * 100%);\n  }\n  .w-4 {\n    width: calc(var(--spacing) * 4);\n  }\n  .w-5 {\n    width: calc(var(--spacing) * 5);\n  }\n  .w-8 {\n    width: calc(var(--spacing) * 8);\n  }\n  .w-10 {\n    width: calc(var(--spacing) * 10);\n  }\n  .w-11 {\n    width: calc(var(--spacing) * 11);\n  }\n  .w-12 {\n    width: calc(var(--spacing) * 12);\n  }\n  .w-40 {\n    width: calc(var(--spacing) * 40);\n  }\n  .w-48 {\n    width: calc(var(--spacing) * 48);\n  }\n  .w-80 {\n    width: calc(var(--spacing) * 80);\n  }\n  .w-full {\n    width: 100%;\n  }\n  .w-px {\n    width: 1px;\n  }\n  .max-w-2xl {\n    max-width: var(--container-2xl);\n  }\n  .max-w-\\[120px\\] {\n    max-width: 120px;\n  }\n  .max-w-lg {\n    max-width: var(--container-lg);\n  }\n  .max-w-md {\n    max-width: var(--container-md);\n  }\n  .max-w-none {\n    max-width: none;\n  }\n  .max-w-sm {\n    max-width: var(--container-sm);\n  }\n  .min-w-0 {\n    min-width: calc(var(--spacing) * 0);\n  }\n  .min-w-40 {\n    min-width: calc(var(--spacing) * 40);\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .flex-shrink {\n    flex-shrink: 1;\n  }\n  .flex-shrink-0 {\n    flex-shrink: 0;\n  }\n  .shrink-0 {\n    flex-shrink: 0;\n  }\n  .flex-grow {\n    flex-grow: 1;\n  }\n  .grow {\n    flex-grow: 1;\n  }\n  .translate-x-0 {\n    --tw-translate-x: calc(var(--spacing) * 0);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-x-5 {\n    --tw-translate-x: calc(var(--spacing) * 5);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .-translate-y-1\\/2 {\n    --tw-translate-y: calc(calc(1/2 * 100%) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .transform {\n    transform: var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,);\n  }\n  .cursor-not-allowed {\n    cursor: not-allowed;\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .touch-none {\n    touch-action: none;\n  }\n  .resize {\n    resize: both;\n  }\n  .appearance-none {\n    appearance: none;\n  }\n  .grid-cols-1 {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .flex-row {\n    flex-direction: row;\n  }\n  .flex-wrap {\n    flex-wrap: wrap;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .items-start {\n    align-items: flex-start;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .justify-end {\n    justify-content: flex-end;\n  }\n  .justify-start {\n    justify-content: flex-start;\n  }\n  .gap-1 {\n    gap: calc(var(--spacing) * 1);\n  }\n  .gap-2 {\n    gap: calc(var(--spacing) * 2);\n  }\n  .gap-3 {\n    gap: calc(var(--spacing) * 3);\n  }\n  .gap-4 {\n    gap: calc(var(--spacing) * 4);\n  }\n  .space-y-1 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 1) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-x-1 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 1) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 1) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 2) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 4) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-auto {\n    overflow: auto;\n  }\n  .overflow-hidden {\n    overflow: hidden;\n  }\n  .pre {\n    background-color: rgba(0, 0, 0, 0.85);\n    backdrop-filter: blur(var(--blur-sm));\n    border-radius: var(--radius-container);\n    color: var(--color-white);\n    font-size: var(--text-xs);\n    white-space: pre-wrap;\n    padding: calc(var(--spacing) * 4);\n    overflow-x: auto;\n  }\n  .code {\n    &:not(pre &, .ec-line &) {\n      background-color: var(--color-primary-100-900);\n      border-radius: var(--radius-base);\n      color: var(--color-primary-contrast-50-950);\n      font-family: var(--font-mono);\n      font-size: var(--text-xs);\n      white-space: nowrap;\n      padding-inline: calc(var(--spacing) * 1.5);\n      padding-block: calc(var(--spacing) * 0.75);\n      overflow-x: auto;\n    }\n  }\n  .overflow-x-auto {\n    overflow-x: auto;\n  }\n  .overflow-y-auto {\n    overflow-y: auto;\n  }\n  .mark {\n    color: var(--color-tertiary-contrast-500);\n    background-color: var(--color-tertiary-500);\n    border-radius: var(--radius-sm);\n    padding-inline: calc(var(--spacing) * 1);\n  }\n  .rounded {\n    border-radius: 0.25rem;\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-lg {\n    border-radius: var(--radius-lg);\n  }\n  .rounded-md {\n    border-radius: var(--radius-md);\n  }\n  .rounded-none {\n    border-radius: 0;\n  }\n  .rounded-t-md {\n    border-top-left-radius: var(--radius-md);\n    border-top-right-radius: var(--radius-md);\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-2 {\n    border-style: var(--tw-border-style);\n    border-width: 2px;\n  }\n  .border-3 {\n    border-style: var(--tw-border-style);\n    border-width: 3px;\n  }\n  .border-4 {\n    border-style: var(--tw-border-style);\n    border-width: 4px;\n  }\n  .border-t {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-t-2 {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 2px;\n  }\n  .border-r {\n    border-right-style: var(--tw-border-style);\n    border-right-width: 1px;\n  }\n  .border-b {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-b-0 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 0px;\n  }\n  .border-b-2 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 2px;\n  }\n  .border-l-2 {\n    border-left-style: var(--tw-border-style);\n    border-left-width: 2px;\n  }\n  .border-l-4 {\n    border-left-style: var(--tw-border-style);\n    border-left-width: 4px;\n  }\n  .blockquote {\n    border-left-width: 3px;\n    border-left-color: var(--color-primary-500);\n    padding-left: calc(var(--spacing) * 4);\n    font-style: italic;\n  }\n  .border-blue-500 {\n    border-color: var(--color-blue-500);\n  }\n  .border-error-500 {\n    border-color: var(--color-error-500);\n  }\n  .border-gray-300 {\n    border-color: var(--color-gray-300);\n  }\n  .border-primary-400 {\n    border-color: var(--color-primary-400);\n  }\n  .border-primary-500 {\n    border-color: var(--color-primary-500);\n  }\n  .border-surface-200 {\n    border-color: var(--color-surface-200);\n  }\n  .border-surface-300 {\n    border-color: var(--color-surface-300);\n  }\n  .border-surface-500 {\n    border-color: var(--color-surface-500);\n  }\n  .border-transparent {\n    border-color: transparent;\n  }\n  .border-white {\n    border-color: var(--color-white);\n  }\n  .border-t-transparent {\n    border-top-color: transparent;\n  }\n  .border-l-blue-500 {\n    border-left-color: var(--color-blue-500);\n  }\n  .border-l-green-500 {\n    border-left-color: var(--color-green-500);\n  }\n  .border-l-red-500 {\n    border-left-color: var(--color-red-500);\n  }\n  .border-l-yellow-500 {\n    border-left-color: var(--color-yellow-500);\n  }\n  .bg-black {\n    background-color: var(--color-black);\n  }\n  .bg-black\\/50 {\n    background-color: color-mix(in srgb, #000 50%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-black) 50%, transparent);\n    }\n  }\n  .bg-blue-50 {\n    background-color: var(--color-blue-50);\n  }\n  .bg-blue-100 {\n    background-color: var(--color-blue-100);\n  }\n  .bg-blue-500 {\n    background-color: var(--color-blue-500);\n  }\n  .bg-error-100 {\n    background-color: var(--color-error-100);\n  }\n  .bg-error-500 {\n    background-color: var(--color-error-500);\n  }\n  .bg-green-50 {\n    background-color: var(--color-green-50);\n  }\n  .bg-primary-100 {\n    background-color: var(--color-primary-100);\n  }\n  .bg-primary-500 {\n    background-color: var(--color-primary-500);\n  }\n  .bg-primary-600 {\n    background-color: var(--color-primary-600);\n  }\n  .bg-red-50 {\n    background-color: var(--color-red-50);\n  }\n  .bg-red-100 {\n    background-color: var(--color-red-100);\n  }\n  .bg-red-500 {\n    background-color: var(--color-red-500);\n  }\n  .bg-surface-100 {\n    background-color: var(--color-surface-100);\n  }\n  .bg-surface-200 {\n    background-color: var(--color-surface-200);\n  }\n  .bg-surface-300 {\n    background-color: var(--color-surface-300);\n  }\n  .bg-surface-900 {\n    background-color: var(--color-surface-900);\n  }\n  .bg-transparent {\n    background-color: transparent;\n  }\n  .bg-warning-500 {\n    background-color: var(--color-warning-500);\n  }\n  .bg-white {\n    background-color: var(--color-white);\n  }\n  .bg-white\\/80 {\n    background-color: color-mix(in srgb, #fff 80%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-white) 80%, transparent);\n    }\n  }\n  .bg-yellow-50 {\n    background-color: var(--color-yellow-50);\n  }\n  .p-0\\.5 {\n    padding: calc(var(--spacing) * 0.5);\n  }\n  .p-1 {\n    padding: calc(var(--spacing) * 1);\n  }\n  .p-1\\.5 {\n    padding: calc(var(--spacing) * 1.5);\n  }\n  .p-2 {\n    padding: calc(var(--spacing) * 2);\n  }\n  .p-3 {\n    padding: calc(var(--spacing) * 3);\n  }\n  .p-4 {\n    padding: calc(var(--spacing) * 4);\n  }\n  .px-1 {\n    padding-inline: calc(var(--spacing) * 1);\n  }\n  .px-2 {\n    padding-inline: calc(var(--spacing) * 2);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .px-6 {\n    padding-inline: calc(var(--spacing) * 6);\n  }\n  .py-0 {\n    padding-block: calc(var(--spacing) * 0);\n  }\n  .py-1 {\n    padding-block: calc(var(--spacing) * 1);\n  }\n  .py-1\\.5 {\n    padding-block: calc(var(--spacing) * 1.5);\n  }\n  .py-2 {\n    padding-block: calc(var(--spacing) * 2);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .py-4 {\n    padding-block: calc(var(--spacing) * 4);\n  }\n  .pt-1 {\n    padding-top: calc(var(--spacing) * 1);\n  }\n  .pt-2 {\n    padding-top: calc(var(--spacing) * 2);\n  }\n  .pr-2 {\n    padding-right: calc(var(--spacing) * 2);\n  }\n  .pr-3 {\n    padding-right: calc(var(--spacing) * 3);\n  }\n  .pr-8 {\n    padding-right: calc(var(--spacing) * 8);\n  }\n  .pl-2 {\n    padding-left: calc(var(--spacing) * 2);\n  }\n  .pl-3 {\n    padding-left: calc(var(--spacing) * 3);\n  }\n  .pl-8 {\n    padding-left: calc(var(--spacing) * 8);\n  }\n  .pl-10 {\n    padding-left: calc(var(--spacing) * 10);\n  }\n  .text-center {\n    text-align: center;\n  }\n  .text-left {\n    text-align: left;\n  }\n  .anchor {\n    color: var(--anchor-font-color);\n    font-family: var(--anchor-font-family);\n    font-size: var(--anchor-font-size);\n    line-height: var(--anchor-line-height);\n    font-weight: var(--anchor-font-weight);\n    font-style: var(--anchor-font-style);\n    letter-spacing: var(--anchor-letter-spacing);\n    text-decoration: var(--anchor-text-decoration);\n    &:hover {\n      @media (hover: hover) {\n        text-decoration: var(--anchor-text-decoration-hover);\n      }\n    }\n    &:active {\n      text-decoration: var(--anchor-text-decoration-active);\n    }\n    &:focus {\n      text-decoration: var(--anchor-text-decoration-focus);\n    }\n    &:is(.dark *) {\n      color: var(--anchor-font-color-dark);\n    }\n  }\n  .h2 {\n    color: var(--heading-font-color);\n    font-family: var(--heading-font-family);\n    font-weight: var(--heading-font-weight);\n    font-style: var(--heading-font-style);\n    letter-spacing: var(--heading-letter-spacing);\n    font-size: var(--text-3xl);\n    line-height: var(--text-3xl--line-height);\n    @media (width >= 48rem) {\n      font-size: var(--text-4xl);\n      line-height: var(--text-4xl--line-height);\n    }\n    &:is(.dark *) {\n      color: var(--heading-font-color-dark);\n    }\n  }\n  .h6 {\n    color: var(--heading-font-color);\n    font-family: var(--heading-font-family);\n    font-weight: var(--heading-font-weight);\n    font-style: var(--heading-font-style);\n    letter-spacing: var(--heading-letter-spacing);\n    font-size: var(--text-base);\n    line-height: var(--text-base--line-height);\n    @media (width >= 48rem) {\n      font-size: var(--text-lg);\n      line-height: var(--text-lg--line-height);\n    }\n    &:is(.dark *) {\n      color: var(--heading-font-color-dark);\n    }\n  }\n  .text-lg {\n    font-size: calc(1.125rem * var(--text-scaling));\n    line-height: var(--tw-leading, calc(calc(1.75 / 1.125) * var(--text-scaling)));\n  }\n  .text-sm {\n    font-size: calc(0.875rem * var(--text-scaling));\n    line-height: var(--tw-leading, calc(calc(1.25 / 0.875) * var(--text-scaling)));\n  }\n  .text-xl {\n    font-size: calc(1.25rem * var(--text-scaling));\n    line-height: var(--tw-leading, calc(calc(1.75 / 1.25) * var(--text-scaling)));\n  }\n  .text-xs {\n    font-size: calc(0.75rem * var(--text-scaling));\n    line-height: var(--tw-leading, calc(calc(1 / 0.75) * var(--text-scaling)));\n  }\n  .font-bold {\n    --tw-font-weight: var(--font-weight-bold);\n    font-weight: var(--font-weight-bold);\n  }\n  .font-medium {\n    --tw-font-weight: var(--font-weight-medium);\n    font-weight: var(--font-weight-medium);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .whitespace-nowrap {\n    white-space: nowrap;\n  }\n  .text-amber-500 {\n    color: var(--color-amber-500);\n  }\n  .text-blue-500 {\n    color: var(--color-blue-500);\n  }\n  .text-blue-800 {\n    color: var(--color-blue-800);\n  }\n  .text-error-500 {\n    color: var(--color-error-500);\n  }\n  .text-gray-600 {\n    color: var(--color-gray-600);\n  }\n  .text-green-500 {\n    color: var(--color-green-500);\n  }\n  .text-green-800 {\n    color: var(--color-green-800);\n  }\n  .text-primary-500 {\n    color: var(--color-primary-500);\n  }\n  .text-primary-600 {\n    color: var(--color-primary-600);\n  }\n  .text-primary-700 {\n    color: var(--color-primary-700);\n  }\n  .text-purple-500 {\n    color: var(--color-purple-500);\n  }\n  .text-red-500 {\n    color: var(--color-red-500);\n  }\n  .text-red-800 {\n    color: var(--color-red-800);\n  }\n  .text-secondary-500 {\n    color: var(--color-secondary-500);\n  }\n  .text-surface-400 {\n    color: var(--color-surface-400);\n  }\n  .text-surface-500 {\n    color: var(--color-surface-500);\n  }\n  .text-surface-600 {\n    color: var(--color-surface-600);\n  }\n  .text-surface-700 {\n    color: var(--color-surface-700);\n  }\n  .text-surface-800 {\n    color: var(--color-surface-800);\n  }\n  .text-surface-900 {\n    color: var(--color-surface-900);\n  }\n  .text-warning-500 {\n    color: var(--color-warning-500);\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .text-yellow-500 {\n    color: var(--color-yellow-500);\n  }\n  .text-yellow-800 {\n    color: var(--color-yellow-800);\n  }\n  .italic {\n    font-style: italic;\n  }\n  .opacity-0 {\n    opacity: 0%;\n  }\n  .opacity-50 {\n    opacity: 50%;\n  }\n  .opacity-60 {\n    opacity: 60%;\n  }\n  .opacity-70 {\n    opacity: 70%;\n  }\n  .opacity-75 {\n    opacity: 75%;\n  }\n  .shadow-lg {\n    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-md {\n    --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-sm {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-xl {\n    --tw-shadow: 0 20px 25px -5px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 8px 10px -6px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-0 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-1 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-black {\n    --tw-ring-color: var(--color-black);\n  }\n  .outline {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .blur {\n    --tw-blur: blur(8px);\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .filter {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .backdrop-blur-sm {\n    --tw-backdrop-blur: blur(var(--blur-sm));\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .transition {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-colors {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-opacity {\n    transition-property: opacity;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-transform {\n    transition-property: transform, translate, scale, rotate;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .duration-150 {\n    --tw-duration: 150ms;\n    transition-duration: 150ms;\n  }\n  .ease-in-out {\n    --tw-ease: var(--ease-in-out);\n    transition-timing-function: var(--ease-in-out);\n  }\n  .outline-none {\n    --tw-outline-style: none;\n    outline-style: none;\n  }\n  .select-none {\n    -webkit-user-select: none;\n    user-select: none;\n  }\n  .group-hover\\:opacity-100 {\n    &:is(:where(.group):hover *) {\n      @media (hover: hover) {\n        opacity: 100%;\n      }\n    }\n  }\n  .file\\:border-0 {\n    &::file-selector-button {\n      border-style: var(--tw-border-style);\n      border-width: 0px;\n    }\n  }\n  .file\\:bg-transparent {\n    &::file-selector-button {\n      background-color: transparent;\n    }\n  }\n  .file\\:text-sm {\n    &::file-selector-button {\n      font-size: calc(0.875rem * var(--text-scaling));\n      line-height: var(--tw-leading, calc(calc(1.25 / 0.875) * var(--text-scaling)));\n    }\n  }\n  .file\\:font-medium {\n    &::file-selector-button {\n      --tw-font-weight: var(--font-weight-medium);\n      font-weight: var(--font-weight-medium);\n    }\n  }\n  .placeholder\\:text-surface-500 {\n    &::placeholder {\n      color: var(--color-surface-500);\n    }\n  }\n  .hover\\:border-surface-400 {\n    &:hover {\n      @media (hover: hover) {\n        border-color: var(--color-surface-400);\n      }\n    }\n  }\n  .hover\\:bg-blue-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-600);\n      }\n    }\n  }\n  .hover\\:bg-error-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-error-600);\n      }\n    }\n  }\n  .hover\\:bg-gray-50 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-50);\n      }\n    }\n  }\n  .hover\\:bg-gray-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-200);\n      }\n    }\n  }\n  .hover\\:bg-primary-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-primary-600);\n      }\n    }\n  }\n  .hover\\:bg-primary-700 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-primary-700);\n      }\n    }\n  }\n  .hover\\:bg-red-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-red-600);\n      }\n    }\n  }\n  .hover\\:bg-surface-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-surface-100);\n      }\n    }\n  }\n  .hover\\:bg-surface-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-surface-200);\n      }\n    }\n  }\n  .hover\\:bg-surface-300 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-surface-300);\n      }\n    }\n  }\n  .hover\\:text-error-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-error-700);\n      }\n    }\n  }\n  .hover\\:text-surface-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-surface-600);\n      }\n    }\n  }\n  .hover\\:text-surface-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-surface-700);\n      }\n    }\n  }\n  .hover\\:text-surface-800 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-surface-800);\n      }\n    }\n  }\n  .hover\\:text-surface-900 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-surface-900);\n      }\n    }\n  }\n  .hover\\:underline {\n    &:hover {\n      @media (hover: hover) {\n        text-decoration-line: underline;\n      }\n    }\n  }\n  .focus\\:not-sr-only {\n    &:focus {\n      position: static;\n      width: auto;\n      height: auto;\n      padding: 0;\n      margin: 0;\n      overflow: visible;\n      clip: auto;\n      white-space: normal;\n    }\n  }\n  .focus\\:absolute {\n    &:focus {\n      position: absolute;\n    }\n  }\n  .focus\\:top-0 {\n    &:focus {\n      top: calc(var(--spacing) * 0);\n    }\n  }\n  .focus\\:left-0 {\n    &:focus {\n      left: calc(var(--spacing) * 0);\n    }\n  }\n  .focus\\:z-50 {\n    &:focus {\n      z-index: 50;\n    }\n  }\n  .focus\\:border-primary-500 {\n    &:focus {\n      border-color: var(--color-primary-500);\n    }\n  }\n  .focus\\:bg-primary-500 {\n    &:focus {\n      background-color: var(--color-primary-500);\n    }\n  }\n  .focus\\:p-4 {\n    &:focus {\n      padding: calc(var(--spacing) * 4);\n    }\n  }\n  .focus\\:text-white {\n    &:focus {\n      color: var(--color-white);\n    }\n  }\n  .focus\\:ring-1 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-2 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-error-500 {\n    &:focus {\n      --tw-ring-color: var(--color-error-500);\n    }\n  }\n  .focus\\:ring-primary-500 {\n    &:focus {\n      --tw-ring-color: var(--color-primary-500);\n    }\n  }\n  .focus\\:ring-offset-2 {\n    &:focus {\n      --tw-ring-offset-width: 2px;\n      --tw-ring-offset-shadow: var(--tw-ring-inset,) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n    }\n  }\n  .focus\\:outline-none {\n    &:focus {\n      --tw-outline-style: none;\n      outline-style: none;\n    }\n  }\n  .focus-visible\\:ring-2 {\n    &:focus-visible {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus-visible\\:ring-primary-500 {\n    &:focus-visible {\n      --tw-ring-color: var(--color-primary-500);\n    }\n  }\n  .focus-visible\\:ring-offset-2 {\n    &:focus-visible {\n      --tw-ring-offset-width: 2px;\n      --tw-ring-offset-shadow: var(--tw-ring-inset,) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n    }\n  }\n  .focus-visible\\:outline-none {\n    &:focus-visible {\n      --tw-outline-style: none;\n      outline-style: none;\n    }\n  }\n  .disabled\\:pointer-events-none {\n    &:disabled {\n      pointer-events: none;\n    }\n  }\n  .disabled\\:cursor-not-allowed {\n    &:disabled {\n      cursor: not-allowed;\n    }\n  }\n  .disabled\\:opacity-50 {\n    &:disabled {\n      opacity: 50%;\n    }\n  }\n  .md\\:grid-cols-2 {\n    @media (width >= 48rem) {\n      grid-template-columns: repeat(2, minmax(0, 1fr));\n    }\n  }\n  .md\\:gap-4 {\n    @media (width >= 48rem) {\n      gap: calc(var(--spacing) * 4);\n    }\n  }\n  .dark\\:border-blue-400 {\n    &:is(.dark *) {\n      border-color: var(--color-blue-400);\n    }\n  }\n  .dark\\:border-primary-400 {\n    &:is(.dark *) {\n      border-color: var(--color-primary-400);\n    }\n  }\n  .dark\\:border-primary-600 {\n    &:is(.dark *) {\n      border-color: var(--color-primary-600);\n    }\n  }\n  .dark\\:border-surface-600 {\n    &:is(.dark *) {\n      border-color: var(--color-surface-600);\n    }\n  }\n  .dark\\:border-surface-700 {\n    &:is(.dark *) {\n      border-color: var(--color-surface-700);\n    }\n  }\n  .dark\\:bg-blue-900\\/20 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(37.9% 0.146 265.522) 20%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-blue-900) 20%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-blue-900\\/30 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(37.9% 0.146 265.522) 30%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-blue-900) 30%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-error-900\\/20 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(20.5% 0 0deg) 20%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-error-900) 20%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-green-900\\/20 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(39.3% 0.095 152.535) 20%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-green-900) 20%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-primary-900 {\n    &:is(.dark *) {\n      background-color: var(--color-primary-900);\n    }\n  }\n  .dark\\:bg-red-900\\/20 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(39.6% 0.141 25.723) 20%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-red-900) 20%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-red-900\\/30 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(39.6% 0.141 25.723) 30%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-red-900) 30%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-surface-700 {\n    &:is(.dark *) {\n      background-color: var(--color-surface-700);\n    }\n  }\n  .dark\\:bg-surface-800 {\n    &:is(.dark *) {\n      background-color: var(--color-surface-800);\n    }\n  }\n  .dark\\:bg-surface-900 {\n    &:is(.dark *) {\n      background-color: var(--color-surface-900);\n    }\n  }\n  .dark\\:bg-surface-900\\/80 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(20.5% 0 0deg) 80%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-surface-900) 80%, transparent);\n      }\n    }\n  }\n  .dark\\:bg-yellow-900\\/20 {\n    &:is(.dark *) {\n      background-color: color-mix(in srgb, oklch(42.1% 0.095 57.708) 20%, transparent);\n      @supports (color: color-mix(in lab, red, red)) {\n        background-color: color-mix(in oklab, var(--color-yellow-900) 20%, transparent);\n      }\n    }\n  }\n  .dark\\:text-blue-200 {\n    &:is(.dark *) {\n      color: var(--color-blue-200);\n    }\n  }\n  .dark\\:text-green-200 {\n    &:is(.dark *) {\n      color: var(--color-green-200);\n    }\n  }\n  .dark\\:text-primary-300 {\n    &:is(.dark *) {\n      color: var(--color-primary-300);\n    }\n  }\n  .dark\\:text-primary-400 {\n    &:is(.dark *) {\n      color: var(--color-primary-400);\n    }\n  }\n  .dark\\:text-red-200 {\n    &:is(.dark *) {\n      color: var(--color-red-200);\n    }\n  }\n  .dark\\:text-secondary-400 {\n    &:is(.dark *) {\n      color: var(--color-secondary-400);\n    }\n  }\n  .dark\\:text-surface-100 {\n    &:is(.dark *) {\n      color: var(--color-surface-100);\n    }\n  }\n  .dark\\:text-surface-200 {\n    &:is(.dark *) {\n      color: var(--color-surface-200);\n    }\n  }\n  .dark\\:text-surface-300 {\n    &:is(.dark *) {\n      color: var(--color-surface-300);\n    }\n  }\n  .dark\\:text-surface-400 {\n    &:is(.dark *) {\n      color: var(--color-surface-400);\n    }\n  }\n  .dark\\:text-surface-500 {\n    &:is(.dark *) {\n      color: var(--color-surface-500);\n    }\n  }\n  .dark\\:text-yellow-200 {\n    &:is(.dark *) {\n      color: var(--color-yellow-200);\n    }\n  }\n  .dark\\:hover\\:border-surface-500 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          border-color: var(--color-surface-500);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:bg-gray-700 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-gray-700);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:bg-surface-600 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-surface-600);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:bg-surface-700 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-surface-700);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:bg-surface-800 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-surface-800);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:text-error-400 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          color: var(--color-error-400);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:text-surface-100 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          color: var(--color-surface-100);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:text-surface-200 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          color: var(--color-surface-200);\n        }\n      }\n    }\n  }\n  .dark\\:hover\\:text-surface-300 {\n    &:is(.dark *) {\n      &:hover {\n        @media (hover: hover) {\n          color: var(--color-surface-300);\n        }\n      }\n    }\n  }\n}\n@layer base {\n  :root {\n    color-scheme: light;\n    &:is(.dark *) {\n      color-scheme: dark;\n    }\n    scrollbar-color: var(--color-surface-300-700) var(--color-surface-100-900);\n    scrollbar-width: thin;\n  }\n  html {\n    -webkit-tap-highlight-color: color-mix(in srgb, oklch(55.6% 0 0deg) 30%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      -webkit-tap-highlight-color: color-mix(in oklab, var(--color-primary-500) 30%, transparent);\n    }\n  }\n  body {\n    background-color: var(--body-background-color);\n    &:is(.dark *) {\n      background-color: var(--body-background-color-dark);\n    }\n    color: var(--base-font-color);\n    font-family: var(--base-font-family);\n    font-size: var(--base-font-size);\n    line-height: var(--base-line-height);\n    font-weight: var(--base-font-weight);\n    font-style: var(--base-font-style);\n    letter-spacing: var(--base-letter-spacing);\n    &:is(.dark *) {\n      color: var(--base-font-color-dark);\n    }\n  }\n  button:not(:disabled),\t[role=\'button\']:not(:disabled) {\n    cursor: pointer;\n  }\n  ::selection {\n    background-color: color-mix(in srgb, oklch(55.6% 0 0deg) 50%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in srgb, var(--color-primary-500) 50%, transparent);\n    }\n  }\n  *:disabled,\t.disabled {\n    opacity: 0.5;\n    & > * {\n      pointer-events: none;\n    }\n  }\n}\n@keyframes anim-progress-indeterminate {\n  from {\n    transform: translateX(-200%);\n  }\n  to {\n    transform: translateX(200%);\n  }\n}\n@keyframes anim-ring-indeterminate {\n  from {\n    stroke-dasharray: 1, 400;\n    stroke-dashoffset: 0;\n  }\n  to {\n    stroke-dasharray: 400, 400;\n    stroke-dashoffset: -140;\n  }\n}\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n::-webkit-scrollbar-track {\n  background: transparent;\n}\n::-webkit-scrollbar-thumb {\n  background-color: rgba(156, 163, 175, 0.5);\n  border-radius: 6px;\n  border: 2px solid transparent;\n  background-clip: content-box;\n}\n::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(156, 163, 175, 0.7);\n}\n* {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(156, 163, 175, 0.5) transparent;\n}\n.dark::-webkit-scrollbar-thumb {\n  background-color: rgba(75, 85, 99, 0.5);\n}\n.dark::-webkit-scrollbar-thumb:hover {\n  background-color: rgba(75, 85, 99, 0.7);\n}\n.dark * {\n  scrollbar-color: rgba(75, 85, 99, 0.5) transparent;\n}\nhtml, body {\n  margin: 0;\n  padding: 0;\n  font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', \'Roboto\', \'Oxygen\',\n    \'Ubuntu\', \'Cantarell\', \'Fira Sans\', \'Droid Sans\', \'Helvetica Neue\',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n}\n#root {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\nmain {\n  flex: 1;\n  min-height: 0;\n  display: flex;\n  flex-direction: column;\n}\n.dark body {\n  background-color: var(--color-surface-900);\n  color: var(--color-surface-100);\n}\n.dark .markdown-preview {\n  background-color: var(--color-surface-800);\n  color: var(--color-surface-100);\n  border-color: var(--color-surface-700);\n}\n.dark .markdown-preview pre {\n  background-color: var(--color-surface-900);\n}\n@media (max-width: 768px) {\n  .gutter {\n    background-color: rgba(120, 120, 120, 0.2);\n  }\n  .gutter.gutter-horizontal {\n    cursor: col-resize;\n    height: 100%;\n    width: 8px !important;\n  }\n  .gutter.gutter-vertical {\n    cursor: row-resize;\n    width: 100%;\n    height: 8px !important;\n  }\n  .preview-container {\n    max-height: 100%;\n    overflow-y: auto;\n  }\n  .fixed {\n    z-index: 50;\n  }\n}\n@media (max-width: 768px) {\n  .responsive-split {\n    display: flex !important;\n    flex-direction: column !important;\n  }\n  .responsive-split > .gutter {\n    width: 100% !important;\n    height: 8px !important;\n    cursor: row-resize !important;\n  }\n  .responsive-split-vertical {\n    flex-direction: column !important;\n  }\n  .responsive-split-vertical > .gutter {\n    width: 100% !important;\n    height: 8px !important;\n  }\n}\n.sidebar-mobile {\n  overflow-y: auto !important;\n  max-height: 100vh;\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n:focus-visible {\n  outline: 2px solid #0ea5e9;\n  outline-offset: 2px;\n}\n@media (forced-colors: active) {\n  * {\n    border-color: currentColor;\n  }\n  button, \n  a, \n  .gutter {\n    forced-color-adjust: none;\n  }\n  :focus {\n    outline: 2px solid transparent;\n    outline-offset: 2px;\n  }\n}\n@media (prefers-reduced-motion: reduce) {\n  *, *::before, *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n    scroll-behavior: auto !important;\n  }\n}\n[tabindex]:not([tabindex="-1"]):focus,\na:focus,\nbutton:focus,\ninput:focus,\nselect:focus,\ntextarea:focus {\n  outline: 2px solid #0ea5e9;\n  outline-offset: 2px;\n}\n.skip-to-content {\n  background: #0ea5e9;\n  color: white;\n  font-weight: bold;\n  left: 50%;\n  padding: 8px;\n  position: absolute;\n  transform: translateY(-100%);\n  z-index: 100;\n}\n.skip-to-content:focus {\n  transform: translateY(0%);\n}\nbody.modal-open {\n  overflow: hidden;\n}\n.editor-tabs button:focus,\n.workspace-state-tabs button:focus {\n  outline: none;\n}\n.editor-fullscreen-active {\n  position: fixed !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100vw !important;\n  height: 100vh !important;\n  z-index: 1000 !important;\n  background-color: var(--color-surface- FFD700, hsl(var(--surface-100)));\n  padding: 0 !important;\n  margin: 0 !important;\n}\n.dnd-tabs-container {\n  user-select: none;\n  position: relative;\n  z-index: 10;\n}\n.sortable-tab {\n  cursor: grab;\n  touch-action: none;\n  display: flex;\n  align-items: center;\n  position: relative;\n  pointer-events: auto;\n}\n.sortable-tab[data-dragging="true"] {\n  cursor: grabbing;\n  opacity: 0.5;\n  z-index: 999;\n}\n.sortable-tab > div {\n  pointer-events: auto;\n}\n.sortable-tab > div > button {\n  pointer-events: auto;\n}\n.editor-tabs [role="tab"] {\n  -webkit-user-drag: none;\n  user-drag: none;\n}\n@-moz-document url-prefix() {\n  .sortable-tab {\n    position: relative;\n    z-index: 1;\n  }\n  .sortable-tab[data-dragging="true"] {\n    z-index: 1000;\n  }\n}\n@property --tw-translate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-rotate-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-rotate-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-rotate-z {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-skew-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-skew-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-space-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-space-x-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-border-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-font-weight {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-inset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: "<length>";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: "*";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-outline-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-drop-shadow-alpha {\n  syntax: "<percentage>";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-drop-shadow-size {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ease {\n  syntax: "*";\n  inherits: false;\n}\n@layer properties {\n  @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))) {\n    *, ::before, ::after, ::backdrop {\n      --tw-translate-x: 0;\n      --tw-translate-y: 0;\n      --tw-translate-z: 0;\n      --tw-rotate-x: initial;\n      --tw-rotate-y: initial;\n      --tw-rotate-z: initial;\n      --tw-skew-x: initial;\n      --tw-skew-y: initial;\n      --tw-space-y-reverse: 0;\n      --tw-space-x-reverse: 0;\n      --tw-border-style: solid;\n      --tw-font-weight: initial;\n      --tw-shadow: 0 0 #0000;\n      --tw-shadow-color: initial;\n      --tw-shadow-alpha: 100%;\n      --tw-inset-shadow: 0 0 #0000;\n      --tw-inset-shadow-color: initial;\n      --tw-inset-shadow-alpha: 100%;\n      --tw-ring-color: initial;\n      --tw-ring-shadow: 0 0 #0000;\n      --tw-inset-ring-color: initial;\n      --tw-inset-ring-shadow: 0 0 #0000;\n      --tw-ring-inset: initial;\n      --tw-ring-offset-width: 0px;\n      --tw-ring-offset-color: #fff;\n      --tw-ring-offset-shadow: 0 0 #0000;\n      --tw-outline-style: solid;\n      --tw-blur: initial;\n      --tw-brightness: initial;\n      --tw-contrast: initial;\n      --tw-grayscale: initial;\n      --tw-hue-rotate: initial;\n      --tw-invert: initial;\n      --tw-opacity: initial;\n      --tw-saturate: initial;\n      --tw-sepia: initial;\n      --tw-drop-shadow: initial;\n      --tw-drop-shadow-color: initial;\n      --tw-drop-shadow-alpha: 100%;\n      --tw-drop-shadow-size: initial;\n      --tw-backdrop-blur: initial;\n      --tw-backdrop-brightness: initial;\n      --tw-backdrop-contrast: initial;\n      --tw-backdrop-grayscale: initial;\n      --tw-backdrop-hue-rotate: initial;\n      --tw-backdrop-invert: initial;\n      --tw-backdrop-opacity: initial;\n      --tw-backdrop-saturate: initial;\n      --tw-backdrop-sepia: initial;\n      --tw-duration: initial;\n      --tw-ease: initial;\n    }\n  }\n} ',"",{version:3,sources:["webpack://./src/index.css"],names:[],mappings:"AAAA,gEAmUE;AAnUF,iBAmUE;AAnUF,yCAmUE;AAnUF;EAAA;IAAA;6DAmUE;IAnUF;8BAmUE;IAnUF,wCAmUE;IAnUF,0CAmUE;IAnUF,0CAmUE;IAnUF,0CAmUE;IAnUF,0CAmUE;IAnUF,0CAmUE;IAnUF,0CAmUE;IAnUF,2CAmUE;IAnUF,6CAmUE;IAnUF,6CAmUE;IAnUF,6CAmUE;IAnUF,6CAmUE;IAnUF,6CAmUE;IAnUF,4CAmUE;IAnUF,6CAmUE;IAnUF,6CAmUE;IAnUF,6CAmUE;IAnUF,6CAmUE;IAnUF,yCAmUE;IAnUF,4CAmUE;IAnUF,4CAmUE;IAnUF,4CAmUE;IAnUF,4CAmUE;IAnUF,4CAmUE;IAnUF,4CAmUE;IAnUF,4CAmUE;IAnUF,4CAmUE;IAnUF,2CAmUE;IAnUF,4CAmUE;IAnUF,2CAmUE;IAnUF,2CAmUE;IAnUF,4CAmUE;IAnUF,mBAmUE;IAnUF,mBAmUE;IAnUF,kBAmUE;IAnUF,qBAmUE;IAnUF,qBAmUE;IAnUF,qBAmUE;IAnUF,sBAmUE;IAnUF,8CAmUE;IAnUF,kEAmUE;IAnUF,+CAmUE;IAnUF,sEAmUE;IAnUF,6CAmUE;IAnUF,mEAmUE;IAnUF,+CAmUE;IAnUF,sEAmUE;IAnUF,gDAmUE;IAnUF,uEAmUE;IAnUF,+CAmUE;IAnUF,qEAmUE;IAnUF,yBAmUE;IAnUF,2BAmUE;IAnUF,uBAmUE;IAnUF,oBAmUE;IAnUF,qBAmUE;IAnUF,mBAmUE;IAnUF,2CAmUE;IAnUF,cAmUE;IAnUF,oCAmUE;IAnUF,kEAmUE;IAnUF,uCAmUE;IAnUF,4CAmUE;IAnUF,iBAmUE;IAnUF,0BAmUE;IAnUF,+BAmUE;IAnUF,2BAmUE;IAnUF,yBAmUE;IAnUF,2BAmUE;IAnUF,2BAmUE;IAnUF,0BAmUE;IAnUF,8BAmUE;IAnUF,6BAmUE;IAnUF,kCAmUE;IAnUF,8BAmUE;IAnUF,8BAmUE;IAnUF,6BAmUE;IAnUF,iCAmUE;IAnUF,4BAmUE;IAnUF,iCAmUE;IAnUF,6BAmUE;IAnUF,2BAmUE;IAnUF,6BAmUE;IAnUF,6BAmUE;IAnUF,4BAmUE;IAnUF,gCAmUE;IAnUF,iCAmUE;IAnUF,yCAmUE;IAnUF,wCAmUE;IAnUF,uCAmUE;IAnUF,sBAmUE;IAnUF,2BAmUE;IAnUF,yBAmUE;IAnUF,uCAmUE;IAnUF,sCAmUE;IAnUF,sCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,uDAmUE;IAnUF,uDAmUE;IAnUF,+DAmUE;IAnUF,iEAmUE;IAnUF,yCAmUE;IAnUF,0CAmUE;IAnUF,0CAmUE;IAnUF,2DAmUE;IAnUF,wCAmUE;IAnUF,yCAmUE;IAnUF,yDAmUE;IAnUF,mEAmUE;IAnUF,uCAmUE;IAnUF,uDAmUE;IAnUF,uCAmUE;IAnUF,wCAmUE;IAnUF,uDAmUE;IAnUF,qCAmUE;IAnUF,oCAmUE;IAnUF,sCAmUE;IAnUF,sCAmUE;IAnUF,sCAmUE;IAnUF,sCAmUE;IAnUF,sCAmUE;IAnUF,mDAmUE;IAnUF,uCAmUE;IAnUF,sCAmUE;IAnUF,wCAmUE;IAnUF,sCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,wCAmUE;IAnUF,uDAmUE;IAnUF,gDAmUE;IAnUF,sDAmUE;IAnUF;;;GAmUE;IAnUF,uFAmUE;IAnUF,qFAmUE;IAnUF,uFAmUE;IAnUF,uFAmUE;IAnUF,uFAmUE;IAnUF,uFAmUE;IAnUF,uFAmUE;IAnUF,qFAmUE;EAAA;AAAA;AAnUF;EAAA;IAAA,sBAmUE;IAnUF,SAmUE;IAnUF,UAmUE;IAnUF,eAmUE;EAAA;EAnUF;IAAA,gBAmUE;IAnUF,8BAmUE;IAnUF,WAmUE;IAnUF,2JAmUE;IAnUF,mEAmUE;IAnUF,uEAmUE;IAnUF,wCAmUE;EAAA;EAnUF;IAAA,SAmUE;IAnUF,cAmUE;IAnUF,qBAmUE;EAAA;EAnUF;IAAA,yCAmUE;IAnUF,iCAmUE;EAAA;EAnUF;IAAA,kBAmUE;IAnUF,oBAmUE;EAAA;EAnUF;IAAA,cAmUE;IAnUF,gCAmUE;IAnUF,wBAmUE;EAAA;EAnUF;IAAA,mBAmUE;EAAA;EAnUF;IAAA,gJAmUE;IAnUF,wEAmUE;IAnUF,4EAmUE;IAnUF,cAmUE;EAAA;EAnUF;IAAA,cAmUE;EAAA;EAnUF;IAAA,cAmUE;IAnUF,cAmUE;IAnUF,kBAmUE;IAnUF,wBAmUE;EAAA;EAnUF;IAAA,eAmUE;EAAA;EAnUF;IAAA,WAmUE;EAAA;EAnUF;IAAA,cAmUE;IAnUF,qBAmUE;IAnUF,yBAmUE;EAAA;EAnUF;IAAA,aAmUE;EAAA;EAnUF;IAAA,wBAmUE;EAAA;EAnUF;IAAA,kBAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,cAmUE;IAnUF,sBAmUE;EAAA;EAnUF;IAAA,eAmUE;IAnUF,YAmUE;EAAA;EAnUF;IAAA,aAmUE;IAnUF,8BAmUE;IAnUF,gCAmUE;IAnUF,uBAmUE;IAnUF,cAmUE;IAnUF,gBAmUE;IAnUF,6BAmUE;IAnUF,UAmUE;EAAA;EAnUF;IAAA,mBAmUE;EAAA;EAnUF;IAAA,0BAmUE;EAAA;EAnUF;IAAA,sBAmUE;EAAA;EAnUF;IAAA,UAmUE;EAAA;EAnUF;IAAA;MAAA,mBAmUE;MAnUF;QAAA,yDAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,wBAmUE;EAAA;EAnUF;IAAA,eAmUE;IAnUF,mBAmUE;EAAA;EAnUF;IAAA,oBAmUE;EAAA;EAnUF;IAAA,UAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,kBAmUE;EAAA;EAnUF;IAAA,YAmUE;EAAA;EAnUF;IAAA,wBAmUE;EAAA;AAAA;AAnUF;EAAA;IAAA,oBAmUE;EAAA;EAnUF;IAAA,oBAmUE;EAAA;EAnUF;IAAA,mBAmUE;EAAA;EAnUF;IAAA,kBAmUE;IAnUF,UAmUE;IAnUF,WAmUE;IAnUF,UAmUE;IAnUF,YAmUE;IAnUF,gBAmUE;IAnUF,sBAmUE;IAnUF,mBAmUE;IAnUF,eAmUE;EAAA;EAnUF;IAAA,yBAmUE;IAnUF,wCAmUE;IAnUF,kBAmUE;IAnUF,WAmUE;IAnUF;MAAA,mCAmUE;MAnUF,wBAmUE;MAnUF,0CAmUE;IAAA;IAnUF;MAAA,gBAmUE;MAnUF,gBAmUE;IAAA;IAnUF;MAAA;QAAA,0CAmUE;MAAA;MAnUF;QAAA,qBAmUE;QAnUF,wBAmUE;MAAA;IAAA;IAnUF;MAAA,qBAmUE;MAnUF,0CAmUE;MAnUF,8CAmUE;IAAA;IAnUF;MAAA,iCAmUE;IAAA;IAnUF;MAAA,iCAmUE;IAAA;IAnUF;MAAA,mCAmUE;MAnUF,yBAmUE;MAnUF,wCAmUE;IAAA;EAAA;EAnUF;IAAA,kBAmUE;EAAA;EAnUF;IAAA,eAmUE;EAAA;EAnUF;IAAA,kBAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,qCAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA,qBAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,SAmUE;EAAA;EAnUF;IAAA,iCAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,8BAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,UAmUE;EAAA;EAnUF;IAAA,WAmUE;EAAA;EAnUF;IAAA,WAmUE;EAAA;EAnUF;IAAA,WAmUE;IAnUF;MAAA,gBAmUE;IAAA;IAnUF;MAAA,gBAmUE;IAAA;IAnUF;MAAA,gBAmUE;IAAA;IAnUF;MAAA,gBAmUE;IAAA;IAnUF;MAAA,gBAmUE;IAAA;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,6BAmUE;IAnUF,iCAmUE;IAnUF,cAmUE;IAnUF,WAmUE;IAnUF,2BAmUE;IAnUF,0CAmUE;IAnUF,uCAmUE;IAnUF,0BAmUE;IAnUF,eAmUE;IAnUF,sBAmUE;IAnUF,6CAmUE;IAnUF,0GAmUE;IAnUF,sIAmUE;IAnUF;MAAA,yCAmUE;IAAA;IAnUF;MAAA,yCAmUE;IAAA;IAnUF;MAAA,yCAmUE;IAAA;IAnUF;MAAA,oCAmUE;IAAA;IAnUF;MAAA,sCAmUE;MAnUF,iCAmUE;MAnUF;QAAA,6BAmUE;MAAA;IAAA;IAnUF;MAAA,sCAmUE;MAnUF,iCAmUE;MAnUF;QAAA,6BAmUE;MAAA;IAAA;IAnUF;MAAA,6CAmUE;MAnUF,kCAmUE;IAAA;IAnUF;MAAA,oCAmUE;IAAA;IAnUF;MAAA,oCAmUE;IAAA;IAnUF;MAAA,kDAmUE;IAAA;IAnUF;MAAA,6CAmUE;MAnUF,kCAmUE;MAnUF,iCAmUE;MAnUF,2BAmUE;MAnUF,qCAmUE;MAnUF,gCAmUE;MAnUF,iCAmUE;IAAA;EAAA;EAnUF;IAAA,2BAmUE;IAnUF,eAmUE;IAnUF;MAAA,kBAmUE;MAnUF,qBAmUE;IAAA;IAnUF;MAAA,2BAmUE;MAnUF,iBAmUE;MAnUF,gBAmUE;MAnUF,iBAmUE;MAnUF,oBAmUE;IAAA;IAnUF;MAAA,4BAmUE;MAnUF,0BAmUE;MAnUF,gBAmUE;IAAA;IAnUF;MAAA,2BAmUE;MAnUF,gBAmUE;IAAA;IAnUF;MAAA,cAmUE;IAAA;IAnUF;MAAA,cAmUE;IAAA;IAnUF;MAAA,cAmUE;IAAA;IAnUF;MAAA,wBAmUE;MAnUF,kBAmUE;MAnUF,qBAmUE;MAnUF,6BAmUE;IAAA;IAnUF;MAAA,4BAmUE;IAAA;IAnUF;MAAA,4BAmUE;IAAA;IAnUF;MAAA,4BAmUE;IAAA;IAnUF;MAAA,4BAmUE;IAAA;IAnUF;MAAA,4BAmUE;IAAA;IAnUF;MAAA,4BAmUE;IAAA;IAnUF;MAAA,4BAmUE;IAAA;IAnUF;MAAA,4BAmUE;IAAA;IAnUF;MAAA,wBAmUE;IAAA;IAnUF;MAAA,qBAmUE;MAnUF,kBAmUE;MAnUF,qBAmUE;MAnUF,6BAmUE;IAAA;IAnUF;MAAA,gBAmUE;MAnUF,+BAmUE;IAAA;IAnUF;MAAA,8BAmUE;IAAA;IAnUF;MAAA,+BAmUE;MAnUF,gBAmUE;MAnUF,kBAmUE;IAAA;IAnUF;MAAA,gCAmUE;MAnUF,mBAmUE;MAnUF,eAmUE;MAnUF,kBAmUE;IAAA;IAnUF;MAAA,gBAmUE;MAnUF,kBAmUE;MAnUF,6BAmUE;MAnUF,kCAmUE;MAnUF,wDAmUE;MAnUF,oCAmUE;MAnUF,iBAmUE;MAnUF,oBAmUE;MAnUF,yBAmUE;IAAA;IAnUF;MAAA,mBAmUE;IAAA;IAnUF;MAAA,oBAmUE;IAAA;IAnUF;MAAA,+BAmUE;MAnUF,gBAmUE;MAnUF,iBAmUE;MAnUF,aAmUE;MAnUF,0BAmUE;MAnUF,sBAmUE;IAAA;IAnUF;MAAA,gBAmUE;MAnUF,cAmUE;IAAA;IAnUF;MAAA,+BAmUE;MAnUF,gBAmUE;MAnUF,gBAmUE;MAnUF,eAmUE;MAnUF,kBAmUE;MAnUF,sBAmUE;IAAA;IAnUF;MAAA,gBAmUE;MAnUF,cAmUE;IAAA;IAnUF;MAAA,+BAmUE;MAnUF,gBAmUE;MAnUF,iBAmUE;MAnUF,iBAmUE;MAnUF,oBAmUE;MAnUF,gBAmUE;IAAA;IAnUF;MAAA,gBAmUE;MAnUF,cAmUE;IAAA;IAnUF;MAAA,+BAmUE;MAnUF,gBAmUE;MAnUF,iBAmUE;MAnUF,oBAmUE;MAnUF,gBAmUE;IAAA;IAnUF;MAAA,gBAmUE;MAnUF,cAmUE;IAAA;IAnUF;MAAA,eAmUE;MAnUF,kBAmUE;IAAA;IAnUF;MAAA,cAmUE;MAnUF,eAmUE;MAnUF,kBAmUE;IAAA;IAnUF;MAAA,eAmUE;MAnUF,kBAmUE;IAAA;IAnUF;MAAA,gBAmUE;MAnUF,oBAmUE;MAnUF,0BAmUE;MAnUF,4GAmUE;MAnUF,kBAmUE;MAnUF,wBAmUE;MAnUF,qBAmUE;MAnUF,2BAmUE;MAnUF,wBAmUE;MAnUF,6BAmUE;IAAA;IAnUF;MAAA,2BAmUE;MAnUF,gBAmUE;MAnUF,kBAmUE;IAAA;IAnUF;MAAA,YAmUE;IAAA;IAnUF;MAAA,YAmUE;IAAA;IAnUF;MAAA,cAmUE;IAAA;IAnUF;MAAA,cAmUE;IAAA;IAnUF;MAAA,cAmUE;MAnUF,kBAmUE;IAAA;IAnUF;MAAA,cAmUE;MAnUF,gBAmUE;IAAA;IAnUF;MAAA,cAmUE;IAAA;IAnUF;MAAA,cAmUE;IAAA;IAnUF;MAAA,cAmUE;IAAA;IAnUF;MAAA,+BAmUE;MAnUF,wCAmUE;MAnUF,gBAmUE;MAnUF,gBAmUE;MAnUF,kBAmUE;MAnUF,sBAmUE;MAnUF,uBAmUE;MAnUF,0BAmUE;MAnUF,uBAmUE;MAnUF,wBAmUE;MAnUF,+BAmUE;MAnUF,2BAmUE;MAnUF,iCAmUE;IAAA;IAnUF;MAAA,6BAmUE;MAnUF,eAmUE;MAnUF,gBAmUE;MAnUF,UAmUE;MAnUF,oBAmUE;MAnUF,cAmUE;MAnUF,kBAmUE;MAnUF,oBAmUE;MAnUF,oBAmUE;IAAA;IAnUF;MAAA,aAmUE;IAAA;IAnUF;MAAA,aAmUE;IAAA;IAnUF;MAAA,WAmUE;MAnUF,kBAmUE;MAnUF,eAmUE;MAnUF,kBAmUE;MAnUF,kBAmUE;MAnUF,sBAmUE;IAAA;IAnUF;MAAA,wBAmUE;MAnUF,+CAmUE;IAAA;IAnUF;MAAA,+BAmUE;MAnUF,gBAmUE;MAnUF,sBAmUE;MAnUF,+BAmUE;MAnUF,2BAmUE;MAnUF,iCAmUE;IAAA;IAnUF;MAAA,wBAmUE;MAnUF,+CAmUE;IAAA;IAnUF;MAAA,sBAmUE;IAAA;IAnUF;MAAA,wBAmUE;IAAA;IAnUF;MAAA,qBAmUE;MAnUF,4CAmUE;IAAA;IAnUF;MAAA,mBAmUE;IAAA;IAnUF;MAAA,iBAmUE;IAAA;IAnUF;MAAA,aAmUE;MAnUF,gBAmUE;IAAA;IAnUF;MAAA,+BAmUE;MAnUF,kBAmUE;MAnUF,sBAmUE;MAnUF,uBAmUE;IAAA;IAnUF,2CAmUE;IAnUF,6CAmUE;IAnUF,0CAmUE;IAnUF,0CAmUE;IAnUF,yCAmUE;IAnUF,+CAmUE;IAnUF,6CAmUE;IAnUF,yCAmUE;IAnUF,2CAmUE;IAnUF,oDAmUE;IAnUF,+CAmUE;IAnUF,wCAmUE;IAnUF,mCAmUE;IAnUF,yCAmUE;IAnUF,+CAmUE;IAnUF,6CAmUE;IAnUF,gDAmUE;IAnUF,iDAmUE;IAnUF,iDAmUE;IAnUF,gCAmUE;IAnUF,kDAmUE;IAnUF,6BAmUE;IAnUF,4BAmUE;IAnUF,sDAmUE;IAnUF,oDAmUE;IAnUF,gDAmUE;IAnUF,oDAmUE;IAnUF,2DAmUE;IAnUF,sDAmUE;IAnUF,2BAmUE;IAnUF,0CAmUE;IAnUF,4BAmUE;IAnUF,qDAmUE;IAnUF,0CAmUE;IAnUF,uDAmUE;IAnUF,wDAmUE;IAnUF,eAmUE;IAnUF,iBAmUE;IAnUF;MAAA,aAmUE;MAnUF,gBAmUE;IAAA;IAnUF;MAAA,iBAmUE;MAnUF,oBAmUE;IAAA;IAnUF;MAAA,6BAmUE;IAAA;IAnUF;MAAA,6BAmUE;IAAA;IAnUF;MAAA,kBAmUE;MAnUF,qBAmUE;IAAA;IAnUF;MAAA,kBAmUE;IAAA;IAnUF;MAAA,qBAmUE;IAAA;IAnUF;MAAA,kBAmUE;IAAA;IAnUF;MAAA,qBAmUE;IAAA;IAnUF;MAAA,kBAmUE;MAnUF,qBAmUE;IAAA;IAnUF;MAAA,kBAmUE;MAnUF,qBAmUE;IAAA;IAnUF;MAAA,iBAmUE;MAnUF,6BAmUE;IAAA;IAnUF;MAAA,aAmUE;IAAA;IAnUF;MAAA,aAmUE;IAAA;IAnUF;MAAA,aAmUE;IAAA;IAnUF;MAAA,aAmUE;IAAA;IAnUF;MAAA,uBAmUE;IAAA;IAnUF;MAAA,qBAmUE;IAAA;IAnUF;MAAA,wBAmUE;MAnUF,+BAmUE;MAnUF,2BAmUE;MAnUF,iCAmUE;IAAA;IAnUF;MAAA,uBAmUE;IAAA;IAnUF;MAAA,qBAmUE;IAAA;IAnUF;MAAA,eAmUE;MAnUF,kBAmUE;IAAA;IAnUF;MAAA,aAmUE;IAAA;IAnUF;MAAA,gBAmUE;IAAA;EAAA;EAnUF;IAAA,cAmUE;IAnUF,WAmUE;IAnUF;MAAA,oCAmUE;IAAA;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,oCAmUE;EAAA;EAnUF;IAAA,oCAmUE;EAAA;EAnUF;IAAA,oCAmUE;EAAA;EAnUF;IAAA,6BAmUE;IAnUF,iCAmUE;IAnUF,cAmUE;IAnUF,WAmUE;IAnUF,2BAmUE;IAnUF,0CAmUE;IAnUF,uCAmUE;IAnUF,wCAmUE;IAnUF,0BAmUE;IAnUF,eAmUE;IAnUF,sBAmUE;IAnUF,6CAmUE;IAnUF,0GAmUE;IAnUF,sIAmUE;IAnUF;MAAA,yCAmUE;IAAA;IAnUF;MAAA,yCAmUE;IAAA;IAnUF;MAAA,yCAmUE;IAAA;IAnUF;MAAA,mCAmUE;IAAA;IAnUF;MAAA,eAmUE;MAnUF,iCAmUE;MAnUF,6CAmUE;MAnUF,kCAmUE;MAnUF,kDAmUE;MAnUF,sCAmUE;MAnUF,0BAmUE;MAnUF,yBAmUE;MAnUF,mCAmUE;MAnUF,uCAmUE;MAnUF,wCAmUE;IAAA;IAnUF;MAAA,yCAmUE;MAnUF,gBAmUE;IAAA;IAnUF;MAAA,iCAmUE;MAnUF,iCAmUE;MAnUF,kCAmUE;MAnUF,UAmUE;MAnUF,YAmUE;MAnUF,aAmUE;MAnUF,wBAmUE;IAAA;IAnUF;MAAA,UAmUE;IAAA;IAnUF;MAAA,YAmUE;MAnUF,iCAmUE;IAAA;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,wCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,mBAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,qCAmUE;EAAA;EAnUF;IAAA,qCAmUE;EAAA;EAnUF;IAAA,iCAmUE;IAnUF,oBAmUE;IAnUF,mBAmUE;IAnUF,mBAmUE;IAnUF,uBAmUE;IAnUF,6BAmUE;IAnUF,0BAmUE;IAnUF,mBAmUE;IAnUF,2BAmUE;IAnUF,0CAmUE;IAnUF,uCAmUE;IAnUF,wCAmUE;IAnUF,wBAmUE;IAnUF,qEAmUE;IAnUF,uDAmUE;IAnUF;MAAA;QAAA,wBAmUE;QAnUF;UAAA,uBAmUE;QAAA;MAAA;IAAA;EAAA;EAnUF;IAAA,cAmUE;EAAA;EAnUF;IAAA,iBAmUE;EAAA;EAnUF;IAAA,aAmUE;EAAA;EAnUF;IAAA,aAmUE;EAAA;EAnUF;IAAA,aAmUE;EAAA;EAnUF;IAAA,eAmUE;EAAA;EAnUF;IAAA,oBAmUE;EAAA;EAnUF;IAAA,cAmUE;EAAA;EAnUF;IAAA,6CAmUE;IAnUF,eAmUE;IAnUF,8CAmUE;IAnUF,+BAmUE;IAnUF,gCAmUE;IAnUF,+BAmUE;IAnUF;MAAA,yCAmUE;IAAA;IAnUF;MAAA;QAAA,wBAmUE;MAAA;IAAA;IAnUF;MAAA,wBAmUE;IAAA;IAnUF;MAAA,0CAmUE;MAnUF;QAAA;UAAA,0CAmUE;QAAA;MAAA;MAnUF;QAAA,0CAmUE;QAnUF,SAmUE;MAAA;IAAA;IAnUF;MAAA,0CAmUE;MAnUF;QAAA;UAAA,0CAmUE;QAAA;MAAA;MAnUF;QAAA,0CAmUE;QAnUF,SAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA,uBAmUE;IAnUF,qBAmUE;IAnUF,gBAmUE;IAnUF,iCAmUE;IAnUF,8CAmUE;IAnUF,WAmUE;IAnUF,gCAmUE;IAnUF,gBAmUE;IAnUF;MAAA,8CAmUE;IAAA;IAnUF;MAAA,6CAmUE;IAAA;IAnUF;MAAA,6CAmUE;IAAA;IAnUF;MAAA,QAmUE;IAAA;EAAA;EAnUF;IAAA,kCAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,iCAmUE;EAAA;EAnUF;IAAA,iCAmUE;EAAA;EAnUF;IAAA,YAmUE;EAAA;EAnUF;IAAA,WAmUE;EAAA;EAnUF;IAAA,qCAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,8CAmUE;IAnUF,iCAmUE;IAnUF,oCAmUE;EAAA;EAnUF;IAAA,oCAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,iCAmUE;EAAA;EAnUF;IAAA,uBAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,WAmUE;EAAA;EAnUF;IAAA,UAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,8BAmUE;EAAA;EAnUF;IAAA,8BAmUE;EAAA;EAnUF;IAAA,eAmUE;EAAA;EAnUF;IAAA,8BAmUE;EAAA;EAnUF;IAAA,mCAmUE;EAAA;EAnUF;IAAA,oCAmUE;EAAA;EAnUF;IAAA,OAmUE;EAAA;EAnUF;IAAA,cAmUE;EAAA;EAnUF;IAAA,cAmUE;EAAA;EAnUF;IAAA,cAmUE;EAAA;EAnUF;IAAA,YAmUE;EAAA;EAnUF;IAAA,YAmUE;EAAA;EAnUF;IAAA,0CAmUE;IAnUF,sDAmUE;EAAA;EAnUF;IAAA,0CAmUE;IAnUF,sDAmUE;EAAA;EAnUF;IAAA,6CAmUE;IAnUF,sDAmUE;EAAA;EAnUF;IAAA,0GAmUE;EAAA;EAnUF;IAAA,mBAmUE;EAAA;EAnUF;IAAA,eAmUE;EAAA;EAnUF;IAAA,kBAmUE;EAAA;EAnUF;IAAA,YAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,gDAmUE;EAAA;EAnUF;IAAA,sBAmUE;EAAA;EAnUF;IAAA,mBAmUE;EAAA;EAnUF;IAAA,eAmUE;EAAA;EAnUF;IAAA,mBAmUE;EAAA;EAnUF;IAAA,uBAmUE;EAAA;EAnUF;IAAA,8BAmUE;EAAA;EAnUF;IAAA,uBAmUE;EAAA;EAnUF;IAAA,yBAmUE;EAAA;EAnUF;IAAA,2BAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA;MAAA,uBAmUE;MAnUF,8EAmUE;MAnUF,sFAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,uBAmUE;MAnUF,8EAmUE;MAnUF,sFAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,uBAmUE;MAnUF,8EAmUE;MAnUF,sFAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,uBAmUE;MAnUF,8EAmUE;MAnUF,sFAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,uBAmUE;MAnUF,+EAmUE;MAnUF,uFAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,uBAmUE;MAnUF,+EAmUE;MAnUF,uFAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,uBAmUE;MAnUF,+EAmUE;MAnUF,uFAmUE;IAAA;EAAA;EAnUF;IAAA,gBAmUE;IAnUF,uBAmUE;IAnUF,mBAmUE;EAAA;EAnUF;IAAA,cAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,qCAmUE;IAnUF,qCAmUE;IAnUF,sCAmUE;IAnUF,yBAmUE;IAnUF,yBAmUE;IAnUF,qBAmUE;IAnUF,iCAmUE;IAnUF,gBAmUE;EAAA;EAnUF;IAAA;MAAA,8CAmUE;MAnUF,iCAmUE;MAnUF,2CAmUE;MAnUF,6BAmUE;MAnUF,yBAmUE;MAnUF,mBAmUE;MAnUF,0CAmUE;MAnUF,0CAmUE;MAnUF,gBAmUE;IAAA;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,yCAmUE;IAnUF,2CAmUE;IAnUF,+BAmUE;IAnUF,wCAmUE;EAAA;EAnUF;IAAA,sBAmUE;EAAA;EAnUF;IAAA,mCAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,wCAmUE;IAnUF,yCAmUE;EAAA;EAnUF;IAAA,oCAmUE;IAnUF,iBAmUE;EAAA;EAnUF;IAAA,oCAmUE;IAnUF,iBAmUE;EAAA;EAnUF;IAAA,oCAmUE;IAnUF,iBAmUE;EAAA;EAnUF;IAAA,oCAmUE;IAnUF,iBAmUE;EAAA;EAnUF;IAAA,wCAmUE;IAnUF,qBAmUE;EAAA;EAnUF;IAAA,wCAmUE;IAnUF,qBAmUE;EAAA;EAnUF;IAAA,0CAmUE;IAnUF,uBAmUE;EAAA;EAnUF;IAAA,2CAmUE;IAnUF,wBAmUE;EAAA;EAnUF;IAAA,2CAmUE;IAnUF,wBAmUE;EAAA;EAnUF;IAAA,2CAmUE;IAnUF,wBAmUE;EAAA;EAnUF;IAAA,yCAmUE;IAnUF,sBAmUE;EAAA;EAnUF;IAAA,yCAmUE;IAnUF,sBAmUE;EAAA;EAnUF;IAAA,sBAmUE;IAnUF,2CAmUE;IAnUF,sCAmUE;IAnUF,kBAmUE;EAAA;EAnUF;IAAA,mCAmUE;EAAA;EAnUF;IAAA,oCAmUE;EAAA;EAnUF;IAAA,mCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,yBAmUE;EAAA;EAnUF;IAAA,gCAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA,wCAmUE;EAAA;EAnUF;IAAA,yCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,0CAmUE;EAAA;EAnUF;IAAA,oCAmUE;EAAA;EAnUF;IAAA,2DAmUE;IAnUF;MAAA,0EAmUE;IAAA;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,wCAmUE;EAAA;EAnUF;IAAA,wCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,0CAmUE;EAAA;EAnUF;IAAA,0CAmUE;EAAA;EAnUF;IAAA,0CAmUE;EAAA;EAnUF;IAAA,qCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,0CAmUE;EAAA;EAnUF;IAAA,0CAmUE;EAAA;EAnUF;IAAA,0CAmUE;EAAA;EAnUF;IAAA,0CAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA,0CAmUE;EAAA;EAnUF;IAAA,oCAmUE;EAAA;EAnUF;IAAA,2DAmUE;IAnUF;MAAA,0EAmUE;IAAA;EAAA;EAnUF;IAAA,wCAmUE;EAAA;EAnUF;IAAA,mCAmUE;EAAA;EAnUF;IAAA,iCAmUE;EAAA;EAnUF;IAAA,mCAmUE;EAAA;EAnUF;IAAA,iCAmUE;EAAA;EAnUF;IAAA,iCAmUE;EAAA;EAnUF;IAAA,iCAmUE;EAAA;EAnUF;IAAA,wCAmUE;EAAA;EAnUF;IAAA,wCAmUE;EAAA;EAnUF;IAAA,wCAmUE;EAAA;EAnUF;IAAA,wCAmUE;EAAA;EAnUF;IAAA,wCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,yCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,qCAmUE;EAAA;EAnUF;IAAA,qCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,sCAmUE;EAAA;EAnUF;IAAA,uCAmUE;EAAA;EAnUF;IAAA,kBAmUE;EAAA;EAnUF;IAAA,gBAmUE;EAAA;EAnUF;IAAA,+BAmUE;IAnUF,sCAmUE;IAnUF,kCAmUE;IAnUF,sCAmUE;IAnUF,sCAmUE;IAnUF,oCAmUE;IAnUF,4CAmUE;IAnUF,8CAmUE;IAnUF;MAAA;QAAA,oDAmUE;MAAA;IAAA;IAnUF;MAAA,qDAmUE;IAAA;IAnUF;MAAA,oDAmUE;IAAA;IAnUF;MAAA,oCAmUE;IAAA;EAAA;EAnUF;IAAA,gCAmUE;IAnUF,uCAmUE;IAnUF,uCAmUE;IAnUF,qCAmUE;IAnUF,6CAmUE;IAnUF,0BAmUE;IAnUF,yCAmUE;IAnUF;MAAA,0BAmUE;MAnUF,yCAmUE;IAAA;IAnUF;MAAA,qCAmUE;IAAA;EAAA;EAnUF;IAAA,gCAmUE;IAnUF,uCAmUE;IAnUF,uCAmUE;IAnUF,qCAmUE;IAnUF,6CAmUE;IAnUF,2BAmUE;IAnUF,0CAmUE;IAnUF;MAAA,yBAmUE;MAnUF,wCAmUE;IAAA;IAnUF;MAAA,qCAmUE;IAAA;EAAA;EAnUF;IAAA,+CAmUE;IAnUF,8EAmUE;EAAA;EAnUF;IAAA,+CAmUE;IAnUF,8EAmUE;EAAA;EAnUF;IAAA,8CAmUE;IAnUF,6EAmUE;EAAA;EAnUF;IAAA,8CAmUE;IAnUF,0EAmUE;EAAA;EAnUF;IAAA,yCAmUE;IAnUF,oCAmUE;EAAA;EAnUF;IAAA,2CAmUE;IAnUF,sCAmUE;EAAA;EAnUF;IAAA,6CAmUE;IAnUF,wCAmUE;EAAA;EAnUF;IAAA,mBAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA,4BAmUE;EAAA;EAnUF;IAAA,4BAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA,4BAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA,6BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,8BAmUE;EAAA;EAnUF;IAAA,2BAmUE;EAAA;EAnUF;IAAA,2BAmUE;EAAA;EAnUF;IAAA,iCAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,+BAmUE;EAAA;EAnUF;IAAA,yBAmUE;EAAA;EAnUF;IAAA,8BAmUE;EAAA;EAnUF;IAAA,8BAmUE;EAAA;EAnUF;IAAA,kBAmUE;EAAA;EAnUF;IAAA,WAmUE;EAAA;EAnUF;IAAA,YAmUE;EAAA;EAnUF;IAAA,YAmUE;EAAA;EAnUF;IAAA,YAmUE;EAAA;EAnUF;IAAA,YAmUE;EAAA;EAnUF;IAAA,+HAmUE;IAnUF,sIAmUE;EAAA;EAnUF;IAAA,6HAmUE;IAnUF,sIAmUE;EAAA;EAnUF;IAAA,0HAmUE;IAnUF,sIAmUE;EAAA;EAnUF;IAAA,gIAmUE;IAnUF,sIAmUE;EAAA;EAnUF;IAAA,wHAmUE;IAnUF,sIAmUE;EAAA;EAnUF;IAAA,wHAmUE;IAnUF,sIAmUE;EAAA;EAnUF;IAAA,mCAmUE;EAAA;EAnUF;IAAA,sCAmUE;IAnUF,kBAmUE;EAAA;EAnUF;IAAA,oBAmUE;IAnUF,0LAmUE;EAAA;EAnUF;IAAA,0LAmUE;EAAA;EAnUF;IAAA,wCAmUE;IAnUF,wRAmUE;IAnUF,gRAmUE;EAAA;EAnUF;IAAA,mRAmUE;IAnUF,qFAmUE;IAnUF,2EAmUE;EAAA;EAnUF;IAAA,uKAmUE;IAnUF,qFAmUE;IAnUF,2EAmUE;EAAA;EAnUF;IAAA,4BAmUE;IAnUF,qFAmUE;IAnUF,2EAmUE;EAAA;EAnUF;IAAA,wDAmUE;IAnUF,qFAmUE;IAnUF,2EAmUE;EAAA;EAnUF;IAAA,oBAmUE;IAnUF,0BAmUE;EAAA;EAnUF;IAAA,6BAmUE;IAnUF,8CAmUE;EAAA;EAnUF;IAAA,wBAmUE;IAnUF,mBAmUE;EAAA;EAnUF;IAAA,yBAmUE;IAnUF,iBAmUE;EAAA;EAnUF;IAAA;MAAA;QAAA,aAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA,oCAmUE;MAnUF,iBAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,6BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,+CAmUE;MAnUF,8EAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,2CAmUE;MAnUF,sCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,+BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,sCAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,uCAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,wCAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,sCAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,uCAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,0CAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,0CAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,sCAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,0CAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,0CAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,0CAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,6BAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,+BAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,+BAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,+BAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,+BAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA,+BAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA,gBAmUE;MAnUF,WAmUE;MAnUF,YAmUE;MAnUF,UAmUE;MAnUF,SAmUE;MAnUF,iBAmUE;MAnUF,UAmUE;MAnUF,mBAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,kBAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,6BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,8BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,WAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,sCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,0CAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,iCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,yBAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,wHAmUE;MAnUF,sIAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,wHAmUE;MAnUF,sIAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,uCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,yCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,2BAmUE;MAnUF,4GAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,wBAmUE;MAnUF,mBAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,wHAmUE;MAnUF,sIAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,yCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,2BAmUE;MAnUF,4GAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,wBAmUE;MAnUF,mBAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,oBAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,mBAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,YAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,gDAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,6BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,mCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,sCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,sCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,sCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,sCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,iFAmUE;MAnUF;QAAA,6EAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA,iFAmUE;MAnUF;QAAA,6EAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA,0EAmUE;MAnUF;QAAA,8EAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA,iFAmUE;MAnUF;QAAA,8EAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA,0CAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,gFAmUE;MAnUF;QAAA,4EAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA,gFAmUE;MAnUF;QAAA,4EAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA,0CAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,0CAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,0CAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,0EAmUE;MAnUF;QAAA,gFAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA,gFAmUE;MAnUF;QAAA,+EAmUE;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA,4BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,6BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,+BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,+BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,2BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,iCAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,+BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,+BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,+BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,+BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,+BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA,8BAmUE;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA;UAAA,sCAmUE;QAAA;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA;UAAA,uCAmUE;QAAA;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA;UAAA,0CAmUE;QAAA;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA;UAAA,0CAmUE;QAAA;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA;UAAA,0CAmUE;QAAA;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA;UAAA,6BAmUE;QAAA;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA;UAAA,+BAmUE;QAAA;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA;UAAA,+BAmUE;QAAA;MAAA;IAAA;EAAA;EAnUF;IAAA;MAAA;QAAA;UAAA,+BAmUE;QAAA;MAAA;IAAA;EAAA;AAAA;AAnUF;EAAA;IAAA,mBAmUE;IAnUF;MAAA,kBAmUE;IAAA;IAnUF,0EAmUE;IAnUF,qBAmUE;EAAA;EAnUF;IAAA,qFAmUE;IAnUF;MAAA,2FAmUE;IAAA;EAAA;EAnUF;IAAA,8CAmUE;IAnUF;MAAA,mDAmUE;IAAA;IAnUF,6BAmUE;IAnUF,oCAmUE;IAnUF,gCAmUE;IAnUF,oCAmUE;IAnUF,oCAmUE;IAnUF,kCAmUE;IAnUF,0CAmUE;IAnUF;MAAA,kCAmUE;IAAA;EAAA;EAnUF;IAAA,eAmUE;EAAA;EAnUF;IAAA,0EAmUE;IAnUF;MAAA,+EAmUE;IAAA;EAAA;EAnUF;IAAA,YAmUE;IAnUF;MAAA,oBAmUE;IAAA;EAAA;AAAA;AAnUF;EAAA;IAAA,4BAmUE;EAAA;EAnUF;IAAA,2BAmUE;EAAA;AAAA;AAnUF;EAAA;IAAA,wBAmUE;IAnUF,oBAmUE;EAAA;EAnUF;IAAA,0BAmUE;IAnUF,uBAmUE;EAAA;AAAA;AAnUF;EAAA,UAmUE;EAnUF,WAmUE;AAAA;AAnUF;EAAA,uBAmUE;AAAA;AAnUF;EAAA,0CAmUE;EAnUF,kBAmUE;EAnUF,6BAmUE;EAnUF,4BAmUE;AAAA;AAnUF;EAAA,0CAmUE;AAAA;AAnUF;EAAA,qBAmUE;EAnUF,qDAmUE;AAAA;AAnUF;EAAA,uCAmUE;AAAA;AAnUF;EAAA,uCAmUE;AAAA;AAnUF;EAAA,kDAmUE;AAAA;AAnUF;EAAA,SAmUE;EAnUF,UAmUE;EAnUF;;cAmUE;EAnUF,mCAmUE;EAnUF,kCAmUE;EAnUF,aAmUE;EAnUF,YAmUE;EAnUF,gBAmUE;AAAA;AAnUF;EAAA,aAmUE;EAnUF,aAmUE;EAnUF,sBAmUE;AAAA;AAnUF;EAAA,OAmUE;EAnUF,aAmUE;EAnUF,aAmUE;EAnUF,sBAmUE;AAAA;AAnUF;EAAA,0CAmUE;EAnUF,+BAmUE;AAAA;AAnUF;EAAA,0CAmUE;EAnUF,+BAmUE;EAnUF,sCAmUE;AAAA;AAnUF;EAAA,0CAmUE;AAAA;AAnUF;EAAA;IAAA,0CAmUE;EAAA;EAnUF;IAAA,kBAmUE;IAnUF,YAmUE;IAnUF,qBAmUE;EAAA;EAnUF;IAAA,kBAmUE;IAnUF,WAmUE;IAnUF,sBAmUE;EAAA;EAnUF;IAAA,gBAmUE;IAnUF,gBAmUE;EAAA;EAnUF;IAAA,WAmUE;EAAA;AAAA;AAnUF;EAAA;IAAA,wBAmUE;IAnUF,iCAmUE;EAAA;EAnUF;IAAA,sBAmUE;IAnUF,sBAmUE;IAnUF,6BAmUE;EAAA;EAnUF;IAAA,iCAmUE;EAAA;EAnUF;IAAA,sBAmUE;IAnUF,sBAmUE;EAAA;AAAA;AAnUF;EAAA,2BAmUE;EAnUF,iBAmUE;AAAA;AAnUF;EAAA,kBAmUE;EAnUF,UAmUE;EAnUF,WAmUE;EAnUF,UAmUE;EAnUF,YAmUE;EAnUF,gBAmUE;EAnUF,sBAmUE;EAnUF,mBAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,0BAmUE;EAnUF,mBAmUE;AAAA;AAnUF;EAAA;IAAA,0BAmUE;EAAA;EAnUF;;;IAAA,yBAmUE;EAAA;EAnUF;IAAA,8BAmUE;IAnUF,mBAmUE;EAAA;AAAA;AAnUF;EAAA;IAAA,qCAmUE;IAnUF,uCAmUE;IAnUF,sCAmUE;IAnUF,gCAmUE;EAAA;AAAA;AAnUF;;;;;;EAAA,0BAmUE;EAnUF,mBAmUE;AAAA;AAnUF;EAAA,mBAmUE;EAnUF,YAmUE;EAnUF,iBAmUE;EAnUF,SAmUE;EAnUF,YAmUE;EAnUF,kBAmUE;EAnUF,4BAmUE;EAnUF,YAmUE;AAAA;AAnUF;EAAA,yBAmUE;AAAA;AAnUF;EAAA,gBAmUE;AAAA;AAnUF;;EAAA,aAmUE;AAAA;AAnUF;EAAA,0BAmUE;EAnUF,iBAmUE;EAnUF,kBAmUE;EAnUF,uBAmUE;EAnUF,wBAmUE;EAnUF,wBAmUE;EAnUF,uEAmUE;EAnUF,qBAmUE;EAnUF,oBAmUE;AAAA;AAnUF;EAAA,iBAmUE;EAnUF,kBAmUE;EAnUF,WAmUE;AAAA;AAnUF;EAAA,YAmUE;EAnUF,kBAmUE;EAnUF,aAmUE;EAnUF,mBAmUE;EAnUF,kBAmUE;EAnUF,oBAmUE;AAAA;AAnUF;EAAA,gBAmUE;EAnUF,YAmUE;EAnUF,YAmUE;AAAA;AAnUF;EAAA,oBAmUE;AAAA;AAnUF;EAAA,oBAmUE;AAAA;AAnUF;EAAA,uBAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA;IAAA,kBAmUE;IAnUF,UAmUE;EAAA;EAnUF;IAAA,aAmUE;EAAA;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,gBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,gBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,gBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,gBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,gBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,oBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,wBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,sBAmUE;EAnUF,eAmUE;EAnUF,mBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,wBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,sBAmUE;EAnUF,eAmUE;EAnUF,mBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,wBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,wBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,kBAmUE;EAnUF,eAmUE;EAnUF,kBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,mBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,wBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;EAnUF,oBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,sBAmUE;EAnUF,eAmUE;EAnUF,mBAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA,WAmUE;EAnUF,eAmUE;AAAA;AAnUF;EAAA;IAAA;MAAA,mBAmUE;MAnUF,mBAmUE;MAnUF,mBAmUE;MAnUF,sBAmUE;MAnUF,sBAmUE;MAnUF,sBAmUE;MAnUF,oBAmUE;MAnUF,oBAmUE;MAnUF,uBAmUE;MAnUF,uBAmUE;MAnUF,wBAmUE;MAnUF,yBAmUE;MAnUF,sBAmUE;MAnUF,0BAmUE;MAnUF,uBAmUE;MAnUF,4BAmUE;MAnUF,gCAmUE;MAnUF,6BAmUE;MAnUF,wBAmUE;MAnUF,2BAmUE;MAnUF,8BAmUE;MAnUF,iCAmUE;MAnUF,wBAmUE;MAnUF,2BAmUE;MAnUF,4BAmUE;MAnUF,kCAmUE;MAnUF,yBAmUE;MAnUF,kBAmUE;MAnUF,wBAmUE;MAnUF,sBAmUE;MAnUF,uBAmUE;MAnUF,wBAmUE;MAnUF,oBAmUE;MAnUF,qBAmUE;MAnUF,sBAmUE;MAnUF,mBAmUE;MAnUF,yBAmUE;MAnUF,+BAmUE;MAnUF,4BAmUE;MAnUF,8BAmUE;MAnUF,2BAmUE;MAnUF,iCAmUE;MAnUF,+BAmUE;MAnUF,gCAmUE;MAnUF,iCAmUE;MAnUF,6BAmUE;MAnUF,8BAmUE;MAnUF,+BAmUE;MAnUF,4BAmUE;MAnUF,sBAmUE;MAnUF,kBAmUE;IAAA;EAAA;AAAA",sourcesContent:["@config '../tailwind.config.js'; /* Corrected path relative to src/ */\r\n\r\n/* Replace Tailwind directives with v4 import */\r\n@import \"tailwindcss\";\r\n\r\n/* Import Skeleton core ONLY */\r\n@import \"@skeletonlabs/skeleton\"; \r\n/* @import \"@skeletonlabs/skeleton/themes/theme-skeleton\"; <-- Removed theme import */\r\n\r\n/* Remove direct forms import (Tailwind v4 handles plugin styles) */\r\n/* @import \"@tailwindcss/forms\"; */\r\n\r\n/* Custom scrollbar styling */\r\n/* For Webkit browsers (Chrome, Safari, Edge) */\r\n::-webkit-scrollbar {\r\n  width: 8px;\r\n  height: 8px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: rgba(156, 163, 175, 0.5); /* Gray with transparency */\r\n  border-radius: 6px;\r\n  border: 2px solid transparent;\r\n  background-clip: content-box;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\n  background-color: rgba(156, 163, 175, 0.7);\r\n}\r\n\r\n/* For Firefox */\r\n* {\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(156, 163, 175, 0.5) transparent;\r\n}\r\n\r\n/* Dark mode scrollbars */\r\n.dark::-webkit-scrollbar-thumb {\r\n  background-color: rgba(75, 85, 99, 0.5);\r\n}\r\n\r\n.dark::-webkit-scrollbar-thumb:hover {\r\n  background-color: rgba(75, 85, 99, 0.7);\r\n}\r\n\r\n.dark * {\r\n  scrollbar-color: rgba(75, 85, 99, 0.5) transparent;\r\n}\r\n\r\nhtml, body {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n    sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n}\r\n\r\n#root {\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* Ensure the application container takes full height */\r\nmain {\r\n  flex: 1;\r\n  min-height: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* Dark mode styles */\r\n.dark body {\r\n  /* @apply bg-surface-900 text-surface-100; */\r\n  background-color: var(--color-surface-900);\r\n  color: var(--color-surface-100);\r\n}\r\n\r\n.dark .markdown-preview {\r\n  /* @apply bg-surface-800 text-surface-100 border-surface-700; */\r\n  background-color: var(--color-surface-800);\r\n  color: var(--color-surface-100);\r\n  border-color: var(--color-surface-700);\r\n}\r\n\r\n.dark .markdown-preview pre {\r\n  /* @apply bg-surface-900; */\r\n  background-color: var(--color-surface-900);\r\n}\r\n\r\n/* Responsive styles */\r\n@media (max-width: 768px) {\r\n  /* Adjust gutters */\r\n  .gutter {\r\n    background-color: rgba(120, 120, 120, 0.2);\r\n  }\r\n  \r\n  .gutter.gutter-horizontal {\r\n    cursor: col-resize;\r\n    height: 100%;\r\n    width: 8px !important;\r\n  }\r\n  \r\n  .gutter.gutter-vertical {\r\n    cursor: row-resize;\r\n    width: 100%;\r\n    height: 8px !important;\r\n  }\r\n  \r\n  /* Make sure the mobile preview is scrollable */\r\n  .preview-container {\r\n    max-height: 100%;\r\n    overflow-y: auto;\r\n  }\r\n  \r\n  /* Ensure the mobile floating buttons are visible */\r\n  .fixed {\r\n    z-index: 50;\r\n  }\r\n}\r\n\r\n/* Override react-split styles for mobile */\r\n@media (max-width: 768px) {\r\n  .responsive-split {\r\n    display: flex !important;\r\n    flex-direction: column !important;\r\n  }\r\n  \r\n  .responsive-split > .gutter {\r\n    width: 100% !important;\r\n    height: 8px !important;\r\n    cursor: row-resize !important;\r\n  }\r\n  \r\n  .responsive-split-vertical {\r\n    flex-direction: column !important;\r\n  }\r\n  \r\n  .responsive-split-vertical > .gutter {\r\n    width: 100% !important;\r\n    height: 8px !important;\r\n  }\r\n}\r\n\r\n/* Ensure the mobile sidebar is scrollable */\r\n.sidebar-mobile {\r\n  overflow-y: auto !important;\r\n  max-height: 100vh;\r\n}\r\n\r\n/* Accessibility styles */\r\n.sr-only {\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  border-width: 0;\r\n}\r\n\r\n/* High contrast focus styles */\r\n:focus-visible {\r\n  outline: 2px solid #0ea5e9; /* Or your preferred focus color */\r\n  outline-offset: 2px;\r\n}\r\n\r\n/* Improves readability in high contrast mode */\r\n@media (forced-colors: active) {\r\n  * {\r\n    border-color: currentColor;\r\n  }\r\n  \r\n  button, \r\n  a, \r\n  .gutter {\r\n    forced-color-adjust: none;\r\n  }\r\n  \r\n  /* Ensure focus outlines are visible in high contrast mode */\r\n  :focus {\r\n    outline: 2px solid transparent;\r\n    outline-offset: 2px;\r\n  }\r\n}\r\n\r\n/* Reduce motion for users who prefer reduced motion */\r\n@media (prefers-reduced-motion: reduce) {\r\n  *, *::before, *::after {\r\n    animation-duration: 0.01ms !important;\r\n    animation-iteration-count: 1 !important;\r\n    transition-duration: 0.01ms !important;\r\n    scroll-behavior: auto !important;\r\n  }\r\n}\r\n\r\n/* Improved keyboard navigation */\r\n[tabindex]:not([tabindex=\"-1\"]):focus,\r\na:focus,\r\nbutton:focus,\r\ninput:focus,\r\nselect:focus,\r\ntextarea:focus {\r\n  outline: 2px solid #0ea5e9;\r\n  outline-offset: 2px;\r\n}\r\n\r\n/* Skip to content link when focused */\r\n.skip-to-content {\r\n  background: #0ea5e9;\r\n  color: white;\r\n  font-weight: bold;\r\n  left: 50%;\r\n  padding: 8px;\r\n  position: absolute;\r\n  transform: translateY(-100%);\r\n  z-index: 100;\r\n}\r\n\r\n.skip-to-content:focus {\r\n  transform: translateY(0%);\r\n}\r\n\r\n/* Focus trap for modals - prevent background interaction when modal is open */\r\nbody.modal-open {\r\n  overflow: hidden;\r\n}\r\n\r\n/* Add custom styles here */\r\n\r\n/* Remove focus outline from tab buttons */\r\n.editor-tabs button:focus,\r\n.workspace-state-tabs button:focus {\r\n  outline: none;\r\n}\r\n\r\n/* Fullscreen Editor Styles */\r\n.editor-fullscreen-active {\r\n  position: fixed !important; /* Important to override other positioning */\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100vw !important;\r\n  height: 100vh !important;\r\n  z-index: 1000 !important; /* Ensure it's on top of everything */\r\n  background-color: var(--color-surface- FFD700, hsl(var(--surface-100))); /* Match editor background */\r\n  /* Add any other necessary overrides */\r\n  padding: 0 !important; /* Remove padding if split pane adds it */\r\n  margin: 0 !important; /* Remove margin */\r\n}\r\n\r\n/* When editor is fullscreen, the preview pane should be hidden if it's a sibling */\r\n/* Or ensure the editor pane takes precedence */\r\n\r\n/* If the split pane itself needs to be hidden or its gutters */\r\n/* .split.fullscreen-editor-active > .gutter { display: none !important; } */\r\n/* .split.fullscreen-editor-active > :not(.editor-pane) { display: none !important; } */\r\n\r\n/* Add other custom styles below */ \r\n\r\n/* =========== DRAG-DROP STYLES FOR EDITOR TABS =========== */\r\n\r\n/* Container styling */\r\n.dnd-tabs-container {\r\n  user-select: none; /* Prevent text selection during drag */\r\n  position: relative; /* Create stacking context */\r\n  z-index: 10; /* Ensure proper stacking */\r\n}\r\n\r\n/* Style for sortable tab */\r\n.sortable-tab {\r\n  cursor: grab;\r\n  touch-action: none; /* Required for proper touch drag on mobile */\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative; /* Create stacking context */\r\n  pointer-events: auto; /* Ensure drag events can be captured */\r\n}\r\n\r\n/* Style while dragging */\r\n.sortable-tab[data-dragging=\"true\"] {\r\n  cursor: grabbing;\r\n  opacity: 0.5;\r\n  z-index: 999;\r\n  /* Keep pointer events enabled during drag for proper drop detection */\r\n}\r\n\r\n/* Ensure the tab content allows interaction */\r\n.sortable-tab > div {\r\n  pointer-events: auto; /* Allow interaction with tab content */\r\n}\r\n\r\n/* Ensure close button can be clicked */\r\n.sortable-tab > div > button {\r\n  pointer-events: auto; /* Re-enable pointer events for the close button */\r\n}\r\n\r\n/* Override browser default drag behavior */\r\n.editor-tabs [role=\"tab\"] {\r\n  -webkit-user-drag: none;\r\n  user-drag: none;\r\n}\r\n\r\n/* Fix for Firefox which has issues with pointer-events */\r\n@-moz-document url-prefix() {\r\n  .sortable-tab {\r\n    position: relative;\r\n    z-index: 1;\r\n  }\r\n  \r\n  .sortable-tab[data-dragging=\"true\"] {\r\n    z-index: 1000;\r\n  }\r\n} "],sourceRoot:""}]);const s=a},975:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",o=0,i=-1,a=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",o=0):o=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),i=s,a=0;continue}}else if(2===r.length||1===r.length){r="",o=0,i=s,a=0;continue}t&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),o=s-i-1;i=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var e,r="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===e&&(e=process.cwd()),a=e),t(a),0!==a.length&&(r=a+"/"+r,o=47===a.charCodeAt(0))}return r=n(r,!o),o?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&o&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var o=arguments[n];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var i=e.length,a=i-o,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var l=n.length-s,c=a<l?a:l,u=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===n.charCodeAt(s+d))return n.slice(s+d+1);if(0===d)return n.slice(s+d)}else a>c&&(47===e.charCodeAt(o+d)?u=d:0===d&&(u=0));break}var h=e.charCodeAt(o+d);if(h!==n.charCodeAt(s+d))break;47===h&&(u=d)}var f="";for(d=o+u+1;d<=i;++d)d!==i&&47!==e.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(s+u):(s+=u,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,o=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(n=e.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?r?"/":".":r&&1===o?"//":e.slice(0,o)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,o=0,i=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!a){o=r+1;break}}else-1===l&&(a=!1,l=r+1),s>=0&&(c===n.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=l))}return o===i?i=l:-1===i&&(i=e.length),e.slice(o,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){o=r+1;break}}else-1===i&&(a=!1,i=r+1);return-1===i?"":e.slice(o,i)},extname:function(e){t(e);for(var n=-1,r=0,o=-1,i=!0,a=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===o&&(i=!1,o=s+1),46===l?-1===n?n=s:1!==a&&(a=1):-1!==n&&(a=-1);else if(!i){r=s+1;break}}return-1===n||-1===o||0===a||1===a&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,o=e.charCodeAt(0),i=47===o;i?(n.root="/",r=1):r=0;for(var a=-1,s=0,l=-1,c=!0,u=e.length-1,d=0;u>=r;--u)if(47!==(o=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===o?-1===a?a=u:1!==d&&(d=1):-1!==a&&(d=-1);else if(!c){s=u+1;break}return-1===a||-1===l||0===d||1===d&&a===l-1&&a===s+1?-1!==l&&(n.base=n.name=0===s&&i?e.slice(1,l):e.slice(s,l)):(0===s&&i?(n.name=e.slice(1,a),n.base=e.slice(1,l)):(n.name=e.slice(s,a),n.base=e.slice(s,l)),n.ext=e.slice(a,l)),s>0?n.dir=e.slice(0,s-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},982:(e,t,n)=>{"use strict";e.exports=n(477)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=n(540),t=n(338),r={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const o=(t,n,o,i)=>{const a=(0,e.forwardRef)((({color:o="currentColor",size:a=24,stroke:s=2,title:l,className:c,children:u,...d},h)=>(0,e.createElement)("svg",{ref:h,...r[t],width:a,height:a,className:["tabler-icon",`tabler-icon-${n}`,c].join(" "),..."filled"===t?{fill:o}:{strokeWidth:s,stroke:o},...d},[l&&(0,e.createElement)("title",{key:"svg-title"},l),...i.map((([t,n])=>(0,e.createElement)(t,n))),...Array.isArray(u)?u:[u]])));return a.displayName=`${o}`,a};var i=o("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),a=o("outline","eraser","IconEraser",[["path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3",key:"svg-0"}],["path",{d:"M18 13.3l-6.3 -6.3",key:"svg-1"}]]),s=o("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]),l=o("outline","arrows-maximize","IconArrowsMaximize",[["path",{d:"M16 4l4 0l0 4",key:"svg-0"}],["path",{d:"M14 10l6 -6",key:"svg-1"}],["path",{d:"M8 20l-4 0l0 -4",key:"svg-2"}],["path",{d:"M4 20l6 -6",key:"svg-3"}],["path",{d:"M16 20l4 0l0 -4",key:"svg-4"}],["path",{d:"M14 14l6 6",key:"svg-5"}],["path",{d:"M8 4l-4 0l0 4",key:"svg-6"}],["path",{d:"M4 4l6 6",key:"svg-7"}]]),c=o("outline","arrows-minimize","IconArrowsMinimize",[["path",{d:"M5 9l4 0l0 -4",key:"svg-0"}],["path",{d:"M3 3l6 6",key:"svg-1"}],["path",{d:"M5 15l4 0l0 4",key:"svg-2"}],["path",{d:"M3 21l6 -6",key:"svg-3"}],["path",{d:"M19 9l-4 0l0 -4",key:"svg-4"}],["path",{d:"M15 9l6 -6",key:"svg-5"}],["path",{d:"M19 15l-4 0l0 4",key:"svg-6"}],["path",{d:"M15 15l6 6",key:"svg-7"}]]),u=o("outline","eye-off","IconEyeOff",[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]),d=o("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]),h=o("outline","zoom-out","IconZoomOut",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M7 10l6 0",key:"svg-1"}],["path",{d:"M21 21l-6 -6",key:"svg-2"}]]),f=o("outline","zoom-in","IconZoomIn",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M7 10l6 0",key:"svg-1"}],["path",{d:"M10 7l0 6",key:"svg-2"}],["path",{d:"M21 21l-6 -6",key:"svg-3"}]]),p=o("outline","zoom-reset","IconZoomReset",[["path",{d:"M21 21l-6 -6",key:"svg-0"}],["path",{d:"M3.268 12.043a7.017 7.017 0 0 0 6.634 4.957a7.012 7.012 0 0 0 7.043 -6.131a7 7 0 0 0 -5.314 -7.672a7.021 7.021 0 0 0 -8.241 4.403",key:"svg-1"}],["path",{d:"M3 4v4h4",key:"svg-2"}]]),m=o("outline","printer","IconPrinter",[["path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2",key:"svg-0"}],["path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4",key:"svg-1"}],["path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z",key:"svg-2"}]]),A=o("outline","link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]]),g=o("outline","unlink","IconUnlink",[["path",{d:"M17 22v-2",key:"svg-0"}],["path",{d:"M9 15l6 -6",key:"svg-1"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-2"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-3"}],["path",{d:"M20 17h2",key:"svg-4"}],["path",{d:"M2 7h2",key:"svg-5"}],["path",{d:"M7 2v2",key:"svg-6"}]]),v=n(556),b=n.n(v),y="undefined"!=typeof window?window:null,w=null===y,E=w?void 0:y.document,k="addEventListener",x="removeEventListener",U="getBoundingClientRect",S="_a",C="_b",F="_c",I="horizontal",M=function(){return!1},O=w?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=E.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",N=function(e){return"string"==typeof e||e instanceof String},D=function(e){if(N(e)){var t=E.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},B=function(e,t,n){var r=e[t];return void 0!==r?r:n},P=function(e,t,n,r){if(t){if("end"===r)return 0;if("center"===r)return e/2}else if(n){if("start"===r)return 0;if("center"===r)return e/2}return e},T=function(e,t){var n=E.createElement("div");return n.className="gutter gutter-"+t,n},R=function(e,t,n){var r={};return N(t)?r[e]=t:r[e]=O+"("+t+"% - "+n+"px)",r},L=function(e,t){var n;return(n={})[e]=t+"px",n};const z=function(e,t){if(void 0===t&&(t={}),w)return{};var n,r,o,i,a,s,l=e;Array.from&&(l=Array.from(l));var c=D(l[0]).parentNode,u=getComputedStyle?getComputedStyle(c):null,d=u?u.flexDirection:null,h=B(t,"sizes")||l.map((function(){return 100/l.length})),f=B(t,"minSize",100),p=Array.isArray(f)?f:l.map((function(){return f})),m=B(t,"maxSize",1/0),A=Array.isArray(m)?m:l.map((function(){return m})),g=B(t,"expandToMin",!1),v=B(t,"gutterSize",10),b=B(t,"gutterAlign","center"),O=B(t,"snapOffset",30),N=Array.isArray(O)?O:l.map((function(){return O})),z=B(t,"dragInterval",1),_=B(t,"direction",I),j=B(t,"cursor",_===I?"col-resize":"row-resize"),W=B(t,"gutter",T),H=B(t,"elementStyle",R),V=B(t,"gutterStyle",L);function q(e,t,r,o){var i=H(n,t,r,o);Object.keys(i).forEach((function(t){e.style[t]=i[t]}))}function $(){return s.map((function(e){return e.size}))}function K(e){return"touches"in e?e.touches[0][r]:e[r]}function Y(e){var t=s[this.a],n=s[this.b],r=t.size+n.size;t.size=e/this.size*r,n.size=r-e/this.size*r,q(t.element,t.size,this[C],t.i),q(n.element,n.size,this[F],n.i)}function G(e){var n,r=s[this.a],o=s[this.b];this.dragging&&(n=K(e)-this.start+(this[C]-this.dragOffset),z>1&&(n=Math.round(n/z)*z),n<=r.minSize+r.snapOffset+this[C]?n=r.minSize+this[C]:n>=this.size-(o.minSize+o.snapOffset+this[F])&&(n=this.size-(o.minSize+this[F])),n>=r.maxSize-r.snapOffset+this[C]?n=r.maxSize+this[C]:n<=this.size-(o.maxSize-o.snapOffset+this[F])&&(n=this.size-(o.maxSize+this[F])),Y.call(this,n),B(t,"onDrag",M)($()))}function Q(){var e=s[this.a].element,t=s[this.b].element,r=e[U](),a=t[U]();this.size=r[n]+a[n]+this[C]+this[F],this.start=r[o],this.end=r[i]}function X(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[a];return 0===n?null:n-=_===I?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(c);if(null===t)return e;if(p.reduce((function(e,t){return e+t}),0)>t)return e;var n=0,r=[],o=e.map((function(o,i){var a=t*o/100,s=P(v,0===i,i===e.length-1,b),l=p[i]+s;return a<l?(n+=l-a,r.push(0),l):(r.push(a-l),a)}));return 0===n?e:o.map((function(e,o){var i=e;if(n>0&&r[o]-n>0){var a=Math.min(n,r[o]-n);n-=a,i=e-a}return i/t*100}))}function J(){var e=this,n=s[e.a].element,r=s[e.b].element;e.dragging&&B(t,"onDragEnd",M)($()),e.dragging=!1,y[x]("mouseup",e.stop),y[x]("touchend",e.stop),y[x]("touchcancel",e.stop),y[x]("mousemove",e.move),y[x]("touchmove",e.move),e.stop=null,e.move=null,n[x]("selectstart",M),n[x]("dragstart",M),r[x]("selectstart",M),r[x]("dragstart",M),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",E.body.style.cursor=""}function Z(e){if(!("button"in e)||0===e.button){var n=this,r=s[n.a].element,o=s[n.b].element;n.dragging||B(t,"onDragStart",M)($()),e.preventDefault(),n.dragging=!0,n.move=G.bind(n),n.stop=J.bind(n),y[k]("mouseup",n.stop),y[k]("touchend",n.stop),y[k]("touchcancel",n.stop),y[k]("mousemove",n.move),y[k]("touchmove",n.move),r[k]("selectstart",M),r[k]("dragstart",M),o[k]("selectstart",M),o[k]("dragstart",M),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",n.gutter.style.cursor=j,n.parent.style.cursor=j,E.body.style.cursor=j,Q.call(n),n.dragOffset=K(e)-n.end}}_===I?(n="width",r="clientX",o="left",i="right",a="clientWidth"):"vertical"===_&&(n="height",r="clientY",o="top",i="bottom",a="clientHeight"),h=X(h);var ee=[];function te(e){var t=e.i===ee.length,n=t?ee[e.i-1]:ee[e.i];Q.call(n);var r=t?n.size-e.minSize-n[F]:e.minSize+n[C];Y.call(n,r)}return s=l.map((function(e,t){var r,o={element:D(e),size:h[t],minSize:p[t],maxSize:A[t],snapOffset:N[t],i:t};if(t>0&&((r={a:t-1,b:t,dragging:!1,direction:_,parent:c})[C]=P(v,t-1==0,!1,b),r[F]=P(v,!1,t===l.length-1,b),"row-reverse"===d||"column-reverse"===d)){var i=r.a;r.a=r.b,r.b=i}if(t>0){var a=W(t,_,o.element);!function(e,t,r){var o=V(n,t,r);Object.keys(o).forEach((function(t){e.style[t]=o[t]}))}(a,v,t),r[S]=Z.bind(r),a[k]("mousedown",r[S]),a[k]("touchstart",r[S]),c.insertBefore(a,o.element),r.gutter=a}return q(o.element,o.size,P(v,0===t,t===l.length-1,b),t),t>0&&ee.push(r),o})),s.forEach((function(e){var t=e.element[U]()[n];t<e.minSize&&(g?te(e):e.minSize=t)})),{setSizes:function(e){var t=X(e);t.forEach((function(e,n){if(n>0){var r=ee[n-1],o=s[r.a],i=s[r.b];o.size=t[n-1],i.size=e,q(o.element,o.size,r[C],o.i),q(i.element,i.size,r[F],i.i)}}))},getSizes:$,collapse:function(e){te(s[e])},destroy:function(e,t){ee.forEach((function(r){if(!0!==t?r.parent.removeChild(r.gutter):(r.gutter[x]("mousedown",r[S]),r.gutter[x]("touchstart",r[S])),!0!==e){var o=H(n,r.a.size,r[C]);Object.keys(o).forEach((function(e){s[r.a].element.style[e]="",s[r.b].element.style[e]=""}))}}))},parent:c,pairs:ee}};function _(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}var j=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.componentDidMount=function(){var e=this.props;e.children;var t=e.gutter,n=_(e,["children","gutter"]);n.gutter=function(e,n){var r;return t?r=t(e,n):(r=document.createElement("div")).className="gutter gutter-"+n,r.__isSplitGutter=!0,r},this.split=z(this.parent.children,n)},n.prototype.componentDidUpdate=function(e){var t=this,n=this.props;n.children;var r=n.minSize,o=n.sizes,i=n.collapsed,a=_(n,["children","minSize","sizes","collapsed"]),s=e.minSize,l=e.sizes,c=e.collapsed,u=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"].map((function(n){return t.props[n]!==e[n]})).reduce((function(e,t){return e||t}),!1);if(Array.isArray(r)&&Array.isArray(s)){var d=!1;r.forEach((function(e,t){d=d||e!==s[t]})),u=u||d}else u=!(!Array.isArray(r)&&!Array.isArray(s))||u||r!==s;if(u)a.minSize=r,a.sizes=o||this.split.getSizes(),this.split.destroy(!0,!0),a.gutter=function(e,t,n){return n.previousSibling},this.split=z(Array.from(this.parent.children).filter((function(e){return!e.__isSplitGutter})),a);else if(o){var h=!1;o.forEach((function(e,t){h=h||e!==l[t]})),h&&this.split.setSizes(this.props.sizes)}Number.isInteger(i)&&(i!==c||u)&&this.split.collapse(i)},n.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},n.prototype.render=function(){var t=this,n=this.props;n.sizes,n.minSize,n.maxSize,n.expandToMin,n.gutterSize,n.gutterAlign,n.snapOffset,n.dragInterval,n.direction,n.cursor,n.gutter,n.elementStyle,n.gutterStyle,n.onDrag,n.onDragStart,n.onDragEnd,n.collapsed;var r=n.children,o=_(n,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]);return e.createElement("div",Object.assign({},{ref:function(e){t.parent=e}},o),r)},n}(e.Component);j.propTypes={sizes:b().arrayOf(b().number),minSize:b().oneOfType([b().number,b().arrayOf(b().number)]),maxSize:b().oneOfType([b().number,b().arrayOf(b().number)]),expandToMin:b().bool,gutterSize:b().number,gutterAlign:b().string,snapOffset:b().oneOfType([b().number,b().arrayOf(b().number)]),dragInterval:b().number,direction:b().string,cursor:b().string,gutter:b().func,elementStyle:b().func,gutterStyle:b().func,onDrag:b().func,onDragStart:b().func,onDragEnd:b().func,collapsed:b().number,children:b().arrayOf(b().element)},j.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};const W=j;var H=o("outline","folder-plus","IconFolderPlus",[["path",{d:"M12 19h-7a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v3.5",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}]]),V=o("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]),q=n(975),$=n.n(q),K=function(e){return $().basename(e)},Y=function(e){return $().dirname(e)},G=o("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]),Q=o("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]),X=o("outline","folder-open","IconFolderOpen",[["path",{d:"M5 19l2.757 -7.351a1 1 0 0 1 .936 -.649h12.307a1 1 0 0 1 .986 1.164l-.996 5.211a2 2 0 0 1 -1.964 1.625h-14.026a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2h4l3 3h7a2 2 0 0 1 2 2v2",key:"svg-0"}]]),J=o("outline","folder","IconFolder",[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]]),Z=o("outline","file","IconFile",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}]]);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ne=function(t){var n=t.node,r=t.level,o=void 0===r?0:r,i=t.onNodeSelect,a=t.onFolderToggle,s=t.expandedNodes,l=t.selectedNodePaths,c=t.renamingNodePath,u=t.onRenameSubmit,d=t.onRenameCancel,h=t.currentFilePath,f=t.onContextMenu,p=t.onMoveItem,m=t.isDragging,A=t.dragOverPosition,g=t.dragOverPath,v=t.itemOrderVersion,b=s[n.path]||!1,y=l.has(n.path),w=n.children&&n.children.length>0,E="folder"===n.type,k=ee((0,e.useState)(!1),2),x=k[0],U=k[1],S=ee((0,e.useState)(n.name),2),C=S[0],F=S[1],I=(0,e.useRef)(null),M=(0,e.useRef)(0),O=(0,e.useRef)(null),N=(0,e.useRef)(n);(0,e.useEffect)((function(){N.current=n}),[n]),(0,e.useLayoutEffect)((function(){if(c===n.path){U(!0);var e=n.name;if(F(e),I.current){I.current.focus();var t="file"===n.type,r=t?e.lastIndexOf("."):-1,o=t&&r>0?r:e.length;I.current.setSelectionRange(0,o)}var i=setTimeout((function(){var t=I.current;if(t){t.focus();var r="file"===n.type,o=r?e.lastIndexOf("."):-1,i=r&&o>0?o:e.length;t.setSelectionRange(0,i)}}),50);return function(){return clearTimeout(i)}}U(!1)}),[c,n.path,n.name,n.type]);var D=(0,e.useCallback)((function(e){e.stopPropagation(),x||i(n,e)}),[n,i,x]),B=(0,e.useCallback)((function(e){e.stopPropagation(),E&&a(n.path)}),[E,n.path,a]),P=function(){if(x){var e=C.trim();e&&e!==n.name?u(n,e):d(),U(!1)}},T=(0,e.useCallback)((function(e){e.stopPropagation();var t;t=l.has(n.path)&&l.size>1?Array.from(l).map((function(e){return{path:e,type:e.includes(".")?"file":"folder",name:e.split("/").pop()}})):[{path:n.path,type:n.type,name:n.name}],e.dataTransfer.setData("text/plain",JSON.stringify(t)),e.dataTransfer.setData("application/json",JSON.stringify(t)),e.dataTransfer.effectAllowed="move",p(t,null,"dragStart")}),[n,l,p]),R=(0,e.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.getBoundingClientRect(),n=e.clientY-t.top,r=t.height;return n<.25*r?"top":n>.75*r?"bottom":"middle"}),[]),L=(0,e.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=Date.now();if(!(t-M.current<200)){var r=R(e);r===O.current&&g===n.path||(O.current=r,M.current=t,"folder"===n.type||"middle"!==r?e.dataTransfer.dropEffect="move":e.dataTransfer.dropEffect="none",p(null,N.current,"dragOver",r))}}),[n,R,p,g]),z=(0,e.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),M.current=0,O.current=null;try{var t;try{(t=e.dataTransfer.getData("application/json"))||(t=e.dataTransfer.getData("text/plain"))}catch(n){t=e.dataTransfer.getData("text/plain")}if(!t)return void console.error("[TreeNode] No drag data available");var r=JSON.parse(t),o=R(e);if(r&&r.length>0){if(r.some((function(e){return e.path===n.path}))&&"middle"===o)return;p(r,N.current,"drop",o)}}catch(e){console.error("[TreeNode] Error during drop:",e)}}),[n,R,p]),_=(0,e.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),M.current=0,O.current=null,p(null,null,"dragEnd")}),[p]),j=y?"bg-primary-100 dark:bg-primary-900 border border-primary-400 dark:border-primary-600":"",W=y||n.path!==h?"":"font-semibold text-primary-700 dark:text-primary-300",H="".concat("flex items-center px-1 py-1 rounded cursor-pointer hover:bg-surface-200 dark:hover:bg-surface-700 overflow-hidden"," ").concat(j," ").concat(W).trim(),V=function(){if(g!==n.path)return"";switch(A){case"top":return"border-t-2 border-blue-500 dark:border-blue-400 -mt-px";case"bottom":return"border-b-2 border-blue-500 dark:border-blue-400 -mb-px";case"middle":return"folder"===n.type?"bg-blue-100 dark:bg-blue-900/30 rounded":"bg-red-100 dark:bg-red-900/30 rounded";default:return""}};return V(),e.createElement("div",{className:"flex flex-col ".concat(m?"opacity-70":""," ").concat(g===n.path?V():""),style:{paddingLeft:16*o},onContextMenu:function(e){e.preventDefault(),e.stopPropagation(),f(e,n)}},e.createElement("div",{className:H,onClick:D,draggable:!0,onDragStart:T,onDragOver:L,onDrop:z,onDragEnd:_,"data-testid":"tree-node-".concat(n.path)},e.createElement("div",{className:"w-5 flex-shrink-0",onClick:w?B:void 0},w&&E?b?e.createElement(G,{size:16,className:"opacity-60"}):e.createElement(Q,{size:16,className:"opacity-60"}):e.createElement("span",{className:"w-4"})),e.createElement("div",{className:"w-5 flex-shrink-0 mr-1"},E?b?e.createElement(X,{size:16,className:"text-amber-500"}):e.createElement(J,{size:16,className:"text-amber-500"}):e.createElement(Z,{size:16,className:"opacity-60"})),x?e.createElement("input",{ref:I,type:"text",value:C,onChange:function(e){F(e.target.value)},onKeyDown:function(e){"Enter"===e.key?P():"Escape"===e.key&&(U(!1),F(n.name),d())},onBlur:P,className:"flex-grow bg-white dark:bg-surface-800 border border-primary-500 rounded px-1 py-0 text-sm outline-none"}):e.createElement("div",{className:"flex-grow truncate","data-testid":"node-name"},n.name)),b&&w&&e.createElement("div",{className:"children"},n.children.map((function(t){return e.createElement(ne,{key:"".concat(t.path,"-").concat(v),node:t,level:o+1,onNodeSelect:i,onFolderToggle:a,expandedNodes:s,selectedNodePaths:l,renamingNodePath:c,onRenameSubmit:u,onRenameCancel:d,currentFilePath:h,onContextMenu:f,onMoveItem:p,isDragging:g===t.path,dragOverPath:g,dragOverPosition:A,itemOrderVersion:v})}))))};const re=ne;function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(){ie=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new M(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",m="completed",A={};function g(){}function v(){}function b(){}var y={};c(y,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(O([])));E&&E!==n&&r.call(E,a)&&(y=E);var k=b.prototype=g.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function U(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==oe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,n,r){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===A)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:f,c.arg===A)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),A;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,A;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,A):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(oe(t)+" is not iterable")}return v.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},x(U.prototype),c(U.prototype,s,(function(){return this})),t.AsyncIterator=U,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new U(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),A}},t}function ae(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ae(i,r,o,a,s,"next",e)}function s(e){ae(i,r,o,a,s,"throw",e)}a(void 0)}))}}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return(t=function(e){var t=function(e){if("object"!=oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){if(e){if("string"==typeof e)return pe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const me=function(t){var n=t.files,r=void 0===n?[]:n,o=t.folders,i=void 0===o?[]:o,a=t.currentFolders,s=void 0===a?[]:a,l=t.currentFilePath,c=t.onFileSelect,u=t.onRenameItem,d=t.onCreateFile,h=t.onCreateFolder,f=t.onDeleteItem,p=t.onMoveItemProp,m=t.itemOrder,A=t.expandedNodes,g=t.onFolderToggle,v=t.onAddFolderProp,b=t.itemOrderVersion,y=he((0,e.useState)([]),2),w=y[0],E=y[1],k=he((0,e.useState)(new Set),2),x=k[0],U=k[1],S=he((0,e.useState)(null),2),C=S[0],F=S[1],I=he((0,e.useState)({visible:!1,x:0,y:0,node:null}),2),M=I[0],O=I[1],N=he((0,e.useState)(null),2),D=N[0],B=N[1],P=(0,e.useRef)(null),T=he((0,e.useState)(null),2),R=T[0],L=T[1],z=he((0,e.useState)(null),2),_=z[0],j=z[1],W=he((0,e.useState)(null),2),q=W[0],K=W[1],G=(0,e.useRef)({draggingPath:null,dragOverPath:null,dragOverPosition:null}),Q=(0,e.useCallback)((function(e,t,n,r){b%5==0&&console.log("[ArboristFileExplorer] Building tree with itemOrderVersion:",b);var o=[].concat(de(e),de(t)),i={},a=[];o.forEach((function(e){var t=ce(ce({},e),{},{key:"".concat(e.path,"-").concat(b),children:[]});i[e.path]=t})),Object.values(i).forEach((function(e){if("."!==e.path){var t=Y(e.path)||".",n=i[t];n&&n.children.push(e)}})),n.forEach((function(e){var t=i[e];t?a.some((function(e){return e.path===t.path}))?console.warn("[Arborist buildTree] Skipping duplicate root node:",t):a.push(t):console.warn("[Arborist buildTree] Root path ".concat(e," not found in processed nodes."))}));var s=function(e,t,n){if(e){var r=n?n[t]:null;e.sort((function(e,t){if(r){var n=r.indexOf(e.path),o=r.indexOf(t.path);if(-1!==n&&-1!==o)return n-o;if(-1!==n)return-1;if(-1!==o)return 1}return"folder"===e.type&&"folder"!==t.type?-1:"folder"!==e.type&&"folder"===t.type?1:e.name.localeCompare(t.name)})),e.forEach((function(e){e.children&&s(e.children,e.path,n)}))}};return Object.values(i).forEach((function(e){e.children&&s(e.children,e.path,r)})),s(a,".",r),b%5==0&&console.log("[ArboristFileExplorer] Built tree structure with itemOrderVersion:",b,a.map((function(e){var t;return{path:e.path,childrenCount:(null===(t=e.children)||void 0===t?void 0:t.length)||0}}))),a}),[b]);(0,e.useEffect)((function(){console.log("[ArboristFileExplorer] useEffect triggered to rebuild tree with itemOrderVersion:",b);var e=Q(r,i,s,m);E(e)}),[r,i,s,Q,m,b]);var X=(0,e.useCallback)((function(){var e=[],t=function(n){n&&n.forEach((function(n){e.push(n),"folder"===n.type&&A[n.path]&&n.children&&t(n.children)}))};return t(w),e}),[w,A]),J=(0,e.useCallback)((function(e,t){var n=t.metaKey||t.ctrlKey,r=t.shiftKey,o=e.path;U((function(i){var a=new Set(i);if(r&&C){var s=X(),l=s.findIndex((function(e){return e.path===C})),u=s.findIndex((function(e){return e.path===o}));if(-1!==l&&-1!==u){a=new Set;for(var d=Math.min(l,u),h=Math.max(l,u),f=d;f<=h;f++)a.add(s[f].path)}else a=new Set([o]),F(o)}else n?a.has(o)?(a.delete(o),C===o&&F(null)):(a.add(o),F(o)):a.has(o)&&1===a.size?t.target.closest('[data-testid="node-name"]')?Z(e):"folder"===e.type&&g(e.path):(a=new Set([o]),F(o),"file"===e.type?c(e):"folder"===e.type&&g(e.path));return a}))}),[c,g,Z,C,X]),Z=(0,e.useCallback)((function(e){O((function(e){return ce(ce({},e),{},{visible:!1})})),B(e.path)}),[]),ee=function(){var e=se(ie().mark((function e(t,n){var r,o;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B(null),r=t.path,o=$().join(Y(r),n),n&&!n.includes("/")&&!n.includes("\\")){e.next=6;break}return console.error("Invalid name for rename."),e.abrupt("return");case 6:if(e.prev=6,"function"!=typeof u){e.next=13;break}return e.next=10,u(r,o,"folder"===t.type);case 10:U(new Set([o])),e.next=14;break;case 13:console.warn("onRenameItem prop is not provided. Cannot perform rename.");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.error("Rename failed:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){B(null)},ne=(0,e.useCallback)((function(){v?v():console.error("onAddFolderProp function is not available in FileExplorer")}),[v]),oe=(0,e.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation();var n=e.clientX,r=e.clientY,o=window.innerWidth,i=window.innerHeight;n+160>o&&(n=o-160-10),r+150>i&&(r=i-150-10),(!x.has(t.path)||x.size<=1)&&U(new Set([t.path])),O({visible:!0,x:n,y:r,node:t})}),[x]),ae=(0,e.useCallback)((function(e){M.visible&&!e.target.closest(".context-menu")&&O((function(e){return ce(ce({},e),{},{visible:!1})}))}),[M.visible]);(0,e.useEffect)((function(){return document.addEventListener("click",ae,!0),function(){document.removeEventListener("click",ae,!0)}}),[ae]);var le=function(e){if(O((function(e){return ce(ce({},e),{},{visible:!1})})),"function"==typeof f){var t=[],n=new Map;[].concat(de(r),de(i)).forEach((function(e){return n.set(e.path,e)})),x.has(e.path)&&x.size>1?x.forEach((function(e){var r=n.get(e);if(r)t.push({path:r.path,type:r.type});else{console.warn("[ArboristFileExplorer] Node details not found for path: ".concat(e,". Inferring type."));var o=!e.includes(".")||e.endsWith("/");t.push({path:e,type:o?"folder":"file"})}})):t.push({path:e.path,type:e.type}),t.length>0&&f(t)}else console.warn("onDeleteItem prop is not provided.")},ue=function(){var e=se(ie().mark((function e(t){var n,r;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O((function(e){return ce(ce({},e),{},{visible:!1})})),"function"!=typeof d||"function"!=typeof c){e.next=8;break}return e.next=4,d(t.path);case 4:(n=e.sent)&&n.path?(r=n.path,A[t.path]||g(t.path),c(n),setTimeout((function(){B(r)}),0)):console.error("onCreateFile prop failed or did not return a path."),e.next=9;break;case 8:console.warn("onCreateFile or onFileSelect prop is not provided.");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=se(ie().mark((function e(t){var n;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O((function(e){return ce(ce({},e),{},{visible:!1})})),"function"!=typeof h){e.next=8;break}return e.next=4,h(t.path);case 4:(n=e.sent)?setTimeout((function(){B(n)}),0):console.error("onCreateFolder prop failed or did not return a path."),e.next=9;break;case 8:console.warn("onCreateFolder prop is not provided.");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=(0,e.useCallback)((function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("dragStart"===n&&e){var o,i,a=Array.isArray(e)?e:[e];1!==a.length||x.has(a[0].path)||(U(new Set([a[0].path])),F(a[0].path)),L((null===(o=a[0])||void 0===o?void 0:o.path)||null),G.current.draggingPath=(null===(i=a[0])||void 0===i?void 0:i.path)||null,j(null),K(null),G.current.dragOverPath=null,G.current.dragOverPosition=null}else if("dragOver"===n&&t)G.current.dragOverPath===t.path&&G.current.dragOverPosition===r||(j(t.path),K(r),G.current.dragOverPath=t.path,G.current.dragOverPosition=r);else if("drop"===n&&t&&e){var s=Array.isArray(e)?e:[e];if(s.some((function(e){return e.path===t.path})))return;var l=r;if("file"===t.type&&"middle"===r&&(l="bottom"),p){var c=s.map((function(e){return{path:e.path,type:e.type||(e.path.includes(".")?"file":"folder"),name:e.name||e.path.split("/").pop()}})),u={path:t.path,type:t.type||(t.path.includes(".")?"file":"folder"),name:t.name||t.path.split("/").pop()};p(c,u,l)}j(null),K(null),L(null),G.current.dragOverPath=null,G.current.dragOverPosition=null,G.current.draggingPath=null}else"dragEnd"===n&&(j(null),K(null),L(null),G.current.dragOverPath=null,G.current.dragOverPosition=null,G.current.draggingPath=null)}),[x,U,F,p]),me=(0,e.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=e.clientX,n=e.clientY,r=window.innerWidth,o=window.innerHeight;t+160>r&&(t=r-160-10),n+150>o&&(n=o-150-10),O({visible:!0,x:t,y:n,node:null})}),[]);return(0,e.useEffect)((function(){G.current={draggingPath:R,dragOverPath:_,dragOverPosition:q}}),[R,_,q]),e.createElement("div",{ref:P,className:"file-explorer h-full flex flex-col relative overflow-hidden ".concat(0===w.length?"items-center justify-center":""),onClick:function(e){e.target===P.current&&(U(new Set),F(null))},onContextMenu:me},0===w.length?e.createElement("button",{onClick:ne,className:"btn btn-primary px-4 py-2 text-sm flex flex-col items-center"},e.createElement(H,{size:24,className:"mb-1 opacity-75"}),"open workspace"):e.createElement("div",{className:"w-full flex-grow overflow-y-auto min-h-0 p-2",onContextMenu:me},e.createElement("div",{className:"text-sm"},w.map((function(t){return e.createElement(re,{key:"".concat(t.path,"-").concat(b),node:t,level:0,onNodeSelect:J,onFolderToggle:g,expandedNodes:A,selectedNodePaths:x,renamingNodePath:D,onRenameSubmit:ee,onRenameCancel:te,currentFilePath:l,onContextMenu:oe,onMoveItem:pe,isDragging:R===t.path,dragOverPath:_,dragOverPosition:q,itemOrderVersion:b})})))),M.visible&&e.createElement("div",{className:"context-menu fixed z-50 bg-white dark:bg-surface-800 shadow-lg rounded-md py-1 border border-surface-300 dark:border-surface-700 w-40",style:{top:M.y,left:M.x},"data-context-menu":"true"},!M.node&&e.createElement("button",{onClick:function(){O((function(e){return ce(ce({},e),{},{visible:!1})})),"function"==typeof v?v():console.error("onAddFolderProp function is not available")},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700"},"Add Folder to Workspace"),M.node&&e.createElement(e.Fragment,null,"folder"===M.node.type&&e.createElement(e.Fragment,null,e.createElement("button",{onClick:function(){return ue(M.node)},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700"},"New File"),e.createElement("button",{onClick:function(){return fe(M.node)},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700"},"New Folder"),e.createElement("div",{className:"context-menu-divider h-px my-1 bg-surface-200 dark:bg-surface-700"})),e.createElement("button",{onClick:function(){return Z(M.node)},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700"},"Rename"),M.node&&"folder"===M.node.type?e.createElement("button",{onClick:function(){return le(M.node)},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700"},"Remove Folder from Workspace"):e.createElement("button",{onClick:function(){return le(M.node)},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700"},"Delete File"),e.createElement("div",{className:"context-menu-divider h-px my-1 bg-surface-200 dark:bg-surface-700"}),e.createElement("button",{onClick:function(){return e=M.node,O((function(e){return ce(ce({},e),{},{visible:!1})})),void(e&&e.path?window.api&&"function"==typeof window.api.showItemInFolder?window.api.showItemInFolder(e.path):console.warn("window.api.showItemInFolder is not available."):console.error("Cannot show item in explorer: Node or node path is missing.",e));var e},className:"context-menu-item w-full text-left px-3 py-1 text-sm text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700 flex items-center gap-2"},e.createElement(V,{size:14,className:"opacity-70"}),"Show in Explorer"))))};var Ae=o("outline","file-text","IconFileText",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]]),ge=o("outline","clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]),ve=o("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]),be=o("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]),ye=["savedWorkspaceStates","pendingWorkspaceLoad"];function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e){return function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return(t=function(e){var t=function(e){if("object"!=we(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==we(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie={fileHistory:[],openFiles:[],currentFile:null,ui:{openPanels:{sidebar:!0,preview:!0,settings:!1},preferences:{selectedSidebarTab:"files",explorerSortBy:"name",explorerSortDirection:"asc"},activeRootFolders:[],activeExpandedNodes:{},itemOrder:{}},editor:{cursorPositions:{},selections:{},scrollPosition:{top:0,left:0},unsavedChanges:!1,fontSize:14},errors:[],loading:{files:!1,folders:!1,content:!1},savedWorkspaceStates:{},pendingWorkspaceLoad:null,activeNamedWorkspaceName:null},Me="ADD_TO_HISTORY",Oe="CLEAR_HISTORY",Ne="ADD_OPEN_FILE",De="REMOVE_OPEN_FILE",Be="UPDATE_OPEN_FILE",Pe="SET_FILE_DIRTY",Te="CLEAR_OPEN_FILES",Re="REORDER_OPEN_FILES",Le="SET_CURRENT_FILE",ze="TOGGLE_PANEL",_e="SET_PANEL",je="SET_SIDEBAR_TAB",We="UPDATE_PREFERENCES",He="SET_ACTIVE_ROOT_FOLDERS",Ve="SET_ACTIVE_EXPANDED_NODES",qe="SET_ITEM_ORDER",$e="UPDATE_ITEM_ORDER_FOR_PARENT",Ke="REMOVE_FROM_ITEM_ORDER",Ye="ADD_ROOT_FOLDER",Ge="REMOVE_ROOT_FOLDER",Qe="TOGGLE_EXPANDED_NODE",Xe="SET_EXPLORER_SORT",Je="SET_CURSOR_POSITION",Ze="SET_SELECTIONS",et="SET_SCROLL_POSITION",tt="SET_UNSAVED_CHANGES",nt="SET_EDITOR_FONT_SIZE",rt="ADD_ERROR",ot="CLEAR_ERROR",it="SET_LOADING",at="RESET_STATE",st="SAVE_NAMED_WORKSPACE",lt="REMOVE_NAMED_WORKSPACE",ct="RENAME_WORKSPACE",ut="REORDER_SAVED_WORKSPACE_STATES",dt="SET_PENDING_WORKSPACE_LOAD",ht="CLEAR_PENDING_WORKSPACE_LOAD",ft="SET_ACTIVE_NAMED_WORKSPACE",pt="CLEAR_ACTIVE_NAMED_WORKSPACE";function mt(e,t){switch(t.type){case Me:return Ce(Ce({},e),{},{fileHistory:[t.payload].concat(ke(e.fileHistory.filter((function(e){return e.path!==t.payload.path})))).slice(0,10)});case Oe:return Ce(Ce({},e),{},{fileHistory:[]});case Ne:return e.openFiles.some((function(e){return e.path===t.payload.path}))?e:Ce(Ce({},e),{},{openFiles:[].concat(ke(e.openFiles),[Ce(Ce({},t.payload),{},{isDirty:!1})])});case De:return Ce(Ce({},e),{},{openFiles:e.openFiles.filter((function(e){return e.path!==t.payload.path}))});case Be:return Ce(Ce({},e),{},{openFiles:e.openFiles.map((function(e){return e.path===t.payload.oldPath?Ce(Ce({},e),t.payload.updates):e}))});case Pe:return Ce(Ce({},e),{},{openFiles:e.openFiles.map((function(e){return e.path===t.payload.path?Ce(Ce({},e),{},{isDirty:t.payload.isDirty}):e}))});case Te:return Ce(Ce({},e),{},{openFiles:[],currentFile:null});case Re:var n=t.payload,r=n.oldIndex,o=n.newIndex;if(r<0||r>=e.openFiles.length||o<0||o>=e.openFiles.length)return console.warn("[AppStateContext] Invalid indices for REORDER_OPEN_FILES:",r,o),e;var i=ke(e.openFiles),a=Ee(i.splice(r,1),1)[0];return i.splice(o,0,a),Ce(Ce({},e),{},{openFiles:i});case ze:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{openPanels:Ce(Ce({},e.ui.openPanels),{},Fe({},t.payload,!e.ui.openPanels[t.payload]))})});case _e:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{openPanels:Ce(Ce({},e.ui.openPanels),{},Fe({},t.payload.panel,t.payload.value))})});case je:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{preferences:Ce(Ce({},e.ui.preferences),{},{selectedSidebarTab:t.payload})})});case We:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{preferences:Ce(Ce({},e.ui.preferences),t.payload)})});case He:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{activeRootFolders:t.payload})});case Ve:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{activeExpandedNodes:t.payload})});case qe:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{itemOrder:t.payload})});case $e:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{itemOrder:Ce(Ce({},e.ui.itemOrder),{},Fe({},t.payload.parentPath,t.payload.orderedPaths))})});case Ke:var s=Ce({},e.ui.itemOrder),l=t.payload,c=l.itemPath,u=l.parentPath,d=l.isDirectory;if(s[u]&&(s[u]=s[u].filter((function(e){return e!==c})),0===s[u].length&&delete s[u]),d)Object.keys(s).filter((function(e){return e===c||e.startsWith(c+"/")})).forEach((function(e){return delete s[e]}));return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{itemOrder:s})});case Ye:return e.ui.activeRootFolders.includes(t.payload)?e:Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{activeRootFolders:[].concat(ke(e.ui.activeRootFolders),[t.payload])})});case Ge:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{activeRootFolders:e.ui.activeRootFolders.filter((function(e){return e!==t.payload}))})});case Qe:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{activeExpandedNodes:Ce(Ce({},e.ui.activeExpandedNodes),{},Fe({},t.payload,!e.ui.activeExpandedNodes[t.payload]))})});case Xe:return Ce(Ce({},e),{},{ui:Ce(Ce({},e.ui),{},{preferences:Ce(Ce({},e.ui.preferences),{},{explorerSortBy:t.payload.sortBy,explorerSortDirection:t.payload.direction})})});case Je:return Ce(Ce({},e),{},{editor:Ce(Ce({},e.editor),{},{cursorPositions:Ce(Ce({},e.editor.cursorPositions),{},Fe({},t.payload.filePath,t.payload.position))})});case Ze:return Ce(Ce({},e),{},{editor:Ce(Ce({},e.editor),{},{selections:Ce(Ce({},e.editor.selections),{},Fe({},t.payload.filePath,t.payload.selection))})});case et:return Ce(Ce({},e),{},{editor:Ce(Ce({},e.editor),{},{scrollPosition:t.payload})});case tt:return Ce(Ce({},e),{},{editor:Ce(Ce({},e.editor),{},{unsavedChanges:t.payload})});case nt:var h=Math.max(8,Math.min(t.payload,36));return Ce(Ce({},e),{},{editor:Ce(Ce({},e.editor),{},{fontSize:h})});case rt:return Ce(Ce({},e),{},{errors:[].concat(ke(e.errors),[t.payload])});case ot:return Ce(Ce({},e),{},{errors:e.errors.filter((function(e,n){return n!==t.payload}))});case it:return Ce(Ce({},e),{},{loading:Ce(Ce({},e.loading),{},Fe({},t.payload.key,t.payload.value))});case at:return Ce(Ce({},Ie),{},{savedWorkspaceStates:e.savedWorkspaceStates});case st:return Ce(Ce({},e),{},{savedWorkspaceStates:Ce(Ce({},e.savedWorkspaceStates),{},Fe({},t.payload.name,t.payload.data)),activeNamedWorkspaceName:t.payload.name});case lt:var f=Ce({},e.savedWorkspaceStates),p=t.payload.name||t.payload,m=!0===t.payload.isRename;if(m&&!f[p])return console.log('[AppStateContext] Workspace "'.concat(p,'" already removed, skipping removal during rename.')),e;delete f[p];var A=e.activeNamedWorkspaceName===p;return Ce(Ce({},e),{},{savedWorkspaceStates:f,activeNamedWorkspaceName:A&&!m?null:e.activeNamedWorkspaceName});case ut:return Ce(Ce({},e),{},{savedWorkspaceStates:t.payload});case dt:return Ce(Ce({},e),{},{pendingWorkspaceLoad:t.payload});case ht:return Ce(Ce({},e),{},{pendingWorkspaceLoad:null});case ft:return Ce(Ce({},e),{},{activeNamedWorkspaceName:t.payload});case pt:return Ce(Ce({},e),{},{activeNamedWorkspaceName:null});case ct:var g=t.payload,v=g.oldName,b=g.newName,y=g.data;if(!v||!b||v===b||!e.savedWorkspaceStates[v])return console.warn("[AppStateContext] Invalid rename operation: ".concat(v," -> ").concat(b)),e;if(e.savedWorkspaceStates[b])return console.warn('[AppStateContext] Cannot rename: A workspace named "'.concat(b,'" already exists.')),e;var w=Ce({},e.savedWorkspaceStates);delete w[v],w[b]=y;var E=e.activeNamedWorkspaceName===v;try{localStorage.setItem("savedMdViewerWorkspaceStates",JSON.stringify(w)),E&&localStorage.setItem("lastActiveMdViewerWorkspaceName",b)}catch(e){console.error("[AppStateContext] Failed to update workspace states in localStorage during rename:",e)}return Ce(Ce({},e),{},{savedWorkspaceStates:w,activeNamedWorkspaceName:E?b:e.activeNamedWorkspaceName});case Le:return Ce(Ce({},e),{},{currentFile:t.payload});default:return e}}var At=(0,e.createContext)(),gt=function(t){var n=t.children,r=Ee((0,e.useReducer)(mt,Ie,(function(e){var t=Ce({},e);try{var n=localStorage.getItem("markdown-viewer-app-state");if(n){var r=JSON.parse(n);t=Ce(Ce(Ce({},e),r),{},{ui:Ce(Ce({},e.ui),r.ui||{}),editor:Ce(Ce({},e.editor),r.editor||{}),loading:Ce(Ce({},e.loading),r.loading||{})})}var o=localStorage.getItem("savedMdViewerWorkspaceStates");if(o){var i=JSON.parse(o);"object"!==we(i)||null===i||Array.isArray(i)?console.warn("Invalid format for saved workspace states in localStorage. Ignoring."):t.savedWorkspaceStates=i}}catch(t){return console.error("Failed to load state from localStorage:",t),e}return t.pendingWorkspaceLoad=null,t})),2),o=r[0],i=r[1];return(0,e.useEffect)((function(){try{var e=o.savedWorkspaceStates,t=(o.pendingWorkspaceLoad,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(o,ye));localStorage.setItem("markdown-viewer-app-state",JSON.stringify(t)),localStorage.setItem("savedMdViewerWorkspaceStates",JSON.stringify(e||{}))}catch(e){console.error("Failed to save app state to localStorage:",e)}}),[o]),e.createElement(At.Provider,{value:{state:o,dispatch:i,addToHistory:function(e){return i({type:Me,payload:e})},clearHistory:function(){return i({type:Oe})},addOpenFile:function(e){i({type:Ne,payload:e})},removeOpenFile:function(e){return i({type:De,payload:e})},updateOpenFile:function(e,t){i({type:Be,payload:{oldPath:e,updates:t}})},setFileDirty:function(e,t){return i({type:Pe,payload:{path:e.path,isDirty:t}})},clearOpenFiles:function(){return i({type:Te})},reorderOpenFiles:function(e,t){return i({type:Re,payload:{oldIndex:e,newIndex:t}})},setCurrentFile:function(e){return i({type:Le,payload:e})},togglePanel:function(e){return i({type:ze,payload:e})},setPanel:function(e,t){return i({type:_e,payload:{panel:e,value:t}})},setSidebarTab:function(e){return i({type:je,payload:e})},updatePreferences:function(e){return i({type:We,payload:e})},setActiveRootFolders:function(e){return i({type:He,payload:e})},setActiveExpandedNodes:function(e){return i({type:Ve,payload:e})},setItemOrder:function(e){return i({type:qe,payload:e})},updateItemOrderForParent:function(e,t){return i({type:$e,payload:{parentPath:e,orderedPaths:t}})},removeFromItemOrder:function(e,t,n){return i({type:Ke,payload:{itemPath:e,parentPath:t,isDirectory:n}})},addRootFolder:function(e){return i({type:Ye,payload:e})},removeRootFolder:function(e){return i({type:Ge,payload:e})},toggleExpandedNode:function(e){return i({type:Qe,payload:e})},setExplorerSort:function(e,t){return i({type:Xe,payload:{sortBy:e,direction:t}})},setCursorPosition:function(e,t){return i({type:Je,payload:{filePath:e,position:t}})},setSelections:function(e,t){return i({type:Ze,payload:{filePath:e,selection:t}})},setScrollPosition:function(e){return i({type:et,payload:e})},setUnsavedChanges:function(e){return i({type:tt,payload:e})},setEditorFontSize:function(e){return i({type:nt,payload:e})},addError:function(e){return i({type:rt,payload:e})},clearError:function(e){return i({type:ot,payload:e})},setLoading:function(e,t){return i({type:it,payload:{key:e,value:t}})},resetState:function(){return i({type:at})},saveNamedWorkspace:function(e,t){return i({type:st,payload:{name:e,data:t}})},removeNamedWorkspace:function(e){return i({type:lt,payload:{name:e,isRename:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}})},renameWorkspace:function(e,t,n){return i({type:ct,payload:{oldName:e,newName:t,data:n}})},loadNamedWorkspace:function(e){return i({type:dt,payload:e})},clearPendingWorkspaceLoad:function(){return i({type:ht})},setActiveNamedWorkspace:function(e){return i({type:ft,payload:e})},clearActiveNamedWorkspace:function(){return i({type:pt})},reorderSavedWorkspaceStates:function(e){return i({type:ut,payload:e})}}},n)},vt=function(){var t=(0,e.useContext)(At);if(!t)throw new Error("useAppState must be used within an AppStateProvider");return t};const bt=function(t){var n=t.onFileSelect,r=vt(),o=r.state,i=r.clearHistory,a=r.updatePreferences,s=o.fileHistory,l=o.ui.preferences.recentFilesCollapsed||!1;return s&&0!==s.length?e.createElement("div",{className:"file-history"},e.createElement("div",{className:"flex items-center justify-between p-2 border-b border-surface-200 dark:border-surface-700"},e.createElement("div",{className:"flex items-center text-sm font-medium"},e.createElement(ge,{size:16,className:"mr-2"}),"Recent Files"),e.createElement("div",{className:"flex items-center"},e.createElement("button",{onClick:function(){a({recentFilesCollapsed:!l})},className:"p-1 mr-1 text-xs rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-500","aria-label":l?"Expand":"Collapse",title:l?"Expand":"Collapse"},l?e.createElement(G,{size:14}):e.createElement(ve,{size:14})),e.createElement("button",{onClick:i,className:"p-1 text-xs rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-500","aria-label":"Clear history",title:"Clear history"},e.createElement(be,{size:14})))),!l&&e.createElement("ul",{className:"mt-1 max-h-60 overflow-y-auto"},s.map((function(t){return e.createElement("li",{key:t.path},e.createElement("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-surface-100 dark:hover:bg-surface-700 flex items-center",onClick:function(){return n(t)},title:t.path},e.createElement("span",{className:"mr-2 flex-shrink-0"},function(t){return"markdown"===t.type||t.name&&"string"==typeof t.name&&t.name.endsWith(".md")?e.createElement(Ae,{size:16,className:"text-primary-500"}):e.createElement(Z,{size:16,className:"text-surface-500"})}(t)),e.createElement("span",{className:"truncate"},t.name||t.path)))})))):e.createElement("div",{className:"p-4 text-surface-500 dark:text-surface-400 text-sm italic"},"No recent files")};let yt=[],wt=[];function Et(e){if(e<768)return!1;for(let t=0,n=yt.length;;){let r=t+n>>1;if(e<yt[r])n=r;else{if(!(e>=wt[r]))return!0;t=r+1}if(t==n)return!1}}function kt(e){return e>=127462&&e<=127487}function xt(e,t,n=!0,r=!0){return(n?Ut:St)(e,t,r)}function Ut(e,t,n){if(t==e.length)return t;t&&Ft(e.charCodeAt(t))&&It(e.charCodeAt(t-1))&&t--;let r=Ct(e,t);for(t+=Mt(r);t<e.length;){let o=Ct(e,t);if(8205==r||8205==o||n&&Et(o))t+=Mt(o),r=o;else{if(!kt(o))break;{let n=0,r=t-2;for(;r>=0&&kt(Ct(e,r));)n++,r-=2;if(n%2==0)break;t+=2}}}return t}function St(e,t,n){for(;t>0;){let r=Ut(e,t-2,n);if(r<t)return r;t--}return 0}function Ct(e,t){let n=e.charCodeAt(t);if(!It(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return Ft(r)?r-56320+(n-55296<<10)+65536:n}function Ft(e){return e>=56320&&e<57344}function It(e){return e>=55296&&e<56320}function Mt(e){return e<65536?1:2}(()=>{let e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let t=0,n=0;t<e.length;t++)(t%2?wt:yt).push(n+=e[t])})();class Ot{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=_t(this,e,t);let r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),Dt.from(r,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=_t(this,e,t);let n=[];return this.decompose(e,t,n,0),Dt.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new Tt(this),o=new Tt(e);for(let e=t,i=t;;){if(r.next(e),o.next(e),e=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(i+=r.value.length,r.done||i>=n)return!0}}iter(e=1){return new Tt(this,e)}iterRange(e,t=this.length){return new Rt(this,e,t)}iterLines(e,t){let n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);let r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Lt(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new Nt(e):Dt.from(Nt.split(e,[])):Ot.empty}}class Nt extends Ot{constructor(e,t=function(e){let t=-1;for(let n of e)t+=n.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.text[o],a=r+i.length;if((t?n:a)>=e)return new zt(r,a,n,i);r=a+1,n++}}decompose(e,t,n,r){let o=e<=0&&t>=this.length?this:new Nt(Pt(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&r){let e=n.pop(),t=Bt(o.text,e.text.slice(),0,o.length);if(t.length<=32)n.push(new Nt(t,e.length+o.length));else{let e=t.length>>1;n.push(new Nt(t.slice(0,e)),new Nt(t.slice(e)))}}else n.push(o)}replace(e,t,n){if(!(n instanceof Nt))return super.replace(e,t,n);[e,t]=_t(this,e,t);let r=Bt(this.text,Bt(n.text,Pt(this.text,0,e)),t),o=this.length+n.length-(t-e);return r.length<=32?new Nt(r,o):Dt.from(Nt.split(r,[]),o)}sliceString(e,t=this.length,n="\n"){[e,t]=_t(this,e,t);let r="";for(let o=0,i=0;o<=t&&i<this.text.length;i++){let a=this.text[i],s=o+a.length;o>e&&i&&(r+=n),e<s&&t>o&&(r+=a.slice(Math.max(0,e-o),t-o)),o=s+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],r=-1;for(let o of e)n.push(o),r+=o.length+1,32==n.length&&(t.push(new Nt(n,r)),n=[],r=-1);return r>-1&&t.push(new Nt(n,r)),t}}class Dt extends Ot{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,n,r){for(let o=0;;o++){let i=this.children[o],a=r+i.length,s=n+i.lines-1;if((t?s:a)>=e)return i.lineInner(e,t,n,r);r=a+1,n=s+1}}decompose(e,t,n,r){for(let o=0,i=0;i<=t&&o<this.children.length;o++){let a=this.children[o],s=i+a.length;if(e<=s&&t>=i){let o=r&((i<=e?1:0)|(s>=t?2:0));i>=e&&s<=t&&!o?n.push(a):a.decompose(e-i,t-i,n,o)}i=s+1}}replace(e,t,n){if([e,t]=_t(this,e,t),n.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let i=this.children[r],a=o+i.length;if(e>=o&&t<=a){let s=i.replace(e-o,t-o,n),l=this.lines-i.lines+s.lines;if(s.lines<l>>4&&s.lines>l>>6){let o=this.children.slice();return o[r]=s,new Dt(o,this.length-(t-e)+n.length)}return super.replace(o,a,s)}o=a+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n="\n"){[e,t]=_t(this,e,t);let r="";for(let o=0,i=0;o<this.children.length&&i<=t;o++){let a=this.children[o],s=i+a.length;i>e&&o&&(r+=n),e<s&&t>i&&(r+=a.sliceString(e-i,t-i,n)),i=s+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Dt))return 0;let n=0,[r,o,i,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,o+=t){if(r==i||o==a)return n;let s=this.children[r],l=e.children[o];if(s!=l)return n+s.scanIdentical(l,t);n+=s.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let n=0;for(let t of e)n+=t.lines;if(n<32){let n=[];for(let t of e)t.flatten(n);return new Nt(n,t)}let r=Math.max(32,n>>5),o=r<<1,i=r>>1,a=[],s=0,l=-1,c=[];function u(e){let t;if(e.lines>o&&e instanceof Dt)for(let t of e.children)u(t);else e.lines>i&&(s>i||!s)?(d(),a.push(e)):e instanceof Nt&&s&&(t=c[c.length-1])instanceof Nt&&e.lines+t.lines<=32?(s+=e.lines,l+=e.length+1,c[c.length-1]=new Nt(t.text.concat(e.text),t.length+1+e.length)):(s+e.lines>r&&d(),s+=e.lines,l+=e.length+1,c.push(e))}function d(){0!=s&&(a.push(1==c.length?c[0]:Dt.from(c,l)),l=-1,s=c.length=0)}for(let t of e)u(t);return d(),1==a.length?a[0]:new Dt(a,t)}}function Bt(e,t,n=0,r=1e9){for(let o=0,i=0,a=!0;i<e.length&&o<=r;i++){let s=e[i],l=o+s.length;l>=n&&(l>r&&(s=s.slice(0,r-o)),o<n&&(s=s.slice(n-o)),a?(t[t.length-1]+=s,a=!1):t.push(s)),o=l+1}return t}function Pt(e,t,n){return Bt(e,[""],t,n)}Ot.empty=new Nt([""],0);class Tt{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Nt?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],o=this.offsets[n],i=o>>1,a=r instanceof Nt?r.text.length:r.children.length;if(i==(t>0?a:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof Nt){let o=r.text[i+(t<0?-1:0)];if(this.offsets[n]+=t,o.length>Math.max(0,e))return this.value=0==e?o:t>0?o.slice(e):o.slice(0,o.length-e),this;e-=o.length}else{let o=r.children[i+(t<0?-1:0)];e>o.length?(e-=o.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(o),this.offsets.push(t>0?1:(o instanceof Nt?o.text.length:o.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Rt{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new Tt(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class Lt{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:r}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(Ot.prototype[Symbol.iterator]=function(){return this.iter()},Tt.prototype[Symbol.iterator]=Rt.prototype[Symbol.iterator]=Lt.prototype[Symbol.iterator]=function(){return this});class zt{constructor(e,t,n,r){this.from=e,this.to=t,this.number=n,this.text=r}get length(){return this.to-this.from}}function _t(e,t,n){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,n))]}function jt(e,t,n=!0,r=!0){return xt(e,t,n,r)}function Wt(e,t){let n=e.charCodeAt(t);if(!((r=n)>=55296&&r<56320&&t+1!=e.length))return n;var r;let o=e.charCodeAt(t+1);return function(e){return e>=56320&&e<57344}(o)?o-56320+(n-55296<<10)+65536:n}function Ht(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Vt(e){return e<65536?1:2}const qt=/\r\n?|\n/;var $t=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}($t||($t={}));class Kt{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,r=0;t<this.sections.length;){let o=this.sections[t++],i=this.sections[t++];i<0?(e(n,r,o),r+=o):r+=i,n+=o}}iterChangedRanges(e,t=!1){Xt(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?e.push(n,r):e.push(r,n)}return new Kt(e)}composeDesc(e){return this.empty?e:e.empty?this:Zt(this,e)}mapDesc(e,t=!1){return e.empty?this:Jt(this,e,t)}mapPos(e,t=-1,n=$t.Simple){let r=0,o=0;for(let i=0;i<this.sections.length;){let a=this.sections[i++],s=this.sections[i++],l=r+a;if(s<0){if(l>e)return o+(e-r);o+=a}else{if(n!=$t.Simple&&l>=e&&(n==$t.TrackDel&&r<e&&l>e||n==$t.TrackBefore&&r<e||n==$t.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!a)return e==r||t<0?o:o+s;o+=s}r=l}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return o}touchesRange(e,t=e){for(let n=0,r=0;n<this.sections.length&&r<=t;){let o=r+this.sections[n++];if(this.sections[n++]>=0&&r<=t&&o>=e)return!(r<e&&o>t)||"cover";r=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Kt(e)}static create(e){return new Kt(e)}}class Yt extends Kt{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Xt(this,((t,n,r,o,i)=>e=e.replace(r,r+(n-t),i)),!1),e}mapDesc(e,t=!1){return Jt(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let r=0,o=0;r<t.length;r+=2){let i=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=i;let s=r>>1;for(;n.length<s;)n.push(Ot.empty);n.push(i?e.slice(o,o+i):Ot.empty)}o+=i}return new Yt(t,n)}compose(e){return this.empty?e:e.empty?this:Zt(this,e,!0)}map(e,t=!1){return e.empty?this:Jt(this,e,t,!0)}iterChanges(e,t=!1){Xt(this,e,t)}get desc(){return Kt.create(this.sections)}filter(e){let t=[],n=[],r=[],o=new en(this);e:for(let i=0,a=0;;){let s=i==e.length?1e9:e[i++];for(;a<s||a==s&&0==o.len;){if(o.done)break e;let e=Math.min(o.len,s-a);Gt(r,e,-1);let i=-1==o.ins?-1:0==o.off?o.ins:0;Gt(t,e,i),i>0&&Qt(n,t,o.text),o.forward(e),a+=e}let l=e[i++];for(;a<l;){if(o.done)break e;let e=Math.min(o.len,l-a);Gt(t,e,-1),Gt(r,e,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(e),a+=e}}return{changes:new Yt(t,n),filtered:Kt.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let r=[],o=[],i=0,a=null;function s(e=!1){if(!e&&!r.length)return;i<t&&Gt(r,t-i,-1);let n=new Yt(r,o);a=a?a.compose(n.map(a)):n,r=[],o=[],i=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof Yt){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);s(),a=a?a.compose(l.map(a)):l}else{let{from:e,to:a=e,insert:c}=l;if(e>a||e<0||a>t)throw new RangeError(`Invalid change range ${e} to ${a} (in doc of length ${t})`);let u=c?"string"==typeof c?Ot.of(c.split(n||qt)):c:Ot.empty,d=u.length;if(e==a&&0==d)return;e<i&&s(),e>i&&Gt(r,e-i,-1),Gt(r,a-e,d),Qt(o,r,u),i=a}}(e),s(!a),a}static empty(e){return new Yt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let r=0;r<e.length;r++){let o=e[r];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;n.length<r;)n.push(Ot.empty);n[r]=Ot.of(o.slice(1)),t.push(o[0],n[r].length)}}}return new Yt(t,n)}static createSet(e,t){return new Yt(e,t)}}function Gt(e,t,n,r=!1){if(0==t&&n<=0)return;let o=e.length-2;o>=0&&n<=0&&n==e[o+1]?e[o]+=t:o>=0&&0==t&&0==e[o]?e[o+1]+=n:r?(e[o]+=t,e[o+1]+=n):e.push(t,n)}function Qt(e,t,n){if(0==n.length)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(Ot.empty);e.push(n)}}function Xt(e,t,n){let r=e.inserted;for(let o=0,i=0,a=0;a<e.sections.length;){let s=e.sections[a++],l=e.sections[a++];if(l<0)o+=s,i+=s;else{let c=o,u=i,d=Ot.empty;for(;c+=s,u+=l,l&&r&&(d=d.append(r[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)s=e.sections[a++],l=e.sections[a++];t(o,c,i,u,d),o=c,i=u}}}function Jt(e,t,n,r=!1){let o=[],i=r?[]:null,a=new en(e),s=new en(t);for(let e=-1;;){if(a.done&&s.len||s.done&&a.len)throw new Error("Mismatched change set lengths");if(-1==a.ins&&-1==s.ins){let e=Math.min(a.len,s.len);Gt(o,e,-1),a.forward(e),s.forward(e)}else if(s.ins>=0&&(a.ins<0||e==a.i||0==a.off&&(s.len<a.len||s.len==a.len&&!n))){let t=s.len;for(Gt(o,s.ins,-1);t;){let n=Math.min(a.len,t);a.ins>=0&&e<a.i&&a.len<=n&&(Gt(o,0,a.ins),i&&Qt(i,o,a.text),e=a.i),a.forward(n),t-=n}s.next()}else{if(!(a.ins>=0)){if(a.done&&s.done)return i?Yt.createSet(o,i):Kt.create(o);throw new Error("Mismatched change set lengths")}{let t=0,n=a.len;for(;n;)if(-1==s.ins){let e=Math.min(n,s.len);t+=e,n-=e,s.forward(e)}else{if(!(0==s.ins&&s.len<n))break;n-=s.len,s.next()}Gt(o,t,e<a.i?a.ins:0),i&&e<a.i&&Qt(i,o,a.text),e=a.i,a.forward(a.len-n)}}}}function Zt(e,t,n=!1){let r=[],o=n?[]:null,i=new en(e),a=new en(t);for(let e=!1;;){if(i.done&&a.done)return o?Yt.createSet(r,o):Kt.create(r);if(0==i.ins)Gt(r,i.len,0,e),i.next();else if(0!=a.len||a.done){if(i.done||a.done)throw new Error("Mismatched change set lengths");{let t=Math.min(i.len2,a.len),n=r.length;if(-1==i.ins){let n=-1==a.ins?-1:a.off?0:a.ins;Gt(r,t,n,e),o&&n&&Qt(o,r,a.text)}else-1==a.ins?(Gt(r,i.off?0:i.len,t,e),o&&Qt(o,r,i.textBit(t))):(Gt(r,i.off?0:i.len,a.off?0:a.ins,e),o&&!a.off&&Qt(o,r,a.text));e=(i.ins>t||a.ins>=0&&a.len>t)&&(e||r.length>n),i.forward2(t),a.forward(t)}}else Gt(r,0,a.ins,e),o&&Qt(o,r,a.text),a.next()}}class en{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Ot.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Ot.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class tn{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e,t=-1){let n,r;return this.empty?n=r=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new tn(n,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return nn.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return nn.range(this.anchor,n)}eq(e,t=!1){return!(this.anchor!=e.anchor||this.head!=e.head||t&&this.empty&&this.assoc!=e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return nn.range(e.anchor,e.head)}static create(e,t,n){return new tn(e,t,n)}}class nn{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:nn.create(this.ranges.map((n=>n.map(e,t))),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new nn([this.main],0)}addRange(e,t=!0){return nn.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,nn.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new nn(e.ranges.map((e=>tn.fromJSON(e))),e.main)}static single(e,t=e){return new nn([nn.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<e.length;r++){let o=e[r];if(o.empty?o.from<=n:o.from<n)return nn.normalized(e.slice(),t);n=o.to}return new nn(e,t)}static cursor(e,t=0,n,r){return tn.create(e,e,(0==t?0:t<0?8:16)|(null==n?7:Math.min(6,n))|(null!=r?r:16777215)<<6)}static range(e,t,n,r){let o=(null!=n?n:16777215)<<6|(null==r?7:Math.min(6,r));return t<e?tn.create(t,e,48|o):tn.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let n=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(n);for(let n=1;n<e.length;n++){let r=e[n],o=e[n-1];if(r.empty?r.from<=o.to:r.from<o.to){let i=o.from,a=Math.max(r.to,o.to);n<=t&&t--,e.splice(--n,2,r.anchor>r.head?nn.range(a,i):nn.range(i,a))}}return new nn(e,t)}}function rn(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let on=0;class an{constructor(e,t,n,r,o){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=r,this.id=on++,this.default=e([]),this.extensions="function"==typeof o?o(this):o}get reader(){return this}static define(e={}){return new an(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:sn),!!e.static,e.enables)}of(e){return new ln([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ln(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ln(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(n=>t(n.field(e))))}}function sn(e,t){return e==t||e.length==t.length&&e.every(((e,n)=>e===t[n]))}class ln{constructor(e,t,n,r){this.dependencies=e,this.facet=t,this.type=n,this.value=r,this.id=on++}dynamicSlot(e){var t;let n=this.value,r=this.facet.compareInput,o=this.id,i=e[o]>>1,a=2==this.type,s=!1,l=!1,c=[];for(let n of this.dependencies)"doc"==n?s=!0:"selection"==n?l=!0:1&(null!==(t=e[n.id])&&void 0!==t?t:1)||c.push(e[n.id]);return{create:e=>(e.values[i]=n(e),1),update(e,t){if(s&&t.docChanged||l&&(t.docChanged||t.selection)||un(e,c)){let t=n(e);if(a?!cn(t,e.values[i],r):!r(t,e.values[i]))return e.values[i]=t,1}return 0},reconfigure:(e,t)=>{let s,l=t.config.address[o];if(null!=l){let o=wn(t,l);if(this.dependencies.every((n=>n instanceof an?t.facet(n)===e.facet(n):!(n instanceof fn)||t.field(n,!1)==e.field(n,!1)))||(a?cn(s=n(e),o,r):r(s=n(e),o)))return e.values[i]=o,0}else s=n(e);return e.values[i]=s,1}}}}function cn(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function un(e,t){let n=!1;for(let r of t)1&yn(e,r)&&(n=!0);return n}function dn(e,t,n){let r=n.map((t=>e[t.id])),o=n.map((e=>e.type)),i=r.filter((e=>!(1&e))),a=e[t.id]>>1;function s(e){let n=[];for(let t=0;t<r.length;t++){let i=wn(e,r[t]);if(2==o[t])for(let e of i)n.push(e);else n.push(i)}return t.combine(n)}return{create(e){for(let t of r)yn(e,t);return e.values[a]=s(e),1},update(e,n){if(!un(e,i))return 0;let r=s(e);return t.compare(r,e.values[a])?0:(e.values[a]=r,1)},reconfigure(e,o){let i=un(e,r),l=o.config.facets[t.id],c=o.facet(t);if(l&&!i&&sn(n,l))return e.values[a]=c,0;let u=s(e);return t.compare(u,c)?(e.values[a]=c,0):(e.values[a]=u,1)}}}const hn=an.define({static:!0});class fn{constructor(e,t,n,r,o){this.id=e,this.createF=t,this.updateF=n,this.compareF=r,this.spec=o,this.provides=void 0}static define(e){let t=new fn(on++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(hn).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,n)=>{let r=e.values[t],o=this.updateF(r,n);return this.compareF(r,o)?0:(e.values[t]=o,1)},reconfigure:(e,n)=>{let r,o=e.facet(hn),i=n.facet(hn);return(r=o.find((e=>e.field==this)))&&r!=i.find((e=>e.field==this))?(e.values[t]=r.create(e),1):null!=n.config.address[this.id]?(e.values[t]=n.field(this),0):(e.values[t]=this.create(e),1)}}}init(e){return[this,hn.of({field:this,create:e})]}get extension(){return this}}function pn(e){return t=>new An(t,e)}const mn={highest:pn(0),high:pn(1),default:pn(2),low:pn(3),lowest:pn(4)};class An{constructor(e,t){this.inner=e,this.prec=t}}class gn{of(e){return new vn(this,e)}reconfigure(e){return gn.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class vn{constructor(e,t){this.compartment=e,this.inner=t}}class bn{constructor(e,t,n,r,o,i){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=r,this.staticValues=o,this.facets=i,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let r=[],o=Object.create(null),i=new Map;for(let n of function(e,t,n){let r=[[],[],[],[],[]],o=new Map;return function e(i,a){let s=o.get(i);if(null!=s){if(s<=a)return;let e=r[s].indexOf(i);e>-1&&r[s].splice(e,1),i instanceof vn&&n.delete(i.compartment)}if(o.set(i,a),Array.isArray(i))for(let t of i)e(t,a);else if(i instanceof vn){if(n.has(i.compartment))throw new RangeError("Duplicate use of compartment in extensions");let r=t.get(i.compartment)||i.inner;n.set(i.compartment,r),e(r,a)}else if(i instanceof An)e(i.inner,i.prec);else if(i instanceof fn)r[a].push(i),i.provides&&e(i.provides,a);else if(i instanceof ln)r[a].push(i),i.facet.extensions&&e(i.facet.extensions,2);else{let t=i.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${i}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);e(t,a)}}(e,2),r.reduce(((e,t)=>e.concat(t)))}(e,t,i))n instanceof fn?r.push(n):(o[n.facet.id]||(o[n.facet.id]=[])).push(n);let a=Object.create(null),s=[],l=[];for(let e of r)a[e.id]=l.length<<1,l.push((t=>e.slot(t)));let c=null==n?void 0:n.config.facets;for(let e in o){let t=o[e],r=t[0].facet,i=c&&c[e]||[];if(t.every((e=>0==e.type)))if(a[r.id]=s.length<<1|1,sn(i,t))s.push(n.facet(r));else{let e=r.combine(t.map((e=>e.value)));s.push(n&&r.compare(e,n.facet(r))?n.facet(r):e)}else{for(let e of t)0==e.type?(a[e.id]=s.length<<1|1,s.push(e.value)):(a[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));a[r.id]=l.length<<1,l.push((e=>dn(e,r,t)))}}let u=l.map((e=>e(a)));return new bn(e,i,u,a,s,o)}}function yn(e,t){if(1&t)return 2;let n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;let o=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|o}function wn(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const En=an.define(),kn=an.define({combine:e=>e.some((e=>e)),static:!0}),xn=an.define({combine:e=>e.length?e[0]:void 0,static:!0}),Un=an.define(),Sn=an.define(),Cn=an.define(),Fn=an.define({combine:e=>!!e.length&&e[0]});class In{constructor(e,t){this.type=e,this.value=t}static define(){return new Mn}}class Mn{of(e){return new In(this,e)}}class On{constructor(e){this.map=e}of(e){return new Nn(this,e)}}class Nn{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new Nn(this.type,t)}is(e){return this.type==e}static define(e={}){return new On(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let r of e){let e=r.map(t);e&&n.push(e)}return n}}Nn.reconfigure=Nn.define(),Nn.appendConfig=Nn.define();class Dn{constructor(e,t,n,r,o,i){this.startState=e,this.changes=t,this.selection=n,this.effects=r,this.annotations=o,this.scrollIntoView=i,this._doc=null,this._state=null,n&&rn(n,t.newLength),o.some((e=>e.type==Dn.time))||(this.annotations=o.concat(Dn.time.of(Date.now())))}static create(e,t,n,r,o,i){return new Dn(e,t,n,r,o,i)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Dn.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function Bn(e,t){let n=[];for(let r=0,o=0;;){let i,a;if(r<e.length&&(o==t.length||t[o]>=e[r]))i=e[r++],a=e[r++];else{if(!(o<t.length))return n;i=t[o++],a=t[o++]}!n.length||n[n.length-1]<i?n.push(i,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function Pn(e,t,n){var r;let o,i,a;return n?(o=t.changes,i=Yt.empty(t.changes.length),a=e.changes.compose(t.changes)):(o=t.changes.map(e.changes),i=e.changes.mapDesc(t.changes,!0),a=e.changes.compose(o)),{changes:a,selection:t.selection?t.selection.map(i):null===(r=e.selection)||void 0===r?void 0:r.map(o),effects:Nn.mapEffects(e.effects,o).concat(Nn.mapEffects(t.effects,i)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function Tn(e,t,n){let r=t.selection,o=zn(t.annotations);return t.userEvent&&(o=o.concat(Dn.userEvent.of(t.userEvent))),{changes:t.changes instanceof Yt?t.changes:Yt.of(t.changes||[],n,e.facet(xn)),selection:r&&(r instanceof nn?r:nn.single(r.anchor,r.head)),effects:zn(t.effects),annotations:o,scrollIntoView:!!t.scrollIntoView}}function Rn(e,t,n){let r=Tn(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(let o=1;o<t.length;o++){!1===t[o].filter&&(n=!1);let i=!!t[o].sequential;r=Pn(r,Tn(e,t[o],i?r.changes.newLength:e.doc.length),i)}let o=Dn.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){let t=e.startState,n=t.facet(Cn),r=e;for(let o=n.length-1;o>=0;o--){let i=n[o](e);i&&Object.keys(i).length&&(r=Pn(r,Tn(t,i,e.changes.newLength),!0))}return r==e?e:Dn.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){let t=e.startState,n=!0;for(let r of t.facet(Un)){let t=r(e);if(!1===t){n=!1;break}Array.isArray(t)&&(n=!0===n?t:Bn(n,t))}if(!0!==n){let r,o;if(!1===n)o=e.changes.invertedDesc,r=Yt.empty(t.doc.length);else{let t=e.changes.filter(n);r=t.changes,o=t.filtered.mapDesc(t.changes).invertedDesc}e=Dn.create(t,r,e.selection&&e.selection.map(o),Nn.mapEffects(e.effects,o),e.annotations,e.scrollIntoView)}let r=t.facet(Sn);for(let n=r.length-1;n>=0;n--){let o=r[n](e);e=o instanceof Dn?o:Array.isArray(o)&&1==o.length&&o[0]instanceof Dn?o[0]:Rn(t,zn(o),!1)}return e}(o):o)}Dn.time=In.define(),Dn.userEvent=In.define(),Dn.addToHistory=In.define(),Dn.remote=In.define();const Ln=[];function zn(e){return null==e?Ln:Array.isArray(e)?e:[e]}var _n=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(_n||(_n={}));const jn=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Wn;try{Wn=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}class Hn{constructor(e,t,n,r,o,i){this.config=e,this.doc=t,this.selection=n,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=o,i&&(i._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)yn(this,e<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(null!=n)return yn(this,n),wn(this,n);if(t)throw new RangeError("Field is not present in this state")}update(...e){return Rn(this,e,!0)}applyTransaction(e){let t,n=this.config,{base:r,compartments:o}=n;for(let t of e.effects)t.is(gn.reconfigure)?(n&&(o=new Map,n.compartments.forEach(((e,t)=>o.set(t,e))),n=null),o.set(t.value.compartment,t.value.extension)):t.is(Nn.reconfigure)?(n=null,r=t.value):t.is(Nn.appendConfig)&&(n=null,r=zn(r).concat(t.value));n?t=e.startState.values.slice():(n=bn.resolve(r,o,this),t=new Hn(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values);let i=e.startState.facet(kn)?e.newSelection:e.newSelection.asSingle();new Hn(n,e.newDoc,i,t,((t,n)=>n.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:nn.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),o=[n.range],i=zn(n.effects);for(let n=1;n<t.ranges.length;n++){let a=e(t.ranges[n]),s=this.changes(a.changes),l=s.map(r);for(let e=0;e<n;e++)o[e]=o[e].map(l);let c=r.mapDesc(s,!0);o.push(a.range.map(c)),r=r.compose(l),i=Nn.mapEffects(i,l).concat(Nn.mapEffects(zn(a.effects),c))}return{changes:r,selection:nn.create(o,t.mainIndex),effects:i}}changes(e=[]){return e instanceof Yt?e:Yt.of(e,this.doc.length,this.facet(Hn.lineSeparator))}toText(e){return Ot.of(e.split(this.facet(Hn.lineSeparator)||qt))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(yn(this,t),wn(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let r=e[n];r instanceof fn&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(n)for(let t in n)if(Object.prototype.hasOwnProperty.call(e,t)){let o=n[t],i=e[t];r.push(o.init((e=>o.spec.fromJSON(i,e))))}return Hn.create({doc:e.doc,selection:nn.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=bn.resolve(e.extensions||[],new Map),n=e.doc instanceof Ot?e.doc:Ot.of((e.doc||"").split(t.staticFacet(Hn.lineSeparator)||qt)),r=e.selection?e.selection instanceof nn?e.selection:nn.single(e.selection.anchor,e.selection.head):nn.single(0);return rn(r,n.length),t.staticFacet(kn)||(r=r.asSingle()),new Hn(t,n,r,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Hn.tabSize)}get lineBreak(){return this.facet(Hn.lineSeparator)||"\n"}get readOnly(){return this.facet(Fn)}phrase(e,...t){for(let t of this.facet(Hn.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,n)=>{if("$"==n)return"$";let r=+(n||1);return!r||r>t.length?e:t[r-1]}))),e}languageDataAt(e,t,n=-1){let r=[];for(let o of this.facet(En))for(let i of o(this,t,n))Object.prototype.hasOwnProperty.call(i,e)&&r.push(i[e]);return r}charCategorizer(e){return t=this.languageDataAt("wordChars",e).join(""),e=>{if(!/\S/.test(e))return _n.Space;if(function(e){if(Wn)return Wn.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||jn.test(n)))return!0}return!1}(e))return _n.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return _n.Word;return _n.Other};var t}wordAt(e){let{text:t,from:n,length:r}=this.doc.lineAt(e),o=this.charCategorizer(e),i=e-n,a=e-n;for(;i>0;){let e=jt(t,i,!1);if(o(t.slice(e,i))!=_n.Word)break;i=e}for(;a<r;){let e=jt(t,a);if(o(t.slice(a,e))!=_n.Word)break;a=e}return i==a?null:nn.range(i+n,a+n)}}function Vn(e,t,n={}){let r={};for(let t of e)for(let e of Object.keys(t)){let o=t[e],i=r[e];if(void 0===i)r[e]=o;else if(i===o||void 0===o);else{if(!Object.hasOwnProperty.call(n,e))throw new Error("Config merge conflict for field "+e);r[e]=n[e](i,o)}}for(let e in t)void 0===r[e]&&(r[e]=t[e]);return r}Hn.allowMultipleSelections=kn,Hn.tabSize=an.define({combine:e=>e.length?e[0]:4}),Hn.lineSeparator=xn,Hn.readOnly=Fn,Hn.phrases=an.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((n=>e[n]==t[n]))}}),Hn.languageData=En,Hn.changeFilter=Un,Hn.transactionFilter=Sn,Hn.transactionExtender=Cn,gn.reconfigure=Nn.define();class qn{eq(e){return this==e}range(e,t=e){return $n.create(e,t,this)}}qn.prototype.startSide=qn.prototype.endSide=0,qn.prototype.point=!1,qn.prototype.mapMode=$t.TrackDel;class $n{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new $n(e,t,n)}}function Kn(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Yn{constructor(e,t,n,r){this.from=e,this.to=t,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,r=0){let o=n?this.to:this.from;for(let i=r,a=o.length;;){if(i==a)return i;let r=i+a>>1,s=o[r]-e||(n?this.value[r].endSide:this.value[r].startSide)-t;if(r==i)return s>=0?i:a;s>=0?a=r:i=r+1}}between(e,t,n,r){for(let o=this.findIndex(t,-1e9,!0),i=this.findIndex(n,1e9,!1,o);o<i;o++)if(!1===r(this.from[o]+e,this.to[o]+e,this.value[o]))return!1}map(e,t){let n=[],r=[],o=[],i=-1,a=-1;for(let s=0;s<this.value.length;s++){let l,c,u=this.value[s],d=this.from[s]+e,h=this.to[s]+e;if(d==h){let e=t.mapPos(d,u.startSide,u.mapMode);if(null==e)continue;if(l=c=e,u.startSide!=u.endSide&&(c=t.mapPos(d,u.endSide),c<l))continue}else if(l=t.mapPos(d,u.startSide),c=t.mapPos(h,u.endSide),l>c||l==c&&u.startSide>0&&u.endSide<=0)continue;(c-l||u.endSide-u.startSide)<0||(i<0&&(i=l),u.point&&(a=Math.max(a,c-l)),n.push(u),r.push(l-i),o.push(c-i))}return{mapped:n.length?new Yn(r,o,n,a):null,pos:i}}}class Gn{constructor(e,t,n,r){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=r}static create(e,t,n,r){return new Gn(e,t,n,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:r=0,filterTo:o=this.length}=e,i=e.filter;if(0==t.length&&!i)return this;if(n&&(t=t.slice().sort(Kn)),this.isEmpty)return t.length?Gn.of(t):this;let a=new Jn(this,null,-1).goto(0),s=0,l=[],c=new Qn;for(;a.value||s<t.length;)if(s<t.length&&(a.from-t[s].from||a.startSide-t[s].value.startSide)>=0){let e=t[s++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==a.rangeIndex&&a.chunkIndex<this.chunk.length&&(s==t.length||this.chunkEnd(a.chunkIndex)<t[s].from)&&(!i||r>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!i||r>a.to||o<a.from||i(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||l.push($n.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?Gn.empty:this.nextLayer.update({add:l,filter:i,filterFrom:r,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],r=-1;for(let o=0;o<this.chunk.length;o++){let i=this.chunkPos[o],a=this.chunk[o],s=e.touchesRange(i,i+a.length);if(!1===s)r=Math.max(r,a.maxPoint),t.push(a),n.push(e.mapPos(i));else if(!0===s){let{mapped:o,pos:s}=a.map(i,e);o&&(r=Math.max(r,o.maxPoint),t.push(o),n.push(s))}}let o=this.nextLayer.map(e);return 0==t.length?o:new Gn(n,t,o||Gn.empty,r)}between(e,t,n){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let o=this.chunkPos[r],i=this.chunk[r];if(t>=o&&e<=o+i.length&&!1===i.between(o,e-o,t-o,n))return}this.nextLayer.between(e,t,n)}}iter(e=0){return Zn.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Zn.from(e).goto(t)}static compare(e,t,n,r,o=-1){let i=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),a=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=o)),s=Xn(i,a,n),l=new tr(i,s,o),c=new tr(a,s,o);n.iterGaps(((e,t,n)=>nr(l,e,c,t,n,r))),n.empty&&0==n.length&&nr(l,0,c,0,0,r)}static eq(e,t,n=0,r){null==r&&(r=999999999);let o=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),i=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(o.length!=i.length)return!1;if(!o.length)return!0;let a=Xn(o,i),s=new tr(o,a,0).goto(n),l=new tr(i,a,0).goto(n);for(;;){if(s.to!=l.to||!rr(s.active,l.active)||s.point&&(!l.point||!s.point.eq(l.point)))return!1;if(s.to>r)return!0;s.next(),l.next()}}static spans(e,t,n,r,o=-1){let i=new tr(e,null,o).goto(t),a=t,s=i.openStart;for(;;){let e=Math.min(i.to,n);if(i.point){let n=i.activeForPoint(i.to),o=i.pointFrom<t?n.length+1:i.point.startSide<0?n.length:Math.min(n.length,s);r.point(a,e,i.point,n,o,i.pointRank),s=Math.min(i.openEnd(e),n.length)}else e>a&&(r.span(a,e,i.active,s),s=i.openEnd(e));if(i.to>n)return s+(i.point&&i.to>n?1:0);a=i.to,i.next()}}static of(e,t=!1){let n=new Qn;for(let r of e instanceof $n?[e]:t?function(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(Kn(t,r)>0)return e.slice().sort(Kn);t=r}return e}(e):e)n.add(r.from,r.to,r.value);return n.finish()}static join(e){if(!e.length)return Gn.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let r=e[n];r!=Gn.empty;r=r.nextLayer)t=new Gn(r.chunkPos,r.chunk,t,Math.max(r.maxPoint,t.maxPoint));return t}}Gn.empty=new Gn([],[],null,-1),Gn.empty.nextLayer=Gn.empty;class Qn{finishChunk(e){this.chunks.push(new Yn(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Qn)).add(e,t,n)}addInner(e,t,n){let r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Gn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=Gn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Xn(e,t,n){let r=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&r.set(t.chunk[e],t.chunkPos[e]);let o=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let i=r.get(e.chunk[t]);null==i||(n?n.mapPos(i):i)!=e.chunkPos[t]||(null==n?void 0:n.touchesRange(i,i+e.chunk[t].length))||o.add(e.chunk[t])}return o}class Jn{constructor(e,t,n,r=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Zn{constructor(e){this.heap=e}static from(e,t=null,n=-1){let r=[];for(let o=0;o<e.length;o++)for(let i=e[o];!i.isEmpty;i=i.nextLayer)i.maxPoint>=n&&r.push(new Jn(i,t,n,o));return 1==r.length?r[0]:new Zn(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)er(this.heap,e);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)er(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),er(this.heap,0)}}}function er(e,t){for(let n=e[t];;){let r=1+(t<<1);if(r>=e.length)break;let o=e[r];if(r+1<e.length&&o.compare(e[r+1])>=0&&(o=e[r+1],r++),n.compare(o)<0)break;e[r]=n,e[t]=o,t=r}}class tr{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Zn.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){or(this.active,e),or(this.activeTo,e),or(this.activeRank,e),this.minActive=ar(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:r,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||r-this.activeTo[t])>0;)t++;ir(this.active,t,n),ir(this.activeTo,t,r),ir(this.activeRank,t,o),e&&ir(e,t,this.cursor.from),this.minActive=ar(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&or(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let t=n.length-1;t>=0&&n[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function nr(e,t,n,r,o,i){e.goto(t),n.goto(r);let a=r+o,s=r,l=r-t;for(;;){let t=e.to+l-n.to,r=t||e.endSide-n.endSide,o=r<0?e.to+l:n.to,c=Math.min(o,a);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&rr(e.activeForPoint(e.to),n.activeForPoint(n.to))||i.comparePoint(s,c,e.point,n.point):c>s&&!rr(e.active,n.active)&&i.compareRange(s,c,e.active,n.active),o>a)break;(t||e.openEnd!=n.openEnd)&&i.boundChange&&i.boundChange(o),s=o,r<=0&&e.next(),r>=0&&n.next()}}function rr(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function or(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function ir(e,t,n){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=n}function ar(e,t){let n=-1,r=1e9;for(let o=0;o<t.length;o++)(t[o]-r||e[o].endSide-e[n].endSide)<0&&(n=o,r=t[o]);return n}function sr(e,t,n=e.length){let r=0;for(let o=0;o<n&&o<e.length;)9==e.charCodeAt(o)?(r+=t-r%t,o++):(r++,o=jt(e,o));return r}function lr(e,t,n,r){for(let r=0,o=0;;){if(o>=t)return r;if(r==e.length)break;o+=9==e.charCodeAt(r)?n-o%n:1,r=jt(e,r)}return!0===r?-1:e.length}const cr="undefined"==typeof Symbol?"__ͼ":Symbol.for("ͼ"),ur="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),dr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class hr{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,i,a){let s=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return i.push(e[0]+";");for(let n in t){let a=t[n];if(/&/.test(n))o(n.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),a,i);else if(a&&"object"==typeof a){if(!l)throw new RangeError("The value of a property ("+n+") should be a primitive value.");o(r(n),a,s,c)}else null!=a&&s.push(n.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+a+";")}(s.length||c)&&i.push((!n||l||a?e:e.map(n)).join(", ")+" {"+s.join(" ")+"}")}for(let t in e)o(r(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=dr[cr]||1;return dr[cr]=e+1,"ͼ"+e.toString(36)}static mount(e,t,n){let r=e[ur],o=n&&n.nonce;r?o&&r.setNonce(o):r=new pr(e,o),r.mount(Array.isArray(t)?t:[t],e)}}let fr=new Map;class pr{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let t=fr.get(n);if(t)return e[ur]=t;this.sheet=new r.CSSStyleSheet,fr.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[ur]=this}mount(e,t){let n=this.sheet,r=0,o=0;for(let t=0;t<e.length;t++){let i=e[t],a=this.modules.indexOf(i);if(a<o&&a>-1&&(this.modules.splice(a,1),o--,a=-1),-1==a){if(this.modules.splice(o++,0,i),n)for(let e=0;e<i.rules.length;e++)n.insertRule(i.rules[e],r++)}else{for(;o<a;)r+=this.modules[o++].rules.length;r+=i.rules.length,o++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e;let n=t.head||t;this.styleTag.parentNode!=n&&n.insertBefore(this.styleTag,n.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var mr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ar={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},gr="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),vr="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),br=0;br<10;br++)mr[48+br]=mr[96+br]=String(br);for(br=1;br<=24;br++)mr[br+111]="F"+br;for(br=65;br<=90;br++)mr[br]=String.fromCharCode(br+32),Ar[br]=String.fromCharCode(br);for(var yr in mr)Ar.hasOwnProperty(yr)||(Ar[yr]=mr[yr]);function wr(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function Er(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function kr(e,t){if(!t.anchorNode)return!1;try{return Er(e,t.anchorNode)}catch(e){return!1}}function xr(e){return 3==e.nodeType?Rr(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function Ur(e,t,n,r){return!!n&&(Fr(e,t,n,r,-1)||Fr(e,t,n,r,1))}function Sr(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function Cr(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function Fr(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:Ir(e))){if("DIV"==e.nodeName)return!1;let n=e.parentNode;if(!n||1!=n.nodeType)return!1;t=Sr(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(o<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=o<0?Ir(e):0}}}function Ir(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Mr(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function Or(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function Nr(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}class Dr{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?Ir(t):0),n,Math.min(e.focusOffset,n?Ir(n):0))}set(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}let Br,Pr=null;function Tr(e){if(e.setActive)return e.setActive();if(Pr)return e.focus(Pr);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==Pr?{get preventScroll(){return Pr={preventScroll:!0},!0}}:void 0),!Pr){Pr=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],o=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=o&&(n.scrollLeft=o)}}}function Rr(e,t,n=t){let r=Br||(Br=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function Lr(e,t,n,r){let o={key:t,code:t,keyCode:n,which:n,cancelable:!0};r&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=r);let i=new KeyboardEvent("keydown",o);i.synthetic=!0,e.dispatchEvent(i);let a=new KeyboardEvent("keyup",o);return a.synthetic=!0,e.dispatchEvent(a),i.defaultPrevented||a.defaultPrevented}function zr(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function _r(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function jr(e,t){for(let n=e,r=t;;){if(3==n.nodeType&&r>0)return{node:n,offset:r};if(1==n.nodeType&&r>0){if("false"==n.contentEditable)return null;n=n.childNodes[r-1],r=Ir(n)}else{if(!n.parentNode||Cr(n))return null;r=Sr(n),n=n.parentNode}}}function Wr(e,t){for(let n=e,r=t;;){if(3==n.nodeType&&r<n.nodeValue.length)return{node:n,offset:r};if(1==n.nodeType&&r<n.childNodes.length){if("false"==n.contentEditable)return null;n=n.childNodes[r],r=0}else{if(!n.parentNode||Cr(n))return null;r=Sr(n)+1,n=n.parentNode}}}class Hr{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new Hr(e.parentNode,Sr(e),t)}static after(e,t){return new Hr(e.parentNode,Sr(e)+1,t)}}const Vr=[];class qr{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let n,r=this.dom,o=null;for(let i of this.children){if(7&i.flags){if(!i.dom&&(n=o?o.nextSibling:r.firstChild)){let e=qr.get(n);(!e||!e.parent&&e.canReuseDOM(i))&&i.reuseDOM(n)}i.sync(e,t),i.flags&=-8}if(n=o?o.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&n!=i.dom&&(t.written=!0),i.dom.parentNode==r)for(;n&&n!=i.dom;)n=$r(n);else r.insertBefore(i.dom,n);o=i.dom}for(n=o?o.nextSibling:r.firstChild,n&&t&&t.node==r&&(t.written=!0);n;)n=$r(n)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let r=0==Ir(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==r&&t.firstChild!=t.lastChild&&(r=e==t.firstChild?-1:1),e=t}n=r<0?e:e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!qr.get(n);)n=n.nextSibling;if(!n)return this.length;for(let e=0,t=0;;e++){let r=this.children[e];if(r.dom==n)return t;t+=r.length+r.breakAfter}}domBoundsAround(e,t,n=0){let r=-1,o=-1,i=-1,a=-1;for(let s=0,l=n,c=n;s<this.children.length;s++){let n=this.children[s],u=l+n.length;if(l<e&&u>t)return n.domBoundsAround(e,t,l);if(u>=e&&-1==r&&(r=s,o=l),l>t&&n.dom.parentNode==this.dom){i=s,a=c;break}c=u,l=u+n.breakAfter}return{from:o,to:a<0?n+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:i<this.children.length&&i>=0?this.children[i].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=Vr){this.markDirty();for(let r=e;r<t;r++){let e=this.children[r];e.parent==this&&n.indexOf(e)<0&&e.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let e=0;e<n.length;e++)n[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Kr(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,r,o,i){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function $r(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}qr.prototype.breakAfter=0;class Kr{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function Yr(e,t,n,r,o,i,a,s,l){let{children:c}=e,u=c.length?c[t]:null,d=i.length?i[i.length-1]:null,h=d?d.breakAfter:a;if(!(t==r&&u&&!a&&!h&&i.length<2&&u.merge(n,o,i.length?d:null,0==n,s,l))){if(r<c.length){let e=c[r];e&&(o<e.length||e.breakAfter&&(null==d?void 0:d.breakAfter))?(t==r&&(e=e.split(o),o=0),!h&&d&&e.merge(0,o,d,!0,0,l)?i[i.length-1]=e:((o||e.children.length&&!e.children[0].length)&&e.merge(0,o,null,!1,0,l),i.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:a=1),r++}for(u&&(u.breakAfter=a,n>0&&(!a&&i.length&&u.merge(n,u.length,i[0],!1,s,0)?u.breakAfter=i.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,s,0),t++));t<r&&i.length;)if(c[r-1].become(i[i.length-1]))r--,i.pop(),l=i.length?0:s;else{if(!c[t].become(i[0]))break;t++,i.shift(),s=i.length?0:l}!i.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,s,l)&&t--,(t<r||i.length)&&e.replaceChildren(t,r,i)}}function Gr(e,t,n,r,o,i){let a=e.childCursor(),{i:s,off:l}=a.findPos(n,1),{i:c,off:u}=a.findPos(t,-1),d=t-n;for(let e of r)d+=e.length;e.length+=d,Yr(e,c,u,s,l,r,0,o,i)}let Qr="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},Xr="undefined"!=typeof document?document:{documentElement:{style:{}}};const Jr=/Edge\/(\d+)/.exec(Qr.userAgent),Zr=/MSIE \d/.test(Qr.userAgent),eo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Qr.userAgent),to=!!(Zr||eo||Jr),no=!to&&/gecko\/(\d+)/i.test(Qr.userAgent),ro=!to&&/Chrome\/(\d+)/.exec(Qr.userAgent),oo="webkitFontSmoothing"in Xr.documentElement.style,io=!to&&/Apple Computer/.test(Qr.vendor),ao=io&&(/Mobile\/\w+/.test(Qr.userAgent)||Qr.maxTouchPoints>2);var so={mac:ao||/Mac/.test(Qr.platform),windows:/Win/.test(Qr.platform),linux:/Linux|X11/.test(Qr.platform),ie:to,ie_version:Zr?Xr.documentMode||6:eo?+eo[1]:Jr?+Jr[1]:0,gecko:no,gecko_version:no?+(/Firefox\/(\d+)/.exec(Qr.userAgent)||[0,0])[1]:0,chrome:!!ro,chrome_version:ro?+ro[1]:0,ios:ao,android:/Android\b/.test(Qr.userAgent),webkit:oo,safari:io,webkit_version:oo?+(/\bAppleWebKit\/(\d+)/.exec(Qr.userAgent)||[0,0])[1]:0,tabSize:null!=Xr.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class lo extends qr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,n){return!(8&this.flags||n&&(!(n instanceof lo)||this.length-(t-e)+n.length>256||8&n.flags)||(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),0))}split(e){let t=new lo(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Hr(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let o=t,i=t,a=0;0==t&&n<0||t==r&&n>=0?so.chrome||so.gecko||(t?(o--,a=1):i<r&&(i++,a=-1)):n<0?o--:i<r&&i++;let s=Rr(e,o,i).getClientRects();if(!s.length)return null;let l=s[(a?a<0:n>=0)?0:s.length-1];return so.safari&&!a&&0==l.width&&(l=Array.prototype.find.call(s,(e=>e.width))||l),a?Mr(l,a<0):l||null}(this.dom,e,t)}}class co extends qr{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let e of t)e.setParent(this)}setAttrs(e){if(zr(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof co&&n.mark.eq(this.mark))||e&&o<=0||t<this.length&&i<=0)||(Gr(this,e,t,n?n.children.slice():[],o-1,i-1),this.markDirty(),0))}split(e){let t=[],n=0,r=-1,o=0;for(let i of this.children){let a=n+i.length;a>e&&t.push(n<e?i.split(e-n):i),r<0&&n>=e&&(r=o),n=a,o++}let i=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new co(this.mark,t,i)}domAtPos(e){return fo(this,e)}coordsAt(e,t){return mo(this,e,t)}}class uo extends qr{static create(e,t,n){return new uo(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=uo.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof uo&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}become(e){return e instanceof uo&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return Ot.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):Ot.empty}domAtPos(e){return(this.length?0==e:this.side>0)?Hr.before(this.dom):Hr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;let i=this.side?this.side<0:e>0;for(let t=i?r.length-1:0;o=r[t],!(e>0?0==t:t==r.length-1||o.top<o.bottom);t+=i?-1:1);return Mr(o,!i)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ho extends qr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ho&&e.side==this.side}split(){return new ho(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Hr.before(this.dom):Hr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Ot.empty}get isHidden(){return!0}}function fo(e,t){let n=e.dom,{children:r}=e,o=0;for(let e=0;o<r.length;o++){let i=r[o],a=e+i.length;if(!(a==e&&i.getSide()<=0)){if(t>e&&t<a&&i.dom.parentNode==n)return i.domAtPos(t-e);if(t<=e)break;e=a}}for(let e=o;e>0;e--){let t=r[e-1];if(t.dom.parentNode==n)return t.domAtPos(t.length)}for(let e=o;e<r.length;e++){let t=r[e];if(t.dom.parentNode==n)return t.domAtPos(0)}return new Hr(n,0)}function po(e,t,n){let r,{children:o}=e;n>0&&t instanceof co&&o.length&&(r=o[o.length-1])instanceof co&&r.mark.eq(t.mark)?po(r,t.children[0],n-1):(o.push(t),t.setParent(e)),e.length+=t.length}function mo(e,t,n){let r=null,o=-1,i=null,a=-1;!function e(t,s){for(let l=0,c=0;l<t.children.length&&c<=s;l++){let u=t.children[l],d=c+u.length;d>=s&&(u.children.length?e(u,s-c):(!i||i.isHidden&&(n>0||Ao(i,u)))&&(d>s||c==d&&u.getSide()>0)?(i=u,a=s-c):(c<s||c==d&&u.getSide()<0&&!u.isHidden)&&(r=u,o=s-c)),c=d}}(e,t);let s=(n<0?r:i)||r||i;return s?s.coordsAt(Math.max(0,s==r?o:a),n):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=xr(t);return n[n.length-1]||null}(e)}function Ao(e,t){let n=e.coordsAt(0,1),r=t.coordsAt(0,1);return n&&r&&r.top<n.bottom}function go(e,t){for(let n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}lo.prototype.children=uo.prototype.children=ho.prototype.children=Vr;const vo=Object.create(null);function bo(e,t,n){if(e==t)return!0;e||(e=vo),t||(t=vo);let r=Object.keys(e),o=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=o.length-(n&&o.indexOf(n)>-1?1:0))return!1;for(let i of r)if(i!=n&&(-1==o.indexOf(i)||e[i]!==t[i]))return!1;return!0}function yo(e,t,n){let r=!1;if(t)for(let o in t)n&&o in n||(r=!0,"style"==o?e.style.cssText="":e.removeAttribute(o));if(n)for(let o in n)t&&t[o]==n[o]||(r=!0,"style"==o?e.style.cssText=n[o]:e.setAttribute(o,n[o]));return r}function wo(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class Eo{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var ko=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(ko||(ko={}));class xo extends qn{constructor(e,t,n,r){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(e){return new Uo(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Co(e,t,t,n,e.widget||null,!1)}static replace(e){let t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{let{start:o,end:i}=Fo(e,r);t=(o?r?-3e8:-1:5e8)-1,n=1+(i?r?2e8:1:-6e8)}return new Co(e,t,n,r,e.widget||null,!0)}static line(e){return new So(e)}static set(e,t=!1){return Gn.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}xo.none=Gn.empty;class Uo extends xo{constructor(e){let{start:t,end:n}=Fo(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof Uo&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(n=e.attrs)||void 0===n?void 0:n.class))&&bo(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Uo.prototype.point=!1;class So extends xo{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof So&&this.spec.class==e.spec.class&&bo(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}So.prototype.mapMode=$t.TrackBefore,So.prototype.point=!0;class Co extends xo{constructor(e,t,n,r,o,i){super(t,n,o,e),this.block=r,this.isReplace=i,this.mapMode=r?t<=0?$t.TrackBefore:$t.TrackAfter:$t.TrackDel}get type(){return this.startSide!=this.endSide?ko.WidgetRange:this.startSide<=0?ko.WidgetBefore:ko.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Co&&((t=this.widget)==(n=e.widget)||!!(t&&n&&t.compare(n)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,n}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function Fo(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!=n?n:t,end:null!=r?r:t}}function Io(e,t,n,r=0){let o=n.length-1;o>=0&&n[o]+r>=e?n[o]=Math.max(n[o],t):n.push(e,t)}Co.prototype.point=!0;class Mo extends qr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,r,o,i){if(n){if(!(n instanceof Mo))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),Gr(this,e,t,n?n.children.slice():[],o,i),!0}split(e){let t=new Mo;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:n,off:r}=this.childPos(e);r&&(t.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let e=n;e<this.children.length;e++)t.append(this.children[e],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){bo(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){po(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=go(t,this.attrs||{})),n&&(this.attrs=go({class:n},this.attrs||{}))}domAtPos(e){return fo(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?4&this.flags&&(zr(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(yo(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&qr.get(r)instanceof co;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=qr.get(r))||void 0===n?void 0:n.isEditable)||so.ios&&this.children.some((e=>e instanceof lo))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let n of this.children){if(!(n instanceof lo)||/[^ -~]/.test(n.text))return null;let r=xr(n.dom);if(1!=r.length)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let n=mo(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=n.bottom-n.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let r=(t-e.textHeight)/2;return{top:n.top+r,bottom:n.bottom-r,left:n.left,right:n.left}}}return n}become(e){return e instanceof Mo&&0==this.children.length&&0==e.children.length&&bo(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,r=0;n<e.children.length;n++){let o=e.children[n],i=r+o.length;if(i>=t){if(o instanceof Mo)return o;if(i>t)break}r=i+o.breakAfter}return null}}class Oo extends qr{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,r,o,i){return!(n&&(!(n instanceof Oo&&this.widget.compare(n.widget))||e>0&&o<=0||t<this.length&&i<=0)||(this.length=e+(n?n.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?Hr.before(this.dom):Hr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Oo(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return Vr}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Ot.empty}domBoundsAround(){return null}become(e){return e instanceof Oo&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)||(this.widget instanceof No?null:Mr(this.dom.getBoundingClientRect(),this.length?0==e:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t!=n&&(e<0?t<0:n>0)}}class No extends Eo{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Do{constructor(e,t,n,r){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Oo&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Mo),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Bo(new ho(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof Oo||this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:n,done:r}=this.cursor.next(this.skip);if(this.skip=0,r)throw new Error("Ran out of text content when drawing inline views");if(n){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Bo(new lo(this.text.slice(this.textOff,this.textOff+r)),t),n),this.atCursorPos=!0,this.textOff+=r,e-=r,n=0}}span(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,n,r,o,i){if(this.disallowBlockEffectsFor[i]&&n instanceof Co){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(n instanceof Co)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Oo(n.widget||Po.block,a,n));else{let i=uo.create(n.widget||Po.inline,a,a?0:n.startSide),s=this.atCursorPos&&!i.isEditable&&o<=r.length&&(e<t||n.startSide>0),l=!i.isEditable&&(e<t||o>r.length||n.startSide<=0),c=this.getLine();2!=this.pendingBuffer||s||i.isEditable||(this.pendingBuffer=0),this.flushBuffer(r),s&&(c.append(Bo(new ho(1),r),o),o=r.length+Math.max(0,o-r.length)),c.append(Bo(i,r),o),this.atCursorPos=l,this.pendingBuffer=l?e<t||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,n,r,o){let i=new Do(e,t,n,o);return i.openEnd=Gn.spans(r,t,n,i),i.openStart<0&&(i.openStart=i.openEnd),i.finish(i.openEnd),i}}function Bo(e,t){for(let n of t)e=new co(n,[e],e.length);return e}class Po extends Eo{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Po.inline=new Po("span"),Po.block=new Po("div");var To=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(To||(To={}));const Ro=To.LTR,Lo=To.RTL;function zo(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const _o=zo("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),jo=zo("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Wo=Object.create(null),Ho=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);Wo[t]=n,Wo[n]=-t}function Vo(e){return e<=247?_o[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?jo[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const qo=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class $o{get dir(){return this.level%2?Lo:Ro}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,r){let o=-1;for(let i=0;i<e.length;i++){let a=e[i];if(a.from<=t&&a.to>=t){if(a.level==n)return i;(o<0||(0!=r?r<0?a.from<t:a.to>t:e[o].level>a.level))&&(o=i)}}if(o<0)throw new RangeError("Index out of range");return o}}function Ko(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.direction!=o.direction||!Ko(r.inner,o.inner))return!1}return!0}const Yo=[];function Go(e,t,n,r,o,i,a){let s=r%2?2:1;if(r%2==o%2)for(let l=t,c=0;l<n;){let t=!0,u=!1;if(c==i.length||l<i[c].from){let e=Yo[l];e!=s&&(t=!1,u=16==e)}let d=t||1!=s?null:[],h=t?r:r+1,f=l;e:for(;;)if(c<i.length&&f==i[c].from){if(u)break e;let p=i[c];if(!t)for(let e=p.to,t=c+1;;){if(e==n)break e;if(!(t<i.length&&i[t].from==e)){if(Yo[e]==s)break e;break}e=i[t++].to}c++,d?d.push(p):(p.from>l&&a.push(new $o(l,p.from,h)),Qo(e,p.direction==Ro!=!(h%2)?r+1:r,o,p.inner,p.from,p.to,a),l=p.to),f=p.to}else{if(f==n||(t?Yo[f]!=s:Yo[f]==s))break;f++}d?Go(e,l,f,r+1,o,d,a):l<f&&a.push(new $o(l,f,h)),l=f}else for(let l=n,c=i.length;l>t;){let n=!0,u=!1;if(!c||l>i[c-1].to){let e=Yo[l-1];e!=s&&(n=!1,u=16==e)}let d=n||1!=s?null:[],h=n?r:r+1,f=l;e:for(;;)if(c&&f==i[c-1].to){if(u)break e;let p=i[--c];if(!n)for(let e=p.from,n=c;;){if(e==t)break e;if(!n||i[n-1].to!=e){if(Yo[e-1]==s)break e;break}e=i[--n].from}d?d.push(p):(p.to<l&&a.push(new $o(p.to,l,h)),Qo(e,p.direction==Ro!=!(h%2)?r+1:r,o,p.inner,p.from,p.to,a),l=p.from),f=p.from}else{if(f==t||(n?Yo[f-1]!=s:Yo[f-1]==s))break;f--}d?Go(e,f,l,r+1,o,d,a):f<l&&a.push(new $o(f,l,h)),l=f}}function Qo(e,t,n,r,o,i,a){let s=t%2?2:1;!function(e,t,n,r,o){for(let i=0;i<=r.length;i++){let a=i?r[i-1].to:t,s=i<r.length?r[i].from:n,l=i?256:o;for(let t=a,n=l,r=l;t<s;t++){let o=Vo(e.charCodeAt(t));512==o?o=n:8==o&&4==r&&(o=16),Yo[t]=4==o?2:o,7&o&&(r=o),n=o}for(let e=a,t=l,r=l;e<s;e++){let o=Yo[e];if(128==o)e<s-1&&t==Yo[e+1]&&24&t?o=Yo[e]=t:Yo[e]=256;else if(64==o){let o=e+1;for(;o<s&&64==Yo[o];)o++;let i=e&&8==t||o<n&&8==Yo[o]?1==r?1:8:256;for(let t=e;t<o;t++)Yo[t]=i;e=o-1}else 8==o&&1==r&&(Yo[e]=1);t=o,7&o&&(r=o)}}}(e,o,i,r,s),function(e,t,n,r,o){let i=1==o?2:1;for(let a=0,s=0,l=0;a<=r.length;a++){let c=a?r[a-1].to:t,u=a<r.length?r[a].from:n;for(let t,n,r,a=c;a<u;a++)if(n=Wo[t=e.charCodeAt(a)])if(n<0){for(let e=s-3;e>=0;e-=3)if(Ho[e+1]==-n){let t=Ho[e+2],n=2&t?o:4&t?1&t?i:o:0;n&&(Yo[a]=Yo[Ho[e]]=n),s=e;break}}else{if(189==Ho.length)break;Ho[s++]=a,Ho[s++]=t,Ho[s++]=l}else if(2==(r=Yo[a])||1==r){let e=r==o;l=e?0:1;for(let t=s-3;t>=0;t-=3){let n=Ho[t+2];if(2&n)break;if(e)Ho[t+2]|=2;else{if(4&n)break;Ho[t+2]|=4}}}}}(e,o,i,r,s),function(e,t,n,r){for(let o=0,i=r;o<=n.length;o++){let a=o?n[o-1].to:e,s=o<n.length?n[o].from:t;for(let l=a;l<s;){let a=Yo[l];if(256==a){let a=l+1;for(;;)if(a==s){if(o==n.length)break;a=n[o++].to,s=o<n.length?n[o].from:t}else{if(256!=Yo[a])break;a++}let c=1==i,u=c==(1==(a<t?Yo[a]:r))?c?1:2:r;for(let t=a,r=o,i=r?n[r-1].to:e;t>l;)t==i&&(t=n[--r].from,i=r?n[r-1].to:e),Yo[--t]=u;l=a}else i=a,l++}}}(o,i,r,s),Go(e,o,i,t,n,r,a)}function Xo(e){return[new $o(0,e,0)]}let Jo="";function Zo(e,t,n,r,o){var i;let a=r.head-e.from,s=$o.find(t,a,null!==(i=r.bidiLevel)&&void 0!==i?i:-1,r.assoc),l=t[s],c=l.side(o,n);if(a==c){let e=s+=o?1:-1;if(e<0||e>=t.length)return null;l=t[s=e],a=l.side(!o,n),c=l.side(o,n)}let u=jt(e.text,a,l.forward(o,n));(u<l.from||u>l.to)&&(u=c),Jo=e.text.slice(Math.min(a,u),Math.max(a,u));let d=s==(o?t.length-1:0)?null:t[s+(o?1:-1)];return d&&u==c&&d.level+(o?0:1)<l.level?nn.cursor(d.side(!o,n)+e.from,d.forward(o,n)?1:-1,d.level):nn.cursor(u+e.from,l.forward(o,n)?-1:1,l.level)}function ei(e,t,n){for(let r=t;r<n;r++){let t=Vo(e.charCodeAt(r));if(1==t)return Ro;if(2==t||4==t)return Lo}return Ro}const ti=an.define(),ni=an.define(),ri=an.define(),oi=an.define(),ii=an.define(),ai=an.define(),si=an.define(),li=an.define(),ci=an.define(),ui=an.define({combine:e=>e.some((e=>e))}),di=an.define({combine:e=>e.some((e=>e))}),hi=an.define();class fi{constructor(e,t="nearest",n="nearest",r=5,o=5,i=!1){this.range=e,this.y=t,this.x=n,this.yMargin=r,this.xMargin=o,this.isSnapshot=i}map(e){return e.empty?this:new fi(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new fi(nn.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const pi=Nn.define({map:(e,t)=>e.map(t)}),mi=Nn.define();function Ai(e,t,n){let r=e.facet(oi);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const gi=an.define({combine:e=>!e.length||e[0]});let vi=0;const bi=an.define();class yi{constructor(e,t,n,r,o){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=r,this.extension=o(this)}static define(e,t){const{eventHandlers:n,eventObservers:r,provide:o,decorations:i}=t||{};return new yi(vi++,e,n,r,(e=>{let t=[bi.of(e)];return i&&t.push(xi.of((t=>{let n=t.plugin(e);return n?i(n):xo.none}))),o&&t.push(o(e)),t}))}static fromClass(e,t){return yi.define((t=>new e(t)),t)}}class wi{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Ai(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ai(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){Ai(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Ei=an.define(),ki=an.define(),xi=an.define(),Ui=an.define(),Si=an.define(),Ci=an.define();function Fi(e,t){let n=e.state.facet(Ci);if(!n.length)return n;let r=n.map((t=>t instanceof Function?t(e):t)),o=[];return Gn.spans(r,t.from,t.to,{point(){},span(e,n,r,i){let a=e-t.from,s=n-t.from,l=o;for(let e=r.length-1;e>=0;e--,i--){let n,o=r[e].spec.bidiIsolate;if(null==o&&(o=ei(t.text,a,s)),i>0&&l.length&&(n=l[l.length-1]).to==a&&n.direction==o)n.to=s,l=n.inner;else{let e={from:a,to:s,direction:o,inner:[]};l.push(e),l=e.inner}}}}),o}const Ii=an.define();function Mi(e){let t=0,n=0,r=0,o=0;for(let i of e.state.facet(Ii)){let a=i(e);a&&(null!=a.left&&(t=Math.max(t,a.left)),null!=a.right&&(n=Math.max(n,a.right)),null!=a.top&&(r=Math.max(r,a.top)),null!=a.bottom&&(o=Math.max(o,a.bottom)))}return{left:t,right:n,top:r,bottom:o}}const Oi=an.define();class Ni{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}join(e){return new Ni(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(0==t.length)return e;let n=[];for(let r=0,o=0,i=0,a=0;;r++){let s=r==e.length?null:e[r],l=i-a,c=s?s.fromB:1e9;for(;o<t.length&&t[o]<c;){let e=t[o],r=t[o+1],i=Math.max(a,e),s=Math.min(c,r);if(i<=s&&new Ni(i+l,s+l,i,s).addToSet(n),r>c)break;o+=2}if(!s)return n;new Ni(s.fromA,s.toA,s.fromB,s.toB).addToSet(n),i=s.toA,a=s.toB}}}class Di{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=Yt.empty(this.startState.doc.length);for(let e of n)this.changes=this.changes.compose(e.changes);let r=[];this.changes.iterChangedRanges(((e,t,n,o)=>r.push(new Ni(e,t,n,o)))),this.changedRanges=r}static create(e,t,n){return new Di(e,t,n)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}class Bi extends qr{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=xo.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Mo],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ni(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let r=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?r=this.domChanged.newSel.head:function(e,t){let n=!1;return t&&e.iterChangedRanges(((e,r)=>{e<t.to&&r>t.from&&(n=!0)})),n}(e.changes,this.hasComposition)||e.selectionSet||(r=e.state.selection.main.head));let o=r>-1?function(e,t,n){let r=Pi(e,n);if(!r)return null;let{node:o,from:i,to:a}=r,s=o.nodeValue;if(/[\n\r]/.test(s))return null;if(e.state.doc.sliceString(r.from,r.to)!=s)return null;let l=t.invertedDesc,c=new Ni(l.mapPos(i),l.mapPos(a),i,a),u=[];for(let t=o.parentNode;;t=t.parentNode){let n=qr.get(t);if(n instanceof co)u.push({node:t,deco:n.mark});else{if(n instanceof Mo||"DIV"==t.nodeName&&t.parentNode==e.contentDOM)return{range:c,text:o,marks:u,line:t};if(t==e.contentDOM)return null;u.push({node:t,deco:new Uo({inclusive:!0,attributes:wo(t),tagName:t.tagName.toLowerCase()})})}}}(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:r}=this.hasComposition;n=new Ni(t,r,e.changes.mapPos(t,-1),e.changes.mapPos(r,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(so.ie||so.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=function(e,t,n){let r=new Ti;return Gn.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return n=Ni.extendWithRanges(n,i),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:r}=this.view;r.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=so.chrome||so.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""})),this.markedForComposition.forEach((e=>e.flags&=-9));let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof Oo&&e.widget instanceof No&&o.push(e.dom);r.updateGaps(o)}updateChildren(e,t,n){let r=n?n.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let e=r.length-1;;e--){let t=e>=0?r[e]:null;if(!t)break;let i,a,s,l,{fromA:c,toA:u,fromB:d,toB:h}=t;if(n&&n.range.fromB<h&&n.range.toB>d){let e=Do.build(this.view.state.doc,d,n.range.fromB,this.decorations,this.dynamicDecorationMap),t=Do.build(this.view.state.doc,n.range.toB,h,this.decorations,this.dynamicDecorationMap);a=e.breakAtStart,s=e.openStart,l=t.openEnd;let r=this.compositionView(n);t.breakAtStart?r.breakAfter=1:t.content.length&&r.merge(r.length,r.length,t.content[0],!1,t.openStart,0)&&(r.breakAfter=t.content[0].breakAfter,t.content.shift()),e.content.length&&r.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),i=e.content.concat(r).concat(t.content)}else({content:i,breakAtStart:a,openStart:s,openEnd:l}=Do.build(this.view.state.doc,d,h,this.decorations,this.dynamicDecorationMap));let{i:f,off:p}=o.findPos(u,1),{i:m,off:A}=o.findPos(c,-1);Yr(this,m,A,f,p,i,a,s,l)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let e of t.effects)e.is(mi)&&(this.editContextFormatting=e.value)}compositionView(e){let t=new lo(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new co(n,[t],t.length);let n=new Mo;return n.append(t,0),n}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some((e=>7&e.flags))?1:0),this.markedForComposition.add(t);let n=qr.get(e);n&&n!=t&&(n.dom=null),t.setDOM(e)},n=this.childPos(e.range.fromB,1),r=this.children[n.i];t(e.line,r);for(let o=e.marks.length-1;o>=-1;o--)n=r.childPos(n.off,1),r=r.children[n.i],t(o>=0?e.marks[o].node:e.text,r)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,o=!r&&!(this.view.state.facet(gi)||this.dom.tabIndex>-1)&&kr(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||t||o))return;let i=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,s=this.moveToLine(this.domAtPos(a.anchor)),l=a.empty?s:this.moveToLine(this.domAtPos(a.head));if(so.gecko&&a.empty&&!this.hasComposition&&1==(c=s).node.nodeType&&c.node.firstChild&&(0==c.offset||"false"==c.node.childNodes[c.offset-1].contentEditable)&&(c.offset==c.node.childNodes.length||"false"==c.node.childNodes[c.offset].contentEditable)){let e=document.createTextNode("");this.view.observer.ignore((()=>s.node.insertBefore(e,s.node.childNodes[s.offset]||null))),s=l=new Hr(e,0),i=!0}var c;let u=this.view.observer.selectionRange;!i&&u.focusNode&&(Ur(s.node,s.offset,u.anchorNode,u.anchorOffset)&&Ur(l.node,l.offset,u.focusNode,u.focusOffset)||this.suppressWidgetCursorChange(u,a))||(this.view.observer.ignore((()=>{so.android&&so.chrome&&this.dom.contains(u.focusNode)&&function(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=wr(this.view.root);if(e)if(a.empty){if(so.gecko){let e=(t=s.node,r=s.offset,1!=t.nodeType?0:(r&&"false"==t.childNodes[r-1].contentEditable?1:0)|(r<t.childNodes.length&&"false"==t.childNodes[r].contentEditable?2:0));if(e&&3!=e){let t=(1==e?jr:Wr)(s.node,s.offset);t&&(s=new Hr(t.node,t.offset))}}e.collapse(s.node,s.offset),null!=a.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=a.bidiLevel)}else if(e.extend){e.collapse(s.node,s.offset);try{e.extend(l.node,l.offset)}catch(e){}}else{let t=document.createRange();a.anchor>a.head&&([s,l]=[l,s]),t.setEnd(l.node,l.offset),t.setStart(s.node,s.offset),e.removeAllRanges(),e.addRange(t)}var t,r;o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())})),this.view.observer.setSelectionRange(s,l)),this.impreciseAnchor=s.precise?null:new Hr(u.anchorNode,u.anchorOffset),this.impreciseHead=l.precise?null:new Hr(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Ur(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=wr(e.root),{anchorNode:r,anchorOffset:o}=e.observer.selectionRange;if(!(n&&t.empty&&t.assoc&&n.modify))return;let i=Mo.find(this,t.head);if(!i)return;let a=i.posAtStart;if(t.head==a||t.head==a+i.length)return;let s=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!s||!l||s.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);n.collapse(c.node,c.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&n.collapse(r,o)}moveToLine(e){let t,n=this.dom;if(e.node!=n)return e;for(let r=e.offset;!t&&r<n.childNodes.length;r++){let e=qr.get(n.childNodes[r]);e instanceof Mo&&(t=e.domAtPos(0))}for(let r=e.offset-1;!t&&r>=0;r--){let e=qr.get(n.childNodes[r]);e instanceof Mo&&(t=e.domAtPos(e.length))}return t?new Hr(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=qr.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(n<e.length||e instanceof Mo)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,r=0;for(let o=this.length,i=this.children.length-1;i>=0;i--){let a=this.children[i],s=o-a.breakAfter,l=s-a.length;if(s<e)break;if(l<=e&&(l<e||a.covers(-1))&&(s>e||a.covers(1))&&(!n||a instanceof Mo&&!(n instanceof Mo&&t>=0)))n=a,r=l;else if(n&&l==e&&s==e&&a instanceof Oo&&Math.abs(t)<2){if(a.deco.startSide<0)break;i&&(n=null)}o=l}return n?n.coordsAt(e-r,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),r=this.children[t];if(!(r instanceof Mo))return null;for(;r.children.length;){let{i:e,off:t}=r.childPos(n,1);for(;;e++){if(e==r.children.length)return null;if((r=r.children[e]).length)break}n=t}if(!(r instanceof lo))return null;let o=jt(r.text,n);if(o==n)return null;let i=Rr(r.dom,n,o).getClientRects();for(let e=0;e<i.length;e++){let t=i[e];if(e==i.length-1||t.top<t.bottom&&t.left<t.right)return t}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:r}=e,o=this.view.contentDOM.clientWidth,i=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,s=this.view.textDirection==To.LTR;for(let e=0,l=0;l<this.children.length;l++){let c=this.children[l],u=e+c.length;if(u>r)break;if(e>=n){let n=c.dom.getBoundingClientRect();if(t.push(n.height),i){let t=c.dom.lastChild,r=t?xr(t):[];if(r.length){let t=r[r.length-1],i=s?t.right-n.left:n.right-t.left;i>a&&(a=i,this.minWidth=o,this.minWidthFrom=e,this.minWidthTo=u)}}}e=u+c.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?To.RTL:To.LTR}measureTextSize(){for(let e of this.children)if(e instanceof Mo){let t=e.measureTextSize();if(t)return t}let e,t,n,r=document.createElement("div");return r.className="cm-line",r.style.width="99999px",r.style.position="absolute",r.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(r);let o=xr(r.firstChild)[0];e=r.getBoundingClientRect().height,t=o?o.width/27:7,n=o?o.height:e,r.remove()})),{lineHeight:e,charWidth:t,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Kr(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,r=0;;r++){let o=r==t.viewports.length?null:t.viewports[r],i=o?o.from-1:this.length;if(i>n){let r=(t.lineBlockAt(i).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(xo.replace({widget:new No(r),block:!0,inclusive:!0,isBlockGap:!0}).range(n,i))}if(!o)break;n=o.to+1}return xo.set(e)}updateDeco(){let e=1,t=this.view.state.facet(xi).map((t=>(this.dynamicDecorationMap[e++]="function"==typeof t)?t(this.view):t)),n=!1,r=this.view.state.facet(Ui).map(((e,t)=>{let r="function"==typeof e;return r&&(n=!0),r?e(this.view):e}));for(r.length&&(this.dynamicDecorationMap[e++]=n,t.push(Gn.join(r))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}for(let t of this.view.state.facet(hi))try{if(t(this.view,e.range,e))return!0}catch(e){Ai(this.view.state,e,"scroll handler")}let t,{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1);if(!r)return;!n.empty&&(t=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,t.left),top:Math.min(r.top,t.top),right:Math.max(r.right,t.right),bottom:Math.max(r.bottom,t.bottom)});let o=Mi(this.view),i={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:s}=this.view.scrollDOM;!function(e,t,n,r,o,i,a,s){let l=e.ownerDocument,c=l.defaultView||window;for(let u=e,d=!1;u&&!d;)if(1==u.nodeType){let e,h=u==l.body,f=1,p=1;if(h)e=Or(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let t=u.getBoundingClientRect();({scaleX:f,scaleY:p}=Nr(u,t)),e={left:t.left,right:t.left+u.clientWidth*f,top:t.top,bottom:t.top+u.clientHeight*p}}let m=0,A=0;if("nearest"==o)t.top<e.top?(A=t.top-(e.top+a),n>0&&t.bottom>e.bottom+A&&(A=t.bottom-e.bottom+a)):t.bottom>e.bottom&&(A=t.bottom-e.bottom+a,n<0&&t.top-A<e.top&&(A=t.top-(e.top+a)));else{let r=t.bottom-t.top,i=e.bottom-e.top;A=("center"==o&&r<=i?t.top+r/2-i/2:"start"==o||"center"==o&&n<0?t.top-a:t.bottom-i+a)-e.top}if("nearest"==r?t.left<e.left?(m=t.left-(e.left+i),n>0&&t.right>e.right+m&&(m=t.right-e.right+i)):t.right>e.right&&(m=t.right-e.right+i,n<0&&t.left<e.left+m&&(m=t.left-(e.left+i))):m=("center"==r?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==r==s?t.left-i:t.right-(e.right-e.left)+i)-e.left,m||A)if(h)c.scrollBy(m,A);else{let e=0,n=0;if(A){let e=u.scrollTop;u.scrollTop+=A/p,n=(u.scrollTop-e)*p}if(m){let t=u.scrollLeft;u.scrollLeft+=m/f,e=(u.scrollLeft-t)*f}t={left:t.left-e,top:t.top-n,right:t.right-e,bottom:t.bottom-n},e&&Math.abs(e-m)<1&&(r="nearest"),n&&Math.abs(n-A)<1&&(o="nearest")}if(h)break;(t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)&&(t={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)}),u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,i,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,s),-s),this.view.textDirection==To.LTR)}}function Pi(e,t){let n=e.observer.selectionRange;if(!n.focusNode)return null;let r=jr(n.focusNode,n.focusOffset),o=Wr(n.focusNode,n.focusOffset),i=r||o;if(o&&r&&o.node!=r.node){let t=qr.get(o.node);if(!t||t instanceof lo&&t.text!=o.node.nodeValue)i=o;else if(e.docView.lastCompositionAfterCursor){let e=qr.get(r.node);!e||e instanceof lo&&e.text!=r.node.nodeValue||(i=o)}}if(e.docView.lastCompositionAfterCursor=i!=r,!i)return null;let a=t-i.offset;return{from:a,to:a+i.node.nodeValue.length,node:i.node}}let Ti=class{constructor(){this.changes=[]}compareRange(e,t){Io(e,t,this.changes)}comparePoint(e,t){Io(e,t,this.changes)}boundChange(e){Io(e,e,this.changes)}};function Ri(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function Li(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function zi(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function _i(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function ji(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Wi(e,t,n){let r,o,i,a,s,l,c,u,d=!1;for(let h=e.firstChild;h;h=h.nextSibling){let e=xr(h);for(let f=0;f<e.length;f++){let p=e[f];o&&zi(o,p)&&(p=_i(ji(p,o.bottom),o.top));let m=Ri(t,p),A=Li(n,p);if(0==m&&0==A)return 3==h.nodeType?Hi(h,t,n):Wi(h,t,n);if(!r||a>A||a==A&&i>m){r=h,o=p,i=m,a=A;let s=A?n<p.top?-1:1:m?t<p.left?-1:1:0;d=!s||(s>0?f<e.length-1:f>0)}0==m?n>p.bottom&&(!c||c.bottom<p.bottom)?(s=h,c=p):n<p.top&&(!u||u.top>p.top)&&(l=h,u=p):c&&zi(c,p)?c=ji(c,p.bottom):u&&zi(u,p)&&(u=_i(u,p.top))}}if(c&&c.bottom>=n?(r=s,o=c):u&&u.top<=n&&(r=l,o=u),!r)return{node:e,offset:0};let h=Math.max(o.left,Math.min(o.right,t));return 3==r.nodeType?Hi(r,h,n):d&&"false"!=r.contentEditable?Wi(r,h,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(o.left+o.right)/2?1:0)}}function Hi(e,t,n){let r=e.nodeValue.length,o=-1,i=1e9,a=0;for(let s=0;s<r;s++){let r=Rr(e,s,s+1).getClientRects();for(let l=0;l<r.length;l++){let c=r[l];if(c.top==c.bottom)continue;a||(a=t-c.left);let u=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&u<i){let n=t>=(c.left+c.right)/2,r=n;if((so.chrome||so.gecko)&&Rr(e,s).getBoundingClientRect().left==c.right&&(r=!n),u<=0)return{node:e,offset:s+(r?1:0)};o=s+(r?1:0),i=u}}}return{node:e,offset:o>-1?o:a>0?e.nodeValue.length:0}}function Vi(e,t,n,r=-1){var o,i;let a,s=e.contentDOM.getBoundingClientRect(),l=s.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:u,y:d}=t,h=d-l;if(h<0)return 0;if(h>c)return e.state.doc.length;for(let t=e.viewState.heightOracle.textHeight/2,o=!1;a=e.elementAtHeight(h),a.type!=ko.Text;)for(;h=r>0?a.bottom+t:a.top-t,!(h>=0&&h<=c);){if(o)return n?null:0;o=!0,r=-r}d=l+h;let f=a.from;if(f<e.viewport.from)return 0==e.viewport.from?0:n?null:qi(e,s,a,u,d);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:qi(e,s,a,u,d);let p=e.dom.ownerDocument,m=e.root.elementFromPoint?e.root:p,A=m.elementFromPoint(u,d);A&&!e.contentDOM.contains(A)&&(A=null),A||(u=Math.max(s.left+1,Math.min(s.right-1,u)),A=m.elementFromPoint(u,d),A&&!e.contentDOM.contains(A)&&(A=null));let g,v=-1;if(A&&0!=(null===(o=e.docView.nearest(A))||void 0===o?void 0:o.isEditable)){if(p.caretPositionFromPoint){let e=p.caretPositionFromPoint(u,d);e&&({offsetNode:g,offset:v}=e)}else if(p.caretRangeFromPoint){let t=p.caretRangeFromPoint(u,d);t&&(({startContainer:g,startOffset:v}=t),(!e.contentDOM.contains(g)||so.safari&&function(e,t,n){let r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return Rr(e,r-1,r).getBoundingClientRect().left>n}(g,v,u)||so.chrome&&function(e,t,n){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}return n-(1==e.nodeType?e.getBoundingClientRect():Rr(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}(g,v,u))&&(g=void 0))}g&&(v=Math.min(Ir(g),v))}if(!g||!e.docView.dom.contains(g)){let t=Mo.find(e.docView,f);if(!t)return h>a.top+a.height/2?a.to:a.from;({node:g,offset:v}=Wi(t.dom,u,d))}let b=e.docView.nearest(g);if(!b)return null;if(b.isWidget&&1==(null===(i=b.dom)||void 0===i?void 0:i.nodeType)){let e=b.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?b.posAtStart:b.posAtEnd}return b.localPosFromDOM(g,v)+b.posAtStart}function qi(e,t,n,r,o){let i=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;i+=Math.floor((o-n.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(n.from,n.to);return n.from+lr(a,i,e.state.tabSize)}function $i(e,t,n){let r=e.lineBlockAt(t);if(Array.isArray(r.type)){let e;for(let o of r.type){if(o.from>t)break;if(!(o.to<t)){if(o.from<t&&o.to>t)return o;e&&(o.type!=ko.Text||e.type==o.type&&!(n<0?o.from<t:o.to>t))||(e=o)}}return e||r}return r}function Ki(e,t,n,r){let o=e.state.doc.lineAt(t.head),i=e.bidiSpans(o),a=e.textDirectionAt(o.from);for(let s=t,l=null;;){let t=Zo(o,i,a,s,n),c=Jo;if(!t){if(o.number==(n?e.state.doc.lines:1))return s;c="\n",o=e.state.doc.line(o.number+(n?1:-1)),i=e.bidiSpans(o),t=e.visualLineSide(o,!n)}if(l){if(!l(c))return s}else{if(!r)return t;l=r(c)}s=t}}function Yi(e,t,n){for(;;){let r=0;for(let o of e)o.between(t-1,t+1,((e,o,i)=>{if(t>e&&t<o){let i=r||n||(t-e<o-t?-1:1);t=i<0?e:o,r=i}}));if(!r)return t}}function Gi(e,t,n){let r=Yi(e.state.facet(Si).map((t=>t(e))),n.from,t.head>n.from?-1:1);return r==n.from?n:nn.cursor(r,r<n.from?1:-1)}const Qi="￿";class Xi{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Hn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Qi}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let r=e;;){this.findPointBefore(n,r);let e=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==t)break;let i=qr.get(r),a=qr.get(o);(i&&a?i.breakAfter:(i?i.breakAfter:Cr(r))||Cr(o)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>e)&&this.lineBreak(),r=o}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let o,i=-1,a=1;if(this.lineSeparator?(i=t.indexOf(this.lineSeparator,n),a=this.lineSeparator.length):(o=r.exec(t))&&(i=o.index,a=o[0].length),this.append(t.slice(n,i<0?t.length:i)),i<0)break;if(this.lineBreak(),a>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=a-1);n=i+a}}readNode(e){if(e.cmIgnore)return;let t=qr.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(let e=n.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(3==e.nodeType?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(Ji(e,n.node,n.offset)?t:0))}}function Ji(e,t,n){for(;;){if(!t||n<Ir(t))return!1;if(t==e)return!0;n=Sr(t)+1,t=t.parentNode}}class Zi{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class ea{constructor(e,t,n,r){this.typeOver=r,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:i}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let t=o||i?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}=e.observer.selectionRange;return n&&(t.push(new Zi(n,r)),o==n&&i==r||t.push(new Zi(o,i))),t}(e),n=new Xi(t,e.state);n.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=n.text,this.newSel=function(e,t){if(0==e.length)return null;let n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?nn.single(n+t,r+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,n=o&&o.node==t.focusNode&&o.offset==t.focusOffset||!Er(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),r=i&&i.node==t.anchorNode&&i.offset==t.anchorOffset||!Er(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset),a=e.viewport;if((so.ios||so.chrome)&&e.state.selection.main.empty&&n!=r&&(a.from>0||a.to<e.state.doc.length)){let t=Math.min(n,r),o=Math.max(n,r),i=a.from-t,s=a.to-o;0!=i&&1!=i&&0!=t||0!=s&&-1!=s&&o!=e.state.doc.length||(n=0,r=e.state.doc.length)}this.newSel=nn.single(r,n)}}}function ta(e,t){let n,{newSel:r}=t,o=e.state.selection.main,i=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:r,to:a}=t.bounds,s=o.from,l=null;(8===i||so.android&&t.text.length<a-r)&&(s=o.to,l="end");let c=function(e,t,n,r){let o=Math.min(e.length,t.length),i=0;for(;i<o&&e.charCodeAt(i)==t.charCodeAt(i);)i++;if(i==o&&e.length==t.length)return null;let a=e.length,s=t.length;for(;a>0&&s>0&&e.charCodeAt(a-1)==t.charCodeAt(s-1);)a--,s--;return"end"==r&&(n-=a+Math.max(0,i-Math.min(a,s))-i),a<i&&e.length<t.length?(i-=n<=i&&n>=a?i-n:0,s=i+(s-a),a=i):s<i&&(i-=n<=i&&n>=s?i-n:0,a=i+(a-s),s=i),{from:i,toA:a,toB:s}}(e.state.doc.sliceString(r,a,Qi),t.text,s-r,l);c&&(so.chrome&&13==i&&c.toB==c.from+2&&t.text.slice(c.from,c.toB)==Qi+Qi&&c.toB--,n={from:r+c.from,to:r+c.toA,insert:Ot.of(t.text.slice(c.from,c.toB).split(Qi))})}else r&&(!e.hasFocus&&e.state.facet(gi)||r.main.eq(o))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!o.empty&&r&&r.main.empty?n={from:o.from,to:o.to,insert:e.state.doc.slice(o.from,o.to)}:(so.mac||so.android)&&n&&n.from==n.to&&n.from==o.head-1&&/^\. ?$/.test(n.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(r&&2==n.insert.length&&(r=nn.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Ot.of([n.insert.toString().replace("."," ")])}):n&&n.from>=o.from&&n.to<=o.to&&(n.from!=o.from||n.to!=o.to)&&o.to-o.from-(n.to-n.from)<=4?n={from:o.from,to:o.to,insert:e.state.doc.slice(o.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,o.to))}:so.chrome&&n&&n.from==n.to&&n.from==o.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=nn.single(r.main.anchor-1,r.main.head-1)),n={from:o.from,to:o.to,insert:Ot.of([" "])}),n)return na(e,n,r,i);if(r&&!r.main.eq(o)){let t=!1,n="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),n=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:t,userEvent:n}),!0}return!1}function na(e,t,n,r=-1){if(so.ios&&e.inputState.flushIOSKey(t))return!0;let o=e.state.selection.main;if(so.android&&(t.to==o.to&&(t.from==o.from||t.from==o.from-1&&" "==e.state.sliceDoc(t.from,o.from))&&1==t.insert.length&&2==t.insert.lines&&Lr(e.contentDOM,"Enter",13)||(t.from==o.from-1&&t.to==o.to&&0==t.insert.length||8==r&&t.insert.length<t.to-t.from&&t.to>o.head)&&Lr(e.contentDOM,"Backspace",8)||t.from==o.from&&t.to==o.to+1&&0==t.insert.length&&Lr(e.contentDOM,"Delete",46)))return!0;let i,a=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let s=()=>i||(i=function(e,t,n){let r,o=e.state,i=o.selection.main;if(t.from>=i.from&&t.to<=i.to&&t.to-t.from>=(i.to-i.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let n=i.from<t.from?o.sliceDoc(i.from,t.from):"",a=i.to>t.to?o.sliceDoc(t.to,i.to):"";r=o.replaceSelection(e.state.toText(n+t.insert.sliceString(0,void 0,e.state.lineBreak)+a))}else{let a=o.changes(t),s=n&&n.main.to<=a.newLength?n.main:void 0;if(o.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=i.to&&t.to>=i.to-10){let l,c=e.state.sliceDoc(t.from,t.to),u=n&&Pi(e,n.main.head);if(u){let e=t.insert.length-(t.to-t.from);l={from:u.from,to:u.to-e}}else l=e.state.doc.lineAt(i.head);let d=i.to-t.to,h=i.to-i.from;r=o.changeByRange((n=>{if(n.from==i.from&&n.to==i.to)return{changes:a,range:s||n.map(a)};let r=n.to-d,u=r-c.length;if(n.to-n.from!=h||e.state.sliceDoc(u,r)!=c||n.to>=l.from&&n.from<=l.to)return{range:n};let f=o.changes({from:u,to:r,insert:t.insert}),p=n.to-i.to;return{changes:f,range:s?nn.range(Math.max(0,s.anchor+p),Math.max(0,s.head+p)):n.map(f)}}))}else r={changes:a,selection:s&&o.selection.replaceRange(s)}}let a="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),o.update(r,{userEvent:a,scrollIntoView:!0})}(e,t,n));return e.state.facet(ai).some((n=>n(e,t.from,t.to,a,s)))||e.dispatch(s()),!0}class ra{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,so.safari&&e.contentDOM.addEventListener("input",(()=>null)),so.gecko&&function(e){Ma.has(e)||(Ma.add(e),e.addEventListener("copy",(()=>{})),e.addEventListener("cut",(()=>{})))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=qr.get(r))&&n.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||(0!=this.view.updateState?Promise.resolve().then((()=>this.runHandlers(e.type,e))):this.runHandlers(e.type,e)))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let e of n.observers)e(this.view,t);for(let e of n.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=ia(e),n=this.handlers,r=this.view.contentDOM;for(let e in t)if("scroll"!=e){let o=!t[e].handlers.length,i=n[e];i&&o!=!i.handlers.length&&(r.removeEventListener(e,this.handleEvent),i=null),i||r.addEventListener(e,this.handleEvent,{passive:o})}for(let e in n)"scroll"==e||t[e]||r.removeEventListener(e,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=e.keyCode&&la.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),so.android&&so.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!so.ios||e.synthetic||e.altKey||e.metaKey||!((t=aa.find((t=>t.keyCode==e.keyCode)))&&!e.ctrlKey||sa.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout((()=>this.flushIOSKey()),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&!("Enter"==t.key&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString()))&&(this.pendingIOSKey=void 0,Lr(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(so.safari&&!so.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function oa(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(e){Ai(n.state,e)}}}function ia(e){let t=Object.create(null);function n(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let t of e){let e=t.spec;if(e&&e.domEventHandlers)for(let r in e.domEventHandlers){let o=e.domEventHandlers[r];o&&n(r).handlers.push(oa(t.value,o))}if(e&&e.domEventObservers)for(let r in e.domEventObservers){let o=e.domEventObservers[r];o&&n(r).observers.push(oa(t.value,o))}}for(let e in da)n(e).handlers.push(da[e]);for(let e in ha)n(e).observers.push(ha[e]);return t}const aa=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],sa="dthko",la=[16,17,18,20,91,92,224,225];function ca(e){return.7*Math.max(0,e)+8}class ua{constructor(e,t,n,r){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=function(e){let t,n,r=e.ownerDocument;for(let o=e.parentNode;o&&!(o==r.body||t&&n);)if(1==o.nodeType)!n&&o.scrollHeight>o.clientHeight&&(n=o),!t&&o.scrollWidth>o.clientWidth&&(t=o),o=o.assignedSlot||o.parentNode;else{if(11!=o.nodeType)break;o=o.host}return{x:t,y:n}}(e.contentDOM),this.atoms=e.state.facet(Si).map((t=>t(e)));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Hn.allowMultipleSelections)&&function(e,t){let n=e.state.facet(ti);return n.length?n[0](t):so.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=wr(e.root);if(!r||0==r.rangeCount)return!0;let o=r.getRangeAt(0).getClientRects();for(let e=0;e<o.length;e++){let n=o[e];if(n.left<=t.clientX&&n.right>=t.clientX&&n.top<=t.clientY&&n.bottom>=t.clientY)return!0}return!1}(e,t)||1!=xa(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(t=this.startEvent,n=e,Math.max(Math.abs(t.clientX-n.clientX),Math.abs(t.clientY-n.clientY))<10))return;var t,n;this.select(this.lastEvent=e);let r=0,o=0,i=0,a=0,s=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:l}=this.scrollParents.y.getBoundingClientRect());let c=Mi(this.view);e.clientX-c.left<=i+6?r=-ca(i-e.clientX):e.clientX+c.right>=s-6&&(r=ca(e.clientX-s)),e.clientY-c.top<=a+6?o=-ca(a-e.clientY):e.clientY+c.bottom>=l-6&&(o=ca(e.clientY-l)),this.setScrollSpeed(r,o)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let r=e.ranges[n],o=null;if(r.empty){let e=Yi(this.atoms,r.from,0);e!=r.from&&(o=nn.cursor(e,-1))}else{let e=Yi(this.atoms,r.from,-1),t=Yi(this.atoms,r.to,1);e==r.from&&t==r.to||(o=nn.range(r.from==r.anchor?e:t,r.from==r.head?e:t))}o&&(t||(t=e.ranges.slice()),t[n]=o)}return t?nn.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&n.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some((e=>e.isUserEvent("input.type")))?this.destroy():this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}const da=Object.create(null),ha=Object.create(null),fa=so.ie&&so.ie_version<15||so.ios&&so.webkit_version<604;function pa(e,t,n){for(let r of e.facet(t))n=r(n,e);return n}function ma(e,t){t=pa(e.state,li,t);let n,{state:r}=e,o=1,i=r.toText(t),a=i.lines==r.selection.ranges.length;if(null!=Sa&&r.selection.ranges.every((e=>e.empty))&&Sa==i.toString()){let e=-1;n=r.changeByRange((n=>{let s=r.doc.lineAt(n.from);if(s.from==e)return{range:n};e=s.from;let l=r.toText((a?i.line(o++).text:t)+r.lineBreak);return{changes:{from:s.from,insert:l},range:nn.cursor(n.from+l.length)}}))}else n=a?r.changeByRange((e=>{let t=i.line(o++);return{changes:{from:e.from,to:e.to,insert:t.text},range:nn.cursor(e.from+t.length)}})):r.replaceSelection(i);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function Aa(e,t,n,r){if(1==r)return nn.cursor(t,n);if(2==r)return function(e,t,n=1){let r=e.charCategorizer(t),o=e.doc.lineAt(t),i=t-o.from;if(0==o.length)return nn.cursor(t);0==i?n=1:i==o.length&&(n=-1);let a=i,s=i;n<0?a=jt(o.text,i,!1):s=jt(o.text,i);let l=r(o.text.slice(a,s));for(;a>0;){let e=jt(o.text,a,!1);if(r(o.text.slice(e,a))!=l)break;a=e}for(;s<o.length;){let e=jt(o.text,s);if(r(o.text.slice(s,e))!=l)break;s=e}return nn.range(a+o.from,s+o.from)}(e.state,t,n);{let n=Mo.find(e.docView,t),r=e.state.doc.lineAt(n?n.posAtEnd:t),o=n?n.posAtStart:r.from,i=n?n.posAtEnd:r.to;return i<e.state.doc.length&&i==r.to&&i++,nn.range(o,i)}}ha.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},da.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&0!=e.inputState.tabFocusMode&&(e.inputState.tabFocusMode=Date.now()+2e3),!1),ha.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},ha.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},da.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(ri))if(n=r(e,t),n)break;if(n||0!=t.button||(n=function(e,t){let n=ba(e,t),r=xa(t),o=e.state.selection;return{update(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),o=o.map(e.changes))},get(t,i,a){let s,l=ba(e,t),c=Aa(e,l.pos,l.bias,r);if(n.pos!=l.pos&&!i){let t=Aa(e,n.pos,n.bias,r),o=Math.min(t.from,c.from),i=Math.max(t.to,c.to);c=o<c.from?nn.range(o,i):nn.range(i,o)}return i?o.replaceRange(o.main.extend(c.from,c.to)):a&&1==r&&o.ranges.length>1&&(s=function(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:o}=e.ranges[n];if(r<=t&&o>=t)return nn.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}(o,l.pos))?s:a?o.addRange(c):nn.create([c])}}}(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new ua(e,t,n,r)),r&&e.observer.ignore((()=>{Tr(e.contentDOM);let t=e.root.activeElement;t&&!t.contains(e.contentDOM)&&t.blur()}));let o=e.inputState.mouseSelection;if(o)return o.start(t),!1===o.dragging}return!1};let ga=(e,t,n)=>t>=n.top&&t<=n.bottom&&e>=n.left&&e<=n.right;function va(e,t,n,r){let o=Mo.find(e.docView,t);if(!o)return 1;let i=t-o.posAtStart;if(0==i)return 1;if(i==o.length)return-1;let a=o.coordsAt(i,-1);if(a&&ga(n,r,a))return-1;let s=o.coordsAt(i,1);return s&&ga(n,r,s)?1:a&&a.bottom>=r?-1:1}function ba(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:va(e,n,t.clientX,t.clientY)}}const ya=so.ie&&so.ie_version<=11;let wa=null,Ea=0,ka=0;function xa(e){if(!ya)return e.detail;let t=wa,n=ka;return wa=e,ka=Date.now(),Ea=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Ea+1)%3:1}function Ua(e,t,n,r){if(!(n=pa(e.state,li,n)))return;let o=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:i}=e.inputState,a=r&&i&&function(e,t){let n=e.state.facet(ni);return n.length?n[0](t):so.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:i.from,to:i.to}:null,s={from:o,insert:n},l=e.state.changes(a?[a,s]:s);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(o,-1),head:l.mapPos(o,1)},userEvent:a?"move.drop":"input.drop"}),e.inputState.draggedContent=null}da.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let r=e.docView.nearest(t.target);if(r&&r.isWidget){let e=r.posAtStart,t=e+r.length;(e>=n.to||t<=n.from)&&(n=nn.range(e,t))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",pa(e.state,ci,e.state.sliceDoc(n.from,n.to))),t.dataTransfer.effectAllowed="copyMove"),!1},da.dragend=e=>(e.inputState.draggedContent=null,!1),da.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),o=0,i=()=>{++o==n.length&&Ua(e,t,r.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<n.length;e++){let t=new FileReader;t.onerror=i,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),i()},t.readAsText(n[e])}return!0}{let n=t.dataTransfer.getData("Text");if(n)return Ua(e,t,n,!0),!0}return!1},da.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=fa?null:t.clipboardData;return n?(ma(e,n.getData("text/plain")||n.getData("text/uri-list")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((()=>{e.focus(),n.remove(),ma(e,n.value)}),50)}(e),!1)};let Sa=null;da.copy=da.cut=(e,t)=>{let{text:n,ranges:r,linewise:o}=function(e){let t=[],n=[],r=!1;for(let r of e.selection.ranges)r.empty||(t.push(e.sliceDoc(r.from,r.to)),n.push(r));if(!t.length){let o=-1;for(let{from:r}of e.selection.ranges){let i=e.doc.lineAt(r);i.number>o&&(t.push(i.text),n.push({from:i.from,to:Math.min(e.doc.length,i.to+1)})),o=i.number}r=!0}return{text:pa(e,ci,t.join(e.lineBreak)),ranges:n,linewise:r}}(e.state);if(!n&&!o)return!1;Sa=o?n:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let i=fa?null:t.clipboardData;return i?(i.clearData(),i.setData("text/plain",n),!0):(function(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((()=>{r.remove(),e.focus()}),50)}(e,n),!1)};const Ca=In.define();function Fa(e,t){let n=[];for(let r of e.facet(si)){let o=r(e,t);o&&n.push(o)}return n.length?e.update({effects:n,annotations:Ca.of(!0)}):null}function Ia(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=Fa(e.state,t);n?e.dispatch(n):e.update([])}}),10)}ha.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),Ia(e)},ha.blur=e=>{e.observer.clearSelectionRange(),Ia(e)},ha.compositionstart=ha.compositionupdate=e=>{e.observer.editContext||(null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))},ha.compositionend=e=>{e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,so.chrome&&so.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then((()=>e.observer.flush())):setTimeout((()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])}),50))},ha.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},da.beforeinput=(e,t)=>{var n,r;if("insertReplacementText"==t.inputType&&e.observer.editContext){let r=null===(n=t.dataTransfer)||void 0===n?void 0:n.getData("text/plain"),o=t.getTargetRanges();if(r&&o.length){let t=o[0],n=e.posAtDOM(t.startContainer,t.startOffset),i=e.posAtDOM(t.endContainer,t.endOffset);return na(e,{from:n,to:i,insert:e.state.toText(r)},null),!0}}let o;if(so.chrome&&so.android&&(o=aa.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(o.key,o.keyCode),"Backspace"==o.key||"Delete"==o.key)){let t=(null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0;setTimeout((()=>{var n;((null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}return so.ios&&"deleteContentForward"==t.inputType&&e.observer.flushSoon(),so.safari&&"insertText"==t.inputType&&e.inputState.composing>=0&&setTimeout((()=>ha.compositionend(e,t)),20),!1};const Ma=new Set,Oa=["pre-wrap","normal","pre-line","break-spaces"];let Na=!1;function Da(){Na=!1}class Ba{constructor(e){this.lineWrapping=e,this.doc=Ot.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Oa.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}refresh(e,t,n,r,o,i){let a=Oa.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=n,this.textHeight=r,this.lineLength=o,s){this.heightSamples={};for(let e=0;e<i.length;e++){let t=i[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return s}}class Pa{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Ta{constructor(e,t,n,r,o){this.from=e,this.length=t,this.top=n,this.height=r,this._content=o}get type(){return"number"==typeof this._content?ko.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Co?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ta(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ra=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Ra||(Ra={}));const La=.001;class za{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>La&&(Na=!0),this.height=e)}replace(e,t,n){return za.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,r){let o=this,i=n.doc;for(let a=r.length-1;a>=0;a--){let{fromA:s,toA:l,fromB:c,toB:u}=r[a],d=o.lineAt(s,Ra.ByPosNoHeight,n.setDoc(t),0,0),h=d.to>=l?d:o.lineAt(l,Ra.ByPosNoHeight,n,0,0);for(u+=h.to-l,l=h.to;a>0&&d.from<=r[a-1].toA;)s=r[a-1].fromA,c=r[a-1].fromB,a--,s<d.from&&(d=o.lineAt(s,Ra.ByPosNoHeight,n,0,0));c+=d.from-s,s=d.from;let f=$a.build(n.setDoc(i),e,c,u);o=_a(o,o.replace(s,l,f))}return o.updateHeight(n,0)}static empty(){return new Wa(0,0)}static of(e){if(1==e.length)return e[0];let t=0,n=e.length,r=0,o=0;for(;;)if(t==n)if(r>2*o){let o=e[t-1];o.break?e.splice(--t,1,o.left,null,o.right):e.splice(--t,1,o.left,o.right),n+=1+o.break,r-=o.size}else{if(!(o>2*r))break;{let t=e[n];t.break?e.splice(n,1,t.left,null,t.right):e.splice(n,1,t.left,t.right),n+=2+t.break,o-=t.size}}else if(r<o){let n=e[t++];n&&(r+=n.size)}else{let t=e[--n];t&&(o+=t.size)}let i=0;return null==e[t-1]?(i=1,t--):null==e[t]&&(i=1,n++),new Va(za.of(e.slice(0,t)),i,za.of(e.slice(n)))}}function _a(e,t){return e==t?e:(e.constructor!=t.constructor&&(Na=!0),t)}za.prototype.size=1;class ja extends za{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,r){return new Ta(r,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,r,o){return this.blockAt(0,n,r,o)}forEachLine(e,t,n,r,o,i){e<=o+this.length&&t>=o&&i(this.blockAt(0,n,r,o))}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Wa extends ja{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,r){return new Ta(r,this.length,n,this.height,this.breaks)}replace(e,t,n){let r=n[0];return 1==n.length&&(r instanceof Wa||r instanceof Ha&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof Ha?r=new Wa(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):za.of(n)}updateHeight(e,t=0,n=!1,r){return r&&r.from<=t&&r.more?this.setHeight(r.heights[r.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ha extends za{constructor(e){super(e,0)}heightMetrics(e,t){let n,r=e.doc.lineAt(t).number,o=e.doc.lineAt(t+this.length).number,i=o-r+1,a=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*i);n=t/i,this.length>i+1&&(a=(this.height-t)/(this.length-i-1))}else n=this.height/i;return{firstLine:r,lastLine:o,perLine:n,perChar:a}}blockAt(e,t,n,r){let{firstLine:o,lastLine:i,perLine:a,perChar:s}=this.heightMetrics(t,r);if(t.lineWrapping){let o=r+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),i=t.doc.lineAt(o),l=a+i.length*s,c=Math.max(n,e-l/2);return new Ta(i.from,i.length,c,l,0)}{let r=Math.max(0,Math.min(i-o,Math.floor((e-n)/a))),{from:s,length:l}=t.doc.line(o+r);return new Ta(s,l,n+a*r,a,0)}}lineAt(e,t,n,r,o){if(t==Ra.ByHeight)return this.blockAt(e,n,r,o);if(t==Ra.ByPosNoHeight){let{from:t,to:r}=n.doc.lineAt(e);return new Ta(t,r-t,0,0,0)}let{firstLine:i,perLine:a,perChar:s}=this.heightMetrics(n,o),l=n.doc.lineAt(e),c=a+l.length*s,u=l.number-i,d=r+a*u+s*(l.from-o-u);return new Ta(l.from,l.length,Math.max(r,Math.min(d,r+this.height-c)),c,0)}forEachLine(e,t,n,r,o,i){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:a,perLine:s,perChar:l}=this.heightMetrics(n,o);for(let c=e,u=r;c<=t;){let t=n.doc.lineAt(c);if(c==e){let n=t.number-a;u+=s*n+l*(e-o-n)}let r=s+l*t.length;i(new Ta(t.from,t.length,u,r,0)),u+=r,c=t.to+1}}replace(e,t,n){let r=this.length-t;if(r>0){let e=n[n.length-1];e instanceof Ha?n[n.length-1]=new Ha(e.length+r):n.push(null,new Ha(r-1))}if(e>0){let t=n[0];t instanceof Ha?n[0]=new Ha(e+t.length):n.unshift(new Ha(e-1),null)}return za.of(n)}decomposeLeft(e,t){t.push(new Ha(e-1),null)}decomposeRight(e,t){t.push(null,new Ha(this.length-e-1))}updateHeight(e,t=0,n=!1,r){let o=t+this.length;if(r&&r.from<=t+this.length&&r.more){let n=[],i=Math.max(t,r.from),a=-1;for(r.from>t&&n.push(new Ha(r.from-t-1).updateHeight(e,t));i<=o&&r.more;){let t=e.doc.lineAt(i).length;n.length&&n.push(null);let o=r.heights[r.index++];-1==a?a=o:Math.abs(o-a)>=La&&(a=-2);let s=new Wa(t,o);s.outdated=!1,n.push(s),i+=t+1}i<=o&&n.push(null,new Ha(o-i).updateHeight(e,i));let s=za.of(n);return(a<0||Math.abs(s.height-this.height)>=La||Math.abs(a-this.heightMetrics(e,t).perLine)>=La)&&(Na=!0),_a(this,s)}return(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Va extends za{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return 1&this.flags}blockAt(e,t,n,r){let o=n+this.left.height;return e<o?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,o,r+this.left.length+this.break)}lineAt(e,t,n,r,o){let i=r+this.left.height,a=o+this.left.length+this.break,s=t==Ra.ByHeight?e<i:e<a,l=s?this.left.lineAt(e,t,n,r,o):this.right.lineAt(e,t,n,i,a);if(this.break||(s?l.to<a:l.from>a))return l;let c=t==Ra.ByPosNoHeight?Ra.ByPosNoHeight:Ra.ByPos;return s?l.join(this.right.lineAt(a,c,n,i,a)):this.left.lineAt(a,c,n,r,o).join(l)}forEachLine(e,t,n,r,o,i){let a=r+this.left.height,s=o+this.left.length+this.break;if(this.break)e<s&&this.left.forEachLine(e,t,n,r,o,i),t>=s&&this.right.forEachLine(e,t,n,a,s,i);else{let l=this.lineAt(s,Ra.ByPos,n,r,o);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,o,i),l.to>=e&&l.from<=t&&i(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,a,s,i)}}replace(e,t,n){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));let o=[];e>0&&this.decomposeLeft(e,o);let i=o.length;for(let e of n)o.push(e);if(e>0&&qa(o,i-1),t<this.length){let e=o.length;this.decomposeRight(t,o),qa(o,e)}return za.of(o)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?za.of(this.break?[e,null,t]:[e,t]):(this.left=_a(this.left,e),this.right=_a(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,r){let{left:o,right:i}=this,a=t+o.length+this.break,s=null;return r&&r.from<=t+o.length&&r.more?s=o=o.updateHeight(e,t,n,r):o.updateHeight(e,t,n),r&&r.from<=a+i.length&&r.more?s=i=i.updateHeight(e,a,n,r):i.updateHeight(e,a,n),s?this.balanced(o,i):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function qa(e,t){let n,r;null==e[t]&&(n=e[t-1])instanceof Ha&&(r=e[t+1])instanceof Ha&&e.splice(t-1,3,new Ha(n.length+1+r.length))}class $a{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof Wa?n.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new Wa(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let i=t-e;n.block?this.addBlock(new ja(i,r,n)):(i||o||r>=5)&&this.addLineDeco(r,o,i)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Wa(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Ha(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Wa)return e;let t=new Wa(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Wa||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Wa(0,-1));let n=e;for(let e of this.nodes)e instanceof Wa&&e.updateHeight(this.oracle,n),n+=e?e.length:1;return this.nodes}static build(e,t,n,r){let o=new $a(n,e);return Gn.spans(t,n,r,o,0),o.finish(n)}}class Ka{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&Io(e,t,this.changes,5)}}function Ya(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,o=r.defaultView||window,i=Math.max(0,n.left),a=Math.min(o.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(o.innerHeight,n.bottom);for(let t=e.parentNode;t&&t!=r.body;)if(1==t.nodeType){let n=t,r=window.getComputedStyle(n);if((n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)&&"visible"!=r.overflow){let r=n.getBoundingClientRect();i=Math.max(i,r.left),a=Math.min(a,r.right),s=Math.max(s,r.top),l=Math.min(t==e.parentNode?o.innerHeight:l,r.bottom)}t="absolute"==r.position||"fixed"==r.position?n.offsetParent:n.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:i-n.left,right:Math.max(i,a)-n.left,top:s-(n.top+t),bottom:Math.max(s,l)-(n.top+t)}}function Ga(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class Qa{constructor(e,t,n,r){this.from=e,this.to=t,this.size=n,this.displaySize=r}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],o=t[n];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(e,t){return xo.replace({widget:new Xa(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Xa extends Eo{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Ja{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=ns,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=To.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(ki).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new Ba(t),this.stateDeco=e.facet(xi).filter((e=>"function"!=typeof e)),this.heightMap=za.empty().applyChanges(this.stateDeco,Ot.empty,this.heightOracle.setDoc(e.doc),[new Ni(0,0,0,e.doc.length)]);for(let e=0;e<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());e++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=xo.set(this.lineGaps.map((e=>e.draw(this,!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let r=n?t.head:t.anchor;if(!e.some((({from:e,to:t})=>r>=e&&r<=t))){let{from:t,to:n}=this.lineBlockAt(r);e.push(new Za(t,n))}}return this.viewports=e.sort(((e,t)=>e.from-t.from)),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?ns:new rs(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(os(e,this.scaler))}))}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(xi).filter((e=>"function"!=typeof e));let r=e.changedRanges,o=Ni.extendWithRanges(r,function(e,t,n){let r=new Ka;return Gn.compare(e,t,n,r,0),r.changes}(n,this.stateDeco,e?e.changes:Yt.empty(this.state.doc.length))),i=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Da(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=i||Na)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=i);let s=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));let l=s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,e.flags|=this.updateForViewport(),(l||!e.changes.empty||2&e.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(di)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?To.RTL:To.LTR;let i=this.heightOracle.mustRefreshForWrapping(o),a=t.getBoundingClientRect(),s=i||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let l=0,c=0;if(a.width&&a.height){let{scaleX:e,scaleY:n}=Nr(t,a);(e>.005&&Math.abs(this.scaleX-e)>.005||n>.005&&Math.abs(this.scaleY-n)>.005)&&(this.scaleX=e,this.scaleY=n,l|=16,i=s=!0)}let u=(parseInt(n.paddingTop)||0)*this.scaleY,d=(parseInt(n.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==d||(this.paddingTop=u,this.paddingBottom=d,l|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=16);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=_r(e.scrollDOM);let f=(this.printing?Ga:Ya)(t,this.paddingTop),p=f.top-this.pixelViewport.top,m=f.bottom-this.pixelViewport.bottom;this.pixelViewport=f;let A=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(A!=this.inView&&(this.inView=A,A&&(s=!0)),!this.inView&&!this.scrollTarget&&!function(e){let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView||window;return t.left<n.innerWidth&&t.right>0&&t.top<n.innerHeight&&t.bottom>0}(e.dom))return 0;let g=a.width;if(this.contentDOMWidth==g&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,l|=16),s){let t=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(t)&&(i=!0),i||r.lineWrapping&&Math.abs(g-this.contentDOMWidth)>r.charWidth){let{lineHeight:n,charWidth:a,textHeight:s}=e.docView.measureTextSize();i=n>0&&r.refresh(o,n,a,s,g/a,t),i&&(e.docView.minWidth=0,l|=16)}p>0&&m>0?c=Math.max(p,m):p<0&&m<0&&(c=Math.min(p,m)),Da();for(let n of this.viewports){let o=n.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(n);this.heightMap=(i?za.empty().applyChanges(this.stateDeco,Ot.empty,this.heightOracle,[new Ni(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,i,new Pa(n.from,o))}Na&&(l|=2)}let v=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(2&l&&(l|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),l|=this.updateForViewport()),(2&l||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(i?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:i,visibleBottom:a}=this,s=new Za(r.lineAt(i-1e3*n,Ra.ByHeight,o,0,0).from,r.lineAt(a+1e3*(1-n),Ra.ByHeight,o,0,0).to);if(t){let{head:e}=t.range;if(e<s.from||e>s.to){let n,i=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),a=r.lineAt(e,Ra.ByPos,o,0,0);n="center"==t.y?(a.top+a.bottom)/2-i/2:"start"==t.y||"nearest"==t.y&&e<s.from?a.top:a.bottom-i,s=new Za(r.lineAt(n-500,Ra.ByHeight,o,0,0).from,r.lineAt(n+i+500,Ra.ByHeight,o,0,0).to)}}return s}mapViewport(e,t){let n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Za(this.heightMap.lineAt(n,Ra.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Ra.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Ra.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,Ra.ByPos,this.heightOracle,0,0),{visibleTop:i,visibleBottom:a}=this;return(0==e||r<=i-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||o>=a+Math.max(10,Math.min(n,250)))&&r>i-2e3&&o<a+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let r of e)t.touchesRange(r.from,r.to)||n.push(new Qa(t.mapPos(r.from),t.mapPos(r.to),r.size,r.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,o=r>>1,i=r<<1;if(this.defaultTextDirection!=To.LTR&&!n)return[];let a=[],s=(r,i,l,c)=>{if(i-r<o)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let e of d)if(e>r&&e<i)return s(r,e-10,l,c),void s(e+10,i,l,c);let h=function(e,t){for(let n of e)if(t(n))return n}(e,(e=>e.from>=l.from&&e.to<=l.to&&Math.abs(e.from-r)<o&&Math.abs(e.to-i)<o&&!d.some((t=>e.from<t&&e.to>t))));if(!h){if(i<l.to&&t&&n&&t.visibleRanges.some((e=>e.from<=i&&e.to>=i))){let e=t.moveToLineBoundary(nn.cursor(i),!1,!0).head;e>r&&(i=e)}let e=this.gapSize(l,r,i,c);h=new Qa(r,i,e,n||e<2e6?e:2e6)}a.push(h)},l=t=>{if(t.length<i||t.type!=ko.Text)return;let o=function(e,t,n){let r=[],o=e,i=0;return Gn.spans(n,e,t,{span(){},point(e,t){e>o&&(r.push({from:o,to:e}),i+=e-o),o=t}},20),o<t&&(r.push({from:o,to:t}),i+=t-o),{total:i,ranges:r}}(t.from,t.to,this.stateDeco);if(o.total<i)return;let a,l,c=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let e,n,i=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=c){let r=ts(o,c),a=((this.visibleBottom-this.visibleTop)/2+i)/t.height;e=r-a,n=r+a}else e=(this.visibleTop-t.top-i)/t.height,n=(this.visibleBottom-t.top+i)/t.height;a=es(o,e),l=es(o,n)}else{let n=o.total*this.heightOracle.charWidth,i=r*this.heightOracle.charWidth,s=0;if(n>2e6)for(let n of e)n.from>=t.from&&n.from<t.to&&n.size!=n.displaySize&&n.from*this.heightOracle.charWidth+s<this.pixelViewport.left&&(s=n.size-n.displaySize);let u,d,h=this.pixelViewport.left+s,f=this.pixelViewport.right+s;if(null!=c){let e=ts(o,c),t=((f-h)/2+i)/n;u=e-t,d=e+t}else u=(h-i)/n,d=(f+i)/n;a=es(o,u),l=es(o,d)}a>t.from&&s(t.from,a,t,o),l<t.to&&s(l,t.to,t,o)};for(let e of this.viewportLines)Array.isArray(e.type)?e.type.forEach(l):l(e);return a}gapSize(e,t,n,r){let o=ts(r,n)-ts(r,t);return this.heightOracle.lineWrapping?e.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(e){Qa.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=xo.set(e.map((e=>e.draw(this,this.heightOracle.lineWrapping)))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];Gn.spans(t,this.viewport.from,this.viewport.to,{span(e,t){n.push({from:e,to:t})},point(){}},20);let r=0;if(n.length!=this.visibleRanges.length)r=12;else for(let t=0;t<n.length&&!(8&r);t++){let o=this.visibleRanges[t],i=n[t];o.from==i.from&&o.to==i.to||(r|=4,e&&e.mapPos(o.from,-1)==i.from&&e.mapPos(o.to,1)==i.to||(r|=8))}return this.visibleRanges=n,r}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||os(this.heightMap.lineAt(e,Ra.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find((t=>t.top<=e&&t.bottom>=e))||os(this.heightMap.lineAt(this.scaler.fromDOM(e),Ra.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return os(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Za{constructor(e,t){this.from=e,this.to=t}}function es({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let e=0;;e++){let{from:n,to:o}=t[e],i=o-n;if(r<=i)return n+r;r-=i}}function ts(e,t){let n=0;for(let{from:r,to:o}of e.ranges){if(t<=o){n+=t-r;break}n+=o-r}return n/e.total}const ns={toDOM:e=>e,fromDOM:e=>e,scale:1,eq(e){return e==this}};class rs{constructor(e,t,n){let r=0,o=0,i=0;this.viewports=n.map((({from:n,to:o})=>{let i=t.lineAt(n,Ra.ByPos,e,0,0).top,a=t.lineAt(o,Ra.ByPos,e,0,0).bottom;return r+=a-i,{from:n,to:o,top:i,bottom:a,domTop:0,domBottom:0}})),this.scale=(7e6-r)/(t.height-r);for(let e of this.viewports)e.domTop=i+(e.top-o)*this.scale,i=e.domBottom=e.domTop+(e.bottom-e.top),o=e.bottom}toDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return r+(e-n)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);n=o.bottom,r=o.domBottom}}fromDOM(e){for(let t=0,n=0,r=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return n+(e-r)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);n=o.bottom,r=o.domBottom}}eq(e){return e instanceof rs&&this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every(((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to))}}function os(e,t){if(1==t.scale)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new Ta(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map((e=>os(e,t))):e._content)}const is=an.define({combine:e=>e.join(" ")}),as=an.define({combine:e=>e.indexOf(!0)>-1}),ss=hr.newName(),ls=hr.newName(),cs=hr.newName(),us={"&light":"."+ls,"&dark":"."+cs};function ds(e,t,n){return new hr(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!n||!n[t])throw new RangeError(`Unsupported selector: ${t}`);return n[t]})):e+" "+t})}const hs=ds("."+ss,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},us),fs={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ps=so.ie&&so.ie_version<=11;class ms{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Dr,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(so.ie&&so.ie_version<=11||so.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),!window.EditContext||!1===e.constructor.EDIT_CONTEXT||so.chrome&&so.chrome_version<126||(this.editContext=new vs(e),e.state.facet(gi)&&(e.contentDOM.editContext=this.editContext.editContext)),ps&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(e){("change"!=e.type&&e.type||e.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,n)=>t!=e[n])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(gi)?n.root.activeElement!=this.dom:!kr(this.dom,r))return;let o=r.anchorNode&&n.docView.nearest(r.anchorNode);o&&o.ignoreEvent(e)?t||(this.selectionChanged=!1):(so.ie&&so.ie_version<=11||so.android&&so.chrome)&&!n.state.selection.main.empty&&r.focusNode&&Ur(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=wr(e.root);if(!t)return!1;let n=so.safari&&11==e.root.nodeType&&e.root.activeElement==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return gs(e,n)}let n=null;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.contentDOM.addEventListener("beforeinput",r,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",r,!0),n?gs(e,n):null}(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let r=kr(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,Ir(n));;)if(r){if(1!=n.nodeType)return!1;let e=n.childNodes[r-1];"false"==e.contentEditable?r--:(n=e,r=Ir(n))}else{if(n==e)return!0;r=Sr(n),n=n.parentNode}}(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,fs),ps&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ps&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;e&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&Lr(this.dom,e.key,e.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,r=!1;for(let o of e){let e=this.readMutation(o);e&&(e.typeOver&&(r=!0),-1==t?({from:t,to:n}=e):(t=Math.min(e.from,t),n=Math.max(e.to,n)))}return{from:t,to:n,typeOver:r}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),r=this.selectionChanged&&kr(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new ea(this.view,e,t,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,r=ta(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let n=As(t,e.previousSibling||e.target.previousSibling,-1),r=As(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(gi)!=e.state.facet(gi)&&(e.view.contentDOM.editContext=e.state.facet(gi)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function As(e,t,n){for(;t;){let r=qr.get(t);if(r&&r.parent==e)return r;let o=t.parentNode;t=o!=e.dom?o:n>0?t.nextSibling:t.previousSibling}return null}function gs(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);return Ur(a.node,a.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}class vs{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=t=>{let n=e.state.selection.main,{anchor:r,head:o}=n,i=this.toEditorPos(t.updateRangeStart),a=this.toEditorPos(t.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:t.updateRangeStart,editorBase:i,drifted:!1});let s={from:i,to:a,insert:Ot.of(t.text.split("\n"))};if(s.from==this.from&&r<this.from?s.from=r:s.to==this.to&&r>this.to&&(s.to=r),s.from!=s.to||s.insert.length){if((so.mac||so.android)&&s.from==o-1&&/^\. ?$/.test(t.text)&&"off"==e.contentDOM.getAttribute("autocorrect")&&(s={from:i,to:a,insert:Ot.of([t.text.replace("."," ")])}),this.pendingContextChange=s,!e.state.readOnly){let n=this.to-this.from+(s.to-s.from+s.insert.length);na(e,s,nn.single(this.toEditorPos(t.selectionStart,n),this.toEditorPos(t.selectionEnd,n)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))}else{let r=nn.single(this.toEditorPos(t.selectionStart),this.toEditorPos(t.selectionEnd));r.main.eq(n)||e.dispatch({selection:r,userEvent:"select"})}},this.handlers.characterboundsupdate=n=>{let r=[],o=null;for(let t=this.toEditorPos(n.rangeStart),i=this.toEditorPos(n.rangeEnd);t<i;t++){let n=e.coordsForChar(t);o=n&&new DOMRect(n.left,n.top,n.right-n.left,n.bottom-n.top)||o||new DOMRect,r.push(o)}t.updateCharacterBounds(n.rangeStart,r)},this.handlers.textformatupdate=t=>{let n=[];for(let e of t.getTextFormats()){let t=e.underlineStyle,r=e.underlineThickness;if("None"!=t&&"None"!=r){let o=this.toEditorPos(e.rangeStart),i=this.toEditorPos(e.rangeEnd);if(o<i){let e=`text-decoration: underline ${"Dashed"==t?"dashed ":"Squiggle"==t?"wavy ":""}${"Thin"==r?1:2}px`;n.push(xo.mark({attributes:{style:e}}).range(o,i))}}}e.dispatch({effects:mi.of(xo.set(n))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:t}=this.composing;this.composing=null,t&&this.reset(e.state)}};for(let e in this.handlers)t.addEventListener(e,this.handlers[e]);this.measureReq={read:e=>{this.editContext.updateControlBounds(e.contentDOM.getBoundingClientRect());let t=wr(e.root);t&&t.rangeCount&&this.editContext.updateSelectionBounds(t.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,r=this.pendingContextChange;return e.changes.iterChanges(((o,i,a,s,l)=>{if(n)return;let c=l.length-(i-o);if(r&&i>=r.to){if(r.from==o&&r.to==i&&r.insert.eq(l))return r=this.pendingContextChange=null,t+=c,void(this.to+=c);r=null,this.revertPending(e.state)}if(o+=t,(i+=t)<=this.from)this.from+=c,this.to+=c;else if(o<this.to){if(o<this.from||i>this.to||this.to-this.from+l.length>3e4)return void(n=!0);this.editContext.updateText(this.toContextPos(o),this.toContextPos(i),l.toString()),this.to+=c}t+=c})),r&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some((e=>!e.isUserEvent("input.type")&&e.changes.touchesRange(this.from,this.to))))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):this.applyEdits(e)&&this.rangeIsValid(e.state)?(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state):(this.pendingContextChange=null,this.reset(e.state)),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),r=this.toContextPos(t.head);this.editContext.selectionStart==n&&this.editContext.selectionEnd==r||this.editContext.updateSelection(n,r)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>3e4)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class bs{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(e=>e.forEach((e=>n(e,this))))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new Ja(e.state||Hn.create(e)),e.scrollTo&&e.scrollTo.is(pi)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(bi).map((e=>new wi(e)));for(let e of this.plugins)e.update(this);this.observer=new ms(this),this.inputState=new ra(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Bi(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(t=document.fonts)||void 0===t?void 0:t.ready)&&document.fonts.ready.then((()=>this.requestMeasure()))}dispatch(...e){let t=1==e.length&&e[0]instanceof Dn?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,n=!1,r=!1,o=this.state;for(let t of e){if(t.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=t.state}if(this.destroyed)return void(this.viewState.state=o);let i=this.hasFocus,a=0,s=null;e.some((e=>e.annotation(Ca)))?(this.inputState.notifiedFocused=i,a=1):i!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=i,s=Fa(o,i),s||(a=1));let l=this.observer.delayedAndroidKey,c=null;if(l?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(Hn.phrases)!=this.state.facet(Hn.phrases))return this.setState(o);t=Di.create(this,o,e),t.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&(u=u.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;u=new fi(e.empty?e:nn.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(pi)&&(u=e.value.clip(this.state))}this.viewState.update(t,u),this.bidiCache=Es.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),n=this.docView.update(t),this.state.facet(Oi)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(is)!=t.state.facet(is)&&(this.viewState.mustMeasureContent=!0),(n||r||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!t.empty)for(let e of this.state.facet(ii))try{e(t)}catch(e){Ai(this.state,e,"update listener")}(s||c)&&Promise.resolve().then((()=>{s&&this.state==s.startState&&this.dispatch(s),c&&!ta(this,c)&&l.force&&Lr(this.contentDOM,l.key,l.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new Ja(e),this.plugins=e.facet(bi).map((e=>new wi(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new Bi(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(bi),n=e.state.facet(bi);if(t!=n){let r=[];for(let o of n){let n=t.indexOf(o);if(n<0)r.push(new wi(o));else{let t=this.plugins[n];t.mustUpdate=e,r.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=r,this.pluginMap.clear()}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(e){Ai(this.state,e,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,r=n.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:i}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(i=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(i<0)if(_r(n))o=-1,i=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(r);o=e.from,i=e.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let s=[];4&a||([this.measureRequests,s]=[s,this.measureRequests]);let l=s.map((e=>{try{return e.read(this)}catch(e){return Ai(this.state,e),ws}})),c=Di.create(this,this.state,[]),u=!1;c.flags|=a,t?t.flags|=a:t=c,this.updateState=2,c.empty||(this.updatePlugins(c),this.inputState.update(c),this.updateAttrs(),u=this.docView.update(c),u&&this.docViewUpdate());for(let e=0;e<s.length;e++)if(l[e]!=ws)try{let t=s[e];t.write&&t.write(l[e],this)}catch(e){Ai(this.state,e)}if(u&&this.docView.updateSelection(!0),!c.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,i=-1;continue}{let e=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-i;if(e>1||e<-1){r+=e,n.scrollTop=r/this.scaleY,i=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(ii))e(t)}get themeClasses(){return ss+" "+(this.state.facet(as)?cs:ls)+" "+this.state.facet(is)}updateAttrs(){let e=ks(this,Ei,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(gi)?"true":"false",class:"cm-content",style:`${so.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),ks(this,ki,t);let n=this.observer.ignore((()=>{let n=yo(this.contentDOM,this.contentAttrs,t),r=yo(this.dom,this.editorAttrs,e);return n||r}));return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let e of n.effects)e.is(bs.announce)&&(t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value)}mountStyles(){this.styleModules=this.state.facet(Oi);let e=this.state.facet(bs.cspNonce);hr.mount(this.root,this.styleModules.concat(hs).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Gi(this,e,Ki(this,e,t,n))}moveByGroup(e,t){return Gi(this,e,Ki(this,e,t,(t=>function(e,t,n){let r=e.state.charCategorizer(t),o=r(n);return e=>{let t=r(e);return o==_n.Space&&(o=t),o==t}}(this,e.head,t))))}visualLineSide(e,t){let n=this.bidiSpans(e),r=this.textDirectionAt(e.from),o=n[t?n.length-1:0];return nn.cursor(o.side(t,r)+e.from,o.forward(!t,r)?1:-1)}moveToLineBoundary(e,t,n=!0){return function(e,t,n,r){let o=$i(e,t.head,t.assoc||-1),i=r&&o.type==ko.Text&&(e.lineWrapping||o.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>o.from?t.head-1:t.head):null;if(i){let t=e.dom.getBoundingClientRect(),r=e.textDirectionAt(o.from),a=e.posAtCoords({x:n==(r==To.LTR)?t.right-1:t.left+1,y:(i.top+i.bottom)/2});if(null!=a)return nn.cursor(a,n?-1:1)}return nn.cursor(n?o.to:o.from,n?-1:1)}(this,e,t,n)}moveVertically(e,t,n){return Gi(this,e,function(e,t,n,r){let o=t.head,i=n?1:-1;if(o==(n?e.state.doc.length:0))return nn.cursor(o,t.assoc);let a,s=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(o,t.assoc||-1),u=e.documentTop;if(c)null==s&&(s=c.left-l.left),a=i<0?c.top:c.bottom;else{let t=e.viewState.lineBlockAt(o);null==s&&(s=Math.min(l.right-l.left,e.defaultCharacterWidth*(o-t.from))),a=(i<0?t.top:t.bottom)+u}let d=l.left+s,h=null!=r?r:e.viewState.heightOracle.textHeight>>1;for(let t=0;;t+=10){let n=a+(h+t)*i,r=Vi(e,{x:d,y:n},!1,i);if(n<l.top||n>l.bottom||(i<0?r<o:r>o)){let t=e.docView.coordsForChar(r),o=!t||n<t.top?-1:1;return nn.cursor(r,o,void 0,s)}}}(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Vi(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let r=this.state.doc.lineAt(e),o=this.bidiSpans(r);return Mr(n,o[$o.find(o,e-r.from,-1,t)].dir==To.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(ui)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>ys)return Xo(e.length);let t,n=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==n&&(r.fresh||Ko(r.isolates,t=Fi(this,e))))return r.order;t||(t=Fi(this,e));let r=function(e,t,n){if(!e)return[new $o(0,0,t==Lo?1:0)];if(t==Ro&&!n.length&&!qo.test(e))return Xo(e.length);if(n.length)for(;e.length>Yo.length;)Yo[Yo.length]=256;let r=[],o=t==Ro?0:1;return Qo(e,o,o,n,0,e.length,r),r}(e.text,n,t);return this.bidiCache.push(new Es(e.from,e.to,n,t,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||so.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Tr(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return pi.of(new fi("number"==typeof e?nn.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return pi.of(new fi(nn.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){null==e?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof e?this.inputState.tabFocusMode=e?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return yi.define((()=>({})),{eventHandlers:e})}static domEventObservers(e){return yi.define((()=>({})),{eventObservers:e})}static theme(e,t){let n=hr.newName(),r=[is.of(n),Oi.of(ds(`.${n}`,e))];return t&&t.dark&&r.push(as.of(!0)),r}static baseTheme(e){return mn.lowest(Oi.of(ds("."+ss,e,us)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),r=n&&qr.get(n)||qr.get(e);return(null===(t=null==r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}bs.styleModule=Oi,bs.inputHandler=ai,bs.clipboardInputFilter=li,bs.clipboardOutputFilter=ci,bs.scrollHandler=hi,bs.focusChangeEffect=si,bs.perLineTextDirection=ui,bs.exceptionSink=oi,bs.updateListener=ii,bs.editable=gi,bs.mouseSelectionStyle=ri,bs.dragMovesSelection=ni,bs.clickAddsSelectionRange=ti,bs.decorations=xi,bs.outerDecorations=Ui,bs.atomicRanges=Si,bs.bidiIsolatedRanges=Ci,bs.scrollMargins=Ii,bs.darkTheme=as,bs.cspNonce=an.define({combine:e=>e.length?e[0]:""}),bs.contentAttributes=ki,bs.editorAttributes=Ei,bs.lineWrapping=bs.contentAttributes.of({class:"cm-lineWrapping"}),bs.announce=Nn.define();const ys=4096,ws={};class Es{constructor(e,t,n,r,o,i){this.from=e,this.to=t,this.dir=n,this.isolates=r,this.fresh=o,this.order=i}static update(e,t){if(t.empty&&!e.some((e=>e.fresh)))return e;let n=[],r=e.length?e[e.length-1].dir:To.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let i=e[o];i.dir!=r||t.touchesRange(i.from,i.to)||n.push(new Es(t.mapPos(i.from,1),t.mapPos(i.to,-1),i.dir,i.isolates,!1,i.order))}return n}}function ks(e,t,n){for(let r=e.state.facet(t),o=r.length-1;o>=0;o--){let t=r[o],i="function"==typeof t?t(e):t;i&&go(i,n)}return n}const xs=so.mac?"mac":so.windows?"win":so.linux?"linux":"key";function Us(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}const Ss=an.define({enables:mn.default(bs.domEventHandlers({keydown:(e,t)=>Ns(Fs(t.state),e,t,"editor")}))}),Cs=new WeakMap;function Fs(e){let t=e.facet(Ss),n=Cs.get(t);return n||Cs.set(t,n=function(e,t=xs){let n=Object.create(null),r=Object.create(null),o=(e,t)=>{let n=r[e];if(null==n)r[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},i=(e,r,i,a,s)=>{var l,c;let u=n[e]||(n[e]=Object.create(null)),d=r.split(/ (?!$)/).map((e=>function(e,t){const n=e.split(/-(?!$)/);let r,o,i,a,s=n[n.length-1];"Space"==s&&(s=" ");for(let e=0;e<n.length-1;++e){const s=n[e];if(/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))o=!0;else if(/^s(hift)?$/i.test(s))i=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);"mac"==t?a=!0:o=!0}}return r&&(s="Alt-"+s),o&&(s="Ctrl-"+s),a&&(s="Meta-"+s),i&&(s="Shift-"+s),s}(e,t)));for(let t=1;t<d.length;t++){let n=d.slice(0,t).join(" ");o(n,!0),u[n]||(u[n]={preventDefault:!0,stopPropagation:!1,run:[t=>{let r=Is={view:t,prefix:n,scope:e};return setTimeout((()=>{Is==r&&(Is=null)}),Ms),!0}]})}let h=d.join(" ");o(h,!1);let f=u[h]||(u[h]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=u._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});i&&f.run.push(i),a&&(f.preventDefault=!0),s&&(f.stopPropagation=!0)};for(let r of e){let e=r.scope?r.scope.split(" "):["editor"];if(r.any)for(let t of e){let e=n[t]||(n[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:o}=r;for(let t in e)e[t].run.push((e=>o(e,Os)))}let o=r[t]||r.key;if(o)for(let t of e)i(t,o,r.run,r.preventDefault,r.stopPropagation),r.shift&&i(t,"Shift-"+o,r.shift,r.preventDefault,r.stopPropagation)}return n}(t.reduce(((e,t)=>e.concat(t)),[]))),n}let Is=null;const Ms=4e3;let Os=null;function Ns(e,t,n,r){Os=t;let o=function(e){var t=!(gr&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||vr&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?Ar:mr)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),i=Vt(Wt(o,0))==o.length&&" "!=o,a="",s=!1,l=!1,c=!1;Is&&Is.view==n&&Is.scope==r&&(a=Is.prefix+" ",la.indexOf(t.keyCode)<0&&(l=!0,Is=null));let u,d,h=new Set,f=e=>{if(e){for(let t of e.run)if(!h.has(t)&&(h.add(t),t(n)))return e.stopPropagation&&(c=!0),!0;e.preventDefault&&(e.stopPropagation&&(c=!0),l=!0)}return!1},p=e[r];return p&&(f(p[a+Us(o,t,!i)])?s=!0:i&&(t.altKey||t.metaKey||t.ctrlKey)&&!(so.windows&&t.ctrlKey&&t.altKey)&&(u=mr[t.keyCode])&&u!=o?(f(p[a+Us(u,t,!0)])||t.shiftKey&&(d=Ar[t.keyCode])!=o&&d!=u&&f(p[a+Us(d,t,!1)]))&&(s=!0):i&&t.shiftKey&&f(p[a+Us(o,t,!0)])&&(s=!0),!s&&f(p._any)&&(s=!0)),l&&(s=!0),s&&c&&t.stopPropagation(),Os=null,s}class Ds{constructor(e,t,n,r,o){this.className=e,this.left=t,this.top=n,this.width=r,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let r=e.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let o=Bs(e);return[new Ds(t,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}return function(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),o=Math.min(n.to,e.viewport.to),i=e.textDirection==To.LTR,a=e.contentDOM,s=a.getBoundingClientRect(),l=Bs(e),c=a.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=s.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),h=s.right-(u?parseInt(u.paddingRight):0),f=$i(e,r,1),p=$i(e,o,-1),m=f.type==ko.Text?f:null,A=p.type==ko.Text?p:null;if(m&&(e.lineWrapping||f.widgetLineBreaks)&&(m=Ps(e,r,1,m)),A&&(e.lineWrapping||p.widgetLineBreaks)&&(A=Ps(e,o,-1,A)),m&&A&&m.from==A.from&&m.to==A.to)return v(b(n.from,n.to,m));{let t=m?b(n.from,null,m):y(f,!1),r=A?b(null,n.to,A):y(p,!0),o=[];return(m||f).to<(A||p).from-(m&&A?1:0)||f.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<r.top?o.push(g(d,t.bottom,h,r.top)):t.bottom<r.top&&e.elementAtHeight((t.bottom+r.top)/2).type==ko.Text&&(t.bottom=r.top=(t.bottom+r.top)/2),v(t).concat(o).concat(v(r))}function g(e,n,r,o){return new Ds(t,e-l.left,n-l.top,r-e,o-n)}function v({top:e,bottom:t,horizontal:n}){let r=[];for(let o=0;o<n.length;o+=2)r.push(g(n[o],e,n[o+1],t));return r}function b(t,n,r){let o=1e9,a=-1e9,s=[];function l(t,n,l,c,u){let f=e.coordsAtPos(t,t==r.to?-2:2),p=e.coordsAtPos(l,l==r.from?2:-2);f&&p&&(o=Math.min(f.top,p.top,o),a=Math.max(f.bottom,p.bottom,a),u==To.LTR?s.push(i&&n?d:f.left,i&&c?h:p.right):s.push(!i&&c?d:p.left,!i&&n?h:f.right))}let c=null!=t?t:r.from,u=null!=n?n:r.to;for(let r of e.visibleRanges)if(r.to>c&&r.from<u)for(let o=Math.max(r.from,c),i=Math.min(r.to,u);;){let r=e.state.doc.lineAt(o);for(let a of e.bidiSpans(r)){let e=a.from+r.from,s=a.to+r.from;if(e>=i)break;s>o&&l(Math.max(e,o),null==t&&e<=c,Math.min(s,i),null==n&&s>=u,a.dir)}if(o=r.to+1,o>=i)break}return 0==s.length&&l(c,null==t,u,null==n,e.textDirection),{top:o,bottom:a,horizontal:s}}function y(e,t){let n=s.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}(e,t,n)}}function Bs(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==To.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function Ps(e,t,n,r){let o=e.coordsAtPos(t,2*n);if(!o)return r;let i=e.dom.getBoundingClientRect(),a=(o.top+o.bottom)/2,s=e.posAtCoords({x:i.left+1,y:a}),l=e.posAtCoords({x:i.right-1,y:a});return null==s||null==l?r:{from:Math.max(r.from,Math.min(s,l)),to:Math.min(r.to,Math.max(s,l))}}class Ts{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Rs)!=e.state.facet(Rs)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){!1!==this.layer.updateOnDocViewUpdate&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(Rs);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some(((e,t)=>{return n=e,r=this.drawn[t],!(n.constructor==r.constructor&&n.eq(r));var n,r}))){let t=this.dom.firstChild,n=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[n].constructor&&r.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(r.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Rs=an.define();function Ls(e){return[yi.define((t=>new Ts(t,e))),Rs.of(e)]}const zs=an.define({combine:e=>Vn(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function _s(e={}){return[zs.of(e),Ws,Vs,qs,di.of(!0)]}function js(e){return e.startState.facet(zs)!=e.state.facet(zs)}const Ws=Ls({above:!0,markers(e){let{state:t}=e,n=t.facet(zs),r=[];for(let o of t.selection.ranges){let i=o==t.selection.main;if(o.empty||n.drawRangeCursor){let t=i?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",n=o.empty?o:nn.cursor(o.head,o.head>o.anchor?-1:1);for(let o of Ds.forRange(e,t,n))r.push(o)}}return r},update(e,t){e.transactions.some((e=>e.selection))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let n=js(e);return n&&Hs(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){Hs(t.state,e)},class:"cm-cursorLayer"});function Hs(e,t){t.style.animationDuration=e.facet(zs).cursorBlinkRate+"ms"}const Vs=Ls({above:!1,markers:e=>e.state.selection.ranges.map((t=>t.empty?[]:Ds.forRange(e,"cm-selectionBackground",t))).reduce(((e,t)=>e.concat(t))),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||js(e),class:"cm-selectionLayer"}),qs=mn.highest(bs.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),$s=Nn.define({map:(e,t)=>null==e?null:t.mapPos(e)}),Ks=fn.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce(((e,t)=>t.is($s)?t.value:e),e))}),Ys=yi.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(Ks);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(Ks)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(Ks),n=null!=t&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(Ks)!=e&&this.view.dispatch({effects:$s.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Gs(e,t,n,r,o){t.lastIndex=0;for(let i,a=e.iterRange(n,r),s=n;!a.next().done;s+=a.value.length)if(!a.lineBreak)for(;i=t.exec(a.value);)o(s+i.index,i)}class Qs{constructor(e){const{regexp:t,decoration:n,decorate:r,boundary:o,maxLength:i=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(e,t,n,o)=>r(o,n,n+e[0].length,e,t);else if("function"==typeof n)this.addMatch=(e,t,r,o)=>{let i=n(e,t,r);i&&o(r,r+e[0].length,i)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,r,o)=>o(r,r+e[0].length,n)}this.boundary=o,this.maxLength=i}createDeco(e){let t=new Qn,n=t.add.bind(t);for(let{from:t,to:r}of function(e,t){let n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:o,to:i}of n)o=Math.max(e.state.doc.lineAt(o).from,o-t),i=Math.min(e.state.doc.lineAt(i).to,i+t),r.length&&r[r.length-1].to>=o?r[r.length-1].to=i:r.push({from:o,to:i});return r}(e,this.maxLength))Gs(e.state.doc,this.regexp,t,r,((t,r)=>this.addMatch(r,e,t,n)));return t.finish()}updateDeco(e,t){let n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges(((t,o,i,a)=>{a>=e.view.viewport.from&&i<=e.view.viewport.to&&(n=Math.min(i,n),r=Math.max(a,r))})),e.viewportMoved||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}updateRange(e,t,n,r){for(let o of e.visibleRanges){let i=Math.max(o.from,n),a=Math.min(o.to,r);if(a>i){let n=e.state.doc.lineAt(i),r=n.to<a?e.state.doc.lineAt(a):n,s=Math.max(o.from,n.from),l=Math.min(o.to,r.to);if(this.boundary){for(;i>n.from;i--)if(this.boundary.test(n.text[i-1-n.from])){s=i;break}for(;a<r.to;a++)if(this.boundary.test(r.text[a-r.from])){l=a;break}}let c,u=[],d=(e,t,n)=>u.push(n.range(e,t));if(n==r)for(this.regexp.lastIndex=s-n.from;(c=this.regexp.exec(n.text))&&c.index<l-n.from;)this.addMatch(c,e,c.index+n.from,d);else Gs(e.state.doc,this.regexp,s,l,((t,n)=>this.addMatch(n,e,t,d)));t=t.update({filterFrom:s,filterTo:l,filter:(e,t)=>e<s||t>l,add:u})}}return t}}const Xs=null!=/x/.unicode?"gu":"g",Js=new RegExp("[\0-\b\n--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\ufeff￹-￼]",Xs),Zs={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let el=null;const tl=an.define({combine(e){let t=Vn(e,{render:null,specialChars:Js,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==el&&"undefined"!=typeof document&&document.body){let t=document.body.style;el=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return el||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Xs)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Xs)),t}});function nl(e={}){return[tl.of(e),rl||(rl=yi.fromClass(class{constructor(e){this.view=e,this.decorations=xo.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(tl)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new Qs({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:o}=n.state,i=Wt(t[0],0);if(9==i){let e=o.lineAt(r),t=n.state.tabSize,i=sr(e.text,t,r-e.from);return xo.replace({widget:new il((t-i%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[i]||(this.decorationCache[i]=xo.replace({widget:new ol(e,i)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(tl);e.startState.facet(tl)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let rl=null;class ol extends Eo{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"•":10==e?"␤":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(Zs[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;let o=document.createElement("span");return o.textContent=t,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class il extends Eo{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const al=xo.line({class:"cm-activeLine"}),sl=yi.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let o=e.lineBlockAt(r.head);o.from>t&&(n.push(al.range(o.from)),t=o.from)}return xo.set(n)}},{decorations:e=>e.decorations}),ll=2e3;function cl(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),o=n-r.from,i=o>ll?-1:o==r.length?function(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):sr(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:i,off:o}}function ul(e){let t=(null==e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return bs.mouseSelectionStyle.of(((e,n)=>t(n)?function(e,t){let n=cl(e,t),r=e.state.selection;return n?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(n.line).from),o=e.state.doc.lineAt(t);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(e.changes)}},get(t,o,i){let a=cl(e,t);if(!a)return r;let s=function(e,t,n){let r=Math.min(t.line,n.line),o=Math.max(t.line,n.line),i=[];if(t.off>ll||n.off>ll||t.col<0||n.col<0){let a=Math.min(t.off,n.off),s=Math.max(t.off,n.off);for(let t=r;t<=o;t++){let n=e.doc.line(t);n.length<=s&&i.push(nn.range(n.from+a,n.to+s))}}else{let a=Math.min(t.col,n.col),s=Math.max(t.col,n.col);for(let t=r;t<=o;t++){let n=e.doc.line(t),r=lr(n.text,a,e.tabSize,!0);if(r<0)i.push(nn.cursor(n.to));else{let t=lr(n.text,s,e.tabSize);i.push(nn.range(n.from+r,n.from+t))}}}return i}(e.state,n,a);return s.length?i?nn.create(s.concat(r.ranges)):nn.create(s):r}}:null}(e,n):null))}const dl={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},hl={style:"cursor: crosshair"};function fl(e={}){let[t,n]=dl[e.key||"Alt"],r=yi.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||n(e))},keyup(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove(e){this.set(n(e))}}});return[r,bs.contentAttributes.of((e=>{var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?hl:null}))]}const pl=an.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function ml(e,t){let n=e.plugin(Al),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const Al=yi.fromClass(class{constructor(e){this.input=e.state.facet(bl),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(pl);this.top=new gl(e,!0,t.topContainer),this.bottom=new gl(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(pl);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new gl(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new gl(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(bl);if(n!=this.input){let t=n.filter((e=>e)),r=[],o=[],i=[],a=[];for(let n of t){let t,s=this.specs.indexOf(n);s<0?(t=n(e.view),a.push(t)):(t=this.panels[s],t.update&&t.update(e)),r.push(t),(t.top?o:i).push(t)}this.specs=t,this.panels=r,this.top.sync(o),this.bottom.sync(i);for(let e of a)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>bs.scrollMargins.of((t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))});class gl{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=vl(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=vl(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function vl(e){let t=e.nextSibling;return e.remove(),t}const bl=an.define({enables:Al});class yl extends qn{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}yl.prototype.elementClass="",yl.prototype.toDOM=void 0,yl.prototype.mapMode=$t.TrackBefore,yl.prototype.startSide=yl.prototype.endSide=-1,yl.prototype.point=!0;const wl=an.define(),El=an.define(),kl={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Gn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},xl=an.define();function Ul(e){return[Cl(),xl.of(Object.assign(Object.assign({},kl),e))]}const Sl=an.define({combine:e=>e.some((e=>e))});function Cl(e){let t=[Fl];return e&&!1===e.fixed&&t.push(Sl.of(!0)),t}const Fl=yi.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(xl).map((t=>new Nl(e,t)));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!e.state.facet(Sl),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(Sl)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=Gn.iter(this.view.state.facet(wl),this.view.viewport.from),r=[],o=this.gutters.map((e=>new Ol(e,this.view.viewport,-this.view.documentPadding.top)));for(let e of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(e.type)){let t=!0;for(let i of e.type)if(i.type==ko.Text&&t){Ml(n,r,i.from);for(let e of o)e.line(this.view,i,r);t=!1}else if(i.widget)for(let e of o)e.widget(this.view,i)}else if(e.type==ko.Text){Ml(n,r,e.from);for(let t of o)t.line(this.view,e,r)}else if(e.widget)for(let t of o)t.widget(this.view,e);for(let e of o)e.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(xl),n=e.state.facet(xl),r=e.docChanged||e.heightChanged||e.viewportChanged||!Gn.eq(e.startState.facet(wl),e.state.facet(wl),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let t of this.gutters)t.update(e)&&(r=!0);else{r=!0;let o=[];for(let r of n){let n=t.indexOf(r);n<0?o.push(new Nl(this.view,r)):(this.gutters[n].update(e),o.push(this.gutters[n]))}for(let e of this.gutters)e.dom.remove(),o.indexOf(e)<0&&e.destroy();for(let e of o)this.dom.appendChild(e.dom);this.gutters=o}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>bs.scrollMargins.of((t=>{let n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==To.LTR?{left:n.dom.offsetWidth*t.scaleX}:{right:n.dom.offsetWidth*t.scaleX}:null}))});function Il(e){return Array.isArray(e)?e:[e]}function Ml(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class Ol{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Gn.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:r}=this,o=(t.top-this.height)/e.scaleY,i=t.height/e.scaleY;if(this.i==r.elements.length){let t=new Dl(e,i,o,n);r.elements.push(t),r.dom.appendChild(t.dom)}else r.elements[this.i].update(e,i,o,n);this.height=t.bottom,this.i++}line(e,t,n){let r=[];Ml(this.cursor,r,t.from),n.length&&(r=r.concat(n));let o=this.gutter.config.lineMarker(e,t,r);o&&r.unshift(o);let i=this.gutter;(0!=r.length||i.config.renderEmptyElements)&&this.addElement(e,t,r)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),r=n?[n]:null;for(let n of e.state.facet(El)){let o=n(e,t.widget,t);o&&(r||(r=[])).push(o)}r&&this.addElement(e,t,r)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Nl{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,(r=>{let o,i=r.target;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let e=i.getBoundingClientRect();o=(e.top+e.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,a,r)&&r.preventDefault()}));this.markers=Il(t.markers(e)),t.initialSpacer&&(this.spacer=new Dl(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Il(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let n=e.view.viewport;return!Gn.eq(this.markers,t,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class Dl{constructor(e,t,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,r)}update(e,t,n,r){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let n="cm-gutterElement",r=this.dom.firstChild;for(let o=0,i=0;;){let a=i,s=o<t.length?t[o++]:null,l=!1;if(s){let e=s.elementClass;e&&(n+=" "+e);for(let e=i;e<this.markers.length;e++)if(this.markers[e].compare(s)){a=e,l=!0;break}}else a=this.markers.length;for(;i<a;){let e=this.markers[i++];if(e.toDOM){e.destroy(r);let t=r.nextSibling;r.remove(),r=t}}if(!s)break;s.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(s.toDOM(e),r)),l&&i++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}const Bl=an.define(),Pl=an.define(),Tl=an.define({combine:e=>Vn(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let e in t){let r=n[e],o=t[e];n[e]=r?(e,t,n)=>r(e,t,n)||o(e,t,n):o}return n}})});class Rl extends yl{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ll(e,t){return e.state.facet(Tl).formatNumber(t,e.state)}const zl=xl.compute([Tl],(e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Bl),lineMarker:(e,t,n)=>n.some((e=>e.toDOM))?null:new Rl(Ll(e,e.state.doc.lineAt(t.from).number)),widgetMarker:(e,t,n)=>{for(let r of e.state.facet(Pl)){let o=r(e,t,n);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(Tl)!=e.state.facet(Tl),initialSpacer:e=>new Rl(Ll(e,jl(e.state.doc.lines))),updateSpacer(e,t){let n=Ll(t.view,jl(t.view.state.doc.lines));return n==e.number?e:new Rl(n)},domEventHandlers:e.facet(Tl).domEventHandlers})));function _l(e={}){return[Tl.of(e),Cl(),zl]}function jl(e){let t=9;for(;t<e;)t=10*t+9;return t}const Wl=new class extends yl{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Hl=wl.compute(["selection"],(e=>{let t=[],n=-1;for(let r of e.selection.ranges){let o=e.doc.lineAt(r.head).from;o>n&&(n=o,t.push(Wl.range(o)))}return Gn.of(t)})),Vl=1024;let ql=0;class $l{constructor(e,t){this.from=e,this.to=t}}class Kl{constructor(e={}){this.id=ql++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=Ql.match(e)),t=>{let n=e(t);return void 0===n?null:[this,n]}}}Kl.closedBy=new Kl({deserialize:e=>e.split(" ")}),Kl.openedBy=new Kl({deserialize:e=>e.split(" ")}),Kl.group=new Kl({deserialize:e=>e.split(" ")}),Kl.isolate=new Kl({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),Kl.contextHash=new Kl({perNode:!0}),Kl.lookAhead=new Kl({perNode:!0}),Kl.mounted=new Kl({perNode:!0});class Yl{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[Kl.mounted.id]}}const Gl=Object.create(null);class Ql{constructor(e,t,n,r=0){this.name=e,this.props=t,this.id=n,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):Gl,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),r=new Ql(e.name||"",t,e.id,n);if(e.props)for(let n of e.props)if(Array.isArray(n)||(n=n(r)),n){if(n[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[n[0].id]=n[1]}return r}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(Kl.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let r of n.split(" "))t[r]=e[n];return e=>{for(let n=e.prop(Kl.group),r=-1;r<(n?n.length:0);r++){let o=t[r<0?e.name:n[r]];if(o)return o}}}}Ql.none=new Ql("",Object.create(null),0,8);const Xl=new WeakMap,Jl=new WeakMap;var Zl;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(Zl||(Zl={}));class ec{constructor(e,t,n,r,o){if(this.type=e,this.children=t,this.positions=n,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[e,t]of o)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=Yl.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let n=e.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new fc(this.topNode,e)}cursorAt(e,t=0,n=0){let r=Xl.get(this)||this.topNode,o=new fc(r);return o.moveTo(e,t),Xl.set(this,o._tree),o}get topNode(){return new ac(this,0,0,null)}resolve(e,t=0){let n=oc(Xl.get(this)||this.topNode,e,t,!1);return Xl.set(this,n),n}resolveInner(e,t=0){let n=oc(Jl.get(this)||this.topNode,e,t,!0);return Jl.set(this,n),n}resolveStack(e,t=0){return function(e,t,n){let r=e.resolveInner(t,n),o=null;for(let e=r instanceof ac?r:r.context.parent;e;e=e.parent)if(e.index<0){let i=e.parent;(o||(o=[r])).push(i.resolve(t,n)),e=i}else{let i=Yl.get(e.tree);if(i&&i.overlay&&i.overlay[0].from<=t&&i.overlay[i.overlay.length-1].to>=t){let a=new ac(i.tree,i.overlay[0].from+e.from,-1,e);(o||(o=[r])).push(oc(a,t,n,!1))}}return o?dc(o):r}(this,e,t)}iterate(e){let{enter:t,leave:n,from:r=0,to:o=this.length}=e,i=e.mode||0,a=(i&Zl.IncludeAnonymous)>0;for(let e=this.cursor(i|Zl.IncludeAnonymous);;){let i=!1;if(e.from<=o&&e.to>=r&&(!a&&e.type.isAnonymous||!1!==t(e))){if(e.firstChild())continue;i=!0}for(;i&&n&&(a||!e.type.isAnonymous)&&n(e),!e.nextSibling();){if(!e.parent())return;i=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:gc(Ql.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,n)=>new ec(this.type,e,t,n,this.propValues)),e.makeTree||((e,t,n)=>new ec(Ql.none,e,t,n)))}static build(e){return function(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:o=Vl,reused:i=[],minRepeatType:a=r.types.length}=e,s=Array.isArray(n)?new tc(n,n.length):n,l=r.types,c=0,u=0;function d(e,t,n,A,g,v){let{id:b,start:y,end:w,size:E}=s,k=u,x=c;for(;E<0;){if(s.next(),-1==E){let t=i[b];return n.push(t),void A.push(y-e)}if(-3==E)return void(c=b);if(-4==E)return void(u=b);throw new RangeError(`Unrecognized record size: ${E}`)}let U,S,C=l[b],F=y-e;if(w-y<=o&&(S=function(e,t){let n=s.fork(),r=0,i=0,l=0,c=n.end-o,u={size:0,start:0,skip:0};e:for(let o=n.pos-e;n.pos>o;){let e=n.size;if(n.id==t&&e>=0){u.size=r,u.start=i,u.skip=l,l+=4,r+=4,n.next();continue}let s=n.pos-e;if(e<0||s<o||n.start<c)break;let d=n.id>=a?4:0,h=n.start;for(n.next();n.pos>s;){if(n.size<0){if(-3!=n.size)break e;d+=4}else n.id>=a&&(d+=4);n.next()}i=h,r+=e,l+=d}return(t<0||r==e)&&(u.size=r,u.start=i,u.skip=l),u.size>4?u:void 0}(s.pos-t,g))){let t=new Uint16Array(S.size-S.skip),n=s.pos-S.size,o=t.length;for(;s.pos>n;)o=m(S.start,t,o);U=new nc(t,w-S.start,r),F=S.start-e}else{let e=s.pos-E;s.next();let t=[],n=[],r=b>=a?b:-1,i=0,l=w;for(;s.pos>e;)r>=0&&s.id==r&&s.size>=0?(s.end<=l-o&&(f(t,n,y,i,s.end,l,r,k,x),i=t.length,l=s.end),s.next()):v>2500?h(y,e,t,n):d(y,e,t,n,r,v+1);if(r>=0&&i>0&&i<t.length&&f(t,n,y,i,y,l,r,k,x),t.reverse(),n.reverse(),r>-1&&i>0){let e=function(e,t){return(n,r,o)=>{let i,a,s=0,l=n.length-1;if(l>=0&&(i=n[l])instanceof ec){if(!l&&i.type==e&&i.length==o)return i;(a=i.prop(Kl.lookAhead))&&(s=r[l]+i.length+a)}return p(e,n,r,o,s,t)}}(C,x);U=gc(C,t,n,0,t.length,0,w-y,e,e)}else U=p(C,t,n,w-y,k-w,x)}n.push(U),A.push(F)}function h(e,t,n,i){let a=[],l=0,c=-1;for(;s.pos>t;){let{id:e,start:t,end:n,size:r}=s;if(r>4)s.next();else{if(c>-1&&t<c)break;c<0&&(c=n-o),a.push(e,t,n),l++,s.next()}}if(l){let t=new Uint16Array(4*l),o=a[a.length-2];for(let e=a.length-3,n=0;e>=0;e-=3)t[n++]=a[e],t[n++]=a[e+1]-o,t[n++]=a[e+2]-o,t[n++]=n;n.push(new nc(t,a[2]-o,r)),i.push(o-e)}}function f(e,t,n,o,i,a,s,l,c){let u=[],d=[];for(;e.length>o;)u.push(e.pop()),d.push(t.pop()+n-i);e.push(p(r.types[s],u,d,a-i,l-a,c)),t.push(i-n)}function p(e,t,n,r,o,i,a){if(i){let e=[Kl.contextHash,i];a=a?[e].concat(a):[e]}if(o>25){let e=[Kl.lookAhead,o];a=a?[e].concat(a):[e]}return new ec(e,t,n,r,a)}function m(e,t,n){let{id:r,start:o,end:i,size:l}=s;if(s.next(),l>=0&&r<a){let a=n;if(l>4){let r=s.pos-(l-4);for(;s.pos>r;)n=m(e,t,n)}t[--n]=a,t[--n]=i-e,t[--n]=o-e,t[--n]=r}else-3==l?c=r:-4==l&&(u=r);return n}let A=[],g=[];for(;s.pos>0;)d(e.start||0,e.bufferStart||0,A,g,-1,0);let v=null!==(t=e.length)&&void 0!==t?t:A.length?g[0]+A[0].length:0;return new ec(l[e.topID],A.reverse(),g.reverse(),v)}(e)}}ec.empty=new ec(Ql.none,[],[],0);class tc{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new tc(this.buffer,this.index)}}class nc{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Ql.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),n==(e+=4))return o;let i=[];for(;e<n;)i.push(this.childString(e)),e=this.buffer[e+3];return o+"("+i.join(",")+")"}findChild(e,t,n,r,o){let{buffer:i}=this,a=-1;for(let s=e;s!=t&&!(rc(o,r,i[s+1],i[s+2])&&(a=s,n>0));s=i[s+3]);return a}slice(e,t,n){let r=this.buffer,o=new Uint16Array(t-e),i=0;for(let a=e,s=0;a<t;){o[s++]=r[a++],o[s++]=r[a++]-n;let t=o[s++]=r[a++]-n;o[s++]=r[a++]-e,i=Math.max(i,t)}return new nc(o,i,this.set)}}function rc(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function oc(e,t,n,r){for(var o;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let t=!r&&e instanceof ac&&e.index<0?null:e.parent;if(!t)return e;e=t}let i=r?0:Zl.IgnoreOverlays;if(r)for(let r=e,a=r.parent;a;r=a,a=r.parent)r instanceof ac&&r.index<0&&(null===(o=a.enter(t,n,i))||void 0===o?void 0:o.from)!=r.from&&(e=a);for(;;){let r=e.enter(t,n,i);if(!r)return e;e=r}}class ic{cursor(e=0){return new fc(this,e)}getChild(e,t=null,n=null){let r=sc(this,e,t,n);return r.length?r[0]:null}getChildren(e,t=null,n=null){return sc(this,e,t,n)}resolve(e,t=0){return oc(this,e,t,!1)}resolveInner(e,t=0){return oc(this,e,t,!0)}matchContext(e){return lc(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(n=t,t=e.prevSibling):t=e}return n}get node(){return this}get next(){return this.parent}}class ac extends ic{constructor(e,t,n,r){super(),this._tree=e,this.from=t,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,r,o=0){for(let i=this;;){for(let{children:a,positions:s}=i._tree,l=t>0?a.length:-1;e!=l;e+=t){let l=a[e],c=s[e]+i.from;if(rc(r,n,c,c+l.length))if(l instanceof nc){if(o&Zl.ExcludeBuffers)continue;let a=l.findChild(0,l.buffer.length,t,n-c,r);if(a>-1)return new uc(new cc(i,l,e,c),null,a)}else if(o&Zl.IncludeAnonymous||!l.type.isAnonymous||pc(l)){let a;if(!(o&Zl.IgnoreMounts)&&(a=Yl.get(l))&&!a.overlay)return new ac(a.tree,c,e,i);let s=new ac(l,c,e,i);return o&Zl.IncludeAnonymous||!s.type.isAnonymous?s:s.nextChild(t<0?l.children.length-1:0,t,n,r)}}if(o&Zl.IncludeAnonymous||!i.type.isAnonymous)return null;if(e=i.index>=0?i.index+t:t<0?-1:i._parent._tree.children.length,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let r;if(!(n&Zl.IgnoreOverlays)&&(r=Yl.get(this._tree))&&r.overlay){let n=e-this.from;for(let{from:e,to:o}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?o>=n:o>n))return new ac(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function sc(e,t,n,r){let o=e.cursor(),i=[];if(!o.firstChild())return i;if(null!=n)for(let e=!1;!e;)if(e=o.type.is(n),!o.nextSibling())return i;for(;;){if(null!=r&&o.type.is(r))return i;if(o.type.is(t)&&i.push(o.node),!o.nextSibling())return null==r?i:[]}}function lc(e,t,n=t.length-1){for(let r=e;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class cc{constructor(e,t,n,r){this.parent=e,this.buffer=t,this.index=n,this.start=r}}class uc extends ic{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,n);return o<0?null:new uc(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&Zl.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new uc(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new uc(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new uc(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,r=this.index+4,o=n.buffer[this.index+3];if(o>r){let i=n.buffer[this.index+1];e.push(n.slice(r,o,i)),t.push(0)}return new ec(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function dc(e){if(!e.length)return null;let t=0,n=e[0];for(let r=1;r<e.length;r++){let o=e[r];(o.from>n.from||o.to<n.to)&&(n=o,t=r)}let r=n instanceof ac&&n.index<0?null:n.parent,o=e.slice();return r?o[t]=r:o.splice(t,1),new hc(o,n)}class hc{constructor(e,t){this.heads=e,this.node=t}get next(){return dc(this.heads)}}class fc{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ac)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:n,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=n+r.buffer[e+1],this.to=n+r.buffer[e+2],!0}yield(e){return!!e&&(e instanceof ac?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?!(n&Zl.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Zl.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Zl.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let e=n<0?0:this.stack[n]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(e)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(r.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:n}=r)}else({index:t,_parent:n}=this._tree);for(;n;({index:t,_parent:n}=n))if(t>-1)for(let r=t+e,o=e<0?-1:n._tree.children.length;r!=o;r+=e){let e=n._tree.children[r];if(this.mode&Zl.IncludeAnonymous||e instanceof nc||!e.type.isAnonymous||pc(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let i=e;i;i=i._parent)if(i.index==r){if(r==this.index)return i;t=i,n=o+1;break e}r=this.stack[--o]}for(let e=n;e<this.stack.length;e++)t=new uc(this.buffer,t,this.stack[e]);return this.bufferNode=new uc(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;;){if(r&&t&&t(this),r=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,r=!0}}}matchContext(e){if(!this.buffer)return lc(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let r=e.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return lc(this._tree,e,r);let i=n[t.buffer[this.stack[o]]];if(!i.isAnonymous){if(e[r]&&e[r]!=i.name)return!1;r--}}return!0}}function pc(e){return e.children.some((e=>e instanceof nc||!e.type.isAnonymous||pc(e)))}const mc=new WeakMap;function Ac(e,t){if(!e.isAnonymous||t instanceof nc||t.type!=e)return 1;let n=mc.get(t);if(null==n){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof ec)){n=1;break}n+=Ac(e,r)}mc.set(t,n)}return n}function gc(e,t,n,r,o,i,a,s,l){let c=0;for(let n=r;n<o;n++)c+=Ac(e,t[n]);let u=Math.ceil(1.5*c/8),d=[],h=[];return function t(n,r,o,a,s){for(let c=o;c<a;){let o=c,f=r[c],p=Ac(e,n[c]);for(c++;c<a;c++){let t=Ac(e,n[c]);if(p+t>=u)break;p+=t}if(c==o+1){if(p>u){let e=n[o];t(e.children,e.positions,0,e.children.length,r[o]+s);continue}d.push(n[o])}else{let t=r[c-1]+n[c-1].length-f;d.push(gc(e,n,r,o,c,f,t,null,l))}h.push(f+s-i)}}(t,n,r,o,0),(s||l)(d,h,a)}class vc{constructor(e,t,n,r,o=!1,i=!1){this.from=e,this.to=t,this.tree=n,this.offset=r,this.open=(o?1:0)|(i?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],n=!1){let r=[new vc(0,e.length,e,0,!1,n)];for(let n of t)n.to>e.length&&r.push(n);return r}static applyChanges(e,t,n=128){if(!t.length)return e;let r=[],o=1,i=e.length?e[0]:null;for(let a=0,s=0,l=0;;a++){let c=a<t.length?t[a]:null,u=c?c.fromA:1e9;if(u-s>=n)for(;i&&i.from<u;){let t=i;if(s>=t.from||u<=t.to||l){let e=Math.max(t.from,s)-l,n=Math.min(t.to,u)-l;t=e>=n?null:new vc(e,n,t.tree,t.offset+l,a>0,!!c)}if(t&&r.push(t),i.to>u)break;i=o<e.length?e[o++]:null}if(!c)break;s=c.toA,l=c.toA-c.toB}return r}}class bc{startParse(e,t,n){return"string"==typeof e&&(e=new yc(e)),n=n?n.length?n.map((e=>new $l(e.from,e.to))):[new $l(0,0)]:[new $l(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let r=this.startParse(e,t,n);for(;;){let e=r.advance();if(e)return e}}}class yc{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Kl({perNode:!0});let wc=0;class Ec{constructor(e,t,n,r){this.name=e,this.set=t,this.base=n,this.modified=r,this.id=wc++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n="string"==typeof e?e:"?";if(e instanceof Ec&&(t=e),null==t?void 0:t.base)throw new Error("Can not derive from a modified tag");let r=new Ec(n,[],null,[]);if(r.set.push(r),t)for(let e of t.set)r.set.push(e);return r}static defineModifier(e){let t=new xc(e);return e=>e.modified.indexOf(t)>-1?e:xc.get(e.base||e,e.modified.concat(t).sort(((e,t)=>e.id-t.id)))}}let kc=0;class xc{constructor(e){this.name=e,this.instances=[],this.id=kc++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find((n=>{return n.base==e&&(r=t,o=n.modified,r.length==o.length&&r.every(((e,t)=>e==o[t])));var r,o}));if(n)return n;let r=[],o=new Ec(e.name,r,e,t);for(let e of t)e.instances.push(o);let i=function(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,o=t.length;r<o;r++)t.push(t[r].concat(e[n]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let t of e.set)if(!t.modified.length)for(let e of i)r.push(xc.get(t,e));return o}}function Uc(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let e of n.split(" "))if(e){let n=[],o=2,i=e;for(let t=0;;){if("..."==i&&t>0&&t+3==e.length){o=1;break}let r=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!r)throw new RangeError("Invalid path: "+e);if(n.push("*"==r[0]?"":'"'==r[0][0]?JSON.parse(r[0]):r[0]),t+=r[0].length,t==e.length)break;let a=e[t++];if(t==e.length&&"!"==a){o=0;break}if("/"!=a)throw new RangeError("Invalid path: "+e);i=e.slice(t)}let a=n.length-1,s=n[a];if(!s)throw new RangeError("Invalid path: "+e);let l=new Cc(r,o,a>0?n.slice(0,a):null);t[s]=l.sort(t[s])}}return Sc.add(t)}const Sc=new Kl;class Cc{constructor(e,t,n,r){this.tags=e,this.mode=t,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function Fc(e,t){let n=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)n[e.id]=t.class;else n[t.tag.id]=t.class;let{scope:r,all:o=null}=t||{};return{style:e=>{let t=o;for(let r of e)for(let e of r.set){let r=n[e.id];if(r){t=t?t+" "+r:r;break}}return t},scope:r}}Cc.empty=new Cc([],2,null);const Ic=Ec.define,Mc=Ic(),Oc=Ic(),Nc=Ic(Oc),Dc=Ic(Oc),Bc=Ic(),Pc=Ic(Bc),Tc=Ic(Bc),Rc=Ic(),Lc=Ic(Rc),zc=Ic(),_c=Ic(),jc=Ic(),Wc=Ic(jc),Hc=Ic(),Vc={comment:Mc,lineComment:Ic(Mc),blockComment:Ic(Mc),docComment:Ic(Mc),name:Oc,variableName:Ic(Oc),typeName:Nc,tagName:Ic(Nc),propertyName:Dc,attributeName:Ic(Dc),className:Ic(Oc),labelName:Ic(Oc),namespace:Ic(Oc),macroName:Ic(Oc),literal:Bc,string:Pc,docString:Ic(Pc),character:Ic(Pc),attributeValue:Ic(Pc),number:Tc,integer:Ic(Tc),float:Ic(Tc),bool:Ic(Bc),regexp:Ic(Bc),escape:Ic(Bc),color:Ic(Bc),url:Ic(Bc),keyword:zc,self:Ic(zc),null:Ic(zc),atom:Ic(zc),unit:Ic(zc),modifier:Ic(zc),operatorKeyword:Ic(zc),controlKeyword:Ic(zc),definitionKeyword:Ic(zc),moduleKeyword:Ic(zc),operator:_c,derefOperator:Ic(_c),arithmeticOperator:Ic(_c),logicOperator:Ic(_c),bitwiseOperator:Ic(_c),compareOperator:Ic(_c),updateOperator:Ic(_c),definitionOperator:Ic(_c),typeOperator:Ic(_c),controlOperator:Ic(_c),punctuation:jc,separator:Ic(jc),bracket:Wc,angleBracket:Ic(Wc),squareBracket:Ic(Wc),paren:Ic(Wc),brace:Ic(Wc),content:Rc,heading:Lc,heading1:Ic(Lc),heading2:Ic(Lc),heading3:Ic(Lc),heading4:Ic(Lc),heading5:Ic(Lc),heading6:Ic(Lc),contentSeparator:Ic(Rc),list:Ic(Rc),quote:Ic(Rc),emphasis:Ic(Rc),strong:Ic(Rc),link:Ic(Rc),monospace:Ic(Rc),strikethrough:Ic(Rc),inserted:Ic(),deleted:Ic(),changed:Ic(),invalid:Ic(),meta:Hc,documentMeta:Ic(Hc),annotation:Ic(Hc),processingInstruction:Ic(Hc),definition:Ec.defineModifier("definition"),constant:Ec.defineModifier("constant"),function:Ec.defineModifier("function"),standard:Ec.defineModifier("standard"),local:Ec.defineModifier("local"),special:Ec.defineModifier("special")};for(let e in Vc){let t=Vc[e];t instanceof Ec&&(t.name=e)}var qc;Fc([{tag:Vc.link,class:"tok-link"},{tag:Vc.heading,class:"tok-heading"},{tag:Vc.emphasis,class:"tok-emphasis"},{tag:Vc.strong,class:"tok-strong"},{tag:Vc.keyword,class:"tok-keyword"},{tag:Vc.atom,class:"tok-atom"},{tag:Vc.bool,class:"tok-bool"},{tag:Vc.url,class:"tok-url"},{tag:Vc.labelName,class:"tok-labelName"},{tag:Vc.inserted,class:"tok-inserted"},{tag:Vc.deleted,class:"tok-deleted"},{tag:Vc.literal,class:"tok-literal"},{tag:Vc.string,class:"tok-string"},{tag:Vc.number,class:"tok-number"},{tag:[Vc.regexp,Vc.escape,Vc.special(Vc.string)],class:"tok-string2"},{tag:Vc.variableName,class:"tok-variableName"},{tag:Vc.local(Vc.variableName),class:"tok-variableName tok-local"},{tag:Vc.definition(Vc.variableName),class:"tok-variableName tok-definition"},{tag:Vc.special(Vc.variableName),class:"tok-variableName2"},{tag:Vc.definition(Vc.propertyName),class:"tok-propertyName tok-definition"},{tag:Vc.typeName,class:"tok-typeName"},{tag:Vc.namespace,class:"tok-namespace"},{tag:Vc.className,class:"tok-className"},{tag:Vc.macroName,class:"tok-macroName"},{tag:Vc.propertyName,class:"tok-propertyName"},{tag:Vc.operator,class:"tok-operator"},{tag:Vc.comment,class:"tok-comment"},{tag:Vc.meta,class:"tok-meta"},{tag:Vc.invalid,class:"tok-invalid"},{tag:Vc.punctuation,class:"tok-punctuation"}]);const $c=new Kl,Kc=new Kl;class Yc{constructor(e,t,n=[],r=""){this.data=e,this.name=r,Hn.prototype.hasOwnProperty("tree")||Object.defineProperty(Hn.prototype,"tree",{get(){return Qc(this)}}),this.parser=t,this.extension=[iu.of(this),Hn.languageData.of(((e,t,n)=>{let r=Gc(e,t,n),o=r.type.prop($c);if(!o)return[];let i=e.facet(o),a=r.type.prop(Kc);if(a){let o=r.resolve(t-r.from,n);for(let t of a)if(t.test(o,e)){let n=e.facet(t.facet);return"replace"==t.type?n:n.concat(i)}}return i}))].concat(n)}isActiveAt(e,t,n=-1){return Gc(e,t,n).type.prop($c)==this.data}findRegions(e){let t=e.facet(iu);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],r=(e,t)=>{if(e.prop($c)==this.data)return void n.push({from:t,to:t+e.length});let o=e.prop(Kl.mounted);if(o){if(o.tree.prop($c)==this.data){if(o.overlay)for(let e of o.overlay)n.push({from:e.from+t,to:e.to+t});else n.push({from:t,to:t+e.length});return}if(o.overlay){let e=n.length;if(r(o.tree,o.overlay[0].from+t),n.length>e)return}}for(let n=0;n<e.children.length;n++){let o=e.children[n];o instanceof ec&&r(o,e.positions[n]+t)}};return r(Qc(e),0),n}get allowsNesting(){return!0}}function Gc(e,t,n){let r=e.facet(iu),o=Qc(e).topNode;if(!r||r.allowsNesting)for(let e=o;e;e=e.enter(t,n,Zl.ExcludeBuffers))e.type.isTop&&(o=e);return o}function Qc(e){let t=e.field(Yc.state,!1);return t?t.tree:ec.empty}Yc.setState=Nn.define();class Xc{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Jc=null;class Zc{constructor(e,t,n=[],r,o,i,a,s){this.parser=e,this.state=t,this.fragments=n,this.tree=r,this.treeLen=o,this.viewport=i,this.skipped=a,this.scheduleOn=s,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Zc(e,t,[],ec.empty,0,n,[],null)}startParse(){return this.parser.startParse(new Xc(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=ec.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var n;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(vc.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(vc.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Jc;Jc=this;try{return e()}finally{Jc=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=eu(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:r,treeLen:o,viewport:i,skipped:a}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,n,r,o)=>t.push({fromA:e,toA:n,fromB:r,toB:o}))),n=vc.applyChanges(n,t),r=ec.empty,o=0,i={from:e.mapPos(i.from,-1),to:e.mapPos(i.to,1)},this.skipped.length){a=[];for(let t of this.skipped){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);n<r&&a.push({from:n,to:r})}}}return new Zc(this.parser,t,n,r,o,i,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:n,to:r}=this.skipped[t];n<e.to&&r>e.from&&(this.fragments=eu(this.fragments,n,r),this.skipped.splice(t--,1))}return!(this.skipped.length>=t||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends bc{createParse(t,n,r){let o=r[0].from,i=r[r.length-1].to;return{parsedPos:o,advance(){let t=Jc;if(t){for(let e of r)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=i,new ec(Ql.none,[],[],i-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return Jc}}function eu(e,t,n){return vc.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class tu{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new tu(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Zc.create(e.facet(iu).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new tu(n)}}Yc.state=fn.define({create:tu.init,update(e,t){for(let e of t.effects)if(e.is(Yc.setState))return e.value;return t.startState.facet(iu)!=t.state.facet(iu)?tu.init(t.state):e.apply(t)}});let nu=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(nu=e=>{let t=-1,n=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const ru="undefined"!=typeof navigator&&(null===(qc=navigator.scheduling)||void 0===qc?void 0:qc.isInputPending)?()=>navigator.scheduling.isInputPending():null,ou=yi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Yc.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Yc.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=nu(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,o=n.field(Yc.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let i=Date.now()+Math.min(this.chunkBudget,100,e&&!ru?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<r&&n.doc.length>r+1e3,s=o.context.work((()=>ru&&ru()||Date.now()>i),r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(s||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Yc.setState.of(new tu(o.context))})),this.chunkBudget>0&&(!s||a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>Ai(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),iu=an.define({combine:e=>e.length?e[0]:null,enables:e=>[Yc.state,ou,bs.contentAttributes.compute([e],(t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]}),au=an.define(),su=an.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((e=>e!=t[0])))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function lu(e){let t=e.facet(su);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function cu(e,t){let n="",r=e.tabSize,o=e.facet(su)[0];if("\t"==o){for(;t>=r;)n+="\t",t-=r;o=" "}for(let e=0;e<t;e++)n+=o;return n}function uu(e,t){e instanceof Hn&&(e=new du(e));for(let n of e.state.facet(au)){let r=n(e,t);if(void 0!==r)return r}let n=Qc(e.state);return n.length>=t?function(e,t,n){let r=t.resolveStack(n),o=t.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(o!=r.node){let e=[];for(let t=o;t&&(t.from!=r.node.from||t.type!=r.node.type);t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)r={node:e[t],next:r}}return fu(r,e,n)}(e,n,t):null}class du{constructor(e,t={}){this.state=e,this.options=t,this.unit=lu(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return null!=r&&r>=n.from&&r<=n.to?o&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(e,t);return n.slice(e-r,Math.min(n.length,e+100-r))}column(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.countColumn(n,e-r),i=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return i>-1&&(o+=i-this.countColumn(n,n.search(/\S|$/))),o}countColumn(e,t=e.length){return sr(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:r}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let e=o(r);if(e>-1)return e}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const hu=new Kl;function fu(e,t,n){for(let r=e;r;r=r.next){let e=pu(r.node);if(e)return e(Au.create(t,n,r))}return 0}function pu(e){let t=e.type.prop(hu);if(t)return t;let n,r=e.firstChild;if(r&&(n=r.type.prop(Kl.closedBy))){let t=e.lastChild,r=t&&n.indexOf(t.name)>-1;return e=>function(e,t,n,r,o){let i=e.textAfter,a=i.match(/^\s*/)[0].length,s=r&&i.slice(a,a+r.length)==r||o==e.pos+a,l=t?function(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let o=e.options.simulateBreak,i=e.state.doc.lineAt(n.from),a=null==o||o<=i.from?i.to:Math.min(i.to,o);for(let e=n.to;;){let o=t.childAfter(e);if(!o||o==r)return null;if(!o.type.isSkipped){if(o.from>=a)return null;let e=/^ */.exec(i.text.slice(n.to-i.from))[0].length;return{from:n.from,to:n.to+e}}e=o.to}}(e):null;return l?s?e.column(l.from):e.column(l.to):e.baseIndent+(s?0:e.unit*n)}(e,!0,1,void 0,r&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?mu:null}function mu(){return 0}class Au extends du{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new Au(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(gu(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return fu(this.context.next,this.base,this.pos)}}function gu(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}const vu=an.define(),bu=new Kl;function yu(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function wu(e,t,n){for(let r of e.facet(vu)){let o=r(e,t,n);if(o)return o}return function(e,t,n){let r=Qc(e);if(r.length<n)return null;let o=null;for(let i=r.resolveStack(n,1);i;i=i.next){let a=i.node;if(a.to<=n||a.from>n)continue;if(o&&a.from<t)break;let s=a.type.prop(bu);if(s&&(a.to<r.length-50||r.length==e.doc.length||!yu(a))){let r=s(a,e);r&&r.from<=n&&r.from>=t&&r.to>n&&(o=r)}}return o}(e,t,n)}function Eu(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const ku=Nn.define({map:Eu}),xu=Nn.define({map:Eu});function Uu(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some((e=>e.from<=n&&e.to>=n))||t.push(e.lineBlockAt(n));return t}const Su=fn.define({create:()=>xo.none,update(e,t){e=e.map(t.changes);for(let n of t.effects)if(n.is(ku)&&!Fu(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(Pu),o=r?xo.replace({widget:new zu(r(t.state,n.value))}):Lu;e=e.update({add:[o.range(n.value.from,n.value.to)]})}else n.is(xu)&&(e=e.update({filter:(e,t)=>n.value.from!=e||n.value.to!=t,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:r}=t.selection.main;e.between(r,r,((e,t)=>{e<r&&t>r&&(n=!0)})),n&&(e=e.update({filterFrom:r,filterTo:r,filter:(e,t)=>t<=r||e>=r}))}return e},provide:e=>bs.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,((e,t)=>{n.push(e,t)})),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],o=e[n++];if("number"!=typeof r||"number"!=typeof o)throw new RangeError("Invalid JSON for fold state");t.push(Lu.range(r,o))}return xo.set(t,!0)}});function Cu(e,t,n){var r;let o=null;return null===(r=e.field(Su,!1))||void 0===r||r.between(t,n,((e,t)=>{(!o||o.from>e)&&(o={from:e,to:t})})),o}function Fu(e,t,n){let r=!1;return e.between(t,t,((e,o)=>{e==t&&o==n&&(r=!0)})),r}function Iu(e,t){return e.field(Su,!1)?t:t.concat(Nn.appendConfig.of(Tu()))}const Mu=e=>{for(let t of Uu(e)){let n=wu(e.state,t.from,t.to);if(n)return e.dispatch({effects:Iu(e.state,[ku.of(n),Nu(e,n)])}),!0}return!1},Ou=e=>{if(!e.state.field(Su,!1))return!1;let t=[];for(let n of Uu(e)){let r=Cu(e.state,n.from,n.to);r&&t.push(xu.of(r),Nu(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0};function Nu(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,o=e.state.doc.lineAt(t.to).number;return bs.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${o}.`)}const Du=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Mu},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Ou},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let o=e.lineBlockAt(r),i=wu(t,o.from,o.to);i&&n.push(ku.of(i)),r=(i?e.lineBlockAt(i.to):o).to+1}return n.length&&e.dispatch({effects:Iu(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(Su,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,((e,t)=>{n.push(xu.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],Bu={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Pu=an.define({combine:e=>Vn(e,Bu)});function Tu(e){let t=[Su,Hu];return e&&t.push(Pu.of(e)),t}function Ru(e,t){let{state:n}=e,r=n.facet(Pu),o=t=>{let n=e.lineBlockAt(e.posAtDOM(t.target)),r=Cu(e.state,n.from,n.to);r&&e.dispatch({effects:xu.of(r)}),t.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,o,t);let i=document.createElement("span");return i.textContent=r.placeholderText,i.setAttribute("aria-label",n.phrase("folded code")),i.title=n.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=o,i}const Lu=xo.replace({widget:new class extends Eo{toDOM(e){return Ru(e,null)}}});class zu extends Eo{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Ru(e,this.value)}}const _u={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class ju extends yl{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Wu(e={}){let t=Object.assign(Object.assign({},_u),e),n=new ju(t,!0),r=new ju(t,!1),o=yi.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(e){(e.docChanged||e.viewportChanged||e.startState.facet(iu)!=e.state.facet(iu)||e.startState.field(Su,!1)!=e.state.field(Su,!1)||Qc(e.startState)!=Qc(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}buildMarkers(e){let t=new Qn;for(let o of e.viewportLineBlocks){let i=Cu(e.state,o.from,o.to)?r:wu(e.state,o.from,o.to)?n:null;i&&t.add(o.from,o.from,i)}return t.finish()}}),{domEventHandlers:i}=t;return[o,Ul({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(o))||void 0===t?void 0:t.markers)||Gn.empty},initialSpacer:()=>new ju(t,!1),domEventHandlers:Object.assign(Object.assign({},i),{click:(e,t,n)=>{if(i.click&&i.click(e,t,n))return!0;let r=Cu(e.state,t.from,t.to);if(r)return e.dispatch({effects:xu.of(r)}),!0;let o=wu(e.state,t.from,t.to);return!!o&&(e.dispatch({effects:ku.of(o)}),!0)}})}),Tu()]}const Hu=bs.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});Vc.meta,Vc.link,Vc.heading,Vc.emphasis,Vc.strong,Vc.strikethrough,Vc.keyword,Vc.atom,Vc.bool,Vc.url,Vc.contentSeparator,Vc.labelName,Vc.literal,Vc.inserted,Vc.string,Vc.deleted,Vc.regexp,Vc.escape,Vc.string,Vc.variableName,Vc.variableName,Vc.typeName,Vc.namespace,Vc.className,Vc.variableName,Vc.macroName,Vc.propertyName,Vc.comment,Vc.invalid;const Vu=bs.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),qu="()[]{}",$u=an.define({combine:e=>Vn(e,{afterCursor:!0,brackets:qu,maxScanDistance:1e4,renderMatch:Gu})}),Ku=xo.mark({class:"cm-matchingBracket"}),Yu=xo.mark({class:"cm-nonmatchingBracket"});function Gu(e){let t=[],n=e.matched?Ku:Yu;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const Qu=fn.define({create:()=>xo.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet($u);for(let e of t.state.selection.ranges){if(!e.empty)continue;let o=nd(t.state,e.head,-1,r)||e.head>0&&nd(t.state,e.head-1,1,r)||r.afterCursor&&(nd(t.state,e.head,1,r)||e.head<t.state.doc.length&&nd(t.state,e.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,t.state)))}return xo.set(n,!0)},provide:e=>bs.decorations.from(e)}),Xu=[Qu,Vu];function Ju(e={}){return[$u.of(e),Xu]}const Zu=new Kl;function ed(e,t,n){let r=e.prop(t<0?Kl.openedBy:Kl.closedBy);if(r)return r;if(1==e.name.length){let r=n.indexOf(e.name);if(r>-1&&r%2==(t<0?1:0))return[n[r+t]]}return null}function td(e){let t=e.type.prop(Zu);return t?t(e.node):e}function nd(e,t,n,r={}){let o=r.maxScanDistance||1e4,i=r.brackets||qu,a=Qc(e),s=a.resolveInner(t,n);for(let e=s;e;e=e.parent){let r=ed(e.type,n,i);if(r&&e.from<e.to){let o=td(e);if(o&&(n>0?t>=o.from&&t<o.to:t>o.from&&t<=o.to))return rd(0,0,n,e,o,r,i)}}return function(e,t,n,r,o,i,a){let s=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=a.indexOf(s);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),d=0;for(let e=0;!u.next().done&&e<=i;){let i=u.value;n<0&&(e+=i.length);let s=t+e*n;for(let e=n>0?0:i.length-1,t=n>0?i.length:-1;e!=t;e+=n){let t=a.indexOf(i[e]);if(!(t<0||r.resolveInner(s+e,1).type!=o))if(t%2==0==n>0)d++;else{if(1==d)return{start:c,end:{from:s+e,to:s+e+1},matched:t>>1==l>>1};d--}}n>0&&(e+=i.length)}return u.done?{start:c,matched:!1}:null}(e,t,n,a,s.type,o,i)}function rd(e,t,n,r,o,i,a){let s=r.parent,l={from:o.from,to:o.to},c=0,u=null==s?void 0:s.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do{if(n<0?u.to<=r.from:u.from>=r.to){if(0==c&&i.indexOf(u.type.name)>-1&&u.from<u.to){let e=td(u);return{start:l,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(ed(u.type,n,a))c++;else if(ed(u.type,-n,a)){if(0==c){let e=td(u);return{start:l,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}c--}}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}const od=Object.create(null),id=[Ql.none],ad=[],sd=Object.create(null),ld=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])ld[e]=ud(od,t);function cd(e,t){ad.indexOf(e)>-1||(ad.push(e),console.warn(t))}function ud(e,t){let n=[];for(let r of t.split(" ")){let t=[];for(let n of r.split(".")){let r=e[n]||Vc[n];r?"function"==typeof r?t.length?t=t.map(r):cd(n,`Modifier ${n} used at start of tag`):t.length?cd(n,`Tag ${n} used as modifier`):t=Array.isArray(r)?r:[r]:cd(n,`Unknown highlighting tag ${n}`)}for(let e of t)n.push(e)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),o=r+" "+n.map((e=>e.id)),i=sd[o];if(i)return i.id;let a=sd[o]=Ql.define({id:id.length,name:r,props:[Uc({[r]:n})]});return id.push(a),a.id}function dd(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let o=e(t,n);return!!o&&(r(n.update(o)),!0)}}To.RTL,To.LTR;const hd=dd(vd,0),fd=dd(gd,0),pd=dd(((e,t)=>gd(e,t,function(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),o=n.to<=r.to?r:e.doc.lineAt(n.to);o.from>r.from&&o.from==n.to&&(o=n.to==r.to+1?r:e.doc.lineAt(n.to-1));let i=t.length-1;i>=0&&t[i].to>r.from?t[i].to=o.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:o.to})}return t}(t))),0);function md(e,t){let n=e.languageDataAt("commentTokens",t,1);return n.length?n[0]:{}}const Ad=50;function gd(e,t,n=t.selection.ranges){let r=n.map((e=>md(t,e.from).block));if(!r.every((e=>e)))return null;let o=n.map(((e,n)=>function(e,{open:t,close:n},r,o){let i,a,s=e.sliceDoc(r-Ad,r),l=e.sliceDoc(o,o+Ad),c=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(l)[0].length,d=s.length-c;if(s.slice(d-t.length,d)==t&&l.slice(u,u+n.length)==n)return{open:{pos:r-c,margin:c&&1},close:{pos:o+u,margin:u&&1}};o-r<=2*Ad?i=a=e.sliceDoc(r,o):(i=e.sliceDoc(r,r+Ad),a=e.sliceDoc(o-Ad,o));let h=/^\s*/.exec(i)[0].length,f=/\s*$/.exec(a)[0].length,p=a.length-f-n.length;return i.slice(h,h+t.length)==t&&a.slice(p,p+n.length)==n?{open:{pos:r+h+t.length,margin:/\s/.test(i.charAt(h+t.length))?1:0},close:{pos:o-f-n.length,margin:/\s/.test(a.charAt(p-1))?1:0}}:null}(t,r[n],e.from,e.to)));if(2!=e&&!o.every((e=>e)))return{changes:t.changes(n.map(((e,t)=>o[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}])))};if(1!=e&&o.some((e=>e))){let e=[];for(let t,n=0;n<o.length;n++)if(t=o[n]){let o=r[n],{open:i,close:a}=t;e.push({from:i.pos-o.open.length,to:i.pos+i.margin},{from:a.pos-a.margin,to:a.pos+o.close.length})}return{changes:e}}return null}function vd(e,t,n=t.selection.ranges){let r=[],o=-1;for(let{from:e,to:i}of n){let n=r.length,a=1e9,s=md(t,e).line;if(s){for(let n=e;n<=i;){let l=t.doc.lineAt(n);if(l.from>o&&(e==i||i>l.from)){o=l.from;let e=/^\s*/.exec(l.text)[0].length,t=e==l.length,n=l.text.slice(e,e+s.length)==s?e:-1;e<l.text.length&&e<a&&(a=e),r.push({line:l,comment:n,token:s,indent:e,empty:t,single:!1})}n=l.to+1}if(a<1e9)for(let e=n;e<r.length;e++)r[e].indent<r[e].line.text.length&&(r[e].indent=a);r.length==n+1&&(r[n].single=!0)}}if(2!=e&&r.some((e=>e.comment<0&&(!e.empty||e.single)))){let e=[];for(let{line:t,token:n,indent:o,empty:i,single:a}of r)!a&&i||e.push({from:t.from+o,insert:n+" "});let n=t.changes(e);return{changes:n,selection:t.selection.map(n,1)}}if(1!=e&&r.some((e=>e.comment>=0))){let e=[];for(let{line:t,comment:n,token:o}of r)if(n>=0){let r=t.from+n,i=r+o.length;" "==t.text[i-t.from]&&i++,e.push({from:r,to:i})}return{changes:e}}return null}const bd=In.define(),yd=In.define(),wd=an.define(),Ed=an.define({combine:e=>Vn(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,r)=>e(n,r)||t(n,r)})}),kd=fn.define({create:()=>_d.empty,update(e,t){let n=t.state.facet(Ed),r=t.annotation(bd);if(r){let o=Md.fromTransaction(t,r.selection),i=r.side,a=0==i?e.undone:e.done;return a=o?Od(a,a.length,n.minDepth,o):Pd(a,t.startState.selection),new _d(0==i?r.rest:a,0==i?a:r.rest)}let o=t.annotation(yd);if("full"!=o&&"before"!=o||(e=e.isolate()),!1===t.annotation(Dn.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let i=Md.fromTransaction(t),a=t.annotation(Dn.time),s=t.annotation(Dn.userEvent);return i?e=e.addChanges(i,a,s,n,t):t.selection&&(e=e.addSelection(t.startState.selection,a,s,n.newGroupDelay)),"full"!=o&&"after"!=o||(e=e.isolate()),e},toJSON:e=>({done:e.done.map((e=>e.toJSON())),undone:e.undone.map((e=>e.toJSON()))}),fromJSON:e=>new _d(e.done.map(Md.fromJSON),e.undone.map(Md.fromJSON))});function xd(e={}){return[kd,Ed.of(e),bs.domEventHandlers({beforeinput(e,t){let n="historyUndo"==e.inputType?Sd:"historyRedo"==e.inputType?Cd:null;return!!n&&(e.preventDefault(),n(t))}})]}function Ud(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let o=n.field(kd,!1);if(!o)return!1;let i=o.pop(e,n,t);return!!i&&(r(i),!0)}}const Sd=Ud(0,!1),Cd=Ud(1,!1),Fd=Ud(0,!0),Id=Ud(1,!0);class Md{constructor(e,t,n,r,o){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=r,this.selectionsAfter=o}setSelAfter(e){return new Md(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((e=>e.toJSON()))}}static fromJSON(e){return new Md(e.changes&&Yt.fromJSON(e.changes),[],e.mapped&&Kt.fromJSON(e.mapped),e.startSelection&&nn.fromJSON(e.startSelection),e.selectionsAfter.map(nn.fromJSON))}static fromTransaction(e,t){let n=Dd;for(let t of e.startState.facet(wd)){let r=t(e);r.length&&(n=n.concat(r))}return!n.length&&e.changes.empty?null:new Md(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,Dd)}static selection(e){return new Md(void 0,Dd,void 0,void 0,e)}}function Od(e,t,n,r){let o=t+1>n+20?t-n-1:0,i=e.slice(o,t);return i.push(r),i}function Nd(e,t){return e.length?t.length?e.concat(t):e:t}const Dd=[],Bd=200;function Pd(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Bd));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),Od(e,e.length-1,1e9,n.setSelAfter(r)))}return[Md.selection([t])]}function Td(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function Rd(e,t){if(!e.length)return e;let n=e.length,r=Dd;for(;n;){let o=Ld(e[n-1],t,r);if(o.changes&&!o.changes.empty||o.effects.length){let t=e.slice(0,n);return t[n-1]=o,t}t=o.mapped,n--,r=o.selectionsAfter}return r.length?[Md.selection(r)]:Dd}function Ld(e,t,n){let r=Nd(e.selectionsAfter.length?e.selectionsAfter.map((e=>e.map(t))):Dd,n);if(!e.changes)return Md.selection(r);let o=e.changes.map(t),i=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(i):i;return new Md(o,Nn.mapEffects(e.effects,t),a,e.startSelection.map(i),r)}const zd=/^(input\.type|delete)($|\.)/;class _d{constructor(e,t,n=0,r=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=r}isolate(){return this.prevTime?new _d(this.done,this.undone):this}addChanges(e,t,n,r,o){let i=this.done,a=i[i.length-1];return i=a&&a.changes&&!a.changes.empty&&e.changes&&(!n||zd.test(n))&&(!a.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(o,function(e,t){let n=[],r=!1;return e.iterChangedRanges(((e,t)=>n.push(e,t))),t.iterChangedRanges(((e,t,o,i)=>{for(let e=0;e<n.length;){let t=n[e++],a=n[e++];i>=t&&o<=a&&(r=!0)}})),r}(a.changes,e.changes))||"input.type.compose"==n)?Od(i,i.length-1,r.minDepth,new Md(e.changes.compose(a.changes),Nd(Nn.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Dd)):Od(i,i.length,r.minDepth,e),new _d(i,Dd,t,n)}addSelection(e,t,n,r){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Dd;return o.length>0&&t-this.prevTime<r&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&(i=o[o.length-1],a=e,i.ranges.length==a.ranges.length&&0===i.ranges.filter(((e,t)=>e.empty!=a.ranges[t].empty)).length)?this:new _d(Pd(this.done,e),this.undone,t,n);var i,a}addMapping(e){return new _d(Rd(this.done,e),Rd(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let r=0==e?this.done:this.undone;if(0==r.length)return null;let o=r[r.length-1],i=o.selectionsAfter[0]||t.selection;if(n&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:bd.of({side:e,rest:Td(r),selection:i}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let n=1==r.length?Dd:r.slice(0,r.length-1);return o.mapped&&(n=Rd(n,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:bd.of({side:e,rest:n,selection:i}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}_d.empty=new _d(Dd,Dd);const jd=[{key:"Mod-z",run:Sd,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Cd,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Cd,preventDefault:!0},{key:"Mod-u",run:Fd,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Id,preventDefault:!0}];function Wd(e,t){return nn.create(e.ranges.map(t),e.mainIndex)}function Hd(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Vd({state:e,dispatch:t},n){let r=Wd(e.selection,n);return!r.eq(e.selection,!0)&&(t(Hd(e,r)),!0)}function qd(e,t){return nn.cursor(t?e.to:e.from)}function $d(e,t){return Vd(e,(n=>n.empty?e.moveByChar(n,t):qd(n,t)))}function Kd(e){return e.textDirectionAt(e.state.selection.main.head)==To.LTR}const Yd=e=>$d(e,!Kd(e)),Gd=e=>$d(e,Kd(e));function Qd(e,t){return Vd(e,(n=>n.empty?e.moveByGroup(n,t):qd(n,t)))}function Xd(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Jd(e,t,n){let r,o,i=Qc(e).resolveInner(t.head),a=n?Kl.closedBy:Kl.openedBy;for(let r=t.head;;){let t=n?i.childAfter(r):i.childBefore(r);if(!t)break;Xd(e,t,a)?i=t:r=n?t.to:t.from}return o=i.type.prop(a)&&(r=n?nd(e,i.from,1):nd(e,i.to,-1))&&r.matched?n?r.end.to:r.end.from:n?i.to:i.from,nn.cursor(o,n?-1:1)}function Zd(e,t){return Vd(e,(n=>{if(!n.empty)return qd(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}"undefined"!=typeof Intl&&Intl.Segmenter;const eh=e=>Zd(e,!1),th=e=>Zd(e,!0);function nh(e){let t,n=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,r=0,o=0;if(n){for(let t of e.state.facet(bs.scrollMargins)){let n=t(e);(null==n?void 0:n.top)&&(r=Math.max(null==n?void 0:n.top,r)),(null==n?void 0:n.bottom)&&(o=Math.max(null==n?void 0:n.bottom,o))}t=e.scrollDOM.clientHeight-r-o}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:o,selfScroll:n,height:Math.max(e.defaultLineHeight,t-5)}}function rh(e,t){let n,r=nh(e),{state:o}=e,i=Wd(o.selection,(n=>n.empty?e.moveVertically(n,t,r.height):qd(n,t)));if(i.eq(o.selection))return!1;if(r.selfScroll){let t=e.coordsAtPos(o.selection.main.head),a=e.scrollDOM.getBoundingClientRect(),s=a.top+r.marginTop,l=a.bottom-r.marginBottom;t&&t.top>s&&t.bottom<l&&(n=bs.scrollIntoView(i.main.head,{y:"start",yMargin:t.top-s}))}return e.dispatch(Hd(o,i),{effects:n}),!0}const oh=e=>rh(e,!1),ih=e=>rh(e,!0);function ah(e,t,n){let r=e.lineBlockAt(t.head),o=e.moveToLineBoundary(t,n);if(o.head==t.head&&o.head!=(n?r.to:r.from)&&(o=e.moveToLineBoundary(t,n,!1)),!n&&o.head==r.from&&r.length){let n=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;n&&t.head!=r.from+n&&(o=nn.cursor(r.from+n))}return o}function sh(e,t){let n=Wd(e.state.selection,(e=>{let n=t(e);return nn.range(e.anchor,n.head,n.goalColumn,n.bidiLevel||void 0)}));return!n.eq(e.state.selection)&&(e.dispatch(Hd(e.state,n)),!0)}function lh(e,t){return sh(e,(n=>e.moveByChar(n,t)))}const ch=e=>lh(e,!Kd(e)),uh=e=>lh(e,Kd(e));function dh(e,t){return sh(e,(n=>e.moveByGroup(n,t)))}function hh(e,t){return sh(e,(n=>e.moveVertically(n,t)))}const fh=e=>hh(e,!1),ph=e=>hh(e,!0);function mh(e,t){return sh(e,(n=>e.moveVertically(n,t,nh(e).height)))}const Ah=e=>mh(e,!1),gh=e=>mh(e,!0),vh=({state:e,dispatch:t})=>(t(Hd(e,{anchor:0})),!0),bh=({state:e,dispatch:t})=>(t(Hd(e,{anchor:e.doc.length})),!0),yh=({state:e,dispatch:t})=>(t(Hd(e,{anchor:e.selection.main.anchor,head:0})),!0),wh=({state:e,dispatch:t})=>(t(Hd(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0);function Eh(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,o=r.changeByRange((r=>{let{from:o,to:i}=r;if(o==i){let a=t(r);a<o?(n="delete.backward",a=kh(e,a,!1)):a>o&&(n="delete.forward",a=kh(e,a,!0)),o=Math.min(o,a),i=Math.max(i,a)}else o=kh(e,o,!1),i=kh(e,i,!0);return o==i?{range:r}:{changes:{from:o,to:i},range:nn.cursor(o,o<r.head?-1:1)}}));return!o.changes.empty&&(e.dispatch(r.update(o,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?bs.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function kh(e,t,n){if(e instanceof bs)for(let r of e.state.facet(bs.atomicRanges).map((t=>t(e))))r.between(t,t,((e,r)=>{e<t&&r>t&&(t=n?r:e)}));return t}const xh=(e,t,n)=>Eh(e,(r=>{let o,i,a=r.from,{state:s}=e,l=s.doc.lineAt(a);if(n&&!t&&a>l.from&&a<l.from+200&&!/[^ \t]/.test(o=l.text.slice(0,a-l.from))){if("\t"==o[o.length-1])return a-1;let e=sr(o,s.tabSize)%lu(s)||lu(s);for(let t=0;t<e&&" "==o[o.length-1-t];t++)a--;i=a}else i=jt(l.text,a-l.from,t,t)+l.from,i==a&&l.number!=(t?s.doc.lines:1)?i+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(l.text.slice(i-l.from,a-l.from))&&(i=jt(l.text,i-l.from,!1,!1)+l.from);return i})),Uh=e=>xh(e,!1,!0),Sh=e=>xh(e,!0,!1),Ch=(e,t)=>Eh(e,(n=>{let r=n.head,{state:o}=e,i=o.doc.lineAt(r),a=o.charCategorizer(r);for(let e=null;;){if(r==(t?i.to:i.from)){r==n.head&&i.number!=(t?o.doc.lines:1)&&(r+=t?1:-1);break}let s=jt(i.text,r-i.from,t)+i.from,l=i.text.slice(Math.min(r,s)-i.from,Math.max(r,s)-i.from),c=a(l);if(null!=e&&c!=e)break;" "==l&&r==n.head||(e=c),r=s}return r})),Fh=e=>Ch(e,!1);function Ih(e){let t=[],n=-1;for(let r of e.selection.ranges){let o=e.doc.lineAt(r.from),i=e.doc.lineAt(r.to);if(r.empty||r.to!=i.from||(i=e.doc.lineAt(r.to-1)),n>=o.number){let e=t[t.length-1];e.to=i.to,e.ranges.push(r)}else t.push({from:o.from,to:i.to,ranges:[r]});n=i.number+1}return t}function Mh(e,t,n){if(e.readOnly)return!1;let r=[],o=[];for(let t of Ih(e)){if(n?t.to==e.doc.length:0==t.from)continue;let i=e.doc.lineAt(n?t.to+1:t.from-1),a=i.length+1;if(n){r.push({from:t.to,to:i.to},{from:t.from,insert:i.text+e.lineBreak});for(let n of t.ranges)o.push(nn.range(Math.min(e.doc.length,n.anchor+a),Math.min(e.doc.length,n.head+a)))}else{r.push({from:i.from,to:t.from},{from:t.to,insert:e.lineBreak+i.text});for(let e of t.ranges)o.push(nn.range(e.anchor-a,e.head-a))}}return!!r.length&&(t(e.update({changes:r,scrollIntoView:!0,selection:nn.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Oh(e,t,n){if(e.readOnly)return!1;let r=[];for(let t of Ih(e))n?r.push({from:t.from,insert:e.doc.slice(t.from,t.to)+e.lineBreak}):r.push({from:t.to,insert:e.lineBreak+e.doc.slice(t.from,t.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Nh=Dh(!1);function Dh(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange((n=>{let{from:r,to:o}=n,i=t.doc.lineAt(r),a=!e&&r==o&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n,r=Qc(e).resolveInner(t),o=r.childBefore(t),i=r.childAfter(t);return o&&i&&o.to<=t&&i.from>=t&&(n=o.type.prop(Kl.closedBy))&&n.indexOf(i.name)>-1&&e.doc.lineAt(o.to).from==e.doc.lineAt(i.from).from&&!/\S/.test(e.sliceDoc(o.to,i.from))?{from:o.to,to:i.from}:null}(t,r);e&&(r=o=(o<=i.to?i:t.doc.lineAt(o)).to);let s=new du(t,{simulateBreak:r,simulateDoubleBreak:!!a}),l=uu(s,r);for(null==l&&(l=sr(/^\s*/.exec(t.doc.lineAt(r).text)[0],t.tabSize));o<i.to&&/\s/.test(i.text[o-i.from]);)o++;a?({from:r,to:o}=a):r>i.from&&r<i.from+100&&!/\S/.test(i.text.slice(0,r))&&(r=i.from);let c=["",cu(t,l)];return a&&c.push(cu(t,s.lineIndent(i.from,-1))),{changes:{from:r,to:o,insert:Ot.of(c)},range:nn.cursor(r+1+c[1].length)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Bh(e,t){let n=-1;return e.changeByRange((r=>{let o=[];for(let i=r.from;i<=r.to;){let a=e.doc.lineAt(i);a.number>n&&(r.empty||r.to>a.from)&&(t(a,o,r),n=a.number),i=a.to+1}let i=e.changes(o);return{changes:o,range:nn.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}}))}const Ph=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Bh(e,((t,n)=>{n.push({from:t.from,insert:e.facet(su)})})),{userEvent:"input.indent"})),!0),Th=({state:e,dispatch:t})=>!e.readOnly&&(t(e.update(Bh(e,((t,n)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let o=sr(r,e.tabSize),i=0,a=cu(e,Math.max(0,o-lu(e)));for(;i<r.length&&i<a.length&&r.charCodeAt(i)==a.charCodeAt(i);)i++;n.push({from:t.from+i,to:t.from+r.length,insert:a.slice(i)})})),{userEvent:"delete.dedent"})),!0),Rh=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>Vd(e,(t=>Jd(e.state,t,!Kd(e)))),shift:e=>sh(e,(t=>Jd(e.state,t,!Kd(e))))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>Vd(e,(t=>Jd(e.state,t,Kd(e)))),shift:e=>sh(e,(t=>Jd(e.state,t,Kd(e))))},{key:"Alt-ArrowUp",run:({state:e,dispatch:t})=>Mh(e,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:e,dispatch:t})=>Oh(e,t,!1)},{key:"Alt-ArrowDown",run:({state:e,dispatch:t})=>Mh(e,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:e,dispatch:t})=>Oh(e,t,!0)},{key:"Escape",run:({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=nn.create([n.main]):n.main.empty||(r=nn.create([nn.cursor(n.main.head)])),!!r&&(t(Hd(e,r)),!0)}},{key:"Mod-Enter",run:Dh(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:e,dispatch:t})=>{let n=Ih(e).map((({from:t,to:n})=>nn.range(t,Math.min(n+1,e.doc.length))));return t(e.update({selection:nn.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:e,dispatch:t})=>{let n=Wd(e.selection,(t=>{let n=Qc(e),r=n.resolveStack(t.from,1);if(t.empty){let e=n.resolveStack(t.from,-1);e.node.from>=r.node.from&&e.node.to<=r.node.to&&(r=e)}for(let e=r;e;e=e.next){let{node:n}=e;if((n.from<t.from&&n.to>=t.to||n.to>t.to&&n.from<=t.from)&&e.next)return nn.range(n.to,n.from)}return t}));return!n.eq(e.selection)&&(t(Hd(e,n)),!0)},preventDefault:!0},{key:"Mod-[",run:Th},{key:"Mod-]",run:Ph},{key:"Mod-Alt-\\",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new du(e,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),o=Bh(e,((t,o,i)=>{let a=uu(r,t.from);if(null==a)return;/\S/.test(t.text)||(a=0);let s=/^\s*/.exec(t.text)[0],l=cu(e,a);(s!=l||i.from<t.from+s.length)&&(n[t.from]=a,o.push({from:t.from,to:t.from+s.length,insert:l}))}));return o.changes.empty||t(e.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(Ih(t).map((({from:e,to:n})=>(e>0?e--:n<t.doc.length&&n++,{from:e,to:n})))),r=Wd(t.selection,(t=>{let n;if(e.lineWrapping){let r=e.lineBlockAt(t.head),o=e.coordsAtPos(t.head,t.assoc||1);o&&(n=r.bottom+e.documentTop-o.bottom+e.defaultLineHeight/2)}return e.moveVertically(t,!0,n)})).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:e,dispatch:t})=>function(e,t,n){let r=!1,o=Wd(e.selection,(t=>{let o=nd(e,t.head,-1)||nd(e,t.head,1)||t.head>0&&nd(e,t.head-1,1)||t.head<e.doc.length&&nd(e,t.head+1,-1);if(!o||!o.end)return t;r=!0;let i=o.start.from==t.head?o.end.to:o.end.from;return n?nn.range(t.anchor,i):nn.cursor(i)}));return!!r&&(t(Hd(e,o)),!0)}(e,t,!1)},{key:"Mod-/",run:e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=md(e.state,n.from);return r.line?hd(e):!!r.block&&pd(e)}},{key:"Alt-A",run:fd},{key:"Ctrl-m",mac:"Shift-Alt-m",run:e=>(e.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:Yd,shift:ch,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>Qd(e,!Kd(e)),shift:e=>dh(e,!Kd(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>Vd(e,(t=>ah(e,t,!Kd(e)))),shift:e=>sh(e,(t=>ah(e,t,!Kd(e)))),preventDefault:!0},{key:"ArrowRight",run:Gd,shift:uh,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>Qd(e,Kd(e)),shift:e=>dh(e,Kd(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>Vd(e,(t=>ah(e,t,Kd(e)))),shift:e=>sh(e,(t=>ah(e,t,Kd(e)))),preventDefault:!0},{key:"ArrowUp",run:eh,shift:fh,preventDefault:!0},{mac:"Cmd-ArrowUp",run:vh,shift:yh},{mac:"Ctrl-ArrowUp",run:oh,shift:Ah},{key:"ArrowDown",run:th,shift:ph,preventDefault:!0},{mac:"Cmd-ArrowDown",run:bh,shift:wh},{mac:"Ctrl-ArrowDown",run:ih,shift:gh},{key:"PageUp",run:oh,shift:Ah},{key:"PageDown",run:ih,shift:gh},{key:"Home",run:e=>Vd(e,(t=>ah(e,t,!1))),shift:e=>sh(e,(t=>ah(e,t,!1))),preventDefault:!0},{key:"Mod-Home",run:vh,shift:yh},{key:"End",run:e=>Vd(e,(t=>ah(e,t,!0))),shift:e=>sh(e,(t=>ah(e,t,!0))),preventDefault:!0},{key:"Mod-End",run:bh,shift:wh},{key:"Enter",run:Nh,shift:Nh},{key:"Mod-a",run:({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:Uh,shift:Uh},{key:"Delete",run:Sh},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Fh},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>Ch(e,!0)},{mac:"Mod-Backspace",run:e=>Eh(e,(t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}))},{mac:"Mod-Delete",run:e=>Eh(e,(t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))}].concat([{key:"Ctrl-b",run:Yd,shift:ch,preventDefault:!0},{key:"Ctrl-f",run:Gd,shift:uh},{key:"Ctrl-p",run:eh,shift:fh},{key:"Ctrl-n",run:th,shift:ph},{key:"Ctrl-a",run:e=>Vd(e,(t=>nn.cursor(e.lineBlockAt(t.head).from,1))),shift:e=>sh(e,(t=>nn.cursor(e.lineBlockAt(t.head).from)))},{key:"Ctrl-e",run:e=>Vd(e,(t=>nn.cursor(e.lineBlockAt(t.head).to,-1))),shift:e=>sh(e,(t=>nn.cursor(e.lineBlockAt(t.head).to)))},{key:"Ctrl-d",run:Sh},{key:"Ctrl-h",run:Uh},{key:"Ctrl-k",run:e=>Eh(e,(t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}))},{key:"Ctrl-Alt-h",run:Fh},{key:"Ctrl-o",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:Ot.of(["",""])},range:nn.cursor(e.from)})));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange((t=>{if(!t.empty||0==t.from||t.from==e.doc.length)return{range:t};let n=t.from,r=e.doc.lineAt(n),o=n==r.from?n-1:jt(r.text,n-r.from,!1)+r.from,i=n==r.to?n+1:jt(r.text,n-r.from,!0)+r.from;return{changes:{from:o,to:i,insert:e.doc.slice(n,i).append(e.doc.slice(o,n))},range:nn.cursor(i)}}));return!n.changes.empty&&(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:ih}].map((e=>({mac:e.key,run:e.run,shift:e.shift}))))),Lh={key:"Tab",run:Ph,shift:Th};var zh=function(e,t,n){if(e){var r=e.state.changeByRange((function(r){var o,i,a=e.state.sliceDoc(r.from,r.to);if(r.empty){var s=t+n+t;o={from:r.from,insert:s},i=nn.range(r.from+t.length,r.from+t.length+n.length)}else o={from:r.from,to:r.to,insert:t+a+t},i=nn.range(r.from+t.length,r.to+t.length);return{changes:[o],range:i}}));e.dispatch(e.state.update(r,{scrollIntoView:!0,userEvent:"input.format.wrap"})),e.focus()}},_h=function(e,t){if(e){var n=e.state.changeByRange((function(n){var r=n.from,o=n.to,i=e.state.doc.lineAt(r),a=e.state.doc.lineAt(o),s=[],l=1;if("ordered"===t){var c=i.number>1?e.state.doc.line(i.number-1):null;if(c){var u=c.text.match(/^\s*(\d+)\.\s+/);u&&(l=parseInt(u[1],10)+1)}}for(var d=i.number;d<=a.number;d++){var h=e.state.doc.line(d),f=h.text,p=f.match(/^(\s*[-*+]\s+)/),m=f.match(/^(\s*\d+\.\s+)/),A="",g=0;if(m&&parseInt(m[1].trim().replace(".",""),10),"unordered"===t)if(p){var v=d>1?e.state.doc.line(d-1):null,b=null==v?void 0:v.text.match(/^\s*(\d+)\.\s+/);l=b?parseInt(b[1],10)+1:1,A="".concat(l,". "),g=p[1].length}else m?g=m[1].length:A="- ";else m?(A="- ",g=m[1].length):p?g=p[1].length:A="".concat(l,". ");if("ordered"===t&&A.match(/^\d+\.\s+/)?(A="".concat(l,". "),l++):"unordered"===t&&A.match(/^\d+\.\s+/)?l++:m&&"ordered"===t&&"- "===A||p&&"unordered"===t&&A.match(/^\d+\.\s+/)&&l++,0===h.length){if(A){var y=A+"List Item";s.push({from:h.from,insert:y}),A.match(/^\d+\.\s+/)&&l++}}else g>0?s.push({from:h.from,to:h.from+g,insert:A}):A&&s.push({from:h.from,insert:A})}if("ordered"===t)for(var w=a.number+1,E=!0;E&&w<=e.state.doc.lines;){var k=e.state.doc.line(w),x=k.text.match(/^(\s*)(\d+)(\.\s+)/);if(x){var U=l++;if(parseInt(x[2],10)!==U){var S="".concat(x[1]).concat(U).concat(x[3]);s.push({from:k.from,to:k.from+x[0].length,insert:S})}w++}else E=!1}var C=e.state.doc.line(a.number).to;return{changes:s,range:nn.cursor(C)}}));e.dispatch(e.state.update(n,{scrollIntoView:!0,userEvent:"input.format.list"})),e.focus()}};function jh(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r];"string"==typeof o?e.setAttribute(r,o):null!=o&&(e[r]=o)}t++}for(;t<arguments.length;t++)Wh(e,arguments[t]);return e}function Wh(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)Wh(e,t[n])}}const Hh="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class Vh{constructor(e,t,n=0,r=e.length,o,i){this.test=i,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,r),this.bufferStart=n,this.normalize=o?e=>o(Hh(e)):Hh,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Wt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Ht(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Vt(e);let r=this.normalize(t);if(r.length)for(let e=0,o=n;;e++){let i=r.charCodeAt(e),a=this.match(i,o,this.bufferPos+this.bufferStart);if(e==r.length-1){if(a)return this.value=a,this;break}o==n&&e<t.length&&t.charCodeAt(e)==i&&o++}}}match(e,t,n){let r=null;for(let t=0;t<this.matches.length;t+=2){let o=this.matches[t],i=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[t+1],to:n}:(this.matches[t]++,i=!0)),i||(this.matches.splice(t,2),t-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:n}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}"undefined"!=typeof Symbol&&(Vh.prototype[Symbol.iterator]=function(){return this});const qh={from:-1,to:-1,match:/.*/.exec("")},$h="gm"+(null==/x/.unicode?"":"u");class Kh{constructor(e,t,n,r=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=qh,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Qh(e,t,n,r,o);this.re=new RegExp(t,$h+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.iter=e.iter();let i=e.lineAt(r);this.curLineStart=i.from,this.matchPos=Xh(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=Xh(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const Yh=new WeakMap;class Gh{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let r=Yh.get(e);if(!r||r.from>=n||r.to<=t){let r=new Gh(t,e.sliceString(t,n));return Yh.set(e,r),r}if(r.from==t&&r.to==n)return r;let{text:o,from:i}=r;return i>t&&(o=e.sliceString(t,i)+o,i=t),r.to<n&&(o+=e.sliceString(r.to,n)),Yh.set(e,new Gh(i,o)),new Gh(t,o.slice(t-i,n-i))}}class Qh{constructor(e,t,n,r,o){this.text=e,this.to=o,this.done=!1,this.value=qh,this.matchPos=Xh(e,r),this.re=new RegExp(t,$h+((null==n?void 0:n.ignoreCase)?"i":"")),this.test=null==n?void 0:n.test,this.flat=Gh.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,n=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,n,t)))return this.value={from:e,to:n,match:t},this.matchPos=Xh(this.text,n+(e==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Gh.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Xh(e,t){if(t>=e.length)return t;let n,r=e.lineAt(t);for(;t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function Jh(e){let t=jh("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function n(){let n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!n)return;let{state:r}=e,o=r.doc.lineAt(r.selection.main.head),[,i,a,s,l]=n,c=s?+s.slice(1):0,u=a?+a:o.number;if(a&&l){let e=u/100;i&&(e=e*("-"==i?-1:1)+o.number/r.doc.lines),u=Math.round(r.doc.lines*e)}else a&&i&&(u=u*("-"==i?-1:1)+o.number);let d=r.doc.line(Math.max(1,Math.min(r.doc.lines,u))),h=nn.cursor(d.from+Math.max(0,Math.min(c,d.length)));e.dispatch({effects:[Zh.of(!1),bs.scrollIntoView(h.from,{y:"center"})],selection:h}),e.focus()}return{dom:jh("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:Zh.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:e=>{e.preventDefault(),n()}},jh("label",e.state.phrase("Go to line"),": ",t)," ",jh("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),jh("button",{name:"close",onclick:()=>{e.dispatch({effects:Zh.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},["×"]))}}"undefined"!=typeof Symbol&&(Kh.prototype[Symbol.iterator]=Qh.prototype[Symbol.iterator]=function(){return this});const Zh=Nn.define(),ef=fn.define({create:()=>!0,update(e,t){for(let n of t.effects)n.is(Zh)&&(e=n.value);return e},provide:e=>bl.from(e,(e=>e?Jh:null))}),tf=bs.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),nf=an.define({combine:e=>Vn(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Nf(e),scrollToMatch:e=>bs.scrollIntoView(e)})});class rf{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,$h),!0}catch(e){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new df(this):new sf(this)}getCursor(e,t=0,n){let r=e.doc?e:Hn.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?lf(this,r,t,n):af(this,r,t,n)}}class of{constructor(e){this.spec=e}}function af(e,t,n,r){return new Vh(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?function(e,t){return(n,r,o,i)=>((i>n||i+o.length<r)&&(i=Math.max(0,n-2),o=e.sliceString(i,Math.min(e.length,r+2))),!(t(cf(o,n-i))==_n.Word&&t(uf(o,n-i))==_n.Word||t(uf(o,r-i))==_n.Word&&t(cf(o,r-i))==_n.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class sf extends of{constructor(e){super(e)}nextMatch(e,t,n){let r=af(this.spec,e,n,e.doc.length).nextOverlapping();if(r.done){let n=Math.min(e.doc.length,t+this.spec.unquoted.length);r=af(this.spec,e,0,n).nextOverlapping()}return r.done||r.value.from==t&&r.value.to==n?null:r.value}prevMatchInRange(e,t,n){for(let r=n;;){let n=Math.max(t,r-1e4-this.spec.unquoted.length),o=af(this.spec,e,n,r),i=null;for(;!o.nextOverlapping().done;)i=o.value;if(i)return i;if(n==t)return null;r-=1e4}}prevMatch(e,t,n){let r=this.prevMatchInRange(e,0,t);return r||(r=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),!r||r.from==t&&r.to==n?null:r}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=af(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=af(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function lf(e,t,n,r){return new Kh(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(o=t.charCategorizer(t.selection.main.head),(e,t,n)=>!n[0].length||(o(cf(n.input,n.index))!=_n.Word||o(uf(n.input,n.index))!=_n.Word)&&(o(uf(n.input,n.index+n[0].length))!=_n.Word||o(cf(n.input,n.index+n[0].length))!=_n.Word)):void 0},n,r);var o}function cf(e,t){return e.slice(jt(e,t,!1),t)}function uf(e,t){return e.slice(t,jt(e,t))}class df extends of{nextMatch(e,t,n){let r=lf(this.spec,e,n,e.doc.length).next();return r.done&&(r=lf(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,n){for(let r=1;;r++){let o=Math.max(t,n-1e4*r),i=lf(this.spec,e,o,n),a=null;for(;!i.next().done;)a=i.value;if(a&&(o==t||a.from>o+10))return a;if(o==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,((t,n)=>{if("&"==n)return e.match[0];if("$"==n)return"$";for(let t=n.length;t>0;t--){let r=+n.slice(0,t);if(r>0&&r<e.match.length)return e.match[r]+n.slice(t)}return t}))}matchAll(e,t){let n=lf(this.spec,e,0,e.doc.length),r=[];for(;!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}highlight(e,t,n,r){let o=lf(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const hf=Nn.define(),ff=Nn.define(),pf=fn.define({create:e=>new mf(Sf(e).create(),null),update(e,t){for(let n of t.effects)n.is(hf)?e=new mf(n.value.create(),e.panel):n.is(ff)&&(e=new mf(e.query,n.value?Uf:null));return e},provide:e=>bl.from(e,(e=>e.panel))});class mf{constructor(e,t){this.query=e,this.panel=t}}const Af=xo.mark({class:"cm-searchMatch"}),gf=xo.mark({class:"cm-searchMatch cm-searchMatch-selected"}),vf=yi.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(pf))}update(e){let t=e.state.field(pf);(t!=e.startState.field(pf)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return xo.none;let{view:n}=this,r=new Qn;for(let t=0,o=n.visibleRanges,i=o.length;t<i;t++){let{from:a,to:s}=o[t];for(;t<i-1&&s>o[t+1].from-500;)s=o[++t].to;e.highlight(n.state,a,s,((e,t)=>{let o=n.state.selection.ranges.some((n=>n.from==e&&n.to==t));r.add(e,t,o?gf:Af)}))}return r.finish()}},{decorations:e=>e.decorations});function bf(e){return t=>{let n=t.state.field(pf,!1);return n&&n.query.spec.valid?e(t,n):If(t)}}const yf=bf(((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let o=nn.single(r.from,r.to),i=e.state.facet(nf);return e.dispatch({selection:o,effects:[Tf(e,r),i.scrollToMatch(o.main,e)],userEvent:"select.search"}),Ff(e),!0})),wf=bf(((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,o=t.prevMatch(n,r,r);if(!o)return!1;let i=nn.single(o.from,o.to),a=e.state.facet(nf);return e.dispatch({selection:i,effects:[Tf(e,o),a.scrollToMatch(i.main,e)],userEvent:"select.search"}),Ff(e),!0})),Ef=bf(((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!(!n||!n.length||(e.dispatch({selection:nn.create(n.map((e=>nn.range(e.from,e.to)))),userEvent:"select.search.matches"}),0))})),kf=bf(((e,{query:t})=>{let{state:n}=e,{from:r,to:o}=n.selection.main;if(n.readOnly)return!1;let i=t.nextMatch(n,r,r);if(!i)return!1;let a,s,l=i,c=[],u=[];if(l.from==r&&l.to==o&&(s=n.toText(t.getReplacement(l)),c.push({from:l.from,to:l.to,insert:s}),l=t.nextMatch(n,l.from,l.to),u.push(bs.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),l){let t=0==c.length||c[0].from>=i.to?0:i.to-i.from-s.length;a=nn.single(l.from-t,l.to-t),u.push(Tf(e,l)),u.push(n.facet(nf).scrollToMatch(a.main,e))}return e.dispatch({changes:c,selection:a,effects:u,userEvent:"input.replace"}),!0})),xf=bf(((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map((e=>{let{from:n,to:r}=e;return{from:n,to:r,insert:t.getReplacement(e)}}));if(!n.length)return!1;let r=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:bs.announce.of(r),userEvent:"input.replace.all"}),!0}));function Uf(e){return e.state.facet(nf).createPanel(e)}function Sf(e,t){var n,r,o,i,a;let s=e.selection.main,l=s.empty||s.to>s.from+100?"":e.sliceDoc(s.from,s.to);if(t&&!l)return t;let c=e.facet(nf);return new rf({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:c.caseSensitive,literal:null!==(o=null==t?void 0:t.literal)&&void 0!==o?o:c.literal,regexp:null!==(i=null==t?void 0:t.regexp)&&void 0!==i?i:c.regexp,wholeWord:null!==(a=null==t?void 0:t.wholeWord)&&void 0!==a?a:c.wholeWord})}function Cf(e){let t=ml(e,Uf);return t&&t.dom.querySelector("[main-field]")}function Ff(e){let t=Cf(e);t&&t==e.root.activeElement&&t.select()}const If=e=>{let t=e.state.field(pf,!1);if(t&&t.panel){let n=Cf(e);if(n&&n!=e.root.activeElement){let r=Sf(e.state,t.query.spec);r.valid&&e.dispatch({effects:hf.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[ff.of(!0),t?hf.of(Sf(e.state,t.query.spec)):Nn.appendConfig.of(Lf)]});return!0},Mf=e=>{let t=e.state.field(pf,!1);if(!t||!t.panel)return!1;let n=ml(e,Uf);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:ff.of(!1)}),!0},Of=[{key:"Mod-f",run:If,scope:"editor search-panel"},{key:"F3",run:yf,shift:wf,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:yf,shift:wf,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Mf,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:o}=n.main,i=[],a=0;for(let t=new Vh(e.doc,e.sliceDoc(r,o));!t.next().done;){if(i.length>1e3)return!1;t.value.from==r&&(a=i.length),i.push(nn.range(t.value.from,t.value.to))}return t(e.update({selection:nn.create(i,a),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:e=>{let t=ml(e,Jh);if(!t){let n=[Zh.of(!0)];null==e.state.field(ef,!1)&&n.push(Nn.appendConfig.of([ef,tf])),e.dispatch({effects:n}),t=ml(e,Jh)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:n}=e,r=nn.create(n.ranges.map((t=>e.wordAt(t.head)||nn.cursor(t.head))),n.mainIndex);return!r.eq(n)&&(t(e.update({selection:r})),!0)})({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=r)))return!1;let o=function(e,t){let{main:n,ranges:r}=e.selection,o=e.wordAt(n.head),i=o&&o.from==n.from&&o.to==n.to;for(let n=!1,o=new Vh(e.doc,t,r[r.length-1].to);;){if(o.next(),!o.done){if(n&&r.some((e=>e.from==o.value.from)))continue;if(i){let t=e.wordAt(o.value.from);if(!t||t.from!=o.value.from||t.to!=o.value.to)continue}return o.value}if(n)return null;o=new Vh(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),n=!0}}(e,r);return!!o&&(t(e.update({selection:e.selection.addRange(nn.range(o.from,o.to),!1),effects:bs.scrollIntoView(o.to)})),!0)},preventDefault:!0}];class Nf{constructor(e){this.view=e;let t=this.query=e.state.field(pf).query.spec;function n(e,t,n){return jh("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=jh("input",{value:t.search,placeholder:Df(e,"Find"),"aria-label":Df(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=jh("input",{value:t.replace,placeholder:Df(e,"Replace"),"aria-label":Df(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=jh("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=jh("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=jh("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=jh("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,n("next",(()=>yf(e)),[Df(e,"next")]),n("prev",(()=>wf(e)),[Df(e,"previous")]),n("select",(()=>Ef(e)),[Df(e,"all")]),jh("label",null,[this.caseField,Df(e,"match case")]),jh("label",null,[this.reField,Df(e,"regexp")]),jh("label",null,[this.wordField,Df(e,"by word")]),...e.state.readOnly?[]:[jh("br"),this.replaceField,n("replace",(()=>kf(e)),[Df(e,"replace")]),n("replaceAll",(()=>xf(e)),[Df(e,"replace all")])],jh("button",{name:"close",onclick:()=>Mf(e),"aria-label":Df(e,"close"),type:"button"},["×"])])}commit(){let e=new rf({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:hf.of(e)}))}keydown(e){var t,n;n=e,Ns(Fs((t=this.view).state),n,t,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?wf:yf)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),kf(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(hf)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(nf).top}}function Df(e,t){return e.state.phrase(t)}const Bf=30,Pf=/[\s\.,:;?!]/;function Tf(e,{from:t,to:n}){let r=e.state.doc.lineAt(t),o=e.state.doc.lineAt(n).to,i=Math.max(r.from,t-Bf),a=Math.min(o,n+Bf),s=e.state.sliceDoc(i,a);if(i!=r.from)for(let e=0;e<Bf;e++)if(!Pf.test(s[e+1])&&Pf.test(s[e])){s=s.slice(e);break}if(a!=o)for(let e=s.length-1;e>s.length-Bf;e--)if(!Pf.test(s[e-1])&&Pf.test(s[e])){s=s.slice(0,e);break}return bs.announce.of(`${e.state.phrase("current match")}. ${s} ${e.state.phrase("on line")} ${r.number}.`)}const Rf=bs.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Lf=[pf,mn.low(vf),Rf];var zf=o("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]),_f=o("outline","arrow-up","IconArrowUp",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]]),jf=o("outline","arrow-down","IconArrowDown",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]]),Wf=o("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),Hf=o("outline","replace","IconReplace",[["path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M15 15m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M21 11v-3a2 2 0 0 0 -2 -2h-6l3 3m0 -6l-3 3",key:"svg-2"}],["path",{d:"M3 13v3a2 2 0 0 0 2 2h6l-3 -3m0 6l3 -3",key:"svg-3"}]]);function Vf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const $f=function(t){var n=t.isOpen,r=t.onClose,o=t.onSearch,i=t.onReplace,a=t.onReplaceAll,s=Vf((0,e.useState)(""),2),l=s[0],c=s[1],u=Vf((0,e.useState)(""),2),d=u[0],h=u[1],f=Vf((0,e.useState)(!1),2),p=f[0],m=f[1],A=Vf((0,e.useState)(!1),2),g=A[0],v=A[1],b=(0,e.useRef)(null);(0,e.useEffect)((function(){n&&b.current&&b.current.focus()}),[n]),(0,e.useEffect)((function(){var e=function(e){n&&("Escape"===e.key?r():"Enter"!==e.key||e.shiftKey?"Enter"===e.key&&e.shiftKey&&(e.preventDefault(),y("prev")):(e.preventDefault(),y("next")))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n,l,p,g,r]);var y=function(e){""!==l.trim()&&o(l,{direction:e,matchCase:p,useRegex:g})};return n?e.createElement("div",{className:"search-replace-dialog absolute top-full mt-1 right-4 bg-white dark:bg-surface-800 shadow-lg rounded-lg border border-surface-300 dark:border-surface-600 w-80 z-50"},e.createElement("div",{className:"flex justify-between items-center p-2 border-b border-surface-300 dark:border-surface-700"},e.createElement("h3",{className:"text-sm font-medium"},"Search & Replace"),e.createElement("button",{onClick:r,className:"p-1 rounded-full hover:bg-surface-200 dark:hover:bg-surface-700"},e.createElement(be,{size:16}))),e.createElement("div",{className:"p-2 space-y-2"},e.createElement("div",{className:"flex items-center space-x-1"},e.createElement("div",{className:"relative flex-grow"},e.createElement("div",{className:"absolute inset-y-0 left-0 pl-2 flex items-center"},e.createElement(zf,{size:16,className:"text-surface-500"})),e.createElement("input",{ref:b,type:"text",value:l,onChange:function(e){return c(e.target.value)},placeholder:"Search...",className:"w-full pl-8 py-1 pr-2 text-sm border border-surface-300 dark:border-surface-600 rounded dark:bg-surface-700 focus:outline-none focus:ring-1 focus:ring-primary-500"})),e.createElement("button",{onClick:function(){return y("prev")},className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700",title:"Previous match (Shift+Enter)"},e.createElement(_f,{size:16})),e.createElement("button",{onClick:function(){return y("next")},className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700",title:"Next match (Enter)"},e.createElement(jf,{size:16}))),e.createElement("div",{className:"flex items-center space-x-1"},e.createElement("div",{className:"relative flex-grow"},e.createElement("div",{className:"absolute inset-y-0 left-0 pl-2 flex items-center"},e.createElement(Wf,{size:16,className:"text-surface-500"})),e.createElement("input",{type:"text",value:d,onChange:function(e){return h(e.target.value)},placeholder:"Replace...",className:"w-full pl-8 py-1 pr-2 text-sm border border-surface-300 dark:border-surface-600 rounded dark:bg-surface-700 focus:outline-none focus:ring-1 focus:ring-primary-500"})),e.createElement("button",{onClick:function(){""!==l.trim()&&i(l,d,{matchCase:p,useRegex:g})},className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700",title:"Replace current match"},e.createElement(Hf,{size:16}))),e.createElement("div",{className:"flex items-center space-x-4 text-sm"},e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",checked:p,onChange:function(e){return m(e.target.checked)},className:"mr-1"}),"Match case"),e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",checked:g,onChange:function(e){return v(e.target.checked)},className:"mr-1"}),"Use regex")),e.createElement("div",{className:"flex justify-end space-x-2 pt-1"},e.createElement("button",{onClick:function(){""!==l.trim()&&a(l,d,{matchCase:p,useRegex:g})},className:"px-2 py-1 text-xs bg-primary-600 hover:bg-primary-700 text-white rounded"},"Replace All")))):null};function Kf(e){return Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(e)}var Yf=["content","onChange","onScroll","onCursorChange","filePath","extensions","inScrollSync","scrollSource","scrollTo","className"];function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gf(Object(n),!0).forEach((function(t){Xf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xf(e,t,n){return(t=function(e){var t=function(e){if("object"!=Kf(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Kf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Kf(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ep=new gn,tp=(0,e.forwardRef)((function(t,n){var r,o,i=t.content,a=t.onChange,s=t.onScroll,l=t.onCursorChange,c=t.filePath,u=(t.extensions,t.inScrollSync),d=void 0!==u&&u,h=(t.scrollSource,t.scrollTo),f=t.className,p=void 0===f?"":f,m=(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}(t,Yf),(0,e.useRef)(null)),A=(0,e.useRef)(null),g=(0,e.useRef)(!1),v=Jf((0,e.useState)({line:1,column:1}),2),b=v[0],y=v[1],w=vt(),E=w.state,k=w.setCursorPosition,x=w.setSelections,U=w.setEditorFontSize,S=Jf((0,e.useState)(!1),2),C=(S[0],S[1],Jf((0,e.useState)(!1),2)),F=C[0],I=C[1],M=(0,e.useRef)(null),O=(E.editor.fontSize,(0,e.useRef)(c));(0,e.useEffect)((function(){O.current=c,console.log("[MarkdownEditor] filePathRef updated to: ".concat(O.current," (prop was: ").concat(c,")"))}),[c]);var N=function(e){return bs.theme({"&":{height:"100%"},".cm-scroller":{overflow:"auto"},".cm-content":{whiteSpace:"pre",fontSize:"".concat(e,"px"),lineHeight:1.5},".cm-gutters":{fontSize:"".concat(e,"px"),lineHeight:1.5},".cm-lineNumbers":{width:"3.5em !important",paddingRight:"1em",textAlign:"right",color:"#888"},".cm-gutterElement":{lineHeight:"".concat(1.5,"em")},".cm-cursor":{borderLeftWidth:"2px",borderLeftStyle:"solid"},"&.cm-editor.cm-focused":{outline:"none"}})},D=(0,e.useCallback)((function(e){if(e)try{for(var t=e.state.doc,n=e.state.selection.main,r=n.head,o=1,i=0,a=1;a<=t.lines;a++)if(r<=t.line(a).to){o=a,i=t.line(a).from;break}var s=t.sliceString(i,r).length+1;y({line:o,column:s}),l&&l({line:o,column:s});var c=O.current;if(console.log("[MarkdownEditor] trackCursorPosition - currentFilePath from ref: ".concat(c,", line: ").concat(o,", column: ").concat(s,", anchor: ").concat(n.anchor,", head: ").concat(n.head)),k&&c&&k(c,{line:o,column:s}),x&&c){var u=n.anchor,d=n.head;x(c,{anchor:u,head:d})}}catch(e){console.error("Error tracking cursor/selection:",e)}}),[l,k,x]);return(0,e.useImperativeHandle)(n,(function(){return{getCurrentCursorPosition:function(){return b},getCursorPosition:function(){if(A.current){var e=A.current.state.selection.main;return Qf(Qf({},b),{},{anchor:e.anchor,head:e.head})}return b},setCursorPosition:function(e){if(A.current&&e)try{if(void 0!==e.anchor&&void 0!==e.head){var t=nn.create([nn.range(e.anchor,e.head)]);A.current.dispatch({selection:t})}else if(void 0!==e.line&&void 0!==e.column){var n=Math.max(1,Math.min(e.line,A.current.state.doc.lines)),r=A.current.state.doc.line(n).from+Math.max(0,e.column-1);A.current.dispatch({selection:{anchor:r,head:r}})}}catch(e){console.error("Error setting cursor position:",e)}},scrollToPosition:function(e){if(A.current&&A.current.scrollDOM)try{var t=A.current.scrollDOM,n=t.scrollHeight-t.clientHeight,r=Math.max(0,Math.min(n,n*e));I(!0),t.scrollTop=r,setTimeout((function(){I(!1)}),100)}catch(e){console.error("Error scrolling editor:",e),I(!1)}},getScrollInfo:function(){if(A.current){var e=A.current.scrollDOM,t=e.scrollTop/(e.scrollHeight-e.clientHeight);return{scrollPercentage:isNaN(t)?0:t,scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,clientHeight:e.clientHeight}}return{scrollPercentage:0,scrollTop:0,scrollHeight:0,clientHeight:0}},focus:function(){A.current&&(console.log("[MarkdownEditor] Imperative focus called, focusing viewRef.current"),A.current.focus())},isInScrollSync:function(){return d},refreshLayout:function(){if(A.current)try{A.current.requestMeasure(),setTimeout((function(){A.current&&A.current.dispatch({type:"layout"})}),10)}catch(e){console.error("Error refreshing editor layout:",e)}},getElement:function(){return A.current?A.current.scrollDOM:null},getView:function(){return A.current},getText:function(){return i},setText:function(e){a&&a(e)},foldCurrent:function(){A.current&&Mu(A.current)},unfoldCurrent:function(){A.current&&Ou(A.current)},zoomIn:function(){return U((function(e){return Math.min(e+1,36)}))},zoomOut:function(){return U((function(e){return Math.max(e-1,8)}))},setFontSize:function(e){return U(Math.max(8,Math.min(e,36)))},getFontSize:function(){return E.editor.fontSize},undo:function(){return!!(e=A.current)&&Sd(e);var e},redo:function(){return!!(e=A.current)&&Cd(e);var e},applyBold:function(){return e=A.current,void zh(e,"**","Bold Text");var e},applyItalic:function(){return e=A.current,void zh(e,"*","Italic Text");var e},applyHeading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e){var n="#".repeat(t)+" ",r=e.state.changeByRange((function(r){for(var o=r.from,i=r.to,a=e.state.doc.lineAt(o),s=e.state.doc.lineAt(i),l=[],c=-1,u=-1,d=a.number;d<=s.number;d++){var h,f,p,m,A=e.state.doc.line(d),g=A.text.match(/^(#+\s*)/);m=0===A.length?{from:A.from,insert:n+"Heading"}:g?g[1].trim()==="#".repeat(t)?{from:A.from,to:A.from+g[1].length}:{from:A.from,to:A.from+g[1].length,insert:n}:{from:A.from,insert:n},l.push(m),-1===c&&(c=m.from),u=(null!==(h=m.to)&&void 0!==h?h:m.from)+(null!==(f=null===(p=m.insert)||void 0===p?void 0:p.length)&&void 0!==f?f:0)}return{changes:l,range:nn.range(c,u)}}));e.dispatch(e.state.update(r,{scrollIntoView:!0,userEvent:"input.format.heading"})),e.focus()}}(A.current,e)},applyUnorderedList:function(){return e=A.current,void _h(e,"unordered");var e},applyOrderedList:function(){return e=A.current,void _h(e,"ordered");var e},applyLink:function(){return function(e){if(e){var t=e.state.changeByRange((function(t){var n,r,o=t.from,i=t.to,a="";if(t.empty)a="[Link Text](URL)",r=(n=o+1)+9;else{var s=e.state.sliceDoc(o,i);a="[".concat(s,"](URL)"),n=o+1,r=o+1+s.length}return{changes:{from:o,to:t.empty?o:i,insert:a},range:nn.range(n,r)}}));e.dispatch(e.state.update(t,{scrollIntoView:!0,userEvent:"input.format.link"})),e.focus()}}(A.current)},applyImage:function(){return function(e){if(e){var t=e.state.changeByRange((function(e){return{changes:{from:e.to,insert:"\n![Alt Text](image_url)\n"},range:nn.cursor(e.to+24-2)}}));e.dispatch(e.state.update(t,{scrollIntoView:!0,userEvent:"input.format.image"})),e.focus()}}(A.current)},applyCodeBlock:function(){return function(e){if(e){var t=e.state.changeByRange((function(t){var n=t.from,r=e.state.doc.lineAt(n);return{changes:{from:r.to,insert:"\n```\ncode block\n```\n"},range:nn.range(r.to+5,r.to+5+10)}}));e.dispatch(e.state.update(t,{scrollIntoView:!0,userEvent:"input.format.codeblock"})),e.focus()}}(A.current)},applyBlockquote:function(){return function(e){if(e){var t=e.state.changeByRange((function(t){for(var n=t.from,r=t.to,o=e.state.doc.lineAt(n),i=e.state.doc.lineAt(r),a=[],s=o.number;s<=i.number;s++){var l=e.state.doc.line(s),c=l.text.match(/^(\s*>\s*)/);c?a.push({from:l.from,to:l.from+c[1].length}):a.push({from:l.from,insert:"> "})}var u=e.state.doc.line(i.number).to;return{changes:a,range:nn.cursor(u)}}));e.dispatch(e.state.update(t,{scrollIntoView:!0,userEvent:"input.format.blockquote"})),e.focus()}}(A.current)},applyTable:function(){return function(e){if(e){var t=e.state.changeByRange((function(t){var n=t.from,r=e.state.doc.lineAt(n);return{changes:{from:r.to,insert:"\n| Header 1 | Header 2 |\n| -------- | -------- |\n| Cell 1   | Cell 2   |\n"},range:nn.cursor(r.to+73-1)}}));e.dispatch(e.state.update(t,{scrollIntoView:!0,userEvent:"input.format.table"})),e.focus()}}(A.current)},applyCode:function(){return e=A.current,void zh(e,"`","code");var e},handleSearch:function(e,t){if(A.current)try{var n=A.current,r=t.direction,o=t.matchCase,i=t.useRegex,a=new rf({search:e,caseSensitive:o,regexp:i});n.dispatch({effects:hf.of(a)}),"next"===r?yf(n):wf(n)}catch(e){console.error("Error during search:",e)}},handleReplace:function(e,t,n){if(A.current)try{var r=A.current,o=n.matchCase,i=n.useRegex,a=new rf({search:e,replace:t,caseSensitive:o,regexp:i});r.dispatch({effects:hf.of(a)}),kf(r)}catch(e){console.error("Error during replace:",e)}},handleReplaceAll:function(e,t,n){if(A.current)try{var r=A.current,o=n.matchCase,i=n.useRegex,a=new rf({search:e,replace:t,caseSensitive:o,regexp:i});r.dispatch({effects:hf.of(a)}),xf(r)}catch(e){console.error("Error during replace all:",e)}}}})),(0,e.useEffect)((function(){if(!g.current&&m.current){g.current=!0;try{for(console.log("Creating editor with content:",i);m.current.firstChild;)m.current.removeChild(m.current.firstChild);var e=N(E.editor.fontSize),t=new bs({state:Hn.create({doc:i||"",extensions:[Ss.of(Rh),Ss.of(jd),Ss.of([Lh]),Ss.of(Du),Ss.of(Of),Ss.of([{key:"Ctrl-=+",run:function(){return U((function(e){return Math.min(e+1,36)})),!0}},{key:"Ctrl--",run:function(){return U((function(e){return Math.max(e-1,8)})),!0}},{key:"Ctrl-0",run:function(){return U(14),!0}}]),xd(),_s(),[Ks,Ys],Hn.allowMultipleSelections.of(!0),_l(),sl,Hl,nl(),Ju(),ul(),fl(),Tu(),Wu(),(n={top:!0},n?[nf.of(n),Lf]:Lf),ep.of(e),bs.updateListener.of((function(e){e.docChanged&&a&&a(e.state.doc.toString()),e.selectionSet&&D(e.view)})),bs.domEventHandlers({scroll:function(e,t){if(t&&t.scrollDOM&&!F&&s){var n=t.scrollDOM,r=n.scrollTop,o=n.scrollHeight-n.clientHeight;s(o>0?r/o:0)}},mousedown:function(e,t){console.log("[Line Number Click] mousedown event triggered");var n=e.target;if(console.log("[Line Number Click] Target element:",n),n.classList.contains("cm-gutterElement")&&n.closest(".cm-lineNumbers")){console.log("[Line Number Click] Click detected on a gutter element inside line numbers.");var r=t.posAtCoords({x:e.clientX,y:e.clientY});if(console.log("[Line Number Click] Calculated position via posAtCoords:",r),null==r)try{var o=t.lineBlockAtHeight(e.clientY);console.log("[Line Number Click] Trying lineBlockAtHeight:",o),o&&(r=o.from,console.log("[Line Number Click] Position set from lineBlock.from:",r))}catch(e){console.error("[Line Number Click] Error using lineBlockAtHeight:",e)}if(null!=r){var i=t.state.doc.lineAt(r);console.log("[Line Number Click] Line object:",i),t.dispatch({selection:nn.range(i.from,i.to),scrollIntoView:{y:"nearest",x:"never"}}),console.log("[Line Number Click] Selection dispatched for line:",i.number),e.preventDefault()}else console.log("[Line Number Click] Could not determine position for the click.")}else console.log("[Line Number Click] Click was not on a cm-gutterElement inside cm-lineNumbers.")}})]}),parent:m.current});return A.current=t,setTimeout((function(){t&&t.focus()}),50),function(){t.destroy(),M.current&&clearTimeout(M.current)}}catch(e){console.error("Error creating editor:",e),g.current=!1}var n}}),[]),(0,e.useEffect)((function(){if(A.current){var e=N(E.editor.fontSize);console.log("[ThemeEffect] Font size changed to ".concat(E.editor.fontSize,". Dispatching theme reconfigure.")),A.current.dispatch({effects:ep.reconfigure(e)})}}),[E.editor.fontSize]),(0,e.useEffect)((function(){var e,t=null===(e=A.current)||void 0===e?void 0:e.dom;if(t){console.log("[WheelEffect] Setting up wheel listener.");var n=function(e){if(e.ctrlKey){e.preventDefault();var t,n=E.editor.fontSize;(t=e.deltaY<0?Math.min(n+1,36):Math.max(n-1,8))!==n&&(console.log("[WheelEvent] Ctrl+Wheel detected. Setting font size from ".concat(n," to ").concat(t)),U(t))}};return t.addEventListener("wheel",n,{passive:!1}),function(){console.log("[WheelEffect] Cleaning up wheel listener."),t.removeEventListener("wheel",n)}}}),[A.current,U,E.editor.fontSize]),(0,e.useEffect)((function(){if(A.current)try{var e=A.current.state.doc.toString();if(i!==e){if(!A.current.state||!A.current.state.doc)return void console.warn("Editor state or document is undefined, skipping update");var t={changes:{from:0,to:A.current.state.doc.length||0,insert:i||""}};t.selection=nn.single(0);try{A.current.dispatch(A.current.state.update(t)),setTimeout((function(){A.current&&A.current.focus()}),10)}catch(e){console.error("Error applying transaction:",e);try{var n=Hn.create({doc:i||"",selection:nn.single(0)});A.current.setState(n)}catch(e){console.error("Failed to recreate editor state:",e)}}}}catch(e){console.error("Error updating editor content:",e)}}),[i]),(0,e.useEffect)((function(){if(A.current&&h&&!F){if(I(!0),"percent"===h.type){var e=A.current.scrollDOM,t=e.scrollHeight-e.clientHeight,n=Math.max(0,Math.min(t,t*h.value));e.scrollTop=n}return M.current=setTimeout((function(){I(!1)}),100),function(){M.current&&clearTimeout(M.current)}}}),[h,F]),(0,e.useEffect)((function(){if(console.log("[MarkdownEditor] LoadStateEffect - RUNNING. filePath: ".concat(c,", viewRef.current ready: ").concat(!!A.current,", content length: ").concat(null==i?void 0:i.length)),A.current&&c&&E&&E.editor){console.log("[MarkdownEditor] LoadStateEffect - Conditions MET. Current doc length: ".concat(A.current.state.doc.length));var e=E.editor.selections&&E.editor.selections[c],t=E.editor.cursorPositions&&E.editor.cursorPositions[c];console.log("[MarkdownEditor] LoadStateEffect - filePath: ".concat(c,", savedSelection: ").concat(JSON.stringify(e),", savedCursor: ").concat(JSON.stringify(t)));var n,r,o=null,a=A.current.state.doc,s=a.length;if(e&&("number"==typeof e.anchor&&"number"==typeof e.head?(n=e.anchor,r=e.head,console.log("[MarkdownEditor] LoadStateEffect - Using NEW selection format: { anchor: ".concat(n,", head: ").concat(r," }"))):"number"==typeof e.anchorOffset&&"number"==typeof e.headOffset&&(n=e.anchorOffset,r=e.headOffset,console.log("[MarkdownEditor] LoadStateEffect - Using OLD selection format (from anchorOffset/headOffset): { anchor: ".concat(n,", head: ").concat(r," }"))),"number"==typeof n&&"number"==typeof r&&(o={anchor:isNaN(n)||n<0?0:Math.min(n,s),head:isNaN(r)||r<0?0:Math.min(r,s)},console.log("[MarkdownEditor] LoadStateEffect - Using savedSelection. Processed target: ".concat(JSON.stringify(o)," (docLen: ").concat(s,")")))),!o&&t&&"number"==typeof t.line&&"number"==typeof t.column){console.log("[MarkdownEditor] LoadStateEffect - No valid selection from savedSelection, trying savedCursor.");try{var l=Math.max(1,Math.min(t.line,a.lines)),u=a.line(l),d=Math.max(0,Math.min(t.column-1,u.length)),h=u.from+d;h>=0&&h<=a.length?(o={anchor:h,head:h},console.log("[MarkdownEditor] LoadStateEffect - Using savedCursor. Processed target: ".concat(JSON.stringify(o)," (line: ").concat(l,", colOffset: ").concat(d,", offset: ").concat(h,", lineFrom: ").concat(u.from,", lineLen: ").concat(u.length,", docLen: ").concat(a.length,")"))):console.warn("[MarkdownEditor] LoadStateEffect - Saved cursor position resulted in out-of-bounds offset",{filePath:c,savedCursor:t,offset:h,docLength:a.length})}catch(e){console.warn("[MarkdownEditor] LoadStateEffect - Error applying saved cursor line/col to offset:",e,{filePath:c,savedCursor:t})}}if(o){var f=A.current.state.selection.main;console.log("[MarkdownEditor] LoadStateEffect - Target to apply: ".concat(JSON.stringify(o),". Current editor selection: ").concat(JSON.stringify({anchor:f.anchor,head:f.head}))),f.anchor!==o.anchor||f.head!==o.head?(console.log("[MarkdownEditor] LoadStateEffect - Dispatching selection change."),A.current.dispatch({selection:o,effects:bs.scrollIntoView(o.head,{y:"center"})})):console.log("[MarkdownEditor] LoadStateEffect - Target selection is same as current. No dispatch.")}else console.log("[MarkdownEditor] LoadStateEffect - No targetSelection derived for ".concat(c,"."))}else console.log("[MarkdownEditor] LoadStateEffect - SKIPPED. filePath: ".concat(c,", viewRef.current: ").concat(!!A.current,", appState: ").concat(!!E,", appState.editor: ").concat(!(null==E||!E.editor)))}),[c,A.current,null==E||null===(r=E.editor)||void 0===r?void 0:r.cursorPositions,null==E||null===(o=E.editor)||void 0===o?void 0:o.selections,i]),(0,e.useEffect)((function(){if(A.current){var e=null,t=!1,n=0,r=null,o=0,i=null,a=null,s=function(){if(t&&A.current&&A.current.scrollDOM){var e=A.current.dom.getBoundingClientRect(),r=0;if(o<e.top){var l=e.top-o;r=-Math.min(50,Math.max(5,l/2))}else if(o>e.bottom){var c=o-e.bottom;r=Math.min(50,Math.max(5,c/2))}if(0!==r){A.current.scrollDOM.scrollTop+=r,A.current.scrollDOM.scrollLeft=n;try{var u=Math.max(e.top,Math.min(e.bottom,o)),d=A.current.posAtCoords({x:o,y:u});if(null!==d){var h=A.current.state.doc.lineAt(d),f=Math.min(i,h.from),p=Math.max(i,h.to);A.current.dispatch({selection:nn.range(f,p),scrollIntoView:!1})}}catch(e){console.error("Error updating selection during continuous scroll:",e)}}a=requestAnimationFrame(s)}else a&&(cancelAnimationFrame(a),a=null)},l=function(r){if(t&&null!==e&&null!==i){var l=r.clientY,c=r.clientX;o=l;var u=A.current.dom.getBoundingClientRect();if(l<u.top||l>u.bottom)a||(a=requestAnimationFrame(s));else{a&&(cancelAnimationFrame(a),a=null);try{var d=A.current,h=d.posAtCoords({x:c,y:l});if(null===h)return;var f=d.state.doc.lineAt(h),p=d.state.doc.line(e),m=Math.min(p.from,f.from),g=Math.max(p.to,f.to);d.dispatch({selection:nn.range(m,g),scrollIntoView:!1}),setTimeout((function(){A.current&&A.current.scrollDOM&&(A.current.scrollDOM.scrollLeft=n)}),0)}catch(e){console.error("Error during in-editor selection:",e)}}}},c=function(r){if(r.target.classList.contains("cm-gutterElement")){n=A.current.scrollDOM.scrollLeft;var o=parseInt(r.target.textContent,10);if(isNaN(o))return;console.log("Gutter mousedown: Line ".concat(o)),e=o,t=!0;try{var a=A.current.state.doc.line(o);i=a.from,A.current.focus(),A.current.dispatch({selection:nn.range(a.from,a.to),scrollIntoView:{y:"nearest",x:"never"}}),setTimeout((function(){A.current&&A.current.scrollDOM&&(A.current.scrollDOM.scrollLeft=n)}),0),r.preventDefault()}catch(e){console.error("Error selecting line:",e)}}},u=function(){t=!1,i=null,A.current&&A.current.scrollDOM&&(A.current.scrollDOM.scrollLeft=n),a&&(cancelAnimationFrame(a),a=null),r&&(clearInterval(r),r=null)},d=function(){t=!1,i=null,A.current&&A.current.scrollDOM&&(A.current.scrollDOM.scrollLeft=n),a&&(cancelAnimationFrame(a),a=null),r&&(clearInterval(r),r=null)},h=A.current.dom.querySelector(".cm-gutters");return h?(h.addEventListener("mousedown",c),document.addEventListener("mousemove",l),h.addEventListener("mouseup",u),document.addEventListener("mouseup",d),function(){h.removeEventListener("mousedown",c),document.removeEventListener("mousemove",l),h.removeEventListener("mouseup",u),document.removeEventListener("mouseup",d),a&&(cancelAnimationFrame(a),a=null),r&&(clearInterval(r),r=null)}):void 0}}),[A.current]),e.createElement("div",{className:"h-full flex flex-col relative ".concat(p)},e.createElement("style",null,"\n        .cm-editor { height: 100%; }\n        \n        /* Default cursor for light mode (not inside .dark) */\n        .cm-content { caret-color: #000 !important; }\n        .cm-cursor { border-left: 3px solid #000 !important; }\n        \n        /* Dark mode cursor styles */\n        .dark .cm-content { caret-color: white !important; }\n        .dark .cm-cursor { border-left: 3px solid white !important; }\n        \n        /* Make gutters and line numbers clickable */\n        .cm-gutters { pointer-events: auto !important; }\n        .cm-gutter { pointer-events: auto !important; }\n        .cm-lineNumbers { pointer-events: auto !important; }\n        .cm-gutterElement { \n          pointer-events: auto !important; \n          cursor: pointer; \n          user-select: none; \n          -webkit-user-select: none;\n        }\n        \n        /* Custom scrollbar styling for CodeMirror */\n        .cm-scroller::-webkit-scrollbar {\n          width: 6px;\n          height: 6px;\n        }\n        \n        .cm-scroller::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        \n        .cm-scroller::-webkit-scrollbar-thumb {\n          background-color: rgba(156, 163, 175, 0.3);\n          border-radius: 3px;\n        }\n        \n        .cm-scroller::-webkit-scrollbar-thumb:hover {\n          background-color: rgba(156, 163, 175, 0.5);\n        }\n        \n        /* Dark mode scrollbars */\n        .dark .cm-scroller::-webkit-scrollbar-thumb {\n          background-color: rgba(75, 85, 99, 0.3);\n        }\n        \n        .dark .cm-scroller::-webkit-scrollbar-thumb:hover {\n          background-color: rgba(75, 85, 99, 0.5);\n        }\n      "),e.createElement("div",{className:"flex-grow overflow-auto",style:{position:"relative"},ref:m}))}));tp.displayName="MarkdownEditor";const np=tp;let rp={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function op(e){rp=e}const ip={exec:()=>null};function ap(e,t=""){let n="string"==typeof e?e:e.source;const r={replace:(e,t)=>{let o="string"==typeof t?t:t.source;return o=o.replace(sp.caret,"$1"),n=n.replace(e,o),r},getRegex:()=>new RegExp(n,t)};return r}const sp={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},lp=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,cp=/(?:[*+-]|\d{1,9}[.)])/,up=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,dp=ap(up).replace(/bull/g,cp).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),hp=ap(up).replace(/bull/g,cp).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),fp=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,pp=/(?!\s*\])(?:\\.|[^\[\]\\])+/,mp=ap(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",pp).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ap=ap(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,cp).getRegex(),gp="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",vp=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,bp=ap("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",vp).replace("tag",gp).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),yp=ap(fp).replace("hr",lp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gp).getRegex(),wp={blockquote:ap(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",yp).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:mp,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:lp,html:bp,lheading:dp,list:Ap,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:yp,table:ip,text:/^[^\n]+/},Ep=ap("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",lp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gp).getRegex(),kp={...wp,lheading:hp,table:Ep,paragraph:ap(fp).replace("hr",lp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ep).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",gp).getRegex()},xp={...wp,html:ap("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",vp).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ip,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ap(fp).replace("hr",lp).replace("heading"," *#{1,6} *[^\n]").replace("lheading",dp).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Up=/^( {2,}|\\)\n(?!\s*$)/,Sp=/[\p{P}\p{S}]/u,Cp=/[\s\p{P}\p{S}]/u,Fp=/[^\s\p{P}\p{S}]/u,Ip=ap(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Cp).getRegex(),Mp=/(?!~)[\p{P}\p{S}]/u,Op=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Np=ap(Op,"u").replace(/punct/g,Sp).getRegex(),Dp=ap(Op,"u").replace(/punct/g,Mp).getRegex(),Bp="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Pp=ap(Bp,"gu").replace(/notPunctSpace/g,Fp).replace(/punctSpace/g,Cp).replace(/punct/g,Sp).getRegex(),Tp=ap(Bp,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,Mp).getRegex(),Rp=ap("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Fp).replace(/punctSpace/g,Cp).replace(/punct/g,Sp).getRegex(),Lp=ap(/\\(punct)/,"gu").replace(/punct/g,Sp).getRegex(),zp=ap(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_p=ap(vp).replace("(?:--\x3e|$)","--\x3e").getRegex(),jp=ap("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_p).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Wp=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Hp=ap(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Wp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Vp=ap(/^!?\[(label)\]\[(ref)\]/).replace("label",Wp).replace("ref",pp).getRegex(),qp=ap(/^!?\[(ref)\](?:\[\])?/).replace("ref",pp).getRegex(),$p={_backpedal:ip,anyPunctuation:Lp,autolink:zp,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:Up,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:ip,emStrongLDelim:Np,emStrongRDelimAst:Pp,emStrongRDelimUnd:Rp,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Hp,nolink:qp,punctuation:Ip,reflink:Vp,reflinkSearch:ap("reflink|nolink(?!\\()","g").replace("reflink",Vp).replace("nolink",qp).getRegex(),tag:jp,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:ip},Kp={...$p,link:ap(/^!?\[(label)\]\((.*?)\)/).replace("label",Wp).getRegex(),reflink:ap(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Wp).getRegex()},Yp={...$p,emStrongRDelimAst:Tp,emStrongLDelim:Dp,url:ap(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Gp={...Yp,br:ap(Up).replace("{2,}","*").getRegex(),text:ap(Yp.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Qp={normal:wp,gfm:kp,pedantic:xp},Xp={normal:$p,gfm:Yp,breaks:Gp,pedantic:Kp},Jp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zp=e=>Jp[e];function em(e,t){if(t){if(sp.escapeTest.test(e))return e.replace(sp.escapeReplace,Zp)}else if(sp.escapeTestNoEncode.test(e))return e.replace(sp.escapeReplaceNoEncode,Zp);return e}function tm(e){try{e=encodeURI(e).replace(sp.percentDecode,"%")}catch{return null}return e}function nm(e,t){const n=e.replace(sp.findPipe,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(sp.splitPipe);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(sp.slashPipe,"|");return n}function rm(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r&&e.charAt(r-o-1)===t;)o++;return e.slice(0,r-o)}function om(e,t,n,r,o){const i=t.href,a=t.title||null,s=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;const l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:i,title:a,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,l}class im{options;rules;lexer;constructor(e){this.options=e||rp}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:rm(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t,n){const r=e.match(n.other.indentCodeCompensation);if(null===r)return t;const o=r[1];return t.split("\n").map((e=>{const t=e.match(n.other.beginningSpace);if(null===t)return e;const[r]=t;return r.length>=o.length?e.slice(o.length):e})).join("\n")}(e,t[3]||"",this.rules);return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(this.rules.other.endingHash.test(e)){const t=rm(e,"#");this.options.pedantic?e=t.trim():t&&!this.rules.other.endingSpaceChar.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:rm(t[0],"\n")}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=rm(t[0],"\n").split("\n"),n="",r="";const o=[];for(;e.length>0;){let t=!1;const i=[];let a;for(a=0;a<e.length;a++)if(this.rules.other.blockquoteStart.test(e[a]))i.push(e[a]),t=!0;else{if(t)break;i.push(e[a])}e=e.slice(a);const s=i.join("\n"),l=s.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}\n${s}`:s,r=r?`${r}\n${l}`:l;const c=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,o,!0),this.lexer.state.top=c,0===e.length)break;const u=o.at(-1);if("code"===u?.type)break;if("blockquote"===u?.type){const t=u,i=t.raw+"\n"+e.join("\n"),a=this.blockquote(i);o[o.length-1]=a,n=n.substring(0,n.length-t.raw.length)+a.raw,r=r.substring(0,r.length-t.text.length)+a.text;break}if("list"!==u?.type);else{const t=u,i=t.raw+"\n"+e.join("\n"),a=this.list(i);o[o.length-1]=a,n=n.substring(0,n.length-u.raw.length)+a.raw,r=r.substring(0,r.length-t.raw.length)+a.raw,e=i.substring(o.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:o,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=this.rules.other.listItemRegex(n);let a=!1;for(;e;){let n=!1,r="",s="";if(!(t=i.exec(e)))break;if(this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let l=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],u=!l.trim(),d=0;if(this.options.pedantic?(d=2,s=l.trimStart()):u?d=t[1].length+1:(d=t[2].search(this.rules.other.nonSpaceChar),d=d>4?1:d,s=l.slice(d),d+=t[1].length),u&&this.rules.other.blankLine.test(c)&&(r+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=this.rules.other.nextBulletRegex(d),n=this.rules.other.hrRegex(d),o=this.rules.other.fencesBeginRegex(d),i=this.rules.other.headingBeginRegex(d),a=this.rules.other.htmlBeginRegex(d);for(;e;){const h=e.split("\n",1)[0];let f;if(c=h,this.options.pedantic?(c=c.replace(this.rules.other.listReplaceNesting,"  "),f=c):f=c.replace(this.rules.other.tabCharGlobal,"    "),o.test(c))break;if(i.test(c))break;if(a.test(c))break;if(t.test(c))break;if(n.test(c))break;if(f.search(this.rules.other.nonSpaceChar)>=d||!c.trim())s+="\n"+f.slice(d);else{if(u)break;if(l.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(o.test(l))break;if(i.test(l))break;if(n.test(l))break;s+="\n"+c}u||c.trim()||(u=!0),r+=h+"\n",e=e.substring(h.length+1),l=f.slice(d)}}o.loose||(a?o.loose=!0:this.rules.other.doubleBlankLine.test(r)&&(a=!0));let h,f=null;this.options.gfm&&(f=this.rules.other.listIsTask.exec(s),f&&(h="[ ] "!==f[0],s=s.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:r,task:!!f,checked:h,loose:!1,text:s,tokens:[]}),o.raw+=r}const s=o.items.at(-1);if(!s)return;s.raw=s.raw.trimEnd(),s.text=s.text.trimEnd(),o.raw=o.raw.trimEnd();for(let e=0;e<o.items.length;e++)if(this.lexer.state.top=!1,o.items[e].tokens=this.lexer.blockTokens(o.items[e].text,[]),!o.loose){const t=o.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>this.rules.other.anyLine.test(e.raw)));o.loose=n}if(o.loose)for(let e=0;e<o.items.length;e++)o.items[e].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!this.rules.other.tableDelimiter.test(t[2]))return;const n=nm(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const e of r)this.rules.other.tableAlignRight.test(e)?i.align.push("right"):this.rules.other.tableAlignCenter.test(e)?i.align.push("center"):this.rules.other.tableAlignLeft.test(e)?i.align.push("left"):i.align.push(null);for(let e=0;e<n.length;e++)i.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:i.align[e]});for(const e of o)i.rows.push(nm(e,i.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:i.align[t]}))));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;const t=rm(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===e)return;if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=this.rules.other.pedanticHrefTitle.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(n=this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?n.slice(1):n.slice(1,-1)),om(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return om(n,e,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(r&&(!r[3]||!n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let o,i,a=n,s=0;const l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(i=[...o].length,r[3]||r[4]){a+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){s+=i;continue}if(a-=i,a>0)continue;i=Math.min(i,i+a+s);const t=[...r[0]][0].length,l=e.slice(0,n+r.index+t+i);if(Math.min(n,i)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(e),r=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return n&&r&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=t[1],n="mailto:"+e):(e=t[1],n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=t[0],n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=t[0],n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const e=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:e}}}}class am{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||rp,this.options.tokenizer=this.options.tokenizer||new im,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={other:sp,block:Qp.normal,inline:Xp.normal};this.options.pedantic?(t.block=Qp.pedantic,t.inline=Xp.pedantic):this.options.gfm&&(t.block=Qp.gfm,this.options.breaks?t.inline=Xp.breaks:t.inline=Xp.gfm),this.tokenizer.rules=t}static get rules(){return{block:Qp,inline:Xp}}static lex(e,t){return new am(t).lex(e)}static lexInline(e,t){return new am(t).inlineTokens(e)}lex(e){e=e.replace(sp.carriageReturn,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){for(this.options.pedantic&&(e=e.replace(sp.tabCharGlobal,"    ").replace(sp.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);const n=t.at(-1);1===r.raw.length&&void 0!==n?n.raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);const n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.at(-1).src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);const n=t.at(-1);"paragraph"===n?.type||"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.raw,this.inlineQueue.at(-1).src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let o=e;if(this.options.extensions?.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){const i=t.at(-1);n&&"paragraph"===i?.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(r),n=o.length!==e.length,e=e.substring(r.raw.length)}else if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);const n=t.at(-1);"text"===n?.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=n.text):t.push(r)}else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n=e,r=null;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(n));)e.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.anyPunctuation.exec(n));)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(n));)n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let o=!1,i="";for(;e;){let r;if(o||(i=""),o=!1,this.options.extensions?.inline?.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0))))continue;if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length);const n=t.at(-1);"text"===r.type&&"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,n,i)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}let a=e;if(this.options.extensions?.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}if(r=this.tokenizer.inlineText(a)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(i=r.raw.slice(-1)),o=!0;const n=t.at(-1);"text"===n?.type?(n.raw+=r.raw,n.text+=r.text):t.push(r)}else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}}class sm{options;parser;constructor(e){this.options=e||rp}space(e){return""}code({text:e,lang:t,escaped:n}){const r=(t||"").match(sp.notSpaceStart)?.[0],o=e.replace(sp.endingNewline,"")+"\n";return r?'<pre><code class="language-'+em(r)+'">'+(n?o:em(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:em(o,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){const t=e.ordered,n=e.start;let r="";for(let t=0;t<e.items.length;t++){const n=e.items[t];r+=this.listitem(n)}const o=t?"ol":"ul";return"<"+o+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+em(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let t=0;t<e.header.length;t++)n+=this.tablecell(e.header[t]);t+=this.tablerow({text:n});let r="";for(let t=0;t<e.rows.length;t++){const o=e.rows[t];n="";for(let e=0;e<o.length;e++)n+=this.tablecell(o[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${em(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),o=tm(e);if(null===o)return r;let i='<a href="'+(e=o)+'"';return t&&(i+=' title="'+em(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const o=tm(e);if(null===o)return em(n);let i=`<img src="${e=o}" alt="${n}"`;return t&&(i+=` title="${em(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:em(e.text)}}class lm{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class cm{options;renderer;textRenderer;constructor(e){this.options=e||rp,this.options.renderer=this.options.renderer||new sm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new lm}static parse(e,t){return new cm(t).parse(e)}static parseInline(e,t){return new cm(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions?.renderers?.[o.type]){const e=o,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}const i=o;switch(i.type){case"space":n+=this.renderer.space(i);continue;case"hr":n+=this.renderer.hr(i);continue;case"heading":n+=this.renderer.heading(i);continue;case"code":n+=this.renderer.code(i);continue;case"table":n+=this.renderer.table(i);continue;case"blockquote":n+=this.renderer.blockquote(i);continue;case"list":n+=this.renderer.list(i);continue;case"html":n+=this.renderer.html(i);continue;case"paragraph":n+=this.renderer.paragraph(i);continue;case"text":{let o=i,a=this.renderer.text(o);for(;r+1<e.length&&"text"===e[r+1].type;)o=e[++r],a+="\n"+this.renderer.text(o);n+=t?this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):a;continue}default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t=this.renderer){let n="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions?.renderers?.[o.type]){const e=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=e||"";continue}}const i=o;switch(i.type){case"escape":case"text":n+=t.text(i);break;case"html":n+=t.html(i);break;case"link":n+=t.link(i);break;case"image":n+=t.image(i);break;case"strong":n+=t.strong(i);break;case"em":n+=t.em(i);break;case"codespan":n+=t.codespan(i);break;case"br":n+=t.br(i);break;case"del":n+=t.del(i);break;default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class um{options;block;constructor(e){this.options=e||rp}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?am.lex:am.lexInline}provideParser(){return this.block?cm.parse:cm.parseInline}}const dm=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=cm;Renderer=sm;TextRenderer=lm;Lexer=am;Tokenizer=im;Hooks=um;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{const o=e[r].flat(1/0);n=n.concat(this.walkTokens(o,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new sm(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const r=n,o=e.renderer[r],i=t[r];t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=i.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new im(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,o=e.tokenizer[r],i=t[r];t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new um;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const r=n,o=e.hooks[r],i=t[r];um.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(o.call(t,e)).then((e=>i.call(t,e)));const n=o.call(t,e);return i.call(t,n)}:t[r]=(...e)=>{let n=o.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return am.lex(e,t??this.defaults)}parser(e,t){return cm.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{const r={...n},o={...this.defaults,...r},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==t)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const a=o.hooks?o.hooks.provideLexer():e?am.lex:am.lexInline,s=o.hooks?o.hooks.provideParser():e?cm.parse:cm.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then((e=>a(e,o))).then((e=>o.hooks?o.hooks.processAllTokens(e):e)).then((e=>o.walkTokens?Promise.all(this.walkTokens(e,o.walkTokens)).then((()=>e)):e)).then((e=>s(e,o))).then((e=>o.hooks?o.hooks.postprocess(e):e)).catch(i);try{o.hooks&&(t=o.hooks.preprocess(t));let e=a(t,o);o.hooks&&(e=o.hooks.processAllTokens(e)),o.walkTokens&&this.walkTokens(e,o.walkTokens);let n=s(e,o);return o.hooks&&(n=o.hooks.postprocess(n)),n}catch(e){return i(e)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+em(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function hm(e,t){return dm.parse(e,t)}function fm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}hm.options=hm.setOptions=function(e){return dm.setOptions(e),hm.defaults=dm.defaults,op(hm.defaults),hm},hm.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},hm.defaults=rp,hm.use=function(...e){return dm.use(...e),hm.defaults=dm.defaults,op(hm.defaults),hm},hm.walkTokens=function(e,t){return dm.walkTokens(e,t)},hm.parseInline=dm.parseInline,hm.Parser=cm,hm.parser=cm.parse,hm.Renderer=sm,hm.TextRenderer=lm,hm.Lexer=am,hm.lexer=am.lex,hm.Tokenizer=im,hm.Hooks=um,hm.parse=hm,hm.options,hm.setOptions,hm.use,hm.walkTokens,hm.parseInline,cm.parse,am.lex;var mm=new hm.Renderer;mm.image=function(e,t,n){return'\n    <div class="image-container">\n      <img \n        src="'.concat(e,'" \n        alt="').concat(n||"",'" \n        title="').concat(t||n||"",'" \n        class="markdown-image" \n        loading="lazy" \n        data-lightbox="').concat(e,"\"\n        onclick=\"if(this.parentNode.classList.contains('image-container')) { this.parentNode.classList.toggle('expanded'); }\"\n      />\n      ").concat(n?"<figcaption>".concat(n,"</figcaption>"):"","\n    </div>\n  ")},mm.link=function(e,t,n){if("string"!=typeof e)return console.warn("[MarkdownPreview Renderer] Encountered non-string href:",e,"for text:",n),n||"";var r=[".mp4",".webm",".ogg",".mov"].some((function(t){return e.toLowerCase().endsWith(t)})),o=[".mp3",".wav",".ogg",".aac"].some((function(t){return e.toLowerCase().endsWith(t)})),i=e.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/),a=e.match(/(?:vimeo\.com\/)([0-9]+)/);if(r)return'\n      <div class="video-container">\n        <video controls preload="metadata" class="markdown-video">\n          <source src="'.concat(e,'" type="video/').concat(e.split(".").pop(),'">\n          ').concat(n||"Your browser does not support the video tag.","\n        </video>\n      </div>\n    ");if(o)return'\n      <div class="audio-container">\n        <audio controls class="markdown-audio">\n          <source src="'.concat(e,'" type="audio/').concat(e.split(".").pop(),'">\n          ').concat(n||"Your browser does not support the audio tag.","\n        </audio>\n      </div>\n    ");if(i&&i[1]){var s=i[1];return'\n      <div class="youtube-container">\n        <iframe \n          width="560" \n          height="315" \n          src="https://www.youtube.com/embed/'.concat(s,'" \n          title="').concat(t||n||"YouTube video",'" \n          frameborder="0" \n          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" \n          allowfullscreen\n          class="markdown-embed"\n        ></iframe>\n      </div>\n    ')}if(a&&a[1]){var l=a[1];return'\n      <div class="vimeo-container">\n        <iframe \n          src="https://player.vimeo.com/video/'.concat(l,'" \n          width="560" \n          height="315" \n          frameborder="0" \n          allow="autoplay; fullscreen; picture-in-picture" \n          allowfullscreen\n          class="markdown-embed"\n        ></iframe>\n      </div>\n    ')}return'<a \n              href="'.concat(e,'" \n              title="').concat(t||"",'" \n            >\n              ').concat(n,"\n            </a>")},hm.setOptions({breaks:!0,gfm:!0,headerIds:!0,mangle:!1,sanitize:!1,renderer:mm});var Am=[50,67,80,90,100,110,125,150,175,200,250,300],gm=Am.length-1,vm=(0,e.forwardRef)((function(t,n){var r=t.content,o=t.onScroll,i=t.customCSS,a=void 0===i?"":i,s=(t.inScrollSync,t.scrollSource,t.currentFilePath),l=(0,e.useRef)(null),c=(0,e.useRef)(!1),u=fm((0,e.useState)(4),2),d=u[0],h=u[1],f=Am[d],p=fm((0,e.useState)(null),2);p[0],p[1],(0,e.useEffect)((function(){var e=l.current;if(e){var t=e.querySelectorAll("img.markdown-image"),n=function(e){var t=e.target.closest(".image-container");t&&t.classList.toggle("expanded")};t.forEach((function(e){e.addEventListener("click",n)}));var r=function(e){var t=e.target.closest("a[href]");if(t){var n=t.getAttribute("href");if(n){var r=!(!window.api&&!window.electronAPI);if(r||!(n.startsWith("http")||n.startsWith("https")||n.startsWith("www"))){e.preventDefault();try{var o=n,i=!1;if(n.startsWith("http://")||n.startsWith("https://")?i=!0:n.startsWith("www.")&&(i=!0,o="https://"+n),i)if(console.log("External link detected: ".concat(o)),window.api&&"function"==typeof window.api.openExternalLink)console.log("Using window.api.openExternalLink to open URL"),window.api.openExternalLink(o).then((function(e){return console.log("openExternalLink result:",e)})).catch((function(e){return console.error("openExternalLink error:",e)}));else if(window.electronAPI&&"function"==typeof window.electronAPI.openExternalLink)console.log("Using window.electronAPI.openExternalLink to open URL"),window.electronAPI.openExternalLink(o).then((function(e){return console.log("electronAPI.openExternalLink result:",e)})).catch((function(e){return console.error("electronAPI.openExternalLink error:",e)}));else{console.log("Using fallback method to open URL:",o);var a=window.open(o,"_blank","noopener,noreferrer");a&&(a.opener=null)}else if(s&&!n.startsWith("#")){var l,c,u=n;if(null!==(l=window.api)&&void 0!==l&&l.pathDirname&&null!==(c=window.api)&&void 0!==c&&c.pathResolve){var d=window.api.pathDirname(s);u=window.api.pathResolve(d,n)}window.api&&"function"==typeof window.api.openFile?window.api.openFile(u):window.electronAPI&&"function"==typeof window.electronAPI.openFile?window.electronAPI.openFile(u):r?console.warn("Unable to open file: ".concat(u," - API not available")):(console.log("Web mode - navigating to file path: ".concat(n)),window.location.href=n)}else if(n.startsWith("#")){var h=n.substring(1),f=document.getElementById(h);f&&f.scrollIntoView({behavior:"smooth"})}else console.warn("Unhandled link type or missing currentFilePath: ".concat(n))}catch(e){console.error("Error handling link click for ".concat(n,":"),e);try{if(n.startsWith("http")||n.startsWith("www")){var p=n.startsWith("www")?"https://"+n:n;window.open(p,"_blank","noopener,noreferrer")}}catch(e){console.error("Fallback navigation also failed:",e)}}}}}};return e.addEventListener("click",r),function(){t.forEach((function(e){e.removeEventListener("click",n)})),e.removeEventListener("click",r)}}}),[r,s]),(0,e.useImperativeHandle)(n,(function(){return{scrollToPosition:function(e){if(l.current)try{var t=l.current,n=t.scrollHeight-t.clientHeight,r=Math.max(0,Math.min(n,n*e));c.current=!0,t.scrollTop=r,setTimeout((function(){c.current=!1}),100)}catch(e){console.error("Error scrolling preview:",e),c.current=!1}},getScrollInfo:function(){if(l.current){var e=l.current,t=e.scrollTop/(e.scrollHeight-e.clientHeight);return{scrollPercentage:isNaN(t)?0:t,scrollTop:e.scrollTop,scrollHeight:e.scrollHeight,clientHeight:e.clientHeight}}return{scrollPercentage:0,scrollTop:0,scrollHeight:0,clientHeight:0}},getContainer:function(){return l.current},getZoom:function(){return f},setZoomByIndex:function(e){var t=Math.max(0,Math.min(gm,e));return h(t),Am[t]},zoomIn:function(){return d<gm?(h(d+1),Am[d+1]):f},zoomOut:function(){return d>0?(h(d-1),Am[d-1]):f},resetZoom:function(){return h(4),Am[4]},refreshContent:function(){if(l.current)try{l.current.style.display="none",l.current.offsetHeight,setTimeout((function(){l.current&&(l.current.style.display="",l.current.offsetHeight,l.current.querySelectorAll("img").forEach((function(e){var t=e.getAttribute("src");t&&e.setAttribute("src",t+"?t="+(new Date).getTime())})))}),10)}catch(e){console.error("Error refreshing preview content:",e)}},refreshLayout:function(){if(l.current)try{l.current.offsetHeight;var e=l.current.style.transform;l.current.style.transform="none",l.current.offsetHeight,setTimeout((function(){l.current&&(l.current.style.transform=e)}),10)}catch(e){console.error("Error refreshing preview layout:",e)}}}})),(0,e.useEffect)((function(){if(l.current&&l.current._lastScrollPosition){var e=l.current._lastScrollPosition;e>10&&setTimeout((function(){l.current&&(l.current.scrollTop=e)}),50)}}),[r]),(0,e.useEffect)((function(){var e=function(e){if(l.current){var t=l.current.getBoundingClientRect();(t.top>=0&&t.left>=0&&t.bottom<=window.innerHeight&&t.right<=window.innerWidth||document.activeElement===l.current)&&((e.ctrlKey||e.metaKey)&&"="===e.key&&(e.preventDefault(),h((function(e){return e<gm?e+1:e}))),(e.ctrlKey||e.metaKey)&&"-"===e.key&&(e.preventDefault(),h((function(e){return e>0?e-1:e}))),(e.ctrlKey||e.metaKey)&&"0"===e.key&&(e.preventDefault(),h(4)))}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);var m=(0,e.useMemo)((function(){return r?hm.parse(r):""}),[r]);return e.createElement(e.Fragment,null,e.createElement("div",{ref:l,className:"markdown-preview prose max-w-none w-full flex-grow",style:{zoom:f/100,paddingBottom:"2rem",paddingLeft:"0.65rem"},onScroll:function(e){if(!c.current&&o&&l.current){var t=l.current,n=t.scrollTop,r=t.scrollHeight,i=r-t.clientHeight,a=i>0?n/i:0;(n>5||a>.01&&r>100)&&(l.current._lastScrollPosition=n,o(a))}}},e.createElement("div",{className:"w-full overflow-x-auto",dangerouslySetInnerHTML:{__html:m}})),e.createElement("style",{dangerouslySetInnerHTML:{__html:"\n        /* Image container styling */\n        .image-container {\n          display: inline-block;\n          margin: 0.5rem 0;\n          position: relative;\n          max-width: 100%;\n          transition: all 0.3s ease;\n        }\n        \n        .image-container.expanded {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.8);\n          z-index: 1000;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin: 0;\n          padding: 2rem;\n        }\n        \n        .image-container.expanded img {\n          max-width: 90%;\n          max-height: 90%;\n          margin: auto;\n          object-fit: contain;\n          cursor: zoom-out;\n          box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);\n        }\n        \n        .image-container img {\n          max-width: 100%;\n          height: auto;\n          cursor: zoom-in;\n        }\n        \n        .image-container figcaption {\n          text-align: center;\n          font-style: italic;\n        }\n        \n        .image-container.expanded figcaption {\n          position: absolute;\n          bottom: 1rem;\n          left: 0;\n          width: 100%;\n          text-align: center;\n          color: white;\n          background: rgba(0, 0, 0, 0.5);\n          padding: 0.5rem;\n        }\n        \n        /* Video container styling */\n        .video-container {\n          position: relative;\n          padding-bottom: 56.25%; /* 16:9 aspect ratio */\n          height: 0;\n          overflow: hidden;\n          max-width: 100%;\n          margin: 1rem 0;\n        }\n        \n        .video-container video,\n        .video-container iframe {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n        \n        /* Audio container styling */\n        .audio-container {\n          width: 100%;\n          margin: 1rem 0;\n        }\n        \n        .audio-container audio {\n          width: 100%;\n        }\n        \n        /* YouTube and Vimeo container styling */\n        .youtube-container,\n        .vimeo-container {\n          position: relative;\n          padding-bottom: 56.25%; /* 16:9 aspect ratio */\n          height: 0;\n          overflow: hidden;\n          max-width: 100%;\n          margin: 1rem 0;\n        }\n        \n        .youtube-container iframe,\n        .vimeo-container iframe {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n        \n        /* Dark mode heading styles */\n        .dark .markdown-preview h1,\n        .dark .markdown-preview h2,\n        .dark .markdown-preview h3,\n        .dark .markdown-preview h4,\n        .dark .markdown-preview h5,\n        .dark .markdown-preview h6 {\n          color: white !important;\n        }\n        \n        .dark .markdown-preview h1,\n        .dark .markdown-preview h2 {\n          border-bottom-color: #2d3748 !important;\n        }\n        \n        /* Custom scrollbar styling for preview */\n        .markdown-preview::-webkit-scrollbar {\n          width: 6px;\n          height: 6px;\n        }\n        \n        .markdown-preview::-webkit-scrollbar-track {\n          background: transparent;\n        }\n        \n        .markdown-preview::-webkit-scrollbar-thumb {\n          background-color: rgba(156, 163, 175, 0.3);\n          border-radius: 3px;\n        }\n        \n        .markdown-preview::-webkit-scrollbar-thumb:hover {\n          background-color: rgba(156, 163, 175, 0.5);\n        }\n        \n        /* Dark mode scrollbars */\n        .dark .markdown-preview::-webkit-scrollbar-thumb {\n          background-color: rgba(75, 85, 99, 0.3);\n        }\n        \n        .dark .markdown-preview::-webkit-scrollbar-thumb:hover {\n          background-color: rgba(75, 85, 99, 0.5);\n        }\n        \n        /* Custom CSS applied by user */\n        ".concat(a,"\n      ")}}))}));vm.displayName="MarkdownPreview";const bm=vm;var ym=["children","activeTab","onTabChange"];function wm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Em=function(t){var n,r,o=t.children,i=t.activeTab,a=t.onTabChange,s=(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}(t,ym),n=(0,e.useState)("files"),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return wm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wm(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0],c=s[1];(0,e.useEffect)((function(){i&&c(i)}),[i]);var u=[{id:"files",label:"Files",icon:J},{id:"search",label:"Search",icon:zf}],d=i||l,h=e.Children.toArray(o).find((function(e){return e.props.id===d}));return e.createElement("div",{className:"h-full flex flex-col"},e.createElement("div",{className:"tabs flex overflow-x-auto border-b border-surface-300 dark:border-surface-700"},u.map((function(t){var n=t.icon;return e.createElement("button",{key:t.id,className:"\n                flex-shrink-0 flex items-center px-3 py-2 text-sm font-medium \n                ".concat(d===t.id?"text-primary-600 dark:text-primary-400 border-b-2 border-primary-500":"text-surface-600 dark:text-surface-400 hover:text-surface-900 dark:hover:text-surface-100","\n              "),onClick:function(){return e=t.id,c(e),void(a&&a(e));var e},"aria-selected":d===t.id,role:"tab"},e.createElement(n,{size:18,className:"mr-1"}),e.createElement("span",{className:"truncate"},t.label))}))),e.createElement("div",{className:"tab-content flex-grow overflow-auto"},h))};Em.Pane=function(t){var n=t.children,r=t.id;return e.createElement("div",{id:r,role:"tabpanel",className:"h-full overflow-auto flex flex-col"},n)};const km=Em;var xm=o("outline","moon","IconMoon",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}]]),Um=o("outline","sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]);function Sm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Cm=function(){var t,n,r=(t=(0,e.useState)((function(){return localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")})),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Sm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sm(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return(0,e.useEffect)((function(){"dark"===o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",o)}),[o]),e.createElement("button",{onClick:function(){i((function(e){return"light"===e?"dark":"light"}))},className:"p-2 rounded-full bg-surface-200 dark:bg-surface-700 text-surface-700 dark:text-surface-200 hover:bg-surface-300 dark:hover:bg-surface-600 focus:outline-none focus:ring-2 focus:ring-primary-500","aria-label":"Toggle theme"},"light"===o?e.createElement(xm,{size:20}):e.createElement(Um,{size:20}))};var Fm=o("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),Im=o("outline","letter-case","IconLetterCase",[["path",{d:"M17.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0",key:"svg-0"}],["path",{d:"M3 19v-10.5a3.5 3.5 0 0 1 7 0v10.5",key:"svg-1"}],["path",{d:"M3 13h7",key:"svg-2"}],["path",{d:"M21 12v7",key:"svg-3"}]]),Mm=o("outline","align-justified","IconAlignJustified",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l12 0",key:"svg-2"}]]),Om=o("outline","corner-down-right","IconCornerDownRight",[["path",{d:"M6 6v6a3 3 0 0 0 3 3h10l-4 -4m0 8l4 -4",key:"svg-0"}]]);const Nm=function(t){var n=t.currentFile,r=t.content,o=t.isMobile,i=void 0!==o&&o,a=t.unsavedChanges,s=void 0!==a&&a,l=vt().state.editor.cursorPosition,c=(0,e.useMemo)((function(){return r?{wordCount:(r.match(/\S+/g)||[]).length,charCount:r.length,lineCount:(r.match(/\n/g)||[]).length+1}:{wordCount:0,charCount:0,lineCount:0}}),[r]),u=(0,e.useMemo)((function(){return n?(new Date).toLocaleString():""}),[n]);return i?e.createElement("div",{className:"status-bar flex items-center justify-between px-2 py-1 text-xs border-t border-surface-300 dark:border-surface-700 bg-surface-100 dark:bg-surface-800 text-surface-600 dark:text-surface-400"},e.createElement("div",{className:"file-info flex items-center overflow-hidden"},n?e.createElement(e.Fragment,null,e.createElement(Z,{size:12,className:"flex-shrink-0 mr-1"}),e.createElement("span",{className:"truncate max-w-[120px]"},n.name),s&&e.createElement(Fm,{size:12,className:"ml-1 text-warning-500","aria-label":"Unsaved changes"})):e.createElement("span",null,"No file")),e.createElement("div",{className:"document-stats flex space-x-2"},e.createElement("div",{className:"flex items-center"},e.createElement(Im,{size:12,className:"mr-1"}),e.createElement("span",null,c.wordCount)),e.createElement("div",{className:"flex items-center"},e.createElement(Mm,{size:12,className:"mr-1"}),e.createElement("span",null,c.lineCount)),l&&e.createElement("div",{className:"flex items-center"},e.createElement(Om,{size:12,className:"mr-1"}),e.createElement("span",null,l.line,":",l.column||l.ch)))):e.createElement("div",{className:"status-bar flex items-center justify-between px-4 py-1 text-xs border-t border-surface-300 dark:border-surface-700 bg-surface-100 dark:bg-surface-800 text-surface-600 dark:text-surface-400"},e.createElement("div",{className:"file-info flex items-center"},n?e.createElement(e.Fragment,null,e.createElement(Z,{size:14,className:"mr-1"}),e.createElement("span",{className:"mr-4"},n.path),e.createElement(ge,{size:14,className:"mr-1"}),e.createElement("span",null,"Last modified: ",u),s&&e.createElement("span",{className:"ml-2 flex items-center text-warning-500"},e.createElement(Fm,{size:14,className:"mr-1"}),"Unsaved changes")):e.createElement("span",null,"No file selected")),e.createElement("div",{className:"document-stats flex space-x-4"},e.createElement("span",null,c.wordCount," words"),e.createElement("span",null,c.charCount," characters"),e.createElement("span",null,c.lineCount," lines"),l&&e.createElement("span",{className:"flex items-center"},e.createElement(Om,{size:14,className:"mr-1"}),"Ln ",l.line,", Col ",l.column||l.ch)))};var Dm=o("outline","heading","IconHeading",[["path",{d:"M7 12h10",key:"svg-0"}],["path",{d:"M7 5v14",key:"svg-1"}],["path",{d:"M17 5v14",key:"svg-2"}],["path",{d:"M15 19h4",key:"svg-3"}],["path",{d:"M15 5h4",key:"svg-4"}],["path",{d:"M5 19h4",key:"svg-5"}],["path",{d:"M5 5h4",key:"svg-6"}]]),Bm=o("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]),Pm=o("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]),Tm=o("outline","list","IconList",[["path",{d:"M9 6l11 0",key:"svg-0"}],["path",{d:"M9 12l11 0",key:"svg-1"}],["path",{d:"M9 18l11 0",key:"svg-2"}],["path",{d:"M5 6l0 .01",key:"svg-3"}],["path",{d:"M5 12l0 .01",key:"svg-4"}],["path",{d:"M5 18l0 .01",key:"svg-5"}]]),Rm=o("outline","list-numbers","IconListNumbers",[["path",{d:"M11 6h9",key:"svg-0"}],["path",{d:"M11 12h9",key:"svg-1"}],["path",{d:"M12 18h8",key:"svg-2"}],["path",{d:"M4 16a2 2 0 1 1 4 0c0 .591 -.5 1 -1 1.5l-3 2.5h4",key:"svg-3"}],["path",{d:"M6 10v-6l-2 2",key:"svg-4"}]]),Lm=o("outline","photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]),zm=o("outline","code","IconCode",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]),_m=o("outline","blockquote","IconBlockquote",[["path",{d:"M6 15h15",key:"svg-0"}],["path",{d:"M21 19h-15",key:"svg-1"}],["path",{d:"M15 11h6",key:"svg-2"}],["path",{d:"M21 7h-6",key:"svg-3"}],["path",{d:"M9 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2",key:"svg-4"}],["path",{d:"M3 9h1a1 1 0 1 1 -1 1v-2.5a2 2 0 0 1 2 -2",key:"svg-5"}]]),jm=o("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]),Wm=o("outline","arrow-back-up","IconArrowBackUp",[["path",{d:"M9 14l-4 -4l4 -4",key:"svg-0"}],["path",{d:"M5 10h11a4 4 0 1 1 0 8h-1",key:"svg-1"}]]),Hm=o("outline","arrow-forward-up","IconArrowForwardUp",[["path",{d:"M15 14l4 -4l-4 -4",key:"svg-0"}],["path",{d:"M19 10h-11a4 4 0 1 0 0 8h1",key:"svg-1"}]]);function Vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var qm={NEW_FILE:"Ctrl+N",OPEN_FILE:"Ctrl+O",SAVE_FILE:"Ctrl+S",SAVE_AS:"Ctrl+Shift+S",FIND:"Ctrl+F",REPLACE:"Ctrl+H",UNDO:"Ctrl+Z",REDO:"Ctrl+Shift+Z",CUT:"Ctrl+X",COPY:"Ctrl+C",PASTE:"Ctrl+V",SELECT_ALL:"Ctrl+A",BOLD:"Ctrl+B",ITALIC:"Ctrl+I",HEADING:"Ctrl+Alt+H",LINK:"Ctrl+K",CODE:"Ctrl+`",LIST:"Ctrl+L",ORDERED_LIST:"Ctrl+Shift+L",TOGGLE_PREVIEW:"Ctrl+P",TOGGLE_SIDEBAR:"Ctrl+\\",ZOOM_IN:"Ctrl+=",ZOOM_OUT:"Ctrl+-",RESET_ZOOM:"Ctrl+0",TOGGLE_SORT_DIRECTION:"Ctrl+Alt+S"},$m=function(e){var t=qm[e];return t?"(".concat(function(e){return 0===navigator.platform.indexOf("Mac")?e.replace("Ctrl+","⌘").replace("Alt+","⌥").replace("Shift+","⇧"):e}(t),")"):""};function Km(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ym=function(t){var n,r,o=t.onAction,i=t.onUndo,a=t.onRedo,s=t.onSearch,l=t.onReplace,c=t.onReplaceAll,u=(n=(0,e.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Km(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Km(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],h=u[1],f=[{id:"heading",icon:Dm,title:"Add Heading",shortcutKey:"HEADING",action:function(){return o("heading")}},{id:"bold",icon:Bm,title:"Bold",shortcutKey:"BOLD",action:function(){return o("bold")}},{id:"italic",icon:Pm,title:"Italic",shortcutKey:"ITALIC",action:function(){return o("italic")}},{id:"list",icon:Tm,title:"Bulleted List",shortcutKey:"LIST",action:function(){return o("unordered-list")}},{id:"ordered-list",icon:Rm,title:"Ordered List",shortcutKey:"ORDERED_LIST",action:function(){return o("ordered-list")}},{id:"link",icon:A,title:"Add Link",shortcutKey:"LINK",action:function(){return o("link")}},{id:"image",icon:Lm,title:"Add Image",action:function(){return o("image")}},{id:"code",icon:zm,title:"Code Block",shortcutKey:"CODE",action:function(){return o("code")}},{id:"blockquote",icon:_m,title:"Blockquote",action:function(){return o("blockquote")}},{id:"table",icon:jm,title:"Add Table",action:function(){return o("table")}}];return e.createElement("div",{className:"markdown-toolbar flex justify-between items-center w-full p-1 border-b border-surface-300 dark:border-surface-700 bg-surface-100 dark:bg-surface-800 relative z-5"},e.createElement("div",{className:"flex flex-grow items-center space-x-1"},e.createElement("button",{title:"Undo ".concat($m("UNDO")),onClick:i,className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300"},e.createElement(Wm,{size:18})),e.createElement("button",{title:"Redo ".concat($m("REDO")),onClick:a,className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300"},e.createElement(Hm,{size:18})),e.createElement("div",{className:"h-4 w-px bg-surface-300 dark:bg-surface-700 mx-1"}),f.map((function(t){return e.createElement("button",{key:t.id,title:"".concat(t.title," ").concat(t.shortcutKey?$m(t.shortcutKey):""),onClick:t.action,className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300"},e.createElement(t.icon,{size:18}))}))),e.createElement("div",{className:"flex items-center space-x-1"},e.createElement("div",{className:"h-4 w-px bg-surface-300 dark:bg-surface-700 mx-1"}),e.createElement("button",{title:"Search in Text (Ctrl+F)",onClick:function(){return h(!0)},className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300"},e.createElement(zf,{size:18}))),d&&e.createElement($f,{isOpen:d,onClose:function(){return h(!1)},onSearch:s,onReplace:l,onReplaceAll:c}))},Gm=function(t){var n=t.size,r=void 0===n?"md":n,o=t.color,i=void 0===o?"primary":o,a=t.className,s=void 0===a?"":a;return e.createElement("div",{className:"".concat(s," flex items-center justify-center")},e.createElement("div",{className:"\n          ".concat({sm:"w-4 h-4 border-2",md:"w-8 h-8 border-3",lg:"w-12 h-12 border-4"}[r]," \n          ").concat({primary:"border-primary-500",surface:"border-surface-500",white:"border-white"}[i]," \n          border-t-transparent \n          rounded-full\n        "),role:"status","aria-label":"Loading"}))},Qm=function(t){var n=t.isLoading,r=t.message,o=t.transparent,i=void 0!==o&&o,a=t.children,s=t.preserveChildren,l=void 0===s||s,c=i?"bg-white/80 dark:bg-surface-900/80":"bg-white dark:bg-surface-900";return e.createElement("div",{className:"relative w-full h-full flex flex-col"},(l||!n)&&a,n&&r&&e.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 ".concat(c)},e.createElement(Gm,{size:"lg"}),e.createElement("p",{className:"mt-4 text-surface-700 dark:text-surface-300 font-medium"},r)))};var Xm=o("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),Jm=o("outline","layout-dashboard","IconLayoutDashboard",[["path",{d:"M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1",key:"svg-0"}],["path",{d:"M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1",key:"svg-1"}],["path",{d:"M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1",key:"svg-2"}],["path",{d:"M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1",key:"svg-3"}]]),Zm=o("outline","markdown","IconMarkdown",[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 15v-6l2 2l2 -2v6",key:"svg-1"}],["path",{d:"M14 13l2 2l2 -2m-2 2v-6",key:"svg-2"}]]),eA=o("outline","rotate-clockwise-2","IconRotateClockwise2",[["path",{d:"M9 4.55a8 8 0 0 1 6 14.9m0 -4.45v5h5",key:"svg-0"}],["path",{d:"M5.63 7.16l0 .01",key:"svg-1"}],["path",{d:"M4.06 11l0 .01",key:"svg-2"}],["path",{d:"M4.63 15.1l0 .01",key:"svg-3"}],["path",{d:"M7.16 18.37l0 .01",key:"svg-4"}],["path",{d:"M11 19.94l0 .01",key:"svg-5"}]]);function tA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nA=function(t){var n,r,o,i=t.children,a=t.defaultValue,s=t.value,l=t.onValueChange,c=t.className,u=void 0===c?"":c,d=t.orientation,h=void 0===d?"horizontal":d,f=(r=(0,e.useState)(a),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(r,o)||function(e,t){if(e){if("string"==typeof e)return tA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tA(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],m=f[1],A=void 0!==s?s:p,g=function(e){void 0===s&&m(e),l&&l(e)},v=null===(n=e.Children.toArray(i).find((function(e){return e.props.value===A})))||void 0===n?void 0:n.props.children,b=e.Children.toArray(i).map((function(t){if(t.type!==rA)return null;var n=t.props,r=n.value,o=n.label,i=n.icon,a=r===A;return e.createElement("button",{key:r,role:"tab","aria-selected":a,className:"\n          flex items-center px-3 py-1.5 text-sm font-medium transition-colors\n          ".concat(a?"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 border-b-2 border-primary-500":"text-surface-700 dark:text-surface-300 hover:bg-surface-200 dark:hover:bg-surface-700","\n          ").concat("vertical"===h?"w-full justify-start border-l-2 border-b-0 rounded-none":"border-b-2 rounded-t-md","\n        "),onClick:function(){return g(r)}},i&&e.createElement(i,{size:16,className:"mr-2"}),o)}));return e.createElement("div",{className:"flex flex-col ".concat(u)},e.createElement("div",{role:"tablist",className:"\n          flex border-b border-surface-300 dark:border-surface-700\n          ".concat("vertical"===h?"flex-col border-r border-b-0 w-48 flex-shrink-0":"flex-row","\n        ")},b),e.createElement("div",{className:"tab-content p-4 flex-grow overflow-hidden"},v))},rA=function(e){return e.value,e.label,e.icon,e.children};nA.Tab=rA;var oA=["checked","onChange","className","disabled"];function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iA.apply(null,arguments)}var aA=e.forwardRef((function(t,n){var r=t.checked,o=t.onChange,i=t.className,a=void 0===i?"":i,s=t.disabled,l=void 0!==s&&s,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,oA);return e.createElement("button",iA({type:"button",role:"switch","aria-checked":r,"data-state":r?"checked":"unchecked",disabled:l,className:"\n          relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent \n          transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500\n          focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\n          ".concat(r?"bg-primary-500":"bg-surface-200 dark:bg-surface-700","\n          ").concat(a,"\n        "),onClick:function(){return o(!r)},ref:n},c),e.createElement("span",{"data-state":r?"checked":"unchecked",className:"\n            pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 \n            transition-transform\n            ".concat(r?"translate-x-5":"translate-x-0","\n          ")}))}));aA.displayName="Switch";var sA=["className","options","value","onChange","placeholder","disabled"];function lA(){return lA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lA.apply(null,arguments)}var cA=e.forwardRef((function(t,n){var r=t.className,o=void 0===r?"":r,i=t.options,a=void 0===i?[]:i,s=t.value,l=t.onChange,c=t.placeholder,u=void 0===c?"Select an option":c,d=t.disabled,h=void 0!==d&&d,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,sA);return e.createElement("div",{className:"relative"},e.createElement("select",lA({className:"\n            flex h-10 w-full appearance-none rounded-md border border-surface-200 dark:border-surface-700 \n            bg-white dark:bg-surface-800 px-3 py-2 text-sm text-surface-900 dark:text-surface-100\n            focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\n            disabled:cursor-not-allowed disabled:opacity-50\n            ".concat(o,"\n          "),value:s,onChange:function(e){return l&&l(e.target.value)},disabled:h,ref:n},f),u&&e.createElement("option",{value:"",disabled:!0},u),a.map((function(t){return e.createElement("option",{key:t.value,value:t.value},t.label)}))),e.createElement(G,{className:"absolute right-3 top-2.5 h-5 w-5 pointer-events-none text-surface-500"}))}));cA.displayName="Select";var uA=["className","type"];function dA(){return dA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dA.apply(null,arguments)}var hA=e.forwardRef((function(t,n){var r=t.className,o=void 0===r?"":r,i=t.type,a=void 0===i?"text":i,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,uA);return e.createElement("input",dA({type:a,className:"flex h-10 w-full rounded-md border border-surface-200 dark:border-surface-700 bg-white dark:bg-surface-800 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-surface-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(o),ref:n},s))}));hA.displayName="Input";var fA=["className","variant","size","asChild","disabled","isLoading","loadingText","children"];function pA(){return pA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pA.apply(null,arguments)}var mA={default:"bg-primary-500 hover:bg-primary-600 text-white",destructive:"bg-red-500 hover:bg-red-600 text-white",outline:"border border-surface-300 dark:border-surface-600 hover:bg-surface-100 dark:hover:bg-surface-800",secondary:"bg-surface-200 dark:bg-surface-700 hover:bg-surface-300 dark:hover:bg-surface-600",ghost:"hover:bg-surface-100 dark:hover:bg-surface-800",link:"text-primary-500 hover:underline"},AA={default:"h-10 px-4 py-2",sm:"h-8 px-3 text-sm",lg:"h-12 px-6 text-lg",icon:"h-10 w-10 p-2"},gA=e.forwardRef((function(t,n){var r=t.className,o=void 0===r?"":r,i=t.variant,a=void 0===i?"default":i,s=t.size,l=void 0===s?"default":s,c=(t.asChild,t.disabled),u=void 0!==c&&c,d=t.isLoading,h=void 0!==d&&d,f=(t.loadingText,t.children),p=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,fA);return e.createElement("button",pA({className:"\n          inline-flex items-center justify-center rounded-md text-sm font-medium\n          transition-colors focus-visible:outline-none focus-visible:ring-2\n          focus-visible:ring-primary-500 focus-visible:ring-offset-2\n          disabled:opacity-50 disabled:pointer-events-none\n          ".concat(mA[a]," ").concat(AA[l]," ").concat(o,"\n        "),ref:n,disabled:u||h},p),f)}));gA.displayName="Button";var vA=["className","value","min","max","step","onValueChange"];function bA(){return bA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bA.apply(null,arguments)}var yA=e.forwardRef((function(t,n){var r=t.className,o=void 0===r?"":r,i=t.value,a=t.min,s=void 0===a?0:a,l=t.max,c=void 0===l?100:l,u=t.step,d=void 0===u?1:u,h=t.onValueChange,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,vA);return e.createElement("div",{className:"relative w-full touch-none select-none ".concat(o)},e.createElement("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-surface-200 dark:bg-surface-700"},e.createElement("div",{className:"absolute h-full bg-primary-500",style:{width:"".concat((i[0]-s)/(c-s)*100,"%")}})),e.createElement("input",bA({type:"range",min:s,max:c,step:d,value:i[0],onChange:function(e){var t=parseInt(e.target.value,10);h&&h([t])},className:"absolute inset-0 h-full w-full cursor-pointer opacity-0",ref:n},f)),e.createElement("div",{className:"absolute top-0 -translate-y-1/2 h-4 w-4 rounded-full border-2 border-primary-500 bg-white dark:bg-surface-800",style:{left:"calc(".concat((i[0]-s)/(c-s)*100,"% - 0.5rem)"),top:"50%"}}))}));function wA(e){return wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wA(e)}yA.displayName="Slider";var EA=["fontSize"],kA=["editor"];function xA(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UA(Object(n),!0).forEach((function(t){CA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CA(e,t,n){return(t=function(e){var t=function(e){if("object"!=wA(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wA(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var IA={editor:{fontFamily:"monospace",lineNumbers:!0,wordWrap:!0,tabSize:2,autoSave:!0,autoSaveInterval:1e3},ui:{theme:"system",sidebarVisible:!0,previewVisible:!0,sidebarWidth:20,previewWidth:50},markdown:{defaultSyntaxHighlighting:!0,renderImages:!0,renderTables:!0,renderMath:!1,renderDiagrams:!1}},MA=(0,e.createContext)(null),OA=function(){var t=(0,e.useContext)(MA);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},NA=function(t){var n,r,o=t.children,i=(n=(0,e.useState)((function(){try{var e=localStorage.getItem("markdown-viewer-settings");return e?JSON.parse(e):IA}catch(e){return console.error("Failed to load settings from localStorage:",e),IA}})),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return FA(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FA(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],s=i[1];return(0,e.useEffect)((function(){try{localStorage.setItem("markdown-viewer-settings",JSON.stringify(a))}catch(e){console.error("Failed to save settings to localStorage:",e)}}),[a]),e.createElement(MA.Provider,{value:{settings:a,updateSetting:function(e,t,n){"editor"!==e||"fontSize"!==t?s((function(r){return SA(SA({},r),{},CA({},e,SA(SA({},r[e]),{},CA({},t,n))))})):console.warn("Editor font size should be updated via AppStateContext")},resetSettings:function(){var e=IA.editor,t=(e.fontSize,xA(e,EA)),n=xA(IA,kA);s((function(e){return SA(SA({},n),{},{editor:SA({},t)})}))}}},o)},DA=function(e){var t=document.getElementById("sr-announcer");t&&(t.textContent=e)};const BA=function(t){var n=t.isOpen,r=t.onClose,o=OA(),a=o.settings,s=o.updateSetting,l=o.resetSettings,c=vt(),u=c.state,d=c.setEditorFontSize,h=(0,e.useRef)(null);return(0,e.useEffect)((function(){if(n&&h.current){DA("Settings panel opened");var e=function(e){if(!e)return function(){};var t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(0===t.length)return function(){};var n=t[0],r=t[t.length-1];n.focus();var o=function(e){"Tab"===e.key&&(e.shiftKey&&document.activeElement===n?(e.preventDefault(),r.focus()):e.shiftKey||document.activeElement!==r||(e.preventDefault(),n.focus()))};return e.addEventListener("keydown",o),function(){e.removeEventListener("keydown",o)}}(h.current);document.body.classList.add("modal-open");var t=function(e){"Escape"===e.key&&r()};return document.addEventListener("keydown",t),function(){e(),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",t),DA("Settings panel closed")}}}),[n,r]),n?e.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title"},e.createElement("div",{ref:h,className:"bg-white dark:bg-surface-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col"},e.createElement("div",{className:"flex items-center justify-between p-4 border-b border-surface-200 dark:border-surface-700"},e.createElement("h2",{id:"settings-title",className:"text-lg font-semibold flex items-center"},e.createElement(i,{className:"mr-2","aria-hidden":"true"}),"Settings"),e.createElement("button",{onClick:r,className:"p-1 rounded-full hover:bg-surface-200 dark:hover:bg-surface-700","aria-label":"Close settings panel"},e.createElement(be,{size:20,"aria-hidden":"true"}))),e.createElement("div",{className:"flex-grow overflow-y-auto"},e.createElement(nA,{defaultValue:"editor",className:"h-full"},e.createElement(nA.Tab,{value:"editor",label:"Editor",icon:Xm},e.createElement("div",{className:"space-y-4"},e.createElement("h3",{className:"text-lg font-medium mb-2",id:"editor-settings-heading"},"Editor Settings"),e.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","aria-labelledby":"editor-settings-heading"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{id:"font-size-label",className:"text-sm font-medium"},"Font Size"),e.createElement("div",{className:"flex items-center","aria-labelledby":"font-size-label"},e.createElement(yA,{min:10,max:24,step:1,value:[u.editor.fontSize],onValueChange:function(e){return d(e[0])},"aria-valuemin":10,"aria-valuemax":24,"aria-valuenow":u.editor.fontSize}),e.createElement("span",{className:"ml-2 text-sm"},u.editor.fontSize,"px"))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Font Family"),e.createElement(cA,{options:[{value:"monospace",label:"Monospace"},{value:"sans-serif",label:"Sans Serif"},{value:"serif",label:"Serif"}],value:a.editor.fontFamily,onChange:function(e){return s("editor","fontFamily",e)}})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Tab Size"),e.createElement(cA,{options:[{value:2,label:"2 spaces"},{value:4,label:"4 spaces"},{value:8,label:"8 spaces"}],value:a.editor.tabSize,onChange:function(e){return s("editor","tabSize",Number(e))}})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Auto-Save Interval"),e.createElement("div",{className:"flex items-center"},e.createElement(yA,{min:500,max:5e3,step:500,value:[a.editor.autoSaveInterval],onValueChange:function(e){return s("editor","autoSaveInterval",e[0])}}),e.createElement("span",{className:"ml-2 text-sm"},a.editor.autoSaveInterval/1e3,"s")))),e.createElement("div",{className:"space-y-3 pt-2"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{id:"line-numbers-label",className:"text-sm font-medium"},"Show Line Numbers"),e.createElement(aA,{checked:a.editor.lineNumbers,onChange:function(e){return s("editor","lineNumbers",e)},"aria-labelledby":"line-numbers-label"})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{id:"word-wrap-label",className:"text-sm font-medium"},"Word Wrap"),e.createElement(aA,{checked:a.editor.wordWrap,onChange:function(e){return s("editor","wordWrap",e)},"aria-labelledby":"word-wrap-label"})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{id:"auto-save-label",className:"text-sm font-medium"},"Auto-Save"),e.createElement(aA,{checked:a.editor.autoSave,onChange:function(e){return s("editor","autoSave",e)},"aria-labelledby":"auto-save-label"}))))),e.createElement(nA.Tab,{value:"ui",label:"Interface",icon:Jm},e.createElement("div",{className:"space-y-4"},e.createElement("h3",{className:"text-lg font-medium mb-2"},"Interface Settings"),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Theme"),e.createElement(cA,{options:[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"system",label:"System Default"}],value:a.ui.theme,onChange:function(e){return s("ui","theme",e)}})),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Sidebar Width"),e.createElement("div",{className:"flex items-center"},e.createElement(yA,{min:10,max:40,step:5,value:[a.ui.sidebarWidth],onValueChange:function(e){return s("ui","sidebarWidth",e[0])}}),e.createElement("span",{className:"ml-2 text-sm"},a.ui.sidebarWidth,"%"))),e.createElement("div",{className:"space-y-2"},e.createElement("label",{className:"text-sm font-medium"},"Preview Width"),e.createElement("div",{className:"flex items-center"},e.createElement(yA,{min:30,max:70,step:5,value:[a.ui.previewWidth],onValueChange:function(e){return s("ui","previewWidth",e[0])}}),e.createElement("span",{className:"ml-2 text-sm"},a.ui.previewWidth,"%")))),e.createElement("div",{className:"space-y-3 pt-2"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Show Sidebar"),e.createElement(aA,{checked:a.ui.sidebarVisible,onChange:function(e){return s("ui","sidebarVisible",e)}})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Show Preview"),e.createElement(aA,{checked:a.ui.previewVisible,onChange:function(e){return s("ui","previewVisible",e)}}))))),e.createElement(nA.Tab,{value:"markdown",label:"Markdown",icon:Zm},e.createElement("div",{className:"space-y-4"},e.createElement("h3",{className:"text-lg font-medium mb-2"},"Markdown Settings"),e.createElement("div",{className:"space-y-3"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Syntax Highlighting in Code Blocks"),e.createElement(aA,{checked:a.markdown.defaultSyntaxHighlighting,onChange:function(e){return s("markdown","defaultSyntaxHighlighting",e)}})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Render Images"),e.createElement(aA,{checked:a.markdown.renderImages,onChange:function(e){return s("markdown","renderImages",e)}})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Render Tables"),e.createElement(aA,{checked:a.markdown.renderTables,onChange:function(e){return s("markdown","renderTables",e)}})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Render Math Expressions"),e.createElement(aA,{checked:a.markdown.renderMath,onChange:function(e){return s("markdown","renderMath",e)}})),e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{className:"text-sm font-medium"},"Render Diagrams"),e.createElement(aA,{checked:a.markdown.renderDiagrams,onChange:function(e){return s("markdown","renderDiagrams",e)}}))))))),e.createElement("div",{className:"p-4 border-t border-surface-200 dark:border-surface-700 flex justify-end space-x-2"},e.createElement(gA,{variant:"outline",onClick:r},"Cancel"),e.createElement(gA,{variant:"secondary",onClick:function(){l(),DA("Settings have been reset to defaults")},className:"flex items-center"},e.createElement(eA,{size:16,className:"mr-1","aria-hidden":"true"}),"Reset to Defaults"),e.createElement(gA,{onClick:r},"Apply & Close")))):null};var PA=(0,e.createContext)(null),TA=function(t){var n=t.children,r=(0,e.useCallback)((function(){return"0"}),[]),o=(0,e.useCallback)((function(){}),[]),i=(0,e.useCallback)((function(){return"0"}),[]),a=(0,e.useCallback)((function(){return"0"}),[]),s=(0,e.useCallback)((function(){return"0"}),[]);return e.createElement(PA.Provider,{value:{notifications:[],addNotification:r,removeNotification:o,showSuccess:i,showError:a,showInfo:s}},n)},RA=n(249);function LA(e){return LA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LA(e)}function zA(){zA=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new M(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",m="completed",A={};function g(){}function v(){}function b(){}var y={};c(y,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(O([])));E&&E!==n&&r.call(E,a)&&(y=E);var k=b.prototype=g.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function U(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==LA(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,n,r){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===A)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:f,c.arg===A)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),A;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,A;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,A):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(LA(t)+" is not iterable")}return v.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},x(U.prototype),c(U.prototype,s,(function(){return this})),t.AsyncIterator=U,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new U(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),A}},t}function _A(e){return function(e){if(Array.isArray(e))return $A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jA(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qA(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function WA(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function HA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){WA(i,r,o,a,s,"next",e)}function s(e){WA(i,r,o,a,s,"throw",e)}a(void 0)}))}}function VA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||qA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qA(e,t){if(e){if("string"==typeof e)return $A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$A(e,t):void 0}}function $A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const KA=function(){var t=(0,e.useContext)(PA);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t};var YA=n(961);const GA="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function QA(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function XA(e){return"nodeType"in e}function JA(e){var t,n;return e?QA(e)?e:XA(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function ZA(e){const{Document:t}=JA(e);return e instanceof t}function eg(e){return!QA(e)&&e instanceof JA(e).HTMLElement}function tg(e){return e instanceof JA(e).SVGElement}function ng(e){return e?QA(e)?e.document:XA(e)?ZA(e)?e:eg(e)||tg(e)?e.ownerDocument:document:document:document}const rg=GA?e.useLayoutEffect:e.useEffect;function og(t){const n=(0,e.useRef)(t);return rg((()=>{n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}function ig(t,n){void 0===n&&(n=[t]);const r=(0,e.useRef)(t);return rg((()=>{r.current!==t&&(r.current=t)}),n),r}function ag(t,n){const r=(0,e.useRef)();return(0,e.useMemo)((()=>{const e=t(r.current);return r.current=e,e}),[...n])}function sg(t){const n=og(t),r=(0,e.useRef)(null),o=(0,e.useCallback)((e=>{e!==r.current&&(null==n||n(e,r.current)),r.current=e}),[]);return[r,o]}function lg(t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t}),[t]),n.current}let cg={};function ug(t,n){return(0,e.useMemo)((()=>{if(n)return n;const e=null==cg[t]?0:cg[t]+1;return cg[t]=e,t+"-"+e}),[t,n])}function dg(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t}),{...t})}}const hg=dg(1),fg=dg(-1);function pg(e){if(!e)return!1;const{KeyboardEvent:t}=JA(e.target);return t&&e instanceof t}function mg(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=JA(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Ag=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ag.Translate.toString(e),Ag.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),gg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function vg(e){return e.matches(gg)?e:e.querySelector(gg)}const bg={display:"none"};function yg(t){let{id:n,value:r}=t;return e.createElement("div",{id:n,style:bg},r)}function wg(t){let{id:n,announcement:r,ariaLiveType:o="assertive"}=t;return e.createElement("div",{id:n,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":o,"aria-atomic":!0},r)}const Eg=(0,e.createContext)(null),kg={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},xg={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ug(t){let{announcements:n=xg,container:r,hiddenTextDescribedById:o,screenReaderInstructions:i=kg}=t;const{announce:a,announcement:s}=function(){const[t,n]=(0,e.useState)("");return{announce:(0,e.useCallback)((e=>{null!=e&&n(e)}),[]),announcement:t}}(),l=ug("DndLiveRegion"),[c,u]=(0,e.useState)(!1);if((0,e.useEffect)((()=>{u(!0)}),[]),function(t){const n=(0,e.useContext)(Eg);(0,e.useEffect)((()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(t)}),[t,n])}((0,e.useMemo)((()=>({onDragStart(e){let{active:t}=e;a(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&a(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;a(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;a(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;a(n.onDragCancel({active:t,over:r}))}})),[a,n])),!c)return null;const d=e.createElement(e.Fragment,null,e.createElement(yg,{id:o,value:i.draggable}),e.createElement(wg,{id:l,announcement:s}));return r?(0,YA.createPortal)(d,r):d}var Sg;function Cg(){}function Fg(t,n){return(0,e.useMemo)((()=>({sensor:t,options:null!=n?n:{}})),[t,n])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Sg||(Sg={}));const Ig=Object.freeze({x:0,y:0});function Mg(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Og(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Ng(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Dg(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function Bg(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}function Pg(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const Tg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Pg(t,t.left,t.top),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=Mg(Pg(r),o);i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(Og)};function Rg(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,s=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=a*s;return Number((o/(n+r-o)).toFixed(4))}return 0}const Lg=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const e of r){const{id:r}=e,i=n.get(r);if(i){const n=Rg(i,t);n>0&&o.push({id:r,data:{droppableContainer:e,value:n}})}}return o.sort(Ng)};function zg(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ig}function _g(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const jg=_g(1);const Wg={ignoreTransform:!1};function Hg(e,t){void 0===t&&(t=Wg);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=JA(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:s}=r,l=e.left-a-(1-o)*parseFloat(n),c=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,t,r))}const{top:r,left:o,width:i,height:a,bottom:s,right:l}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:l}}function Vg(e){return Hg(e,{ignoreTransform:!0})}function qg(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(ZA(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!eg(o)||tg(o))return n;if(n.includes(o))return n;const i=JA(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=JA(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=JA(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function $g(e){const[t]=qg(e,1);return null!=t?t:null}function Kg(e){return GA&&e?QA(e)?e:XA(e)?ZA(e)||e===ng(e).scrollingElement?window:eg(e)?e:null:null:null}function Yg(e){return QA(e)?e.scrollX:e.scrollLeft}function Gg(e){return QA(e)?e.scrollY:e.scrollTop}function Qg(e){return{x:Yg(e),y:Gg(e)}}var Xg;function Jg(e){return!(!GA||!e)&&e===document.scrollingElement}function Zg(e){const t={x:0,y:0},n=Jg(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Xg||(Xg={}));const ev={x:.2,y:.2};function tv(e,t,n,r,o){let{top:i,left:a,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===o&&(o=ev);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=Zg(e),f={x:0,y:0},p={x:0,y:0},m=t.height*o.y,A=t.width*o.x;return!c&&i<=t.top+m?(f.y=Xg.Backward,p.y=r*Math.abs((t.top+m-i)/m)):!u&&l>=t.bottom-m&&(f.y=Xg.Forward,p.y=r*Math.abs((t.bottom-m-l)/m)),!h&&s>=t.right-A?(f.x=Xg.Forward,p.x=r*Math.abs((t.right-A-s)/A)):!d&&a<=t.left+A&&(f.x=Xg.Backward,p.x=r*Math.abs((t.left+A-a)/A)),{direction:f,speed:p}}function nv(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function rv(e){return e.reduce(((e,t)=>hg(e,Qg(t))),Ig)}const ov=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+Yg(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+Gg(t)),0)}]];class iv{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=qg(t),r=rv(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of ov)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n),a=r[e]-t;return this.rect[i]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class av{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function sv(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var lv,cv;function uv(e){e.preventDefault()}function dv(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(lv||(lv={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(cv||(cv={}));const hv={start:[cv.Space,cv.Enter],cancel:[cv.Esc],end:[cv.Space,cv.Enter,cv.Tab]},fv=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case cv.Right:return{...n,x:n.x+25};case cv.Left:return{...n,x:n.x-25};case cv.Down:return{...n,y:n.y+25};case cv.Up:return{...n,y:n.y-25}}};class pv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new av(ng(t)),this.windowListeners=new av(JA(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(lv.Resize,this.handleCancel),this.windowListeners.add(lv.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(lv.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=Hg),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);$g(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(Ig)}handleKeyDown(e){if(pg(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:o=hv,coordinateGetter:i=fv,scrollBehavior:a="smooth"}=r,{code:s}=e;if(o.end.includes(s))return void this.handleEnd(e);if(o.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:Ig;this.referenceCoordinates||(this.referenceCoordinates=c);const u=i(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=fg(u,c),r={x:0,y:0},{scrollableAncestors:o}=n.current;for(const n of o){const o=e.code,{isTop:i,isRight:s,isLeft:l,isBottom:c,maxScroll:d,minScroll:h}=Zg(n),f=nv(n),p={x:Math.min(o===cv.Right?f.right-f.width/2:f.right,Math.max(o===cv.Right?f.left:f.left+f.width/2,u.x)),y:Math.min(o===cv.Down?f.bottom-f.height/2:f.bottom,Math.max(o===cv.Down?f.top:f.top+f.height/2,u.y))},m=o===cv.Right&&!s||o===cv.Left&&!l,A=o===cv.Down&&!c||o===cv.Up&&!i;if(m&&p.x!==u.x){const e=n.scrollLeft+t.x,i=o===cv.Right&&e<=d.x||o===cv.Left&&e>=h.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=i?n.scrollLeft-e:o===cv.Right?n.scrollLeft-d.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(A&&p.y!==u.y){const e=n.scrollTop+t.y,i=o===cv.Down&&e<=d.y||o===cv.Up&&e>=h.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=i?n.scrollTop-e:o===cv.Down?n.scrollTop-d.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,hg(fg(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function mv(e){return Boolean(e&&"distance"in e)}function Av(e){return Boolean(e&&"delay"in e)}pv.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=hv,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=i.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class gv{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=JA(e);return e instanceof t?e:ng(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=ng(i),this.documentListeners=new av(this.document),this.listeners=new av(n),this.windowListeners=new av(JA(i)),this.initialCoordinates=null!=(r=mg(o))?r:Ig,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(lv.Resize,this.handleCancel),this.windowListeners.add(lv.DragStart,uv),this.windowListeners.add(lv.VisibilityChange,this.handleCancel),this.windowListeners.add(lv.ContextMenu,uv),this.documentListeners.add(lv.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Av(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(mv(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(lv.Click,dv,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(lv.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!r)return;const s=null!=(t=mg(e))?t:Ig,l=fg(r,s);if(!n&&a){if(mv(a)){if(null!=a.tolerance&&sv(l,a.tolerance))return this.handleCancel();if(sv(l,a.distance))return this.handleStart()}return Av(a)&&sv(l,a.tolerance)?this.handleCancel():void this.handlePending(a,l)}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===cv.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const vv={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bv extends gv{constructor(e){const{event:t}=e,n=ng(t.target);super(e,vv,n)}}bv.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const yv={move:{name:"mousemove"},end:{name:"mouseup"}};var wv;!function(e){e[e.RightClick=2]="RightClick"}(wv||(wv={})),class extends gv{constructor(e){super(e,yv,ng(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==wv.RightClick&&(null==r||r({event:n}),!0)}}];const Ev={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var kv,xv;(class extends gv{constructor(e){super(e,Ev)}static setup(){return window.addEventListener(Ev.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ev.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1||(null==r||r({event:n}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(kv||(kv={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(xv||(xv={}));const Uv={x:{[Xg.Backward]:!1,[Xg.Forward]:!1},y:{[Xg.Backward]:!1,[Xg.Forward]:!1}};var Sv,Cv;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Sv||(Sv={})),function(e){e.Optimized="optimized"}(Cv||(Cv={}));const Fv=new Map;function Iv(e,t){return ag((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function Mv(t){let{callback:n,disabled:r}=t;const o=og(n),i=(0,e.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(o)}),[r]);return(0,e.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}function Ov(e){return new iv(Hg(e),e)}function Nv(t,n,r){void 0===n&&(n=Ov);const[o,i]=(0,e.useState)(null);function a(){i((e=>{if(!t)return null;var o;if(!1===t.isConnected)return null!=(o=null!=e?e:r)?o:null;const i=n(t);return JSON.stringify(e)===JSON.stringify(i)?e:i}))}const s=function(t){let{callback:n,disabled:r}=t;const o=og(n),i=(0,e.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(o)}),[o,r]);return(0,e.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}({callback(e){if(t)for(const n of e){const{type:e,target:r}=n;if("childList"===e&&r instanceof HTMLElement&&r.contains(t)){a();break}}}}),l=Mv({callback:a});return rg((()=>{a(),t?(null==l||l.observe(t),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())}),[t]),o}const Dv=[];function Bv(t,n){void 0===n&&(n=[]);const r=(0,e.useRef)(null);return(0,e.useEffect)((()=>{r.current=null}),n),(0,e.useEffect)((()=>{const e=t!==Ig;e&&!r.current&&(r.current=t),!e&&r.current&&(r.current=null)}),[t]),r.current?fg(t,r.current):Ig}function Pv(t){return(0,e.useMemo)((()=>t?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(t):null),[t])}const Tv=[];const Rv=[{sensor:bv,options:{}},{sensor:pv,options:{}}],Lv={current:{}},zv={draggable:{measure:Vg},droppable:{measure:Vg,strategy:Sv.WhileDragging,frequency:Cv.Optimized},dragOverlay:{measure:Hg}};class _v extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const jv={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new _v,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Cg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:zv,measureDroppableContainers:Cg,windowRect:null,measuringScheduled:!1},Wv={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Cg,draggableNodes:new Map,over:null,measureDroppableContainers:Cg},Hv=(0,e.createContext)(Wv),Vv=(0,e.createContext)(jv);function qv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new _v}}}function $v(e,t){switch(t.type){case Sg.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Sg.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Sg.DragEnd:case Sg.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Sg.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new _v(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Sg.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new _v(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case Sg.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new _v(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Kv(t){let{disabled:n}=t;const{active:r,activatorEvent:o,draggableNodes:i}=(0,e.useContext)(Hv),a=lg(o),s=lg(null==r?void 0:r.id);return(0,e.useEffect)((()=>{if(!n&&!o&&a&&null!=s){if(!pg(a))return;if(document.activeElement===a.target)return;const e=i.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=vg(e);if(t){t.focus();break}}}))}}),[o,n,i,s,a]),null}const Yv=(0,e.createContext)({...Ig,scaleX:1,scaleY:1});var Gv;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Gv||(Gv={}));const Qv=(0,e.memo)((function(t){var n,r,o,i;let{id:a,accessibility:s,autoScroll:l=!0,children:c,sensors:u=Rv,collisionDetection:d=Lg,measuring:h,modifiers:f,...p}=t;const m=(0,e.useReducer)($v,void 0,qv),[A,g]=m,[v,b]=function(){const[t]=(0,e.useState)((()=>new Set)),n=(0,e.useCallback)((e=>(t.add(e),()=>t.delete(e))),[t]);return[(0,e.useCallback)((e=>{let{type:n,event:r}=e;t.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[t]),n]}(),[y,w]=(0,e.useState)(Gv.Uninitialized),E=y===Gv.Initialized,{draggable:{active:k,nodes:x,translate:U},droppable:{containers:S}}=A,C=null!=k?x.get(k):null,F=(0,e.useRef)({initial:null,translated:null}),I=(0,e.useMemo)((()=>{var e;return null!=k?{id:k,data:null!=(e=null==C?void 0:C.data)?e:Lv,rect:F}:null}),[k,C]),M=(0,e.useRef)(null),[O,N]=(0,e.useState)(null),[D,B]=(0,e.useState)(null),P=ig(p,Object.values(p)),T=ug("DndDescribedBy",a),R=(0,e.useMemo)((()=>S.getEnabled()),[S]),L=(z=h,(0,e.useMemo)((()=>({draggable:{...zv.draggable,...null==z?void 0:z.draggable},droppable:{...zv.droppable,...null==z?void 0:z.droppable},dragOverlay:{...zv.dragOverlay,...null==z?void 0:z.dragOverlay}})),[null==z?void 0:z.draggable,null==z?void 0:z.droppable,null==z?void 0:z.dragOverlay]));var z;const{droppableRects:_,measureDroppableContainers:j,measuringScheduled:W}=function(t,n){let{dragging:r,dependencies:o,config:i}=n;const[a,s]=(0,e.useState)(null),{frequency:l,measure:c,strategy:u}=i,d=(0,e.useRef)(t),h=function(){switch(u){case Sv.Always:return!1;case Sv.BeforeDragging:return r;default:return!r}}(),f=ig(h),p=(0,e.useCallback)((function(e){void 0===e&&(e=[]),f.current||s((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[f]),m=(0,e.useRef)(null),A=ag((e=>{if(h&&!r)return Fv;if(!e||e===Fv||d.current!==t||null!=a){const e=new Map;for(let n of t){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){e.set(n.id,n.rect.current);continue}const t=n.node.current,r=t?new iv(c(t),t):null;n.rect.current=r,r&&e.set(n.id,r)}return e}return e}),[t,a,r,h,c]);return(0,e.useEffect)((()=>{d.current=t}),[t]),(0,e.useEffect)((()=>{h||p()}),[r,h]),(0,e.useEffect)((()=>{a&&a.length>0&&s(null)}),[JSON.stringify(a)]),(0,e.useEffect)((()=>{h||"number"!=typeof l||null!==m.current||(m.current=setTimeout((()=>{p(),m.current=null}),l))}),[l,h,p,...o]),{droppableRects:A,measureDroppableContainers:p,measuringScheduled:null!=a}}(R,{dragging:E,dependencies:[U.x,U.y],config:L.droppable}),H=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return ag((e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(x,k),V=(0,e.useMemo)((()=>D?mg(D):null),[D]),q=function(){const e=!1===(null==O?void 0:O.autoScrollEnabled),t="object"==typeof l?!1===l.enabled:!1===l,n=E&&!e&&!t;return"object"==typeof l?{...l,enabled:n}:{enabled:n}}(),$=function(e,t){return Iv(e,t)}(H,L.draggable.measure);!function(t){let{activeNode:n,measure:r,initialRect:o,config:i=!0}=t;const a=(0,e.useRef)(!1),{x:s,y:l}="boolean"==typeof i?{x:i,y:i}:i;rg((()=>{if(!s&&!l||!n)return void(a.current=!1);if(a.current||!o)return;const e=null==n?void 0:n.node.current;if(!e||!1===e.isConnected)return;const t=zg(r(e),o);if(s||(t.x=0),l||(t.y=0),a.current=!0,Math.abs(t.x)>0||Math.abs(t.y)>0){const n=$g(e);n&&n.scrollBy({top:t.y,left:t.x})}}),[n,s,l,o,r])}({activeNode:null!=k?x.get(k):null,config:q.layoutShiftCompensation,initialRect:$,measure:L.draggable.measure});const K=Nv(H,L.draggable.measure,$),Y=Nv(H?H.parentElement:null),G=(0,e.useRef)({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:_,draggableNodes:x,draggingNode:null,draggingNodeRect:null,droppableContainers:S,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Q=S.getNodeFor(null==(n=G.current.over)?void 0:n.id),X=function(t){let{measure:n}=t;const[r,o]=(0,e.useState)(null),i=Mv({callback:(0,e.useCallback)((e=>{for(const{target:t}of e)if(eg(t)){o((e=>{const r=n(t);return e?{...e,width:r.width,height:r.height}:r}));break}}),[n])}),a=(0,e.useCallback)((e=>{const t=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return eg(t)?t:e}(e);null==i||i.disconnect(),t&&(null==i||i.observe(t)),o(t?n(t):null)}),[n,i]),[s,l]=sg(a);return(0,e.useMemo)((()=>({nodeRef:s,rect:r,setRef:l})),[r,s,l])}({measure:L.dragOverlay.measure}),J=null!=(r=X.nodeRef.current)?r:H,Z=E?null!=(o=X.rect)?o:K:null,ee=Boolean(X.nodeRef.current&&X.rect),te=zg(ne=ee?null:K,Iv(ne));var ne;const re=Pv(J?JA(J):null),oe=function(t){const n=(0,e.useRef)(t),r=ag((e=>t?e&&e!==Dv&&t&&n.current&&t.parentNode===n.current.parentNode?e:qg(t):Dv),[t]);return(0,e.useEffect)((()=>{n.current=t}),[t]),r}(E?null!=Q?Q:H:null),ie=function(t,n){void 0===n&&(n=Hg);const[r]=t,o=Pv(r?JA(r):null),[i,a]=(0,e.useState)(Tv);function s(){a((()=>t.length?t.map((e=>Jg(e)?o:new iv(n(e),e))):Tv))}const l=Mv({callback:s});return rg((()=>{null==l||l.disconnect(),s(),t.forEach((e=>null==l?void 0:l.observe(e)))}),[t]),i}(oe),ae=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(f,{transform:{x:U.x-te.x,y:U.y-te.y,scaleX:1,scaleY:1},activatorEvent:D,active:I,activeNodeRect:K,containerNodeRect:Y,draggingNodeRect:Z,over:G.current.over,overlayNodeRect:X.rect,scrollableAncestors:oe,scrollableAncestorRects:ie,windowRect:re}),se=V?hg(V,U):null,le=function(t){const[n,r]=(0,e.useState)(null),o=(0,e.useRef)(t),i=(0,e.useCallback)((e=>{const t=Kg(e.target);t&&r((e=>e?(e.set(t,Qg(t)),new Map(e)):null))}),[]);return(0,e.useEffect)((()=>{const e=o.current;if(t!==e){n(e);const a=t.map((e=>{const t=Kg(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,Qg(t)]):null})).filter((e=>null!=e));r(a.length?new Map(a):null),o.current=t}return()=>{n(t),n(e)};function n(e){e.forEach((e=>{const t=Kg(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,t]),(0,e.useMemo)((()=>t.length?n?Array.from(n.values()).reduce(((e,t)=>hg(e,t)),Ig):rv(t):Ig),[t,n])}(oe),ce=Bv(le),ue=Bv(le,[K]),de=hg(ae,ce),he=Z?jg(Z,ae):null,fe=I&&he?d({active:I,collisionRect:he,droppableRects:_,droppableContainers:R,pointerCoordinates:se}):null,pe=Bg(fe,"id"),[me,Ae]=(0,e.useState)(null),ge=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(ee?ae:hg(ae,ue),null!=(i=null==me?void 0:me.rect)?i:null,K),ve=(0,e.useRef)(null),be=(0,e.useCallback)(((e,t)=>{let{sensor:n,options:r}=t;if(null==M.current)return;const o=x.get(M.current);if(!o)return;const i=e.nativeEvent,a=new n({active:M.current,activeNode:o,event:i,options:r,context:G,onAbort(e){if(!x.get(e))return;const{onDragAbort:t}=P.current,n={id:e};null==t||t(n),v({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!x.get(e))return;const{onDragPending:o}=P.current,i={id:e,constraint:t,initialCoordinates:n,offset:r};null==o||o(i),v({type:"onDragPending",event:i})},onStart(e){const t=M.current;if(null==t)return;const n=x.get(t);if(!n)return;const{onDragStart:r}=P.current,o={activatorEvent:i,active:{id:t,data:n.data,rect:F}};(0,YA.unstable_batchedUpdates)((()=>{null==r||r(o),w(Gv.Initializing),g({type:Sg.DragStart,initialCoordinates:e,active:t}),v({type:"onDragStart",event:o}),N(ve.current),B(i)}))},onMove(e){g({type:Sg.DragMove,coordinates:e})},onEnd:s(Sg.DragEnd),onCancel:s(Sg.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=G.current;let a=null;if(t&&o){const{cancelDrop:s}=P.current;a={activatorEvent:i,active:t,collisions:n,delta:o,over:r},e===Sg.DragEnd&&"function"==typeof s&&await Promise.resolve(s(a))&&(e=Sg.DragCancel)}M.current=null,(0,YA.unstable_batchedUpdates)((()=>{g({type:e}),w(Gv.Uninitialized),Ae(null),N(null),B(null),ve.current=null;const t=e===Sg.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=P.current[t];null==e||e(a),v({type:t,event:a})}}))}}ve.current=a}),[x]),ye=(0,e.useCallback)(((e,t)=>(n,r)=>{const o=n.nativeEvent,i=x.get(r);if(null!==M.current||!i||o.dndKit||o.defaultPrevented)return;const a={active:i};!0===e(n,t.options,a)&&(o.dndKit={capturedBy:t.sensor},M.current=r,be(n,t))}),[x,be]),we=function(t,n){return(0,e.useMemo)((()=>t.reduce(((e,t)=>{const{sensor:r}=t;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:n(e.handler,t)})))]}),[])),[t,n])}(u,ye);!function(t){(0,e.useEffect)((()=>{if(!GA)return;const e=t.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const t of e)null==t||t()}}),t.map((e=>{let{sensor:t}=e;return t})))}(u),rg((()=>{K&&y===Gv.Initializing&&w(Gv.Initialized)}),[K,y]),(0,e.useEffect)((()=>{const{onDragMove:e}=P.current,{active:t,activatorEvent:n,collisions:r,over:o}=G.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:de.x,y:de.y},over:o};(0,YA.unstable_batchedUpdates)((()=>{null==e||e(i),v({type:"onDragMove",event:i})}))}),[de.x,de.y]),(0,e.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:o}=G.current;if(!e||null==M.current||!t||!o)return;const{onDragOver:i}=P.current,a=r.get(pe),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:o.x,y:o.y},over:s};(0,YA.unstable_batchedUpdates)((()=>{Ae(s),null==i||i(l),v({type:"onDragOver",event:l})}))}),[pe]),rg((()=>{G.current={activatorEvent:D,active:I,activeNode:H,collisionRect:he,collisions:fe,droppableRects:_,draggableNodes:x,draggingNode:J,draggingNodeRect:Z,droppableContainers:S,over:me,scrollableAncestors:oe,scrollAdjustedTranslate:de},F.current={initial:Z,translated:he}}),[I,H,fe,he,x,J,Z,_,S,me,oe,de]),function(t){let{acceleration:n,activator:r=kv.Pointer,canScroll:o,draggingRect:i,enabled:a,interval:s=5,order:l=xv.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=t;const p=function(e){let{delta:t,disabled:n}=e;const r=lg(t);return ag((e=>{if(n||!r||!e)return Uv;const o=Math.sign(t.x-r.x),i=Math.sign(t.y-r.y);return{x:{[Xg.Backward]:e.x[Xg.Backward]||-1===o,[Xg.Forward]:e.x[Xg.Forward]||1===o},y:{[Xg.Backward]:e.y[Xg.Backward]||-1===i,[Xg.Forward]:e.y[Xg.Forward]||1===i}}}),[n,t,r])}({delta:h,disabled:!a}),[m,A]=function(){const t=(0,e.useRef)(null);return[(0,e.useCallback)(((e,n)=>{t.current=setInterval(e,n)}),[]),(0,e.useCallback)((()=>{null!==t.current&&(clearInterval(t.current),t.current=null)}),[])]}(),g=(0,e.useRef)({x:0,y:0}),v=(0,e.useRef)({x:0,y:0}),b=(0,e.useMemo)((()=>{switch(r){case kv.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case kv.DraggableRect:return i}}),[r,i,c]),y=(0,e.useRef)(null),w=(0,e.useCallback)((()=>{const e=y.current;if(!e)return;const t=g.current.x*v.current.x,n=g.current.y*v.current.y;e.scrollBy(t,n)}),[]),E=(0,e.useMemo)((()=>l===xv.TreeOrder?[...u].reverse():u),[l,u]);(0,e.useEffect)((()=>{if(a&&u.length&&b){for(const e of E){if(!1===(null==o?void 0:o(e)))continue;const t=u.indexOf(e),r=d[t];if(!r)continue;const{direction:i,speed:a}=tv(e,r,b,n,f);for(const e of["x","y"])p[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0)return A(),y.current=e,m(w,s),g.current=a,void(v.current=i)}g.current={x:0,y:0},v.current={x:0,y:0},A()}else A()}),[n,w,o,A,a,s,JSON.stringify(b),JSON.stringify(p),m,u,E,d,JSON.stringify(f)])}({...q,delta:U,draggingRect:he,pointerCoordinates:se,scrollableAncestors:oe,scrollableAncestorRects:ie});const Ee=(0,e.useMemo)((()=>({active:I,activeNode:H,activeNodeRect:K,activatorEvent:D,collisions:fe,containerNodeRect:Y,dragOverlay:X,draggableNodes:x,droppableContainers:S,droppableRects:_,over:me,measureDroppableContainers:j,scrollableAncestors:oe,scrollableAncestorRects:ie,measuringConfiguration:L,measuringScheduled:W,windowRect:re})),[I,H,K,D,fe,Y,X,x,S,_,me,j,oe,ie,L,W,re]),ke=(0,e.useMemo)((()=>({activatorEvent:D,activators:we,active:I,activeNodeRect:K,ariaDescribedById:{draggable:T},dispatch:g,draggableNodes:x,over:me,measureDroppableContainers:j})),[D,we,I,K,g,T,x,me,j]);return e.createElement(Eg.Provider,{value:b},e.createElement(Hv.Provider,{value:ke},e.createElement(Vv.Provider,{value:Ee},e.createElement(Yv.Provider,{value:ge},c)),e.createElement(Kv,{disabled:!1===(null==s?void 0:s.restoreFocus)})),e.createElement(Ug,{...s,hiddenTextDescribedById:T}))})),Xv=(0,e.createContext)(null),Jv="button";const Zv={timeout:25};function eb(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function tb(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}function nb(e){return null!==e&&e>=0}const rb=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=eb(t,r,n),a=t[o],s=i[o];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},ob="Sortable",ib=e.createContext({activeIndex:-1,containerId:ob,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rb,disabled:{draggable:!1,droppable:!1}});function ab(t){let{children:n,id:r,items:o,strategy:i=rb,disabled:a=!1}=t;const{active:s,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=(0,e.useContext)(Vv),h=ug(ob,r),f=Boolean(null!==l.rect),p=(0,e.useMemo)((()=>o.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[o]),m=null!=s,A=s?p.indexOf(s.id):-1,g=u?p.indexOf(u.id):-1,v=(0,e.useRef)(p),b=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(p,v.current),y=-1!==g&&-1===A||b,w=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(a);rg((()=>{b&&m&&d(p)}),[b,p,m,d]),(0,e.useEffect)((()=>{v.current=p}),[p]);const E=(0,e.useMemo)((()=>({activeIndex:A,containerId:h,disabled:w,disableTransforms:y,items:p,overIndex:g,useDragOverlay:f,sortedRects:tb(p,c),strategy:i})),[A,h,w.draggable,w.droppable,y,p,g,c,f,i]);return e.createElement(ib.Provider,{value:E},n)}const sb=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return eb(n,r,o).indexOf(t)},lb=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:l,transition:c}=e;return!(!c||!r||s!==i&&o===a||!n&&(a===o||t!==l))},cb={duration:200,easing:"ease"},ub="transform",db=Ag.Transition.toString({property:ub,duration:0,easing:"linear"}),hb={roleDescription:"sortable"};function fb(t){let{animateLayoutChanges:n=lb,attributes:r,disabled:o,data:i,getNewIndex:a=sb,id:s,strategy:l,resizeObserverConfig:c,transition:u=cb}=t;const{items:d,containerId:h,activeIndex:f,disabled:p,disableTransforms:m,sortedRects:A,overIndex:g,useDragOverlay:v,strategy:b}=(0,e.useContext)(ib),y=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(o,p),w=d.indexOf(s),E=(0,e.useMemo)((()=>({sortable:{containerId:h,index:w,items:d},...i})),[h,i,w,d]),k=(0,e.useMemo)((()=>d.slice(d.indexOf(s))),[d,s]),{rect:x,node:U,isOver:S,setNodeRef:C}=function(t){let{data:n,disabled:r=!1,id:o,resizeObserverConfig:i}=t;const a=ug("Droppable"),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=(0,e.useContext)(Hv),d=(0,e.useRef)({disabled:r}),h=(0,e.useRef)(!1),f=(0,e.useRef)(null),p=(0,e.useRef)(null),{disabled:m,updateMeasurementsFor:A,timeout:g}={...Zv,...i},v=ig(null!=A?A:o),b=Mv({callback:(0,e.useCallback)((()=>{h.current?(null!=p.current&&clearTimeout(p.current),p.current=setTimeout((()=>{u(Array.isArray(v.current)?v.current:[v.current]),p.current=null}),g)):h.current=!0}),[g]),disabled:m||!s}),y=(0,e.useCallback)(((e,t)=>{b&&(t&&(b.unobserve(t),h.current=!1),e&&b.observe(e))}),[b]),[w,E]=sg(y),k=ig(n);return(0,e.useEffect)((()=>{b&&w.current&&(b.disconnect(),h.current=!1,b.observe(w.current))}),[w,b]),(0,e.useEffect)((()=>(l({type:Sg.RegisterDroppable,element:{id:o,key:a,disabled:r,node:w,rect:f,data:k}}),()=>l({type:Sg.UnregisterDroppable,key:a,id:o}))),[o]),(0,e.useEffect)((()=>{r!==d.current.disabled&&(l({type:Sg.SetDroppableDisabled,id:o,key:a,disabled:r}),d.current.disabled=r)}),[o,a,r,l]),{active:s,rect:f,isOver:(null==c?void 0:c.id)===o,node:w,over:c,setNodeRef:E}}({id:s,data:E,disabled:y.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...c}}),{active:F,activatorEvent:I,activeNodeRect:M,attributes:O,setNodeRef:N,listeners:D,isDragging:B,over:P,setActivatorNodeRef:T,transform:R}=function(t){let{id:n,data:r,disabled:o=!1,attributes:i}=t;const a=ug("Draggable"),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=(0,e.useContext)(Hv),{role:p=Jv,roleDescription:m="draggable",tabIndex:A=0}=null!=i?i:{},g=(null==c?void 0:c.id)===n,v=(0,e.useContext)(g?Yv:Xv),[b,y]=sg(),[w,E]=sg(),k=function(t,n){return(0,e.useMemo)((()=>t.reduce(((e,t)=>{let{eventName:r,handler:o}=t;return e[r]=e=>{o(e,n)},e}),{})),[t,n])}(s,n),x=ig(r);return rg((()=>(h.set(n,{id:n,key:a,node:b,activatorNode:w,data:x}),()=>{const e=h.get(n);e&&e.key===a&&h.delete(n)})),[h,n]),{active:c,activatorEvent:l,activeNodeRect:u,attributes:(0,e.useMemo)((()=>({role:p,tabIndex:A,"aria-disabled":o,"aria-pressed":!(!g||p!==Jv)||void 0,"aria-roledescription":m,"aria-describedby":d.draggable})),[o,p,A,g,m,d.draggable]),isDragging:g,listeners:o?void 0:k,node:b,over:f,setNodeRef:y,setActivatorNodeRef:E,transform:v}}({id:s,data:E,attributes:{...hb,...r},disabled:y.draggable}),L=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)((()=>e=>{n.forEach((t=>t(e)))}),n)}(C,N),z=Boolean(F),_=z&&!m&&nb(f)&&nb(g),j=!v&&B,W=j&&_?R:null,H=_?null!=W?W:(null!=l?l:b)({rects:A,activeNodeRect:M,activeIndex:f,overIndex:g,index:w}):null,V=nb(f)&&nb(g)?a({id:s,items:d,activeIndex:f,overIndex:g}):w,q=null==F?void 0:F.id,$=(0,e.useRef)({activeId:q,items:d,newIndex:V,containerId:h}),K=d!==$.current.items,Y=n({active:F,containerId:h,isDragging:B,isSorting:z,id:s,index:w,items:d,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:u,wasDragging:null!=$.current.activeId}),G=function(t){let{disabled:n,index:r,node:o,rect:i}=t;const[a,s]=(0,e.useState)(null),l=(0,e.useRef)(r);return rg((()=>{if(!n&&r!==l.current&&o.current){const e=i.current;if(e){const t=Hg(o.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&s(n)}}r!==l.current&&(l.current=r)}),[n,r,o,i]),(0,e.useEffect)((()=>{a&&s(null)}),[a]),a}({disabled:!Y,index:w,node:U,rect:x});return(0,e.useEffect)((()=>{z&&$.current.newIndex!==V&&($.current.newIndex=V),h!==$.current.containerId&&($.current.containerId=h),d!==$.current.items&&($.current.items=d)}),[z,V,h,d]),(0,e.useEffect)((()=>{if(q===$.current.activeId)return;if(null!=q&&null==$.current.activeId)return void($.current.activeId=q);const e=setTimeout((()=>{$.current.activeId=q}),50);return()=>clearTimeout(e)}),[q]),{active:F,activeIndex:f,attributes:O,data:E,rect:x,index:w,newIndex:V,items:d,isOver:S,isSorting:z,isDragging:B,listeners:D,node:U,overIndex:g,over:P,setNodeRef:L,setActivatorNodeRef:T,setDroppableNodeRef:C,setDraggableNodeRef:N,transform:null!=G?G:H,transition:G||K&&$.current.newIndex===w?db:j&&!pg(I)||!u?void 0:z||Y?Ag.Transition.toString({...u,property:ub}):void 0}}function pb(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const mb=[cv.Down,cv.Right,cv.Up,cv.Left],Ab=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:a,scrollableAncestors:s}}=t;if(mb.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];i.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const i=o.get(n.id);if(i)switch(e.code){case cv.Down:r.top<i.top&&t.push(n);break;case cv.Up:r.top>i.top&&t.push(n);break;case cv.Left:r.left>i.left&&t.push(n);break;case cv.Right:r.left<i.left&&t.push(n)}}));const u=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Dg(t),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=Dg(r),a=o.reduce(((e,t,r)=>e+Mg(n[r],t)),0),s=Number((a/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:s}})}}return i.sort(Og)})({active:n,collisionRect:r,droppableRects:o,droppableContainers:t,pointerCoordinates:null});let d=Bg(u,"id");if(d===(null==a?void 0:a.id)&&u.length>1&&(d=u[1].id),null!=d){const e=i.get(n.id),t=i.get(d),a=t?o.get(t.id):null,u=null==t?void 0:t.node.current;if(u&&a&&e&&t){const n=qg(u).some(((e,t)=>s[t]!==e)),o=gb(e,t),i=(c=t,!(!pb(l=e)||!pb(c))&&!!gb(l,c)&&l.data.current.sortable.index<c.data.current.sortable.index),d=n||!o?{x:0,y:0}:{x:i?r.width-a.width:0,y:i?r.height-a.height:0},h={x:a.left,y:a.top};return d.x&&d.y?h:fg(h,d)}}}var l,c};function gb(e,t){return!(!pb(e)||!pb(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}function vb(e){return vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vb(e)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}function yb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yb(Object(n),!0).forEach((function(t){Eb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eb(e,t,n){return(t=function(e){var t=function(e){if("object"!=vb(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vb(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var xb=function(t){var n,r,o=t.id,i=t.item,a=t.isActive,s=t.renderContent,l=t.onClick,c=t.onContextMenu,u=t.tabClassName,d=void 0===u?"sortable-tab pointer-events-auto":u,h=t.customAttributes,f=void 0===h?{}:h,p=t.disableDragging,m=void 0!==p&&p,A=fb({id:o,disabled:m,transition:{duration:150,easing:"cubic-bezier(0.25, 1, 0.5, 1)"}}),g=A.attributes,v=A.listeners,b=A.setNodeRef,y=A.transform,w=A.transition,E=A.isDragging,k=(n=(0,e.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return kb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kb(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),x=k[0],U=k[1];(0,e.useEffect)((function(){E&&x&&U(!1)}),[E,x]);var S=wb({transform:Ag.Transform.toString(y),transition:w,flexShrink:0,touchAction:"none",opacity:E?.5:1,pointerEvents:"auto",cursor:m?"default":"grab",position:"relative",zIndex:E?1e3:1,userSelect:"none"},f.style||{}),C=m?{}:wb(wb({},g),v);return e.createElement("div",bb({ref:b,style:S,tabIndex:0},C,f.divProps||{},{onMouseDown:function(e){0!==e.button||m||U(!0),f.onMouseDown&&f.onMouseDown(e)},onClick:function(e){E?(e.preventDefault(),e.stopPropagation()):l&&l(e,i)},onContextMenu:function(e){c&&c(e,i)},role:"tab","aria-selected":a,className:d,"data-dragging":E,"data-draggable":!m}),s({item:i,isDragging:E,isActive:a}))};const Ub=function(t){var n=t.items,r=t.getItemId,o=t.itemsToRender,i=void 0===o?null:o,a=t.onItemClick,s=t.onItemContextMenu,l=t.onReorder,c=t.renderItem,u=t.activeItemId,d=void 0===u?null:u,h=t.className,f=void 0===h?"sortable-tabs min-w-0 flex-1 flex items-center gap-1 overflow-x-auto":h,p=t.dragConstraints,m=void 0===p?{distance:8,tolerance:10,delay:100}:p,A=t.extraContent,g=void 0===A?null:A,v=t.customAttributes,b=void 0===v?{}:v,y=t.isItemDraggingDisabled,w=void 0===y?function(){return!1}:y,E=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)((()=>[...n].filter((e=>null!=e))),[...n])}(Fg(bv,{activationConstraint:m}),Fg(pv,{coordinateGetter:Ab})),k=n.map((function(e){return r(e)})),x=i||n;return e.createElement(Qv,{sensors:E,collisionDetection:Tg,onDragEnd:function(e){var t=e.active,n=e.over;if(t&&n&&t.id!==n.id){var r=k.indexOf(t.id),o=k.indexOf(n.id);l&&-1!==r&&-1!==o&&l(r,o)}}},e.createElement("div",{className:f},e.createElement(ab,{items:k,strategy:rb},x.map((function(t){var n=r(t),o=d===n,i=w(t);return e.createElement(xb,{key:n,id:n,item:t,isActive:o,onClick:a,onContextMenu:s,renderContent:function(e){var t=e.item,n=e.isDragging,r=e.isActive;return c(t,r,n)},customAttributes:b,disableDragging:i})}))),g))},Sb=function(t){var n=t.visible,r=t.x,o=t.y,i=t.items,a=t.onClose,s=t.menuClassName,l=void 0===s?"fixed z-50 rounded-md shadow-lg bg-white dark:bg-surface-800 ring-1 ring-black ring-opacity-5 focus:outline-none":s,c=t.itemClassName,u=void 0===c?"px-3 py-1 text-xs text-left text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700 rounded focus:outline-none":c,d=t.itemsContainerClassName,h=void 0===d?"py-1 px-1 flex flex-row gap-1":d,f=t.transform,p=void 0===f?"translate(-20px, -100%)":f,m=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=function(e){m.current&&!m.current.contains(e.target)&&a()};return n?(document.addEventListener("mousedown",e),document.addEventListener("contextmenu",e,!0)):(document.removeEventListener("mousedown",e),document.removeEventListener("contextmenu",e,!0)),function(){document.removeEventListener("mousedown",e),document.removeEventListener("contextmenu",e,!0)}}),[n,a]),n&&i&&0!==i.length?e.createElement("div",{ref:m,className:l,style:{left:"".concat(r,"px"),top:"".concat(o,"px"),transform:p},onClick:function(e){return e.stopPropagation()}},e.createElement("div",{className:h},i.map((function(t,n){return e.createElement("button",{key:t.label||n,className:"".concat(u," ").concat(t.disabled?"opacity-50 cursor-not-allowed":""),onClick:function(e){t.disabled||(e.stopPropagation(),t.onClick(e),a())},disabled:t.disabled},t.label)})))):null};function Cb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Fb=function(t){var n,r,o,i=t.currentFile,a=t.openFiles,s=t.onTabChange,l=t.onTabClose,c=t.onTabReorder,h=t.onToggleEditorVisibility,f=t.isPreviewVisible,p=t.isEditorFullscreen,m=t.onToggleFullscreen,A=t.FullscreenMaximizeIcon,g=t.FullscreenMinimizeIcon,v=t.onDetachEditor,b=t.isEditorDetached,y=(r=(0,e.useState)({visible:!1,x:0,y:0,file:null}),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(r,o)||function(e,t){if(e){if("string"==typeof e)return Cb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cb(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=y[0],E=y[1],k=KA().showInfo,x="function"==typeof h&&e.createElement("button",{title:f?"Hide Preview":"Show Preview",onClick:h,className:"p-1.5 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300 flex-shrink-0 mr-1.5","aria-label":f?"Hide Preview":"Show Preview"},f?e.createElement(u,{size:16}):e.createElement(d,{size:16})),U=A&&g&&"function"==typeof m&&e.createElement("button",{title:p?"Exit Fullscreen":"Enter Fullscreen",onClick:m,className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-700 dark:text-surface-300 flex-shrink-0 ml-2 mr-1","aria-label":p?"Exit Fullscreen":"Enter Fullscreen"},p?e.createElement(g,{size:16}):e.createElement(A,{size:16})),S="function"==typeof v&&!(null!==(n=window.detachedAPI)&&void 0!==n&&n.isDetachedWindow())&&e.createElement("button",{className:"p-1.5 rounded flex-shrink-0 ".concat(b?"text-primary-600 dark:text-primary-400 bg-primary-100 dark:bg-primary-900":"text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600"),onClick:v,title:b?"Editor Detached":"Detach Editor",disabled:!i},e.createElement(V,{size:16})),C=w.file?[{label:"Close Others",onClick:function(){w.file&&l&&(a.filter((function(e){return e.path!==w.file.path})).forEach((function(e){return l(e)})),k("Closed other tabs"))},disabled:a.length<=1},{label:"Close All",onClick:function(){l&&(a.forEach((function(e){return l(e)})),k("Closed all tabs"))},disabled:0===a.length}]:[];return e.createElement(e.Fragment,null,"      ",e.createElement("div",{className:"editor-tabs-bar-wrapper flex items-center justify-between p-2 w-full bg-surface-100 dark:bg-surface-800 border-b border-surface-300 dark:border-surface-700 relative z-10 shadow-sm pointer-events-auto"},e.createElement("div",{className:"flex flex-grow items-center min-w-0 overflow-hidden"},U,e.createElement(Ub,{items:a,getItemId:function(e){return e.path},onItemClick:function(e,t){s&&s(t)},onItemContextMenu:function(e,t){e.preventDefault(),e.stopPropagation(),E({visible:!0,x:e.clientX,y:e.clientY,file:t})},onReorder:c,renderItem:function(t,n,r){var o=t.isDirty;return e.createElement("div",{className:"\n          flex-shrink-0 px-2 py-1 border-b-2 text-xs whitespace-nowrap transition-colors duration-150 ease-in-out group relative flex items-center w-full h-full\n          ".concat(n?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent hover:border-surface-400 dark:hover:border-surface-500 text-surface-600 dark:text-surface-300 hover:text-surface-800 dark:hover:text-surface-100","\n        "),style:{paddingRight:o?"1.1rem":"1.6rem",pointerEvents:"auto"},title:t.path},e.createElement("span",{className:"truncate flex-grow text-left mr-1"},t.name),o&&e.createElement("span",{className:"ml-1 w-1.5 h-1.5 rounded-full bg-warning-500 flex-shrink-0"}),e.createElement("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e,t){e.stopPropagation(),l&&l(t)}(e,t)},onPointerDown:function(e){e.preventDefault(),e.stopPropagation()},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()},className:"absolute right-0.5 top-1/2 transform -translate-y-1/2 p-0.5 rounded-full text-surface-400 dark:text-surface-500 hover:bg-surface-200 dark:hover:bg-surface-700 hover:text-surface-700 dark:hover:text-surface-200 opacity-0 group-hover:opacity-100 flex-shrink-0 focus:outline-none pointer-events-auto z-10",title:"Close tab: ".concat(t.name)},e.createElement(be,{size:12})))},activeItemId:null==i?void 0:i.path,className:"editor-tabs min-w-0 flex-1 flex items-center gap-1 overflow-x-auto scrollbar-thin scrollbar-thumb-surface-400 dark:scrollbar-thumb-surface-600",dragConstraints:{delay:100,distance:8,tolerance:10}}),"        "),e.createElement("div",{className:"flex-shrink-0 flex items-center px-2"},x,S)),e.createElement(Sb,{visible:w.visible,x:w.x,y:w.y,items:C,onClose:function(){return E({visible:!1,x:0,y:0,file:null})},transform:"translate(0,0)"}))};var Ib=o("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);function Mb(e){return Mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mb(e)}function Ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ob(Object(n),!0).forEach((function(t){Db(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Db(e,t,n){return(t=function(e){var t=function(e){if("object"!=Mb(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Mb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mb(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bb(e){return function(e){if(Array.isArray(e))return Rb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Tb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tb(e,t){if(e){if("string"==typeof e)return Rb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rb(e,t):void 0}}function Rb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Lb=function(t){var n=t.files,r=t.folders,o=t.onFileSelect,i=Pb((0,e.useState)(""),2),a=i[0],s=i[1],l=Pb((0,e.useState)([]),2),c=l[0],u=l[1],d=Pb((0,e.useState)(!1),2),h=(d[0],d[1]),f=Pb((0,e.useState)(!1),2),p=f[0],m=f[1],A=Pb((0,e.useState)({includeFiles:!0,includeFolders:!0,searchContent:!1}),2),g=A[0],v=A[1],b=(0,e.useRef)(null),y=(0,e.useRef)(null),w=KA().showError;(0,e.useEffect)((function(){return b.current&&b.current.focus(),function(){y.current&&clearTimeout(y.current)}}),[]),(0,e.useEffect)((function(){y.current&&clearTimeout(y.current),a.trim()?(h(!0),y.current=setTimeout((function(){E(a,g)}),300)):u([])}),[a,g]);var E=function(t,o){try{var i=[],a=t.toLowerCase();if(o.includeFiles&&n&&n.length>0){var s=n.filter((function(e){return!!e.name.toLowerCase().includes(a)||!(!o.searchContent||!e.content)&&e.content.toLowerCase().includes(a)}));i.push.apply(i,Bb(s.map((function(t){return Nb(Nb({},t),{},{type:"file",icon:e.createElement(Ae,{size:16,className:"mr-2 text-secondary-500 dark:text-secondary-400"})})}))))}if(o.includeFolders&&r&&r.length>0){var l=r.filter((function(e){return e.name.toLowerCase().includes(a)}));i.push.apply(i,Bb(l.map((function(t){return Nb(Nb({},t),{},{type:"folder",icon:e.createElement(J,{size:16,className:"mr-2 text-primary-500 dark:text-primary-400"})})}))))}var c=i.sort((function(e,t){return e.type!==t.type?"folder"===e.type?-1:1:e.name.localeCompare(t.name)}));u(c)}catch(e){console.error("Error performing search:",e),w("An error occurred while searching")}finally{h(!1)}},k=function(e){v((function(t){return Nb(Nb({},t),{},Db({},e,!t[e]))}))};return e.createElement("div",{className:"file-search h-full flex flex-col"},e.createElement("div",{className:"search-header p-2 border-b border-surface-300 dark:border-surface-700"},e.createElement("div",{className:"flex items-center relative"},e.createElement("input",{ref:b,type:"text",value:a,onChange:function(e){return s(e.target.value)},placeholder:"Search files and folders...",className:"w-full p-2 pl-8 pr-8 text-sm border border-surface-300 dark:border-surface-600 rounded bg-white dark:bg-surface-700"}),e.createElement(zf,{size:16,className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-surface-500 dark:text-surface-400"}),a&&e.createElement("button",{onClick:function(){s(""),u([]),b.current&&b.current.focus()},className:"absolute right-10 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-surface-200 dark:hover:bg-surface-600",title:"Clear search"},e.createElement(be,{size:14,className:"text-surface-500 dark:text-surface-400"})),e.createElement("button",{onClick:function(){return m(!p)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 rounded-full hover:bg-surface-200 dark:hover:bg-surface-600 ".concat(p?"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400":"text-surface-500 dark:text-surface-400"),title:"Search filters"},e.createElement(Ib,{size:14}))),p&&e.createElement("div",{className:"filter-options mt-2 p-2 bg-surface-100 dark:bg-surface-800 rounded text-sm"},e.createElement("div",{className:"flex flex-wrap gap-3"},e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",checked:g.includeFiles,onChange:function(){return k("includeFiles")},className:"mr-1"}),"Files"),e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",checked:g.includeFolders,onChange:function(){return k("includeFolders")},className:"mr-1"}),"Folders"),e.createElement("label",{className:"flex items-center"},e.createElement("input",{type:"checkbox",checked:g.searchContent,onChange:function(){return k("searchContent")},className:"mr-1"}),"Search in file content")))),e.createElement("div",{className:"search-results flex-grow overflow-auto p-2"},a&&0===c.length?e.createElement("div",{className:"text-sm text-surface-600 dark:text-surface-400 italic text-center py-4"},"No results found"):e.createElement("ul",{className:"space-y-1"},c.map((function(t){return e.createElement("li",{key:"".concat(t.type,"-").concat(t.path),className:"py-1 px-2 hover:bg-surface-200 dark:hover:bg-surface-700 cursor-pointer rounded flex items-center",onClick:function(){return function(e){"file"===e.type&&o?o(e):"folder"===e.type&&console.log("Folder selected: ".concat(e.name))}(t)}},t.icon,e.createElement("span",{className:"text-sm truncate"},t.name),e.createElement("span",{className:"text-xs text-surface-500 dark:text-surface-400 ml-2 truncate"},Y(t.path)))})))))};var zb=function(t){var n=t.isOpen,r=t.onClose,o=t.title,i=t.children,a=t.footer,s=t.size,l=void 0===s?"md":s,c=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=function(e){"Escape"===e.key&&n&&r()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n,r]),(0,e.useEffect)((function(){return document.body.style.overflow=n?"hidden":"",function(){document.body.style.overflow=""}}),[n]),(0,e.useEffect)((function(){if(n&&c.current){var e=c.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(e.length>0){var t=e[0],r=e[e.length-1],o=function(e){"Tab"===e.key&&(e.shiftKey&&document.activeElement===t?(e.preventDefault(),r.focus()):e.shiftKey||document.activeElement!==r||(e.preventDefault(),t.focus()))};return t.focus(),c.current.addEventListener("keydown",o),function(){c.current&&c.current.removeEventListener("keydown",o)}}}}),[n]),n?e.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},e.createElement("div",{ref:c,className:"bg-white dark:bg-surface-800 rounded-lg shadow-xl w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}[l]," mx-4"),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},e.createElement("div",{className:"flex items-center justify-between px-4 py-3 border-b border-surface-200 dark:border-surface-700"},e.createElement("h3",{id:"modal-title",className:"text-lg font-semibold text-surface-800 dark:text-surface-100"},o),e.createElement("button",{type:"button",className:"p-1 rounded-full text-surface-400 hover:text-surface-600 dark:text-surface-500 dark:hover:text-surface-300",onClick:r,"aria-label":"Close"},e.createElement("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),e.createElement("div",{className:"px-4 py-3"},i),a&&e.createElement("div",{className:"px-4 py-3 border-t border-surface-200 dark:border-surface-700 flex justify-end space-x-2"},a))):null};function _b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Wb=function(t){var n=t.isOpen,r=t.onClose,o=t.onSubmit,i=t.defaultName,a=void 0===i?"":i,l=_b((0,e.useState)(""),2),c=l[0],u=l[1],d=_b((0,e.useState)(""),2),h=d[0],f=d[1],p=(0,e.useRef)(null);return(0,e.useEffect)((function(){n&&(u(a),f(""),setTimeout((function(){p.current&&(p.current.focus(),p.current.select())}),100))}),[n,a]),e.createElement(zb,{isOpen:n,onClose:r,title:"Save Project State",size:"sm",footer:e.createElement(e.Fragment,null,e.createElement("button",{type:"button",className:"px-4 py-2 border border-surface-300 dark:border-surface-600 rounded-md text-surface-700 dark:text-surface-300 hover:bg-surface-100 dark:hover:bg-surface-700",onClick:r},"Cancel"),e.createElement("button",{type:"submit",form:"save-state-form",className:"px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"},"Save State"))},e.createElement("form",{id:"save-state-form",onSubmit:function(e){e.preventDefault();var t=c.trim();t?(o(t),r()):f("State name cannot be empty.")},noValidate:!0},e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"state-name",className:"block text-sm font-medium text-surface-700 dark:text-surface-300 mb-1"},"State Name"),e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},e.createElement(s,{size:18,className:"text-surface-500 dark:text-surface-400"})),e.createElement("input",{ref:p,type:"text",id:"state-name",className:"w-full pl-10 pr-3 py-2 border ".concat(h?"border-error-500":"border-surface-300 dark:border-surface-600"," rounded-md bg-white dark:bg-surface-700 text-surface-900 dark:text-surface-100 focus:outline-none focus:ring-2 focus:ring-primary-500"),placeholder:"Enter a name for this state",value:c,onChange:function(e){return u(e.target.value)},required:!0})),h&&e.createElement("p",{className:"mt-1 text-xs text-error-500"},h))))};var Hb=o("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);function Vb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const $b=function(t){var n=t.savedWorkspaceStates,r=t.onLoadState,o=t.onRemoveState,i=t.onStateReorder,a=t.activeNamedWorkspaceName,s=t.onRenameWorkspaceState,l=Vb((0,e.useState)({visible:!1,x:0,y:0,stateData:null}),2),c=l[0],u=l[1],d=Vb((0,e.useState)(null),2),h=d[0],f=d[1],p=(0,e.useMemo)((function(){return Object.values(n||{})}),[n]),m=((0,e.useMemo)((function(){return p.map((function(e){return e.name}))}),[p]),(0,e.useRef)(null)),A=Vb((0,e.useState)(""),2),g=A[0],v=A[1],b=(0,e.useCallback)((function(){return!(!h||!g||""===g.trim()||g===h||(s(h,g.trim()),0))}),[h,g,s]);(0,e.useEffect)((function(){if(h){var e=p.find((function(e){return e.name===h}));e&&v(e.name),setTimeout((function(){m.current&&(m.current.focus(),m.current.select())}),50)}}),[h,p]),(0,e.useEffect)((function(){h&&!n[h]&&f(null)}),[n,h]),(0,e.useEffect)((function(){var e=function(){h&&(b(),f(null))};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[h,b]);var y=function(e){v(e.target.value)},w=function(e){"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),b(),f(null)):"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),f(null)):"Tab"===e.key&&(g&&""!==g.trim()&&g!==h&&b(),f(null))},E=function(e){e.preventDefault(),e.stopPropagation(),b(),f(null)};return 0===p.length?e.createElement("div",{className:"workspace-state-tabs min-w-0 flex-1 flex items-center overflow-x-auto scrollbar-thin scrollbar-thumb-surface-400 dark:scrollbar-thumb-surface-600 pr-2 min-h-[38px]"},e.createElement("span",{className:"text-xs text-surface-500 dark:text-surface-400 italic px-2"},"No saved states")):e.createElement(e.Fragment,null,e.createElement(Ub,{items:p,getItemId:function(e){return e.name},onItemClick:function(e,t){h&&h!==t.name&&(b(),f(null)),h!==t.name&&(a!==t.name?r(t.name):f(t.name))},onItemContextMenu:function(e,t){if(e.preventDefault(),e.stopPropagation(),h&&h!==t.name)b(),f(null);else if(h===t.name)return b(),f(null),g===t.name?void setTimeout((function(){u({visible:!0,x:e.clientX,y:e.clientY,stateData:t})}),0):void 0;u({visible:!0,x:e.clientX,y:e.clientY,stateData:t})},onReorder:i,renderItem:function(t,n,r){return h===t.name?e.createElement("div",{className:"flex items-center w-full px-3 py-1.5 border-b-2 border-primary-500 dark:border-primary-400",onClick:function(e){e.preventDefault(),e.stopPropagation()}},e.createElement("input",{ref:m,type:"text",value:g,onChange:y,onKeyDown:w,className:"w-full bg-transparent border-b border-primary-400 outline-none focus:outline-none text-primary-700 dark:text-primary-300 mr-2 z-10",placeholder:"Workspace name",onClick:function(e){e.preventDefault(),e.stopPropagation()},autoFocus:!0,spellCheck:!1,autoComplete:"off"}),e.createElement("button",{onClick:E,className:"p-1 text-primary-600 dark:text-primary-400 hover:bg-surface-200 dark:hover:bg-surface-700 rounded-full z-10",title:"Save new name",type:"button"},e.createElement(Hb,{size:14}))):e.createElement("div",{className:"flex-shrink-0 px-3 py-1.5 border-b-2 text-sm whitespace-nowrap transition-colors duration-150 ease-in-out group relative flex items-center ".concat(n?"border-primary-500 dark:border-primary-400 text-primary-700 dark:text-primary-300":"border-transparent hover:border-surface-400 dark:hover:border-surface-500 text-surface-600 dark:text-surface-300 hover:text-surface-800 dark:hover:text-surface-100"),title:"Load state: ".concat(t.name)},e.createElement("span",{className:"truncate flex-grow text-left pointer-events-none mr-1"},t.name),e.createElement("button",{onClick:function(e){return function(e,t){e.stopPropagation(),o&&o(t)}(e,t.name)},onPointerDown:function(e){e.stopPropagation(),2===e.button&&e.preventDefault()},className:"absolute right-1 top-1/2 transform -translate-y-1/2 p-0.5 rounded-full text-surface-400 dark:text-surface-500 hover:bg-surface-200 dark:hover:bg-surface-700 hover:text-surface-700 dark:hover:text-surface-200 opacity-0 group-hover:opacity-100 transition-opacity duration-150 ease-in-out focus:outline-none pointer-events-auto z-10",title:"Remove state: ".concat(t.name)},e.createElement(be,{size:12})))},activeItemId:a,className:"workspace-state-tabs min-w-0 flex-1 flex items-center gap-1 overflow-x-auto scrollbar-thin scrollbar-thumb-surface-400 dark:scrollbar-thumb-surface-600 pr-2 min-h-[38px]",dragConstraints:{distance:2},isItemDraggingDisabled:function(e){return h===e.name}}),e.createElement(Sb,{visible:c.visible,x:c.x,y:c.y,items:[{label:"Close Others",onClick:function(){o&&c.stateData&&p.filter((function(e){return e.name!==c.stateData.name})).forEach((function(e){return o(e.name)}))},disabled:!c.stateData||p.length<=1},{label:"Close All",onClick:function(){o&&p.forEach((function(e){return o(e.name)}))},disabled:0===p.length}],onClose:function(){return u({visible:!1,x:0,y:0,stateData:null})},transform:"translate(0, 0)"}))};var Kb=n(72),Yb=n.n(Kb),Gb=n(825),Qb=n.n(Gb),Xb=n(659),Jb=n.n(Xb),Zb=n(56),ey=n.n(Zb),ty=n(159),ny=n.n(ty),ry=n(113),oy=n.n(ry),iy=n(567),ay={};function sy(e){return sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(e)}function ly(e){return function(e){if(Array.isArray(e))return vy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cy(Object(n),!0).forEach((function(t){dy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dy(e,t,n){return(t=function(e){var t=function(e){if("object"!=sy(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=sy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==sy(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hy(){hy=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new M(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",m="completed",A={};function g(){}function v(){}function b(){}var y={};c(y,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(O([])));E&&E!==n&&r.call(E,a)&&(y=E);var k=b.prototype=g.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function U(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==sy(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,n,r){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===A)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:f,c.arg===A)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),A;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,A;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,A):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(sy(t)+" is not iterable")}return v.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},x(U.prototype),c(U.prototype,s,(function(){return this})),t.AsyncIterator=U,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new U(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),A}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),A}},t}function fy(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gy(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function py(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function my(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){py(i,r,o,a,s,"next",e)}function s(e){py(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Ay(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||gy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gy(e,t){if(e){if("string"==typeof e)return vy(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vy(e,t):void 0}}function vy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function by(){console.log("[App] Component rendering");var t=(0,e.useRef)(null),r=((0,e.useRef)(null),(0,e.useRef)(null)),o=(0,e.useRef)(""),v=(0,e.useRef)(!1),b=(0,e.useRef)(null),y=(0,e.useRef)(!1),w=Ay((0,e.useState)(!0),2),E=w[0],k=w[1],x=Ay((0,e.useState)(!0),2),U=x[0],S=x[1],C=Ay((0,e.useState)(!1),2),F=C[0],I=C[1],M=Ay((0,e.useState)(window.innerWidth<768),2),O=M[0],N=M[1],D=Ay((0,e.useState)(!0),2),B=D[0],P=D[1],T=Ay((0,e.useState)(!1),2),R=T[0],L=T[1],z=Ay((0,e.useState)(!1),2),_=z[0],j=z[1],H=Ay((0,e.useState)(0),2),V=H[0],q=H[1],G=Ay((0,e.useState)(!1),2),Q=G[0],X=G[1],J=Ay((0,e.useState)(!0),2),Z=J[0],ee=(J[1],function(){var t=VA((0,e.useState)([]),2),n=t[0],r=t[1],o=VA((0,e.useState)([]),2),i=o[0],a=o[1],s=VA((0,e.useState)([]),2),l=s[0],c=s[1],u=VA((0,e.useState)(null),2),d=u[0],h=u[1],f=VA((0,e.useState)(""),2),p=f[0],m=f[1],A=VA((0,e.useState)(!1),2),g=A[0],v=A[1],b=VA((0,e.useState)(null),2),y=b[0],w=b[1],E=(0,e.useCallback)(HA(zA().mark((function e(){var t,o,i,s,l,u,d,h,f,p;return zA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),w(null),e.next=5,(0,RA.openFolder)();case 5:if((t=e.sent)&&0!==t.length){e.next=10;break}return console.log("Folder selection was cancelled or returned empty"),v(!1),e.abrupt("return",null);case 10:o=[],i=[],s=[],l=jA(t),e.prev=14,l.s();case 16:if((u=l.n()).done){e.next=32;break}if(d=u.value,!n.includes(d)){e.next=21;break}return console.log("Folder already added: ".concat(d)),e.abrupt("continue",30);case 21:return window.api&&window.api.registerImportedFolder&&window.api.registerImportedFolder(d),s.push(d),e.next=25,(0,RA.scanDirectory)(d);case 25:h=e.sent,f=(null==h?void 0:h.folders)||[],p=(null==h?void 0:h.files)||[],o=[].concat(_A(o),_A(f)),i=[].concat(_A(i),_A(p));case 30:e.next=16;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(14),l.e(e.t0);case 37:return e.prev=37,l.f(),e.finish(37);case 40:return s.length>0&&(r((function(e){return[].concat(_A(e),s)})),c((function(e){return[].concat(_A(e),_A(o))})),a((function(e){return[].concat(_A(e),_A(i))}))),e.abrupt("return",{folderPaths:s,folders:o,files:i});case 44:throw e.prev=44,e.t1=e.catch(0),w(e.t1.message||"Failed to open folder"),console.error("Error opening folder:",e.t1),e.t1;case 49:return e.prev=49,v(!1),e.finish(49);case 52:case"end":return e.stop()}}),e,null,[[0,44,49,52],[14,34,37,40]])}))),[n]),k=(0,e.useCallback)((function(){r([]),c([]),a([]),h(null),m("")}),[]),x=(0,e.useCallback)(function(){var e=HA(zA().mark((function e(t){return zA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[useFiles] openFile called for: ".concat(null==t?void 0:t.path)),console.log("[useFiles] Current file before change: ".concat(null==d?void 0:d.path)),e.abrupt("return",new Promise(function(){var e=HA(zA().mark((function e(n,r){var o,i,a;return zA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v(!0),w(null),t&&t.path){e.next=10;break}return o="Invalid file object provided to openFile",console.error(o),w(o),v(!1),r(new Error(o)),e.abrupt("return");case 10:return console.log("[useFiles] Reading content for file: ".concat(t.path)),e.next=13,(0,RA.readMarkdownFile)(t.path);case 13:i=e.sent,console.log("[useFiles] Content read, length: ".concat(i?i.length:0)),m(i||""),console.log("[useFiles] Content set, now setting currentFile"),h(t),console.log("[useFiles] Successfully set content and currentFile for: ".concat(null==t?void 0:t.path)),v(!1),n(t),e.next=31;break;case 23:e.prev=23,e.t0=e.catch(0),a=e.t0.message||"Failed to open file",w(a),console.error("Error opening file: ".concat(a),e.t0),m(""),v(!1),r(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t,n){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),U=(0,e.useCallback)(function(){var e=HA(zA().mark((function e(t){var n;return zA().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,v(!0),w(null),n=t||"",e.next=8,(0,RA.saveMarkdownFile)(d.path,n);case 8:m(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),w(e.t0.message||"Failed to save file"),console.error("Error saving file:",e.t0);case 15:return e.prev=15,v(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[d]),S=(0,e.useCallback)((function(e){m(e||"")}),[]);return{directories:n,files:i,folders:l,currentFile:d,content:p,loading:g,error:y,openAndScanFolder:E,clearFolders:k,openFile:x,saveFile:U,updateContent:S,setFiles:a,setFolders:c,setCurrentFile:h}}()),te=ee.files,ne=ee.folders,re=(ee.directories,ee.currentFile),oe=ee.content,ie=ee.loading,ae=ee.error,se=ee.openAndScanFolder,le=ee.openFile,ce=ee.saveFile,ue=ee.clearFolders,de=ee.updateContent,he=ee.setFiles,fe=ee.setFolders,pe=ee.setCurrentFile,Ae=KA(),ge=Ae.showSuccess,ve=Ae.showError,be=Ae.showInfo,ye=(Ae.showWarning,OA()),we=ye.settings,Ee=(ye.updateSetting,vt()),ke=Ee.state,xe=Ee.dispatch,Ue=Ee.setLoading,Se=Ee.setUnsavedChanges,Ce=Ee.setSidebarTab,Fe=Ee.addToHistory,Ie=Ee.addOpenFile,Me=Ee.removeOpenFile,Oe=Ee.updateOpenFile,Ne=Ee.setFileDirty,De=Ee.clearOpenFiles,Be=Ee.reorderOpenFiles,Pe=Ee.setCurrentFile,Te=Ee.updatePreferences,Re=Ee.setActiveRootFolders,Le=Ee.setActiveExpandedNodes,ze=Ee.setItemOrder,_e=Ee.updateItemOrderForParent,je=Ee.removeFromItemOrder,We=Ee.addRootFolder,He=Ee.removeRootFolder,Ve=Ee.toggleExpandedNode,qe=Ee.setExplorerSort,$e=Ee.setActiveNamedWorkspace,Ke=Ee.clearActiveNamedWorkspace,Ye=Ee.saveNamedWorkspace,Ge=Ee.removeNamedWorkspace,Qe=Ee.loadNamedWorkspace,Xe=Ee.clearPendingWorkspaceLoad,Je=Ee.renameWorkspace,Ze=Ee.reorderSavedWorkspaceStates,et=ke.openFiles,tt=ke.ui,nt=tt.activeRootFolders,rt=tt.activeExpandedNodes,ot=tt.itemOrder,it=tt.preferences,at=it.explorerSortBy,st=it.explorerSortDirection,lt=(0,e.useRef)(!0),ct=Ay((0,e.useState)(!1),2),ut=ct[0],dt=ct[1];(0,e.useEffect)((function(){k(we.ui.sidebarVisible),S(we.ui.previewVisible)}),[we.ui.sidebarVisible,we.ui.previewVisible]),(0,e.useEffect)((function(){ae&&ve("Error: ".concat(ae))}),[ae,ve]);var ht=function(e){try{ce(e),re&&Ne(re,!1)}catch(e){console.error("Failed to save file: ".concat(e.message))}},ft=function(e){console.log("[App] openFile called with:",e);try{var n=et.some((function(t){return t.path===e.path}));console.log("[App] openFile - isAlreadyOpen: ".concat(n)),n||(console.log("[App] openFile - adding file to openFiles state"),Ie(e)),console.log("[App] openFile - calling originalOpenFile"),le(e),Pe(e),console.log("[App] openFile - adding file to history"),Fe(e),e.isNew?console.log("[App] openFile - new file detected (path: ".concat(e.path,"), skipping editor focus to allow rename input focus.")):setTimeout((function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),t.current&&t.current.focus&&(console.log("[App] openFile - focusing editor for existing file"),t.current.focus())}),300)}catch(e){console.error("[App] Error in openFile: ".concat(e.message))}},pt=function(){var e=my(hy().mark((function e(){var t,n,r,o;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[App] openAndScanFolder called"),e.prev=1,e.next=4,se();case 4:if(t=e.sent,console.log("[App] originalOpenAndScanFolder result:",t),!(t&&t.folderPaths&&t.folderPaths.length>0)){e.next=31;break}console.log("[App] Folders selected:",t.folderPaths),t.folderPaths.forEach((function(e){var t=e.replace(/\\/g,"/");We(t),rt[t]||Ve(t)})),console.log("[App] Calling scanFolder for each added path..."),n=fy(t.folderPaths),e.prev=11,n.s();case 13:if((r=n.n()).done){e.next=19;break}return o=r.value,e.next=17,mt(o,!0);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:return console.log("[App] Finished calling scanFolder for all added paths."),e.abrupt("return",t);case 31:console.log("[App] No folders selected or dialog cancelled.");case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(1),console.error("[App] Error in openAndScanFolder: ".concat(e.t1.message));case 37:case"end":return e.stop()}}),e,null,[[1,34],[11,21,24,27]])})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=my(hy().mark((function e(t){var r,o,i,a,s,l,c,u,d=arguments;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]&&d[1],console.log("[scanFolder] Called with path: ".concat(t,", addMode: ").concat(r)),e.prev=2,t){e.next=5;break}return e.abrupt("return");case 5:return Ue({files:!0}),e.next=8,Promise.resolve().then(n.bind(n,249));case 8:return o=e.sent,i=o.scanDirectory,e.next=12,i(t);case 12:if(a=e.sent,console.log("[scanFolder] Scan result:",a),!a){e.next=27;break}return s=t.replace(/\\/g,"/"),console.log("[scanFolder] Normalized root path: ".concat(s)),l={path:s,name:$().basename(s),type:"folder"},console.log("[scanFolder] Created root folder object:",l),c=[],a.folders&&a.folders.length>0?(c.push(l),a.folders.forEach((function(e){if(e.path.startsWith(s))c.push(e);else{var t=$().basename(e.path),n="".concat(s,"/").concat(t);c.push(uy(uy({},e),{},{path:n,name:t}))}}))):c.push(l),u=[],a.files&&a.files.length>0&&a.files.forEach((function(e){if(e.path.startsWith(s))u.push(e);else{var t=$().basename(e.path),n="".concat(s,"/").concat(t);u.push(uy(uy({},e),{},{path:n,name:t}))}})),console.log("[scanFolder] Processed files:",u),console.log("[scanFolder] Processed folders (incl. root):",c),r?(console.log("[scanFolder] Entering addMode"),he((function(e){console.log("[scanFolder] setFiles: Previous files count:",e.length);var t=u.filter((function(t){return!e.some((function(e){return e.path===t.path}))}));console.log("[scanFolder] setFiles: Adding unique files:",t);var n=[].concat(ly(e),ly(t));return console.log("[scanFolder] setFiles: New state count:",n.length),n})),fe((function(e){console.log("[scanFolder] setFolders: Previous folders count:",e.length);var t=c.filter((function(t){return t.path!==s&&!e.some((function(e){return e.path===t.path}))}));console.log("[scanFolder] setFolders: Adding root folder:",l),console.log("[scanFolder] setFolders: Adding unique subfolders:",t);var n=[].concat(ly(e),[l],ly(t));return console.log("[scanFolder] setFolders: New state count:",n.length),n}))):(console.log("[scanFolder] Entering replace/refresh mode"),he((function(e){var t=e.filter((function(e){return!e.path.startsWith(s+"/")&&e.path!==s}));return[].concat(ly(t),u)})),fe((function(e){var t=e.filter((function(e){return!e.path.startsWith(s+"/")&&e.path!==s}));return[].concat(ly(t),c)}))),e.abrupt("return",uy(uy({},a),{},{folders:c,files:u}));case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(2),console.error("[scanFolder] Error: ".concat(e.t0.message)),ve("Failed to scan folder: ".concat(e.t0.message));case 33:return e.prev=33,Ue({files:!1}),console.log("[scanFolder] Finished."),e.finish(33);case 37:case"end":return e.stop()}}),e,null,[[2,29,33,37]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){if(we.editor.autoSave){var e=setTimeout((function(){re&&oe&&ht(oe)}),we.editor.autoSaveInterval);return function(){return clearTimeout(e)}}}),[oe,re,we.editor.autoSave,we.editor.autoSaveInterval]);var At=function(e){var n,r,o,i,a,s,l,c,u,d,h,f,p,m,A,g,v,b,y,w,E,k;if(t.current)switch(e){case"heading":null===(n=(r=t.current).applyHeading)||void 0===n||n.call(r,2);break;case"bold":null===(o=(i=t.current).applyBold)||void 0===o||o.call(i);break;case"italic":null===(a=(s=t.current).applyItalic)||void 0===a||a.call(s);break;case"unordered-list":null===(l=(c=t.current).applyUnorderedList)||void 0===l||l.call(c);break;case"ordered-list":null===(u=(d=t.current).applyOrderedList)||void 0===u||u.call(d);break;case"link":null===(h=(f=t.current).applyLink)||void 0===h||h.call(f);break;case"image":null===(p=(m=t.current).applyImage)||void 0===p||p.call(m);break;case"code":null===(A=(g=t.current).applyCode)||void 0===A||A.call(g);break;case"code-block":null===(v=(b=t.current).applyCodeBlock)||void 0===v||v.call(b);break;case"blockquote":null===(y=(w=t.current).applyBlockquote)||void 0===y||y.call(w);break;case"table":null===(E=(k=t.current).applyTable)||void 0===E||E.call(k);break;default:console.warn("Unknown toolbar action: ".concat(e))}},gt=(0,e.useCallback)((function(){t.current&&t.current.undo()}),[]),yt=(0,e.useCallback)((function(){t.current&&t.current.redo()}),[]);(0,e.useEffect)((function(){var e=function(e){var t=function(t){var n,r,o="";(t.ctrlKey||t.metaKey)&&(o+="Ctrl+"),t.shiftKey&&(o+="Shift+"),t.altKey&&(o+="Alt+"),o=(o+=t.key.toUpperCase()).replace("Ctrl+ARROWUP","Ctrl+UP").replace("Ctrl+ARROWDOWN","Ctrl+DOWN").replace("Ctrl+ARROWLEFT","Ctrl+LEFT").replace("Ctrl+ARROWRIGHT","Ctrl+RIGHT").replace("Ctrl+=","Ctrl++").replace("Ctrl+ESCAPE","Ctrl+ESC");for(var i=0,a=Object.entries(qm);i<a.length;i++){var s=(n=a[i],r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return Vm(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vm(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=s[0];if(s[1]===o&&e[l]){t.preventDefault(),e[l](t);break}}};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}({OPEN_FILE:function(){return pt()},SAVE_FILE:function(){re&&ht(oe)},BOLD:function(){return At("bold")},ITALIC:function(){return At("italic")},HEADING:function(){return At("heading")},LINK:function(){return At("link")},CODE:function(){return At("code")},LIST:function(){return At("unordered-list")},ORDERED_LIST:function(){return At("ordered-list")},TOGGLE_SIDEBAR:function(){return k((function(e){return!e}))},TOGGLE_PREVIEW:function(){return S((function(e){return!e}))},TOGGLE_SORT_DIRECTION:function(){qe(at,"asc"===st?"desc":"asc")},UNDO:gt,REDO:yt});return e}),[oe,re,ht,pt,at,st,qe,gt,yt]),(0,e.useEffect)((function(){var e=function(){N(window.innerWidth<768),t.current&&r.current&&setTimeout((function(){t.current&&"function"==typeof t.current.refreshLayout&&t.current.refreshLayout(),r.current&&"function"==typeof r.current.refreshLayout&&r.current.refreshLayout()}),50)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,e.useEffect)((function(){k(!O&&we.ui.sidebarVisible)}),[O,we.ui.sidebarVisible]),(0,e.useEffect)((function(){v.current===ie&&b.current===re||(ie&&re&&(!ie||v.current)||(Ue("files",ie),Ue("content",ie&&!!re)),b.current=re,v.current=ie)}),[ie,re,Ue]),(0,e.useEffect)((function(){if(!ie)if(re&&oe){if(oe!==o.current&&(Se(!0),o.current=oe,we.editor.autoSave)){var e=setTimeout((function(){Se(!1)}),we.editor.autoSaveInterval+100);return function(){return clearTimeout(e)}}}else""!==o.current&&(Se(!1),o.current="")}),[oe,re,ie,we.editor.autoSave,we.editor.autoSaveInterval,Se]);var wt=ke.ui.preferences.selectedSidebarTab,Et=Ay((0,e.useState)(!1),2),kt=Et[0],xt=Et[1],Ut=Ay((0,e.useState)(null),2),St=Ut[0],Ct=Ut[1],Ft=(0,e.useRef)(null),It=(0,e.useRef)(0),Mt=(0,e.useRef)(0),Ot=(0,e.useRef)(!1);(0,e.useEffect)((function(){if(kt&&t.current&&r.current){var e="editor"===St||It.current>.02&&(!St||It.current>Mt.current),n="preview"===St||Mt.current>.02&&(!St||Mt.current>It.current);e&&It.current>.02?setTimeout((function(){r.current&&r.current.scrollToPosition(It.current)}),50):n&&Mt.current>.02&&setTimeout((function(){t.current&&t.current.scrollToPosition(Mt.current)}),50)}}),[kt]);var Nt=function(e){e<.01&&It.current>0||(It.current=e,kt&&r.current&&"preview"!==St&&(Ot.current=!0,Ct("editor"),r.current.scrollToPosition(e),Ft.current&&clearTimeout(Ft.current),Ft.current=setTimeout((function(){Ct(null),Ot.current=!1}),250)))},Dt=function(e){e<.01&&Mt.current>0||(Mt.current=e,kt&&t.current&&"editor"!==St&&(Ot.current=!0,Ct("preview"),t.current.scrollToPosition(e),Ft.current&&clearTimeout(Ft.current),Ft.current=setTimeout((function(){Ct(null),Ot.current=!1}),250)))},Bt=Ay((0,e.useState)({line:1,column:1}),2),Pt=Bt[0],Tt=Bt[1],Rt=function(e){Tt(e),console.log("Cursor position:",e)};(0,e.useEffect)((function(){return function(){Ft.current&&clearTimeout(Ft.current)}}),[]);var Lt=Ay((0,e.useState)(100),2),zt=Lt[0],_t=Lt[1],jt=(0,e.useCallback)((function(){if(r.current){var e=r.current.zoomIn();_t(e)}}),[r]),Wt=(0,e.useCallback)((function(){if(r.current){var e=r.current.zoomOut();_t(e)}}),[r]),Ht=(0,e.useCallback)((function(){if(r.current){var e=r.current.resetZoom();_t(e)}}),[r]);(0,e.useEffect)((function(){var e=function(e){U&&((e.ctrlKey||e.metaKey)&&"="===e.key&&(e.preventDefault(),jt()),(e.ctrlKey||e.metaKey)&&"-"===e.key&&(e.preventDefault(),Wt()),(e.ctrlKey||e.metaKey)&&"0"===e.key&&(e.preventDefault(),Ht()))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[U,jt,Wt,Ht]);var Vt=function(e){if(console.log("[App] handleTabChange STARTED for: ".concat(null==e?void 0:e.path,", ")+"currentFile: ".concat(null==re?void 0:re.path)),e&&e.path){console.log("[App] Setting loading state to true"),Ue({content:!0});try{console.log("[App] Scheduling file read with timeout"),setTimeout((function(){console.log("[App] Timeout triggered, reading file: ".concat(e.path)),window.api.readMarkdownFile(e.path).then((function(n){console.log("[App] File content loaded successfully! Length: ".concat(null==n?void 0:n.length,', First 20 chars: "').concat(null==n?void 0:n.substring(0,20),'..."')),console.log("[App] Setting content state"),setContent(n),console.log("[App] Setting currentFile state to:",e),pe(e),console.log("[App] Focusing editor and clearing loading state"),Ue({content:!1}),setTimeout((function(){console.log("[App] Editor focus timeout triggered"),t.current&&(t.current.focus(),console.log("[App] Tab change complete! Editor focused and ready."))}),150),console.log("[App] Notifying all detached windows of tab change"),bn.forEach((function(t,n){console.log("[App] Notifying detached window ".concat(n," of tab change to ").concat(e.path)),window.api.updateDetachedTab(n,e.path)}))})).catch((function(t){console.error("[App] Error reading file directly: ".concat(t.message)),console.log("[App] Trying fallback method with originalOpenFile...");try{le(e).then((function(){console.log("[App] Fallback success! File loaded via originalOpenFile"),Ue({content:!1})})).catch((function(e){console.error("[App] Fallback also failed: ".concat(e.message)),ve("Failed to open file: ".concat(e.message)),Ue({content:!1})}))}catch(e){console.error("[App] Error in fallback: ".concat(e.message)),ve("Failed to open file: ".concat(t.message)),Ue({content:!1})}}))}),10)}catch(e){console.error("[App] Error in handleTabChange: ".concat(e.message)),Ue({content:!1})}}else console.error("[App] handleTabChange called with invalid file",e)},qt=function(e){if(de(e),re&&Ne(re,!0),window.detachedAPI&&window.detachedAPI.isDetachedWindow()){var n=window.detachedAPI.getContentId(),r=null;try{t.current&&"function"==typeof t.current.getCursorPosition?r=t.current.getCursorPosition():t.current&&"function"==typeof t.current.getCurrentCursorPosition&&(r=t.current.getCurrentCursorPosition())}catch(e){console.error("Error getting cursor position in detached window:",e)}console.log("[Detached Window] Sending content update to main. Content length: ".concat(null==e?void 0:e.length)),window.api.updateDetachedContent(n,e,r).then((function(e){e.success||console.error("[Detached Window] Failed to send updateDetachedContent: ".concat(e.error))})).catch((function(e){console.error("[Detached Window] Error sending updateDetachedContent:",e)})),window.api.updateMainContent(n,e,r).then((function(e){e.success||console.error("[Detached Window] Failed to send updateMainContent: ".concat(e.error))})).catch((function(e){console.error("[Detached Window] Error sending updateMainContent:",e)}))}},$t=Ay((0,e.useState)(null),2),Kt=($t[0],$t[1],function(){var e=my(hy().mark((function e(t,n,r){var o,i,a,s,l,c,u,d,h,f,p,m,A,g,v,b,y,w,E,k;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[App] handleMoveItem",{sourceItems:t,targetNode:n,dropPosition:r}),t&&0!==t.length){e.next=4;break}return console.warn("[App] No source items provided for move operation"),e.abrupt("return");case 4:if(o=ly(te),i=ly(ne),a=uy({},ot),s=re,l=!0,c=[],u=Y(t[0].path)||".",!("middle"!==r&&t.length>0&&t.every((function(e){return Y(e.path)===u}))&&Y(n.path)===u)){e.next=23;break}return console.log("[App] Multi-Reordering ".concat(t.length," items within ").concat(u)),Ue({files:!0}),h=ly(a[d=u]||[]),-1===(f=h.indexOf(n.path))?(console.warn("[App] Multi-Reorder target node not found in order map. Appending."),p=t.map((function(e){return e.path})),(m=h.filter((function(e){return!p.includes(e)}))).push.apply(m,ly(p)),a[d]=m):(A=t.map((function(e){return e.path})),g=h.filter((function(e){return!A.includes(e)})),v=f,"bottom"===r&&-1!==(b=g.indexOf(n.path))&&(v=b+1),g.splice.apply(g,[v,0].concat(ly(A))),a[d]=g),ze(a),Ue({files:!1}),q((function(e){return e+1})),e.abrupt("return");case 23:Ue({files:!0}),y="folder"===n.type&&"middle"===r?n:{path:Y(n.path)||".",type:"folder"},console.log("[App] Move target folder: ".concat(y.path)),w=fy(t),e.prev=27,k=hy().mark((function e(){var t,n,r,u,d,h,f,p,m,A,g,v,b,w,k,x,U;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E.value,e.prev=1,n=t.path,r="folder"===t.type,u=K(n),d=$().join(y.path,u).replace(/\\\\/g,"/"),console.log("[App] Moving ".concat(r?"folder":"file",": ").concat(n," -> ").concat(d)),!(d===n||r&&d.startsWith(n+"/"))){e.next=12;break}return console.warn("[App] Attempted to move item ".concat(n," into itself or descendant. Skipping.")),c.push("Cannot move ".concat(u," into itself.")),l=!1,e.abrupt("return",1);case 12:for(h=!1,f=1,p=function(e){var t=e.toLowerCase();return o.some((function(e){return e.path.toLowerCase()===t}))||i.some((function(e){return e.path.toLowerCase()===t}))};p(d);)h=!0,m=getExtension(u),A=m?u.slice(0,-(m.length+1)):u,g="".concat(A," (").concat(f,")").concat(m?"."+m:""),d=$().join(y.path,g).replace(/\\\\/g,"/"),f++;return h&&console.log("[App] Target path exists, using: ".concat(d)),e.prev=18,e.next=21,window.api.moveItem(n,d,r);case 21:console.log("[App] Move successful: ".concat(n," -> ").concat(d)),r?((i=i.filter((function(e){return e.path!==n}))).push(uy(uy({},t),{},{path:d})),v=n+"/",i=i.map((function(e){return e.path.startsWith(v)?uy(uy({},e),{},{path:d+"/"+e.path.substring(v.length)}):e})),o=o.map((function(e){if(e.path.startsWith(v)){var t=d+"/"+e.path.substring(v.length);return s&&e.path===s.path&&(s=uy(uy({},s),{},{path:t})),uy(uy({},e),{},{path:t})}return e})),(b=a[n])&&(a[d]=b,delete a[n]),w=Y(n)||".",k=Y(d)||".",w in a&&(a[w]=a[w].filter((function(e){return e!==n}))),k in a?a[k].includes(d)||a[k].push(d):a[k]=[d]):((o=o.filter((function(e){return e.path!==n}))).push(uy(uy({},t),{},{path:d})),s&&s.path===n&&(s=uy(uy({},s),{},{path:d})),x=Y(n)||".",U=Y(d)||".",x in a&&(a[x]=a[x].filter((function(e){return e!==n}))),U in a?a[U].includes(d)||a[U].push(d):a[U]=[d]),e.next=30;break;case 25:e.prev=25,e.t0=e.catch(18),console.error("[App] Error moving ".concat(n," to ").concat(d,":"),e.t0),c.push("Failed to move ".concat(u,": ").concat(e.t0.message)),l=!1;case 30:e.next=37;break;case 32:e.prev=32,e.t1=e.catch(1),console.error("[App] Unexpected error in handleMoveItem:",e.t1),c.push("Error: ".concat(e.t1.message)),l=!1;case 37:case"end":return e.stop()}}),e,null,[[1,32],[18,25]])})),w.s();case 30:if((E=w.n()).done){e.next=36;break}return e.delegateYield(k(),"t0",32);case 32:if(!e.t0){e.next=34;break}return e.abrupt("continue",34);case 34:e.next=30;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(27),w.e(e.t1);case 41:return e.prev=41,w.f(),e.finish(41);case 44:he(o),fe(i),ze(a),q((function(e){return e+1})),re&&s&&re.path!==s.path&&pe(s),Ue({files:!1}),t.length>1?l?ge("Successfully moved ".concat(t.length," items.")):(ve("Some items could not be moved. Check console for details."),console.error("[App] Move errors:",c)):l||ve(c[0]||"Failed to move item.");case 51:case"end":return e.stop()}}),e,null,[[27,38,41,44]])})));return function(t,n,r){return e.apply(this,arguments)}}()),Yt=function(){var e=my(hy().mark((function e(t){var n,r,o,i,a,s,l,c,u,d;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("[App] Creating new folder in: ".concat(t)),n=null,e.prev=2,r=0,o="New Folder",i=t||".",n=$().join(i,o),a=ne.filter((function(e){return(Y(e.path)||".")===i}));a.some((function(e){return e.name===o}));)r++,o="".concat("New Folder"," (").concat(r,")"),n=$().join(i,o);return console.log("[App] Attempting to create folder at: ".concat(n)),e.next=13,window.api.createFolder(n);case 13:if((s=e.sent)&&s.path){e.next=16;break}throw new Error("Folder creation API did not return a valid folder object.");case 16:return l=s.path.replace(/\\/g,"/"),c=uy(uy({},s),{},{path:l,name:K(l),type:"folder"}),fe((function(e){return[].concat(ly(e),[c])})),ge("Created folder: ".concat(K(l))),u=Y(l)||".",d=ot[u]||[],_e(u,[].concat(ly(d),[l])),_e(l,[]),e.abrupt("return",l);case 27:return e.prev=27,e.t0=e.catch(2),console.error("[App] Error creating folder: ".concat(e.t0.message)),ve("Failed to create folder: ".concat(e.t0.message)),e.abrupt("return",null);case 32:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=my(hy().mark((function e(t){var n,r,o,i,a,s,l,c,u,d;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("[App] Creating new file in: ".concat(t)),n=null,e.prev=2,r=0,o="".concat("Untitled").concat(".md"),i=t||".",n=$().join(i,o),a=te.filter((function(e){return(Y(e.path)||".")===i}));a.some((function(e){return e.name===o}));)r++,o="".concat("Untitled"," (").concat(r,")").concat(".md"),n=$().join(i,o);return e.next=13,window.api.createFile(n);case 13:if((s=e.sent)&&s.path){e.next=16;break}throw new Error("File creation API did not return a valid file object.");case 16:return l=s.path.replace(/\\/g,"/"),c=uy(uy({},s),{},{path:l,name:K(l),type:"file"}),he((function(e){return[].concat(ly(e),[c])})),ge("Created file: ".concat(K(l))),u=Y(l)||".",d=ot[u]||[],_e(u,[].concat(ly(d),[l])),e.abrupt("return",{path:l,name:c.name,type:"file",isNew:!0});case 26:return e.prev=26,e.t0=e.catch(2),console.error("[App] Error creating file: ".concat(e.t0.message)),ve("Failed to create file: ".concat(e.t0.message)),e.abrupt("return",null);case 31:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t){return e.apply(this,arguments)}}(),Qt=((0,e.useCallback)((function(e,t){qe(e,t)}),[qe]),function(e,n){var r,o;t.current&&(null===(r=(o=t.current).handleSearch)||void 0===r||r.call(o,e,n))}),Xt=function(e,n,r){var o,i;t.current&&(null===(o=(i=t.current).handleReplace)||void 0===o||o.call(i,e,n,r))},Jt=function(e,n,r){var o,i;t.current&&(null===(o=(i=t.current).handleReplaceAll)||void 0===o||o.call(i,e,n,r))};(0,e.useEffect)((function(){var e=setTimeout((function(){window._isDraggingSplitPane||(window.dispatchEvent(new Event("resize")),t.current&&"function"==typeof t.current.refreshLayout&&t.current.refreshLayout(),r.current&&"function"==typeof r.current.refreshLayout&&r.current.refreshLayout())}),50);return function(){return clearTimeout(e)}}),[E,B,U]);var Zt=function(){var e=my(hy().mark((function e(n,r,o){var i,a,s,l,c,u,d,h,f,p,m;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[App] Renaming item: ".concat(n," -> ").concat(r,", isDirectory: ").concat(o)),Ue({files:!0}),e.prev=2,e.next=5,window.api.moveItem(n,r,o);case 5:if((i=e.sent)&&i.success){e.next=8;break}throw new Error((null==i?void 0:i.message)||"Unknown error during rename/move");case 8:if(a=K(r),s=Y(n)||".",l=Y(r)||".",o?fe((function(e){return e.map((function(e){return e.path===n?uy(uy({},e),{},{path:r,name:a}):e}))})):he((function(e){return e.map((function(e){return e.path===n?uy(uy({},e),{},{path:r,name:a}):e}))})),o||((c=et.findIndex((function(e){return e.path===n})))>-1?(Oe(n,{path:r,name:a}),console.log('[App HandleRenameItem] Focus Check: currentFile.path = "'.concat(null==re?void 0:re.path,'", oldPath = "').concat(n,'"')),(null==re?void 0:re.path)===n?(console.log("[App HandleRenameItem] Focus Check Passed: currentFile.path === oldPath. Updating currentFile and scheduling editor focus."),pe(uy(uy({},et[c]),{},{path:r,name:a})),setTimeout((function(){var e=t.current;e&&"function"==typeof e.focus?setTimeout((function(){var e;t.current&&"function"==typeof t.current.focus?(console.log("[App] Focusing editor after rename of current file (after micro-delay)"),t.current.focus()):console.log("[App] Editor became non-focusable during micro-delay after rename.",{editorRefCurrent:t.current,focusType:sy(null===(e=t.current)||void 0===e?void 0:e.focus)})}),0):console.log("[App] Editor not focusable after rename (main check). Details:",{editorRefCurrent:e,focusType:sy(null==e?void 0:e.focus)})}),150)):console.log("[App HandleRenameItem] Focus Check Failed: currentFile.path !== oldPath. Not focusing editor.")):console.log('[App HandleRenameItem] File to rename (oldPath: "'.concat(n,'") not found in openFiles. Index: ').concat(c))),u=uy({},ot||{}),s!==l?(u[s]&&(u[s]=u[s].filter((function(e){return e!==n})),0===u[s].length&&delete u[s]),u[l]=[].concat(ly(u[l]||[]),[r])):u[s]&&(u[s]=u[s].map((function(e){return e===n?r:e}))),o)for(f in d=Object.keys(u).filter((function(e){return e===n||e.startsWith(n+"/")})),h={},d.forEach((function(e){var t=e.substring(n.length),o=r+t;h[o]=(u[e]||[]).map((function(t){var n=t.substring(e.length);return o+n})),e!==o&&delete u[e]})),h)u[f]=h[f];ze(u),nt.includes(n)&&(He(n),We(r)),p=uy({},rt),m=!1,Object.keys(rt).forEach((function(e){if(e===n)delete p[e],p[r]=!0,m=!0;else if(e.startsWith(n+"/")){delete p[e];var t=e.substring(n.length);p[r+t]=!0,m=!0}})),m&&Le(p),ge("Renamed to ".concat(a)),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(2),console.error("[App] Error renaming item: ".concat(e.t0.message)),ve("Failed to rename: ".concat(e.t0.message));case 29:return e.prev=29,Ue({files:!1}),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[2,25,29,32]])})));return function(t,n,r){return e.apply(this,arguments)}}(),en=function(){var e=my(hy().mark((function e(t){var n,r,o,i,a,s,l,c,u,d,h,f,p,m,A,g,v,b,y,w,E,k,x,U,S,C,F,I,M,O,N;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=2;break}return e.abrupt("return");case 2:if(n="",r=t.filter((function(e){return"file"===e.type})).length,o=t.filter((function(e){return"folder"===e.type})).length,1===t.length?(i=t[0],a=K(i.path),n="folder"===i.type?'Are you sure you want to remove the folder "'.concat(a,'" and its contents from the view? This will NOT delete files from your disk.'):'Are you sure you want to delete the file "'.concat(a,'"? This cannot be undone.')):(s=[],r>0&&s.push("".concat(r," file(s)")),o>0&&s.push("".concat(o," folder(s)")),n="Are you sure you want to delete/remove ".concat(s.join(" and "),"? Files will be deleted from disk; folders will be removed from view. This cannot be undone for files.")),window.confirm(n)){e.next=9;break}return e.abrupt("return");case 9:for(g in l=ly(te),c=ly(ne),u=ly(et),d=re?uy({},re):null,h=oe,f=!0,p=[],m=t.reduce((function(e,t){var n=Y(t.path)||".";return e[n]||(e[n]=[]),e[n].push(t),e}),{}),A={},m)A[g]=ly(ke.ui.itemOrder[g]||[]);v=[],b=null,y=ly(te),w=ly(ne),t.forEach((function(e){var t=e.path,n="folder"===e.type;if(n){var r=t.endsWith("/")?t:t+"/";w=w.filter((function(e){return e.path!==t&&!e.path.startsWith(r)})),y=y.filter((function(e){return!e.path.startsWith(r)})),nt.includes(t)&&He(t)}else y=y.filter((function(e){return e.path!==t}));var o=Y(t)||".";je(t,o,n);var i=t+(n?"/":""),a=et.filter((function(e){return n?e.path.startsWith(i):e.path===t}));v.push.apply(v,ly(a))})),he(y),fe(w),v.forEach((function(e){return Me(e)})),re&&v.some((function(e){return e.path===re.path}))&&((E=u.filter((function(e){return!v.some((function(t){return t.path===e.path}))}))).length>0&&(k=u.findIndex((function(e){return e.path===re.path})),b=k>0&&E.find((function(e){var t;return e.path===(null===(t=u[k-1])||void 0===t?void 0:t.path)}))?u[k-1].path:E[0].path),pe(null),de("")),x=fy(t),e.prev=30,x.s();case 32:if((U=x.n()).done){e.next=50;break}if(S=U.value,C=S.path,"folder"===S.type){e.next=48;break}return e.prev=37,e.next=40,window.api.deleteFile(C);case 40:(F=e.sent)&&F.success||(f=!1,p.push("Failed to delete file ".concat(K(C),": ").concat((null==F?void 0:F.error)||"Unknown error"))),e.next=48;break;case 44:e.prev=44,e.t0=e.catch(37),f=!1,p.push("Error deleting file ".concat(K(C),": ").concat(e.t0.message));case 48:e.next=32;break;case 50:e.next=55;break;case 52:e.prev=52,e.t1=e.catch(30),x.e(e.t1);case 55:return e.prev=55,x.f(),e.finish(55);case 58:if(f)b&&(I=u.find((function(e){return e.path===b})))&&le(I),M=t.length>1?"".concat(t.length," items processed."):"folder"===t[0].type?"Removed folder from view: ".concat(K(t[0].path)):"Deleted file: ".concat(K(t[0].path)),ge(M);else{for(N in console.error("[App] Multi-Delete Failed. Rolling back. Errors: ".concat(p.join("; "))),ve("Failed to process all items: ".concat(p.join("; "),". Reverting changes.")),he(l),fe(c),O=new Set(et.map((function(e){return e.path}))),u.forEach((function(e){O.has(e.path)||Ie(e)})),A)_e(N,A[N]);d?(pe(d),de(h)):re&&(pe(null),de(""))}case 59:case"end":return e.stop()}}),e,null,[[30,52,55,58],[37,44]])})));return function(t){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){if(!ke.loading.files&&!ut&&(te.length>0||ne.length>0)){var e=ke.ui.itemOrder||{};if(0===Object.keys(e).length||Object.values(e).every((function(e){return 0===e.length}))){console.log("[App itemOrder Effect] Context itemOrder is empty. Initializing based on current files/folders.");var t={},n=[].concat(ly(te),ly(ne)).reduce((function(e,t){var n=Y(t.path)||".";return e[n]||(e[n]=[]),e[n].push(t),e}),{});for(var r in n){var o=n[r];o.sort((function(e,t){return"folder"===e.type&&"folder"!==t.type?-1:"folder"!==e.type&&"folder"===t.type?1:e.name.localeCompare(t.name)})),t[r]=o.map((function(e){return e.path}))}ze(t)}dt(!0)}lt.current=ke.loading.files}),[ke.loading.files,ke.ui.itemOrder,ut,te,ne,ze]);var tn=(0,e.useMemo)((function(){return te}),[te]),nn=(0,e.useMemo)((function(){return ne}),[ne]),rn=(0,e.useCallback)((function(e){if(e.ctrlKey&&r.current){e.preventDefault();var t,n,o,i,a=null;null!==(a=e.deltaY<0?null===(t=(n=r.current).zoomIn)||void 0===t?void 0:t.call(n):null===(o=(i=r.current).zoomOut)||void 0===o?void 0:o.call(i))&&_t(a)}}),[r,_t]),on=ke.savedWorkspaceStates,an=ke.pendingWorkspaceLoad,sn=ke.activeNamedWorkspaceName;(0,e.useEffect)((function(){if(!y.current){y.current=!0;var e=function(){var e=my(hy().mark((function e(t){var n,r,o;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.length>0)){e.next=31;break}console.log("[App Startup] Performing initial scan for restored folders:",t),Ue({files:!0}),e.prev=3,n=fy(t),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=13;break}return o=r.value,e.next=11,mt(o,!0);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:console.log("[App Startup] Initial scan complete for AppState-restored folders."),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(3),console.error("[App Startup] Error during initial scan of AppState-restored folders:",e.t1),ve("Error during initial scan: ".concat(e.t1.message));case 28:return e.prev=28,Ue({files:!1}),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[3,24,28,31],[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}(),t=function(){var t=my(hy().mark((function t(){var n,r,o,i,a,s;return hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null,r=localStorage.getItem("lastActiveMdViewerWorkspaceName"),!(ke.ui.activeRootFolders&&ke.ui.activeRootFolders.length>0)){t.next=12;break}return console.log("[App Startup] AppStateProvider restored session with root folders. Prioritizing this session:",ke.ui.activeRootFolders),t.next=6,e(ke.ui.activeRootFolders);case 6:i=null,ke.currentFile&&ke.currentFile.path?(console.log("[App Startup] AppStateProvider restored currentFile. Using this:",ke.currentFile),i=ke.currentFile):r&&ke.savedWorkspaceStates&&ke.savedWorkspaceStates[r]&&(a=ke.savedWorkspaceStates[r])&&a.activeFilePath&&(console.log("[App Startup] AppStateProvider did not restore currentFile. Trying activeFilePath ('".concat(a.activeFilePath,"') from saved session '").concat(r,"'.")),(s=ke.openFiles.find((function(e){return e.path===a.activeFilePath})))&&(console.log("[App Startup] Found target file in restored openFiles based on saved activeFilePath:",s),i=s)),!i&&ke.openFiles&&ke.openFiles.length>0&&null!==(o=ke.openFiles[0])&&void 0!==o&&o.path&&(console.log("[App Startup] No specific currentFile determined. Attempting to open first of restored openFiles:",ke.openFiles[0]),i=ke.openFiles[0]),i?(le(i),Pe(i)):console.log("[App Startup] No currentFile or openFiles with paths restored by AppStateProvider to auto-open after folder scan."),t.next=13;break;case 12:r&&ke.savedWorkspaceStates&&ke.savedWorkspaceStates[r]?(console.log("[App Startup] No session folders from AppState. Found last active NAMED workspace: '".concat(r,"'. Triggering full load.")),(n=ke.savedWorkspaceStates[r])&&Qe(n)):(console.log("[App Startup] No active session from AppState or last named workspace found. Starting fresh."),r&&(console.log("[App Startup] Last active NAMED workspace '".concat(r,"' not found in current state.savedWorkspaceStates or was invalid. Clearing from localStorage.")),localStorage.removeItem("lastActiveMdViewerWorkspaceName")));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[ke.ui.activeRootFolders,ke.currentFile,ke.openFiles,ke.savedWorkspaceStates,Qe,mt,Ue,ve,le,Pe]),(0,e.useEffect)((function(){j(nt.length>0)}),[nt]);var ln=function(){var e=my(hy().mark((function e(){return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[App] handleSaveProject called - opening dialog"),0!==nt.length){e.next=4;break}return ve("Cannot save project state: No folder is open."),e.abrupt("return");case 4:L(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cn=function(e){var t;if(console.log("[App] autoSaveWorkspace called for name: ".concat(e)),e)if(0!==ke.ui.activeRootFolders.length){var n={name:e,timestamp:Date.now(),rootFolders:ke.ui.activeRootFolders,expandedNodes:ke.ui.activeExpandedNodes,openFiles:ke.openFiles.map((function(e){return e.path})),itemOrder:ke.ui.itemOrder,explorerSortBy:ke.ui.preferences.explorerSortBy,explorerSortDirection:ke.ui.preferences.explorerSortDirection,activeFilePath:null===(t=ke.currentFile)||void 0===t?void 0:t.path};console.log("[App] Auto-saving workspace state via context:",n);try{Ye(e,n),be("Workspace '".concat(e,"' auto-saved."))}catch(t){console.error("[App] Failed to dispatch auto-save for workspace state '".concat(e,"':"),t),ve("Failed to auto-save workspace state '".concat(e,"'."))}}else console.warn("[App] autoSaveWorkspace: No active root folders to save. Aborting.");else console.warn("[App] autoSaveWorkspace called without a workspace name. Aborting.")};(0,e.useEffect)((function(){if(an){var e=function(){var e=my(hy().mark((function e(){var t,n,r,o,i,a,s,l,c,u,d,h,f,p,m,A,g,v,b,y,w,E,k,x,U,S,C,F,I,M,O,N,D,B;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[App Load Effect] Starting load for pending workspace:",an.name),be("Loading workspace state '".concat(an.name,"'...")),Ue(!0),e.prev=3,console.log("[App Load Effect] Clearing current workspace state..."),De(),ue?ue():(pe(null),de(""),he([]),fe([]),console.warn("[App Load Effect] originalClearFolders was not available. Used individual setters.")),Re([]),Le({}),ze({}),Ke(),t=an.name,n=an.rootFolders,r=void 0===n?[]:n,o=an.expandedNodes,i=void 0===o?{}:o,a=an.openFiles,s=void 0===a?[]:a,l=an.itemOrder,c=void 0===l?{}:l,u=an.explorerSortBy,d=void 0===u?"name":u,h=an.explorerSortDirection,f=void 0===h?"asc":h,p=an.activeFilePath,m=void 0===p?null:p,A=an.preferences,g=void 0===A?{}:A,v=an.editorSelections,b=void 0===v?{}:v,y=an.editorCursorPositions,w=void 0===y?{}:y,E=an.editorFontSize,k=void 0===E?null:E,x=an.splitSizes,U=void 0===x?null:x,console.log("[App Load Effect] Setting state for workspace: '".concat(t,"'. Folders: ").concat(r.length,", Files: ").concat(s.length,", ActiveFile: ").concat(m)),Re(r),Le(i),ze(c),qe(d,f),g&&Object.keys(g).length>0?(console.log("[App pendingWorkspaceLoad] Restoring preferences:",g),Te(g)):console.log("[App pendingWorkspaceLoad] No preferences to restore or loadedPreferences is empty."),qe(g.explorerSortBy||"name",g.explorerSortDirection||"asc"),console.log("[App pendingWorkspaceLoad] Loaded editor states (require context actions to restore):",{loadedEditorSelections:b,loadedEditorCursorPositions:w,loadedEditorFontSize:k}),null!==k&&"function"==typeof Te&&console.log("[App pendingWorkspaceLoad] Editor font size to restore: ".concat(k,". Ensure AppStateContext handles this.")),!(r.length>0)){e.next=57;break}console.log("[App Load Effect] Scanning folders for loaded state..."),S=[],C=fy(r),e.prev=25,C.s();case 27:if((F=C.n()).done){e.next=42;break}return I=F.value,e.prev=29,e.next=32,mt(I,!0);case 32:(M=e.sent)&&M.files&&(S=S.concat(M.files)),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(29),console.error("[App Load Effect] Error scanning folder ".concat(I,":"),e.t0),ve("Error scanning folder ".concat(I," while loading workspace."));case 40:e.next=27;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(25),C.e(e.t1);case 47:return e.prev=47,C.f(),e.finish(47);case 50:O=new Map,S.forEach((function(e){return O.set(e.path,e)})),N=Array.from(O.values()),console.log("[App Load Effect] Finished scanning all folders. Total unique files found:",N.length),s.length>0&&(console.log("[App Load Effect] Attempting to re-open files:",s),D=s.map((function(e){return N.find((function(t){return t.path===e}))})).filter(Boolean),console.log("[App Load Effect] Found file objects to re-open:",D),D.length>0?(D.forEach((function(e){return Ie(e)})),B=null,m&&(B=D.find((function(e){return e.path===m}))),!B&&D.length>0&&(B=D[0],console.log("[App Load Effect] Saved active file not found or not specified, falling back to first tab:",B)),B?(console.log("[App Load Effect] Explicitly setting current file in useFiles and AppStateContext to:",B),pe(B),Pe(B),console.log("[App Load Effect] Now calling originalOpenFile to load content for:",B),le(B)):(console.warn("[App Load Effect] No file found to make current after attempting to restore active/fallback."),pe(null),Pe(null),de(""))):(console.warn("[App Load Effect] No valid file objects found to re-open from saved state."),pe(null),Pe(null),de(""))),e.next=61;break;case 57:console.log("[App Load Effect] Loaded workspace has no root folders."),pe(null),Pe(null),de("");case 61:ge("Workspace state '".concat(t,"' loaded.")),$e(t);try{localStorage.setItem("lastActiveMdViewerWorkspaceName",t)}catch(e){console.error("[App Load Effect] Failed to save last active workspace name:",e)}U&&Array.isArray(U)&&3===U.length&&(console.log("[App Load Effect] Restoring split sizes:",U),gn(U),window.api.setStoreValue("splitSizes",U).catch((function(e){return console.error("[App Load Effect] Error saving loaded split sizes to store:",e)}))),e.next=78;break;case 67:e.prev=67,e.t2=e.catch(3),console.error("[App Load Effect] Error loading workspace state '".concat(null==an?void 0:an.name,"':"),e.t2),ve("Error loading workspace state '".concat(null==an?void 0:an.name,"': ").concat(e.t2.message)),ue&&ue(),De(),Re([]),Le({}),ze({}),qe("name","asc"),Ke();case 78:return e.prev=78,console.log("[App Load Effect] Clearing pending workspace load state."),Xe(),Ue(!1),e.finish(78);case 83:case"end":return e.stop()}}),e,null,[[3,67,78,83],[25,44,47,50],[29,36]])})));return function(){return e.apply(this,arguments)}}();e()}}),[an,De,ue,Re,Le,ze,qe,mt,Ie,le,te,pe,de,he,fe,Xe,Ue,be,ge,ve,$e,Ke,Qe,Te,on,An,gn]);var un=(0,e.useCallback)((function(e){Ve(e)}),[Ve]),dn=(0,e.useCallback)((function(e,t){console.log("[App] handleStateReorder called: ".concat(e," -> ").concat(t));var n=Object.values(ke.savedWorkspaceStates||{});if(e<0||e>=n.length||t<0||t>=n.length)console.warn("[App] handleStateReorder: Invalid indices. oldIndex: ".concat(e,", newIndex: ").concat(t,", states: ").concat(n.length));else{var r=eb(n,e,t).reduce((function(e,t){return e[t.name]=t,e}),{});Ze(r);try{localStorage.setItem("savedMdViewerWorkspaceStates",JSON.stringify(r))}catch(e){console.error("Failed to save reordered workspace states to localStorage:",e),ve("Failed to save the new state order.")}}}),[ke.savedWorkspaceStates,Ze,ve]),hn=(0,e.useCallback)((function(e,t){console.log("[App] handleTabReorder called: ".concat(e," -> ").concat(t)),Be(e,t)}),[Be]),fn=(0,e.useCallback)((function(e,t){if(console.log("[App] handleRenameWorkspaceState called: ".concat(e," -> ").concat(t)),on[e]&&t&&""!==t.trim()&&e!==t)if(on[t])ve('Cannot rename: A workspace named "'.concat(t,'" already exists.'));else{var n=uy({},on[e]),r=uy(uy({},n),{},{name:t,timestamp:Date.now()});try{var o=sn===e;Je(e,t,r),o&&$e(t),ge('Workspace "'.concat(e,'" renamed to "').concat(t,'".'))}catch(e){console.error("[App] Error renaming workspace: ".concat(e.message)),ve("Failed to rename workspace: ".concat(e.message))}}else console.warn("[App] Rename aborted: Invalid names or old state not found.")}),[on,sn,Je,$e,ve,ge]),pn=(0,e.useCallback)((function(e){var t;return{name:e,timestamp:Date.now(),rootFolders:ke.ui.activeRootFolders||[],expandedNodes:ke.ui.activeExpandedNodes||{},openFiles:ke.openFiles.map((function(e){return e.path})),activeFilePath:(null===(t=ke.currentFile)||void 0===t?void 0:t.path)||null,itemOrder:ke.ui.itemOrder||{},preferences:uy({},ke.ui.preferences||{}),editorSelections:uy({},ke.editor.selections||{}),editorCursorPositions:uy({},ke.editor.cursorPositions||{}),editorFontSize:ke.editor.fontSize||14,splitSizes:An}}),[ke.ui.activeRootFolders,ke.ui.activeExpandedNodes,ke.openFiles,ke.currentFile,ke.ui.itemOrder,ke.ui.preferences,ke.editor.selections,ke.editor.cursorPositions,ke.editor.fontSize,An]);(0,e.useEffect)((function(){var e=function(){var e,t,n=ke.activeNamedWorkspaceName;n?(console.log("[App BeforeUnload] Active named workspace is '".concat(n,"'. Its state will be updated.")),e=n,t=pn(n),Ye(n,t)):(console.log("[App BeforeUnload] No active named workspace. Saving current state as __last_session__"),t=pn(e="__last_session__"),Ye(e,t));var r=uy(uy({},ke.savedWorkspaceStates||{}),{},dy({},e,t));try{localStorage.setItem("savedMdViewerWorkspaceStates",JSON.stringify(r)),localStorage.setItem("lastActiveMdViewerWorkspaceName",e),console.log("[App BeforeUnload] Manually saved/updated workspace '".concat(e,"' in 'savedMdViewerWorkspaceStates' and set 'lastActiveMdViewerWorkspaceName' in localStorage."))}catch(e){console.error("[App BeforeUnload] Error manually saving workspace data to localStorage:",e)}};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[ke.activeNamedWorkspaceName,ke.savedWorkspaceStates,pn,Ye]);var mn=Ay((0,e.useState)([25,37.5,37.5]),2),An=mn[0],gn=mn[1];(0,e.useEffect)((function(){function e(){return(e=my(hy().mark((function e(){var t;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.api.getStoreValue("splitSizes");case 3:(t=e.sent)&&Array.isArray(t)&&3===t.length&&gn(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to load saved split sizes:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var vn=Ay((0,e.useState)(new Map),2),bn=vn[0],yn=vn[1],wn=Ay((0,e.useState)(!1),2),En=wn[0],kn=wn[1],xn=(0,e.useCallback)((function(e){return e?"editor-".concat(e.path):"editor-untitled"}),[]);(0,e.useEffect)((function(){if(re){var e=xn(re);kn(bn.has(e))}else kn(!1)}),[re,bn,xn]);var Un=(0,e.useCallback)(my(hy().mark((function e(){var n,r,o;return hy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re){e.next=2;break}return e.abrupt("return");case 2:if(!En){e.next=4;break}return e.abrupt("return");case 4:n=xn(re),r=null;try{t.current&&"function"==typeof t.current.getCursorPosition?r=t.current.getCursorPosition():t.current&&"function"==typeof t.current.getCurrentCursorPosition&&(r=t.current.getCurrentCursorPosition())}catch(e){console.error("Error getting cursor position:",e)}return window.__DETACHED_CONTENT__=window.__DETACHED_CONTENT__||{},window.__DETACHED_CONTENT__[n]={content:oe,cursorPosition:r,file:re,allOpenFiles:et,currentFilePath:re.path},e.next=11,window.api.createDetachedWindow({title:"Editor - ".concat(re.name),width:800,height:600,contentId:n,fileInfo:re,allOpenFilePaths:et.map((function(e){return e.path}))});case 11:(o=e.sent).success&&(yn((function(e){var t=new Map(e);return t.set(n,o.windowId),t})),kn(!0));case 13:case"end":return e.stop()}}),e)}))),[re,oe,t,et,xn]);if((0,e.useEffect)((function(){if(window.detachedAPI){if(window.detachedAPI.isDetachedWindow()){var e=window.detachedAPI.getContentId(),n=window.detachedAPI.getFileInfo();window.api.getDetachedContent(e).then((function(e){if(e&&(setContent(e.content),e.cursorPosition&&(Tt(e.cursorPosition),t.current&&t.current.setCursorPosition(e.cursorPosition)),n.path)){var r={path:n.path,name:n.name};pe(r)}}));var r=window.detachedAPI.onContentUpdate((function(n){n.contentId===e&&(setContent(n.content),n.cursorPosition&&(Tt(n.cursorPosition),t.current&&t.current.setCursorPosition(n.cursorPosition)))}));return function(){return r()}}var o=window.api.onDetachedContentUpdate((function(e){var n=e.contentId,r=e.content,o=e.cursorPosition,i=et.find((function(e){return xn(e)===n}));i&&(console.log("Received content update from detached window for file:",i.path),i.path&&(Ne(i,!0),i.path===(null==re?void 0:re.path)&&(console.log("Updating editor content with content from detached window"),de(r),o&&t.current&&(t.current.setCursorPosition(o),Tt(o)))))}));return function(){o()}}}),[xn,re,et,t,de]),(0,e.useEffect)((function(){if(re&&bn.size>0){var e=xn(re),n=null;try{t.current&&"function"==typeof t.current.getCursorPosition?n=t.current.getCursorPosition():t.current&&"function"==typeof t.current.getCurrentCursorPosition&&(n=t.current.getCurrentCursorPosition())}catch(e){console.error("Error getting cursor position for sync:",e)}bn.has(e)&&(console.log("Sending content update to detached window for file:",re.path),window.api.updateDetachedContent(e,oe,n))}}),[oe,re,bn,t,xn]),(0,e.useEffect)((function(){if(!window.detachedAPI||!window.detachedAPI.isDetachedWindow()){var e=window.api.onDetachedWindowClosed((function(e){console.log("Detached window closed for contentId: ".concat(e));var t=et.find((function(t){return xn(t)===e}));t&&(console.log("Resetting detached state for file: ".concat(t.path)),yn((function(t){var n=new Map(t);return n.delete(e),n})),re&&xn(re)===e&&kn(!1))}));return function(){e()}}}),[re,et,xn]),(0,e.useEffect)((function(){if(!window.detachedAPI||!window.detachedAPI.isDetachedWindow()){var e=function(e,t){console.log("[App] Received tab change from detached window: contentId=".concat(e,", filePath=").concat(t));var n=et.find((function(e){return e.path===t}));!n||re&&re.path===t||(console.log("[App] Switching main window tab to: ".concat(t)),Vt(n))};return window.api&&window.api.onDetachedTabChange?(window.api.onDetachedTabChange(e),function(){window.api&&window.api.removeDetachedTabChangeListener&&window.api.removeDetachedTabChangeListener(e)}):(console.warn("[App] Tab change API not available"),document.addEventListener("detached-tab-change",(function(t){t.detail&&t.detail.contentId&&t.detail.filePath&&e(t.detail.contentId,t.detail.filePath)})),function(){document.removeEventListener("detached-tab-change",e)})}}),[et,re,Vt]),(0,e.useEffect)((function(){if(window.detachedAPI&&window.detachedAPI.isDetachedWindow()){document.body.classList.add("detached-window");var e=window.detachedAPI.getFileInfo();return e&&e.name?document.title="".concat(e.name," - Detached Editor"):document.title="Detached Editor",function(){document.body.classList.remove("detached-window")}}}),[]),window.detachedAPI&&window.detachedAPI.isDetachedWindow()){var Sn=window.detachedAPI.getContentId(),Cn=window.detachedAPI.getFileInfo(),Fn=window.detachedAPI.getAllOpenFiles();console.log("[Detached Window] Retrieved open files:",Fn);var In=Fn.filter((function(e){return e&&e.path})).reduce((function(e,t){return e.some((function(e){return e.path===t.path}))||e.push(t),e}),[]);console.log("[Detached Window] Filtered valid files:",In);var Mn=Ay((0,e.useState)(Cn),2),On=Mn[0],Nn=Mn[1],Dn=Ay((0,e.useState)(In.length>0?In:[Cn]),2),Bn=Dn[0];Dn[1],(0,e.useEffect)((function(){Pt||Tt({line:1,column:1})}),[Pt]);var Pn=function(e){if(e&&e.path!==(null==On?void 0:On.path)){console.log("[Detached Window] Changing tab to: ".concat(e.path));var n=Date.now();window._lastTabChangeId=n,window.api.getDetachedContent(xn(e)).then((function(o){var i;window._lastTabChangeId===n?o?(console.log("[Detached Window] Received content from main window: ".concat((null===(i=o.content)||void 0===i?void 0:i.length)||0," characters")),Nn(e),de(o.content||""),setTimeout((function(){if(window._lastTabChangeId===n){if(Rn&&r.current){console.log("[Detached Window] Refreshing preview after tab change");try{if("function"==typeof r.current.refreshContent)r.current.refreshContent();else if("function"==typeof r.current.refreshLayout)r.current.refreshLayout();else{var e=r.current.getContainer();e&&(e.style.display="none",e.offsetHeight,e.style.display="")}window.dispatchEvent(new Event("resize"))}catch(e){console.error("[Detached Window] Error refreshing preview:",e)}}o.cursorPosition&&(Tt(o.cursorPosition),t.current&&t.current.setCursorPosition(o.cursorPosition))}}),100),console.log("[Detached Window] Notifying main window of tab change to: ".concat(e.path)),window.api.notifyMainWindowTabChange(Sn,e.path)):(console.log("[Detached Window] No content from main window, loading file directly"),window.api.readMarkdownFile(e.path).then((function(t){window._lastTabChangeId===n?(Nn(e),de(t||""),setTimeout((function(){if(window._lastTabChangeId===n&&Rn&&r.current){console.log("[Detached Window] Refreshing preview after direct file load");try{if("function"==typeof r.current.refreshContent)r.current.refreshContent();else if("function"==typeof r.current.refreshLayout)r.current.refreshLayout();else{var e=r.current.getContainer();e&&(e.style.display="none",e.offsetHeight,e.style.display="")}window.dispatchEvent(new Event("resize"))}catch(e){console.error("[Detached Window] Error refreshing preview:",e)}}}),100),console.log("[Detached Window] Notifying main window of tab change to: ".concat(e.path)),window.api.notifyMainWindowTabChange(Sn,e.path)):console.log("[Detached Window] Skipping outdated file load")})).catch((function(e){return console.error("Error loading file in detached window:",e)}))):console.log("[Detached Window] Skipping outdated tab change")})).catch((function(e){return console.error("Error getting detached content:",e)}))}};(0,e.useEffect)((function(){console.log("[Detached Window] Setting up tab change listener from main window"),window.detachedAPI&&window.detachedAPI._clearTabChangeListeners&&window.detachedAPI._clearTabChangeListeners();var e=window.detachedAPI.onTabChange((function(e){console.log("[Detached Window] Received tab change from main window: ".concat(e));var t=Bn.find((function(t){return t.path===e}));t&&t.path!==(null==On?void 0:On.path)&&(console.log("[Detached Window] Switching to tab: ".concat(t.path)),Pn(t),Rn&&r.current&&setTimeout((function(){console.log("[Detached Window] Extra preview refresh after tab change from main window");try{"function"==typeof r.current.refreshContent?r.current.refreshContent():"function"==typeof r.current.refreshLayout&&r.current.refreshLayout()}catch(e){console.error("[Detached Window] Error in extra preview refresh:",e)}}),200))}));return function(){console.log("[Detached Window] Cleaning up tab change listener"),e()}}),[Bn,null==On?void 0:On.path,Rn]),(0,e.useEffect)((function(){if(oe&&Sn&&window.api){var e=null;try{t.current&&"function"==typeof t.current.getCursorPosition?e=t.current.getCursorPosition():t.current&&"function"==typeof t.current.getCurrentCursorPosition&&(e=t.current.getCurrentCursorPosition())}catch(e){console.error("Error getting cursor position for detached sync:",e)}window.api.updateDetachedContent&&window.api.updateDetachedContent(Sn,oe,e).catch((function(e){return console.error("Error with updateDetachedContent in useEffect:",e)})),window.api.updateMainContent&&window.api.updateMainContent(Sn,oe,e).catch((function(e){return console.error("Error with updateMainContent in useEffect:",e)}))}}),[oe,Sn,t]),(0,e.useEffect)((function(){Rn&&r.current&&On&&(console.log("[Detached Window] Updating preview for content or file change"),setTimeout((function(){try{if("function"==typeof r.current.refreshContent)console.log("[Detached Window] Calling refreshContent method"),r.current.refreshContent();else if("function"==typeof r.current.refreshLayout)console.log("[Detached Window] Calling refreshLayout method"),r.current.refreshLayout();else{console.log("[Detached Window] Using fallback refresh method");var e=r.current.getContainer();e&&(e.style.display="none",e.offsetHeight,e.style.display="")}window.dispatchEvent(new Event("resize"))}catch(e){console.error("[Detached Window] Error refreshing preview:",e)}}),100))}),[oe,On,Rn]);var Tn=Ay((0,e.useState)(!1),2),Rn=Tn[0],Ln=Tn[1];return e.createElement("div",{className:"detached-editor-container h-full flex flex-col"},e.createElement("div",{className:"editor-tabs-container flex-shrink-0"},e.createElement(Fb,{currentFile:On,openFiles:Bn,onTabChange:Pn,onTabClose:function(){},onNewTab:function(){},isPreviewVisible:Rn,isEditorFullscreen:!1,onToggleEditorVisibility:function(){Ln(!Rn),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),10)},onToggleFullscreen:function(){},onDetachEditor:function(){},isEditorDetached:!0})),e.createElement("div",{className:"toolbar-container flex-shrink-0 flex items-center w-full"},e.createElement(Ym,{onAction:At,onUndo:gt,onRedo:yt,onSearch:Qt,onReplace:Xt,onReplaceAll:Jt})),e.createElement("div",{className:"detached-editor-main-content flex-grow flex overflow-hidden"},e.createElement("div",{className:"detached-editor-content ".concat(Rn?"w-1/2":"w-full"," relative")},e.createElement(np,{ref:t,content:oe,filePath:null==On?void 0:On.path,onChange:qt,onCursorChange:Rt,onScroll:Nt,className:"w-full h-full absolute inset-0",inScrollSync:kt,scrollSource:St})),Rn&&e.createElement("div",{className:"detached-preview-content w-1/2 relative",onWheel:rn},e.createElement(bm,{ref:r,content:oe,onScroll:Dt,inScrollSync:kt,scrollSource:St,currentFilePath:null==On?void 0:On.path}))),e.createElement("div",{className:"detached-editor-footer flex justify-between bg-surface-100 dark:bg-surface-800 p-2 border-t border-surface-200 dark:border-surface-700 text-sm text-surface-600 dark:text-surface-400"},e.createElement("div",null,(null==On?void 0:On.path)||""),e.createElement("div",null,"Line: ",(null==Pt?void 0:Pt.line)||1,", Column: ",(null==Pt?void 0:Pt.column)||1)))}return e.createElement("div",{className:"app-container h-full flex flex-col bg-white dark:bg-surface-900 text-surface-900 dark:text-surface-100"},e.createElement("header",{className:"bg-surface-100 dark:bg-surface-800 text-surface-900 dark:text-surface-100 p-2 border-b border-surface-200 dark:border-surface-700",role:"banner"},e.createElement("div",{className:"w-full flex items-center justify-between gap-2 md:gap-4"}," ",e.createElement($b,{savedWorkspaceStates:on,activeNamedWorkspaceName:sn,onLoadState:function(e){console.log("[App] triggerLoadWorkspaceState called for: '".concat(e,"'")),sn&&sn!==e&&(console.log("[App] Auto-saving current workspace '".concat(sn,"' before switching to '").concat(e,"'.")),cn(sn));var t=on[e];if(!t)return ve('Workspace state "'.concat(e,'" not found.')),void console.error("[App] Could not find state data for name: ".concat(e));Qe(t)},onRemoveState:function(e){if(console.log("[App] handleRemoveWorkspaceState called for name: ".concat(e)),on[e]){if(window.confirm("Are you sure you want to remove the saved state '".concat(e,"'?")))try{Ge(e,!1),ge("Workspace state '".concat(e,"' removed."))}catch(t){console.error("Failed to dispatch remove workspace state '".concat(e,"':"),t),ve("Failed to remove workspace state '".concat(e,"'."))}}else console.warn("[App] Cannot remove state '".concat(e,"', it does not exist."))},onRenameWorkspaceState:fn,onStateReorder:dn}),e.createElement("div",{className:"flex-shrink-0 flex items-center justify-end space-x-2"},e.createElement(Cm,null),e.createElement("button",{className:"p-1 rounded hover:bg-surface-200 dark:hover:bg-surface-700 text-surface-600 dark:text-surface-300",onClick:function(){return I(!0)},title:"Settings"},e.createElement(i,{size:O?16:18}))))),e.createElement("main",{id:"main-content",className:"flex-grow flex flex-col overflow-hidden",role:"main"},e.createElement(W,{className:"flex-grow flex overflow-hidden",sizes:function(){var e=[25,37.5,37.5];if(An&&3===An.length&&An.every((function(e){return!isNaN(e)}))&&(e=ly(An)),!E&&!B&&!U)return[0,0,0];if(E&&!B&&!U)return[100,0,0];if(!E&&B&&!U)return[0,100,0];if(!E&&!B&&U)return[0,0,100];if(!E){var t=e[1]+e[2];return t>0?[0,e[1]/t*100,e[2]/t*100]:[0,50,50]}if(!B){var n=e[0]+e[2];return n>0?[e[0]/n*100,0,e[2]/n*100]:[25,0,75]}if(!U){var r=e[0]+e[1];return r>0?[e[0]/r*100,e[1]/r*100,0]:[25,75,0]}var o=e.reduce((function(e,t){return e+t}),0);return o>0?e.map((function(e){return e/o*100})):[25,37.5,37.5]}(),minSize:[E?150:0,B?200:0,U?200:0],expandToMin:!0,gutterSize:5,gutterAlign:"center",snapOffset:30,dragInterval:1,direction:"horizontal",cursor:"col-resize",elementStyle:function(e,t,n){return{"flex-basis":"calc(".concat(t,"% - ").concat(2*n/3,"px)")}},gutterStyle:function(e,t){return{"flex-basis":"".concat(t,"px"),display:(0!==e||E)&&(1!==e||B&&E)?void 0:"none"}},onDragStart:function(){window._isDraggingSplitPane=!0},onDragEnd:function(e){window._isDraggingSplitPane=!1,E&&B&&U?function(e){e&&3===e.length&&e.every((function(e){return!isNaN(e)}))&&(gn(e),window.api.setStoreValue("splitSizes",e).catch((function(e){return console.error("Error saving split sizes:",e)})),window.dispatchEvent(new Event("resize")))}(e):window.dispatchEvent(new Event("resize"))}},e.createElement("aside",{className:"bg-surface-100 dark:bg-surface-800 border-r border-surface-300 dark:border-surface-700 overflow-hidden flex-shrink-0 flex flex-col ".concat(E?"":"hidden"," ").concat(Q?"hidden":""),role:"complementary","aria-label":"Sidebar"},_&&e.createElement("div",{className:"flex-shrink-0 p-2 border-b border-surface-200 dark:border-surface-700"}," ",e.createElement("button",{onClick:sn?function(){console.log("[App] handleClearWorkspace called."),sn&&(console.log("[App] Auto-saving current workspace '".concat(sn,"' before clearing.")),cn(sn)),De(),pe(null),de(""),ue?ue():(he([]),fe([])),Re([]),Le({}),ze({}),Ke(),xe&&xe({type:"CLEAR_HISTORY"}),ge("Workspace cleared. Ready for a fresh start!"),j(!1)}:ln,className:"btn btn-primary flex items-center justify-center gap-2 w-full",title:sn?"Clear Current Workspace (New Workspace)":"Save Current Project Workspace",disabled:ie||!sn&&(!_||0===nt.length)},ie&&!sn?e.createElement(e.Fragment,null,!O&&"Saving..."):sn?e.createElement(e.Fragment,null,e.createElement(a,{size:20,className:"mr-1"}),O?"New":"New Workspace"):e.createElement(e.Fragment,null,e.createElement(s,{size:20,className:"mr-1"}),O?"Save":"Save Workspace"))),e.createElement("div",{className:"flex-grow min-h-0 overflow-y-auto"}," ",e.createElement(km,{activeTab:wt,onTabChange:function(e){Ce(e)}},e.createElement(km.Pane,{id:"files"},e.createElement("div",{className:"flex flex-col h-full"}," ",e.createElement(Qm,{isLoading:ke.loading.files,message:"",transparent:!0,preserveChildren:!0},ae&&e.createElement("div",{className:"p-4 text-sm text-error-500 bg-error-100 dark:bg-error-900/20 border-l-4 border-error-500 mb-2"},"Error: ",ae),ke.fileHistory.length>0&&e.createElement("div",{className:"flex-shrink-0"},e.createElement(bt,{onFileSelect:ft})),e.createElement("div",{className:"flex-grow min-h-0"}," ",e.createElement(me,{files:tn,folders:nn,currentFolders:nt,currentFilePath:null==re?void 0:re.path,onFileSelect:ft,onDeleteItem:en,onCreateFile:Gt,onCreateFolder:Yt,onMoveItemProp:Kt,onScanFolder:mt,onRenameItem:Zt,itemOrder:ot,expandedNodes:rt,onFolderToggle:un,onAddFolderProp:pt,itemOrderVersion:V}))))),e.createElement(km.Pane,{id:"search"},e.createElement(Lb,{files:te,folders:ne,onFileSelect:ft}))))),e.createElement("div",{className:"editor-pane flex flex-col h-full overflow-auto ".concat(B?"":"hidden"," ").concat(Q?"editor-fullscreen-active":""),role:"region","aria-label":"Editor"},e.createElement("div",{className:"editor-tabs-container flex-shrink-0 pointer-events-auto"}," ",e.createElement("div",{className:"flex justify-between items-center"},e.createElement(Fb,{currentFile:re,openFiles:et,onTabChange:Vt,onTabClose:function(e){if((!e.isDirty||window.confirm("You have unsaved changes in ".concat(e.name,". Close anyway?")))&&(Me(e),re&&e.path===re.path)){var t=et.filter((function(t){return t.path!==e.path}));if(t.length>0){var n=et.findIndex((function(t){return t.path===e.path})),r=t[n>0?n-1:0];le(r),Pe(r)}else de(""),pe(null),Pe(null)}},onNewTab:function(){console.log("Select a file from the explorer to open it")},onTabReorder:hn,onToggleEditorVisibility:function(){S(!U),setTimeout((function(){window.dispatchEvent(new Event("resize")),setTimeout((function(){t.current&&"function"==typeof t.current.refreshLayout&&t.current.refreshLayout()}),50)}),10)},isPreviewVisible:U,isEditorFullscreen:Q,onToggleFullscreen:function(){return X(!Q)},FullscreenMaximizeIcon:l,FullscreenMinimizeIcon:c,onDetachEditor:Un,isEditorDetached:En}))),e.createElement("div",{className:"toolbar-container flex-shrink-0 flex items-center w-full"}," ",e.createElement(Ym,{onAction:At,onUndo:gt,onRedo:yt,onSearch:Qt,onReplace:Xt,onReplaceAll:Jt})),e.createElement("div",{className:"editor-component-container flex-grow relative min-h-0 ".concat(Z?"":"hidden")},e.createElement(np,{ref:t,content:oe,filePath:re?re.path:null,onChange:qt,onCursorChange:Rt,onScroll:Nt,inScrollSync:kt,scrollSource:St,className:"w-full h-full absolute inset-0"}))),e.createElement("div",{className:"preview-pane flex flex-col h-full overflow-auto ".concat(U?"":"hidden"," ").concat(Q?"hidden":""),role:"region","aria-label":"Preview"},e.createElement("div",{className:"preview-header flex justify-between items-center p-2 border-b border-surface-300 dark:border-surface-700 bg-surface-100 dark:bg-surface-800 flex-shrink-0 overflow-hidden"}," ",e.createElement("div",{className:"flex items-center space-x-2"},e.createElement("button",{className:"p-1 text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600 rounded",onClick:function(){P(!B),setTimeout((function(){window.dispatchEvent(new Event("resize")),setTimeout((function(){r.current&&"function"==typeof r.current.refreshLayout&&r.current.refreshLayout()}),50)}),10)},title:B?"Hide Editor":"Show Editor"},B?e.createElement(u,{size:16}):e.createElement(d,{size:16})),e.createElement("h3",{className:"text-sm font-medium flex-shrink-0"},"Preview")),e.createElement("div",{className:"flex items-center space-x-2 flex-shrink min-w-0"},e.createElement("div",{className:"flex items-center space-x-1 mr-2 flex-shrink-0"},e.createElement("button",{className:"p-1 text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600 rounded",onClick:Wt,title:"Zoom Out (Ctrl+-)"},e.createElement(h,{size:16})),e.createElement("span",{className:"text-xs text-surface-600 dark:text-surface-400 w-12 text-center"},zt,"%"),e.createElement("button",{className:"p-1 text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600 rounded",onClick:jt,title:"Zoom In (Ctrl++)"},e.createElement(f,{size:16})),e.createElement("button",{className:"p-1 text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600 rounded",onClick:Ht,title:"Reset Zoom (Ctrl+0)"},e.createElement(p,{size:16}))),e.createElement("button",{className:"p-1 text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600 rounded flex-shrink-0",onClick:function(){U?window.print():(S(!0),setTimeout((function(){window.print()}),500))},title:"Print Preview"},e.createElement(m,{size:16})),e.createElement("button",{className:"p-1 rounded flex-shrink-0 ".concat(kt?"text-primary-600 dark:text-primary-400 bg-primary-100 dark:bg-primary-900":"text-surface-600 dark:text-surface-400 hover:bg-surface-200 dark:hover:bg-surface-600"),onClick:function(){try{if(!kt&&t.current&&r.current){var e,n,o=null===(e=(n=t.current).getScrollInfo)||void 0===e?void 0:e.call(n);o&&o.scrollPercentage>0&&(It.current=o.scrollPercentage)}}catch(e){console.error("Error capturing scroll position:",e)}xt(!kt)},title:"".concat(kt?"Disable":"Enable"," Scroll Sync")},kt?e.createElement(A,{size:16}):e.createElement(g,{size:16})))),e.createElement("div",{className:"preview-component-container flex-grow relative min-h-0",onWheel:rn},e.createElement(Qm,{isLoading:ke.loading.content,message:"",transparent:!0,preserveChildren:!0},e.createElement(bm,{ref:r,content:oe,onScroll:Dt,inScrollSync:kt,scrollSource:St,currentFilePath:null==re?void 0:re.path})))))),e.createElement("footer",{role:"contentinfo"},e.createElement(Nm,{currentFile:re,content:oe,isMobile:O,unsavedChanges:ke.editor.unsavedChanges})),e.createElement(BA,{isOpen:F,onClose:function(){return I(!1)}}),e.createElement(Wb,{isOpen:R,onClose:function(){return L(!1)},onSubmit:function(e){var t;if(console.log("[App] confirmSaveState called with name: ".concat(e)),e)if(0!==nt.length){var n={name:e,timestamp:Date.now(),rootFolders:nt,expandedNodes:rt,openFiles:et.map((function(e){return e.path})),itemOrder:ot,explorerSortBy:at,explorerSortDirection:st,activeFilePath:null===(t=ke.currentFile)||void 0===t?void 0:t.path};console.log("[App] Saving workspace state via context:",n);try{Ye(e,n),ge("Workspace state '".concat(e,"' saved!"))}catch(e){console.error("Failed to dispatch save workspace state:",e),ve("Failed to save project state.")}}else ve("Cannot save project state: Folder context lost.");else console.error("[App] confirmSaveState called without a name.")},defaultName:"Saved State - ".concat((new Date).toLocaleString())}))}ay.styleTagTransform=oy(),ay.setAttributes=ey(),ay.insert=Jb().bind(null,"head"),ay.domAPI=Qb(),ay.insertStyleElement=ny(),Yb()(iy.A,ay),iy.A&&iy.A.locals&&iy.A.locals;const yy=function(){return e.createElement(gt,null,e.createElement(NA,null,e.createElement(TA,null,e.createElement(by,null))))};var wy=n(972),Ey={};Ey.styleTagTransform=oy(),Ey.setAttributes=ey(),Ey.insert=Jb().bind(null,"head"),Ey.domAPI=Qb(),Ey.insertStyleElement=ny(),Yb()(wy.A,Ey),wy.A&&wy.A.locals&&wy.A.locals;var ky=n(286),xy={};xy.styleTagTransform=oy(),xy.setAttributes=ey(),xy.insert=Jb().bind(null,"head"),xy.domAPI=Qb(),xy.insertStyleElement=ny(),Yb()(ky.A,xy),ky.A&&ky.A.locals&&ky.A.locals,"undefined"!=typeof window&&window.addEventListener("error",(function(e){console.error("Global error:",e.error)})),t.createRoot(document.getElementById("root")).render(e.createElement(e.StrictMode,null,e.createElement(yy,null)))})()})();
//# sourceMappingURL=bundle.js.map